<html>
<head>
<title>Node and Web3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">节点和Web3</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/node-and-web3-8de60f2152b4?source=collection_archive---------9-----------------------#2021-11-22">https://medium.com/coinmonks/node-and-web3-8de60f2152b4?source=collection_archive---------9-----------------------#2021-11-22</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/6d1d9c9571f62b76a4dc433035fac943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9DPhWZy3nwt3y4Iw"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/@11th_wave?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Eleventh Wave</a> on <a class="ae jf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b8ff" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在学习区块链和整个生态系统时，我有许多问题没有很快找到答案。由于使用了如此多的术语和行话，即使对其他人来说很容易，我也很难理解一些概念。在本文中，我旨在解释其中的一些术语。跳入水中。</p><p id="500a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">先来画一张图吧！顾名思义，分散系统是分散的，而不是集中的。我们的数字分类帐文章(附上链接)讨论了每个节点如何携带分类帐副本。这意味着这个区块链上的每个节点都维护相同的数据。假设爱丽丝的笔记本电脑里有这个链条的副本。现在鲍勃想创造一只<a class="ae jf" href="https://www.cryptokitties.co/" rel="noopener ugc nofollow" target="_blank">密码猫</a>宝宝。在这个链的某个地方，Bob必须执行函数调用来生成这个Kitty。</p><p id="1cbe" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">你可以想象区块链智能合约是一个巨大的俄罗斯方块。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ke"><img src="../Images/0047602df27f964081466c4a542ad2be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b4V-KtTlyx4PWDlv5IUK1Q.jpeg"/></div></div></figure><p id="fe0a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">上图可以被认为是一个智能合同，它位于给定的地址中。这里的每个块都是一个函数，并且具有特定的结构(由参数和函数名决定)。给定这个智能契约的地址和结构(通常称为ABI)，Bob可以调用该函数并执行它。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kj"><img src="../Images/d3d8450e1da7a005e62d4b77a5390850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ow7Yd16Gotlu9HMkodkIA.png"/></div></div></figure><p id="0d30" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">Bob将他的函数执行作为一个事务广播给链上的所有节点。挖掘器节点现在接收该事务，并尝试挖掘包含该事务的下一个块。这里的Alice可能是两种类型的节点之一。爱丽丝可能会尝试开采这一块，并获得一些奖励(加密货币)作为激励。或者，她可能会尝试在笔记本电脑上复制整个链来参与这个区块链(这也同样重要)。所以，简而言之:</p><ol class=""><li id="0264" class="kk kl ht ji b jj jk jn jo jr km jv kn jz ko kd kp kq kr ks dt translated">事务发送到所有节点。</li><li id="55d3" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated">矿工节点开始工作。</li><li id="aa24" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated"><strong class="ji hu">挖掘的</strong>块再次被广播到所有节点。</li><li id="8a12" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated">非挖掘器节点记录这个块。挖掘器节点也记录这个块，现在尝试开始挖掘下一个块。</li></ol><p id="378a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在你可能会想到这样做的后果。这个区块链上每个人做的每一笔交易都有记录。这个完整的拷贝也存在于区块链上的每一个节点。因此，你可以想象，在决定区块链中存储什么时，必须非常谨慎。此外，不能创建占用大量计算资源的函数。它可能会阻止区块链网络的整个功能。因此，这些值中的每一个都有限制。</p><h1 id="1808" class="ky kz ht bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">智能合同上的数据存储</h1><p id="c67d" class="pw-post-body-paragraph jg jh ht ji b jj lw jl jm jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd hm dt translated">智能契约有两个主要的东西，状态/变量和函数。状态存储值，函数对这些值进行操作。智能合约以键值格式存储变量及其值。智能合约中正好有2个⁵⁶唯一键可用。每个存储32字节(2⁵).因此，一个合同可以存储(2个⁵⁶ * 2⁵)字节，也就是2个⁶字节。可能还会有其他问题，比如在达到这个存储级别之前会出现<a class="ae jf" href="https://freemanlaw.com/hash-collisions-explained/" rel="noopener ugc nofollow" target="_blank">哈希冲突</a>。</p><h1 id="8778" class="ky kz ht bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">智能合同中高效代码的重要性</h1><p id="6a65" class="pw-post-body-paragraph jg jh ht ji b jj lw jl jm jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd hm dt translated">在以太坊区块链或任何其他具有智能合约的区块链上执行功能意味着你必须使用其他人的计算资源。众所周知，世界上没有免费的东西😄。每当你想在区块链上执行一项交易，你都需要支付一笔不小的交易费用。挖掘器的工作是挖掘发送到给定块中的事务。为此，鲍勃将付给矿工一小笔矿工费。但是如果事务执行一个可能无限循环运行的函数，Bob完全是在浪费矿工的资源。因此这里引入两个主要概念:<strong class="ji hu">气限</strong>和<strong class="ji hu">气费</strong>。</p><h1 id="fecd" class="ky kz ht bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">汽油限量，汽油费</h1><p id="8634" class="pw-post-body-paragraph jg jh ht ji b jj lw jl jm jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd hm dt translated">要开车，你需要汽油。你向加油站支付X美元，得到Y美元的汽油，可以让你的车行驶一段距离。类似地，当你执行一项交易时，你告诉矿工你愿意支付X天然气费来完成Y数量的计算。这里可能出现两种情况。您设置的限制比要求的多或少。<br/>超过限额时，剩余金额将退还到您的帐户中。但如果限额少了，交易就还原了，你还是赔光了花的钱。<br/>例如，执行从Alice向Bob汇款的简单交易最少需要21，000个气体单位。如果爱丽丝决定支付200 gwei( <a class="ae jf" href="https://en.wikipedia.org/wiki/Wei_Dai" rel="noopener ugc nofollow" target="_blank"> Giga Wei </a>)，那么这笔交易花费的矿工费为21,000 * 200 = 4,200,000 gwei或0.0042 ETH(每个gwei等于0.000000001 ETH/10^-9 ETH)。所以如果爱丽丝想付给鲍勃1 ETH，她就得花1.0042 ETH。0.0042 ETH这是天然气的总价格，或者用通俗的话来说，就是矿工的费用。</p><h1 id="f305" class="ky kz ht bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">Bob如何发送交易？</h1><p id="a560" class="pw-post-body-paragraph jg jh ht ji b jj lw jl jm jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd hm dt translated">我们一直在讨论Bob如何向以太坊智能合约发送交易。但是鲍勃是如何着手做这件事的呢？Web3来了！</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mb"><img src="../Images/31434c4ab00df2e709e12ffd82188083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3dOjzBJY7fKB8f4LceJYrw.png"/></div></div></figure><p id="96eb" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">Web3是与节点交互的网关。你可能听说过Metamask。元掩码为用户提供了与以太坊节点交互的接口。查询数据，执行函数，发送以太到其他账户，Metamask可以做到这一切，甚至更多。Metamask还可以作为一个钱包帐户，通过它您可以存储您的加密货币。像Metamask一样，有无数的应用程序可以帮助像我们这样的日常用户与区块链节点进行交互。</p><h1 id="663e" class="ky kz ht bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">结论</h1><p id="e6b7" class="pw-post-body-paragraph jg jh ht ji b jj lw jl jm jn lx jp jq jr ly jt ju jv lz jx jy jz ma kb kc kd hm dt translated">总而言之，我们已经学会了如何:</p><ol class=""><li id="9dec" class="kk kl ht ji b jj jk jn jo jr km jv kn jz ko kd kp kq kr ks dt translated">节点负责挑选事务并将它们挖掘到块中。</li><li id="e025" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated">节点存储区块链上的所有数据。所有的数据都是开放给大家验证的。这就是赋予区块链我们都知道的安全性。</li><li id="ac1a" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated">我们已经看到了什么是矿工费，以及为什么区块链上的每笔交易都需要矿工费。</li><li id="49c0" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated">我们还看到了Web3是什么，以及它如何帮助我们与区块链的节点进行交互。</li></ol><p id="15de" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">一些进一步阅读的链接:</p><ol class=""><li id="83b0" class="kk kl ht ji b jj jk jn jo jr km jv kn jz ko kd kp kq kr ks dt translated"><a class="ae jf" href="https://takenobu-hs.github.io/downloads/ethereum_evm_illustrated.pdf" rel="noopener ugc nofollow" target="_blank">以太坊EVM画报</a></li><li id="0004" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated"><a class="ae jf" href="https://ethereum.org/en/developers/docs/gas/" rel="noopener ugc nofollow" target="_blank">汽油和费用</a></li><li id="2b22" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated"><a class="ae jf" href="https://hudsonjameson.com/2017-06-27-accounts-transactions-gas-ethereum/" rel="noopener ugc nofollow" target="_blank">以太坊</a>中的账户、交易、Gas和Block Gas限额</li><li id="c016" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated"><a class="ae jf" href="https://ethereum.stackexchange.com/questions/986/can-a-contracts-internal-storage-keep-increasing-forever" rel="noopener ugc nofollow" target="_blank">合同内存大小</a></li><li id="e62b" class="kk kl ht ji b jj kt jn ku jr kv jv kw jz kx kd kp kq kr ks dt translated"><a class="ae jf" rel="noopener" href="/scrappy-squirrels/estimating-smart-contract-costs-f65acf818c26">估算智能合同成本</a></li></ol><p id="49e1" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">本文原载于博客，<a class="ae jf" href="https://blockchainiseasy.github.io" rel="noopener ugc nofollow" target="_blank">blockchainseasy . github . io</a>。</p><p id="e021" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae jf" href="https://blockchainiseasy.github.io/Web3-and-node/" rel="noopener ugc nofollow" target="_blank">https://blockchainiseasy.github.io/Web3-and-node/</a></p><blockquote class="mc"><p id="a58c" class="md me ht bd mf mg mh mi mj mk ml kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="6048" class="mm kz ht bd la mn mo mp le mq mr ms li jr mt mu lm jv mv mw lq jz mx my lu mz dt translated">也阅读</h2><div class="na nb fm fo nc nd"><a rel="noopener follow" target="_blank" href="/coinmonks/leveraged-token-3f5257808b22"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">杠杆代币[多头代币]终极指南</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">杠杆化令牌是具有杠杆化风险敞口的ERC20令牌，不考虑保证金、要求、管理…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">medium.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">加密货币交易所的加密交易需要了解市场，这可以帮助你获得利润。之前…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">blog.coincodecap.com</p></div></div><div class="nm l"><div class="ns l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a href="https://blog.coincodecap.com/best-swap-platforms" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">2021年最佳加密交换平台| CoinCodeCap</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">如果我们看看今天的场景，许多加密货币交换平台提供了广泛的功能和深度…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">blog.coincodecap.com</p></div></div><div class="nm l"><div class="nt l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">加密税务软件——五大最佳比特币税务计算器[2021]</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">medium.com</p></div></div><div class="nm l"><div class="nu l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a href="https://blog.coincodecap.com/best-hardware-wallet-bitcoin" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">存储比特币的最佳加密硬件钱包[2021] | CoinCodeCap</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">保管您的数字资产很容易，但找到正确的存储方式却是一项繁琐的任务。在线钱包有一个风险…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">blog.coincodecap.com</p></div></div><div class="nm l"><div class="nv l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a rel="noopener follow" target="_blank" href="/coinmonks/pionex-review-exchange-with-crypto-trading-bot-1e459d0191ea"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">Pionex评论2021 |免费加密交易机器人和交换</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">Pionex是为交易自动化提供工具的后起之秀。Pionex上提供了9个加密交易机器人…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">medium.com</p></div></div><div class="nm l"><div class="nw l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a href="https://blog.coincodecap.com/wonderland-offers-an-83412-apy-on-staking-is-wonderland-a-scam" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">仙境提供了83，412%的APY赌注:仙境是一个骗局吗？CoinCodeCap</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">仙境是雪崩网络的第一个基于时间令牌的分散储备货币协议。一篮子…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">blog.coincodecap.com</p></div></div><div class="nm l"><div class="nx l no np nq nm nr iz nd"/></div></div></a></div><div class="na nb fm fo nc nd"><a href="https://blog.coincodecap.com/libra-currency-a-cryptocurrency-by-facebook" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">天秤座货币——脸书的加密货币</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">自2018年马克·扎克伯格决定致力于改善区块链以来，关于天秤座货币的传言就一直存在…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">blog.coincodecap.com</p></div></div><div class="nm l"><div class="ny l no np nq nm nr iz nd"/></div></div></a></div></div></div>    
</body>
</html>