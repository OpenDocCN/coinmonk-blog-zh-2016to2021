# 各种一致性算法的简要观察

> 原文：<https://medium.com/coinmonks/brief-observation-of-various-consensus-algorithms-3cc7fc9e2350?source=collection_archive---------0----------------------->

![](img/78ab70f90976a0b87ccf7be2e67e573b.png)

[Source](https://www.vmt.nl/Nieuws/Rapport_voedselintegriteit_groot_probleem_blockchain_moet_dit_oplossen-180108121358) : https://www.vmt.nl

我研究过最常见的共识算法。以下是总结，也许对某些人会有帮助。我的目标是简要描述每一个具体的共识，以便每个人都能容易地理解它。如果我写错了什么，或者你知道我错过了有趣的算法，请告诉我。

*我在 [bitcointalk](https://bitcointalk.org/index.php?topic=2936428.new) 上更新的帖子

**工作证明**——很短，因为它很有名。

**比特币** —为了生成新的块挖掘器，必须生成符合给定要求的新块头的散列。
其他:以太币、莱特币等。

**股权证明**

**Nxt** -帐户持有的代币越多，该帐户获得生成区块权限的机会就越大。作为块生成的结果而收到的总奖励是位于块内的交易费用的总和。
三个值是决定哪个帐户有资格生成区块、哪个帐户有权生成区块以及在冲突时哪个区块被视为权威区块的关键:*基本目标值*、*目标值*和*累积难度*。链上的每个块都有一个生成签名参数。为了参与块的伪造过程，活动帐户用自己的公钥对前一个块的生成签名进行数字签名。这将创建一个 64 字节的签名，然后使用 SHA256 对其进行哈希处理。产生的散列的前 8 个字节被转换成一个数字，称为帐户*命中*。将*击中的*与当前目标值(有效平衡)进行比较。如果计算的命中低于目标，则可以生成下一个块。

**Peercoin** (基于链的赌注证明)——币龄参数。混合功率和 PoS 算法。你的 Peercoins 在你的账户里停留的时间越长(最多 90 天)，他们铸造一个街区的能力就越强(硬币年龄)。铸块行为需要消耗币龄值，网络通过选择总消耗币龄最大的链来确定共识。奖励——每年铸造+ 1%。

**Reddcoin** (赌注速度证明)——与 Peercoin 颇为相似，区别:非线性硬币老化功能(新硬币增重快，旧硬币增重渐慢)鼓励节点活跃。具有最大硬币年龄权重节点有更大的机会创建块。要创建块节点，应计算正确的哈希。整体奖励——硬币加权年龄的利息 PoSV 阶段的 5%年利率。

以太坊(Casper)——使用修改后的 BFT 共识。将使用 PoW 创建块。在以太坊的 Casper 第一阶段实现中,“提议机制”是现有的工作链证明，修改后的块奖励大大减少。块将由一组验证器进行验证。当 2/3 的验证者投票赞成时，该块就完成了(不是计算验证者的数量，而是他们的存款大小)。区块创建者获得区块奖励+交易费。

**Lisk** ( *委托利害关系证明* ) — [1] Lisk 利益相关者通过投票事务进行投票(投票的权重取决于利益相关者拥有的 Lisk 数量)并选择 101 名代表，他们创建区块链的所有区块。一名代表在一轮中创造一个方块(一轮包含 101 个方块)- >

[2]在每一轮开始时，每个代表都被分配一个位置，表明他们在程序块生成过程中的位置->

[3] Delegate 将多达 25 个事务包含到块中，对其进行签名并将其广播到网络->

[4]由于超过 51%的可用对等体同意创建该块是可接受的(Broadhash 共识)，所以新的块被添加到区块链。*任何帐户都可以成为代理人，但只有具有所需股份(没有多少信息)的帐户才允许生成块。

街区奖励——铸币费和交易费(首先收取所有 101 个街区的费用，然后在代表之间分配)。块每 10 秒出现一次。

**Cardano** ( *Ouroboros 桩的证据* ) —区块(槽)由槽头创建。在 n-1 个时段期间选择 N 个时段的时隙前导。插槽负责人从拥有足够股份的 ADA 利益相关者群体中选出。选举过程包括三个阶段:

[1] *提交阶段*:每个选举人生成一个随机值(秘密)，签名后作为消息提交给保存在 block 中的网络(其他选举人)。- >

[2] *显示阶段*:每个选举人发送特殊值来打开一个承诺，所有这些值(打开)被放入块中。- >

[3] *恢复阶段*:每个选举人验证承诺和公开匹配，提取秘密并形成种子(基于秘密随机生成的字节串)。所有的选举人都得到同样的种子。- >

[4]遵循 Satoshi 算法:拥有与种子对应的硬币的选举人成为槽领袖，并获得创建块的权利。

老虎机领袖将获得铸造的 ADA 和交易费。

**Tendermint** *【拜占庭容错】* —每轮由指定的提议者签署并发布一份提议。提议者是由一个确定的和非阻塞的循环选择算法选择的，该算法按投票比例选择提议者。提议人创建区块，应由> 2/3 的验证人进行验证，如下所示:

[1]建议->[2]预提交->[3]预提交->[4]提交。

提议者获得交易费奖励。

**Tron** *(拜占庭容错)* —这个区块链还在开发阶段。共识算法= PoS + BFT(类似 Tendermint):

[1] PoS 算法选择一个节点作为提议者，这个节点具有生成块的能力。->

[2]提议者广播它想要释放块。->

[3]方块进入预投票阶段。需要超过 2/3 的节点确认才能进入下一阶段。->

[4]由于块被保护，它进入预提交阶段，需要超过 2/3 的节点确认才能继续。->

[5]由于超过 2/3 的节点已经预提交了该块，因此它被提交给高度为+1 的区块链。新块每 15 秒出现一次。

**NEO** ( *委托拜占庭容错*)—【1】共识节点*由 NEO 持有者选举产生—>

[2]说话者被识别(基于算法)->

[3]何广播提议创建->

[4]每个代表(其他共识节点)验证提案->

[5]每个代表向其他代表发送响应->

[6]代表在收到 2/3 的肯定回答后达成共识->

[7]每个代表签署该块并将其发布->

[8]每个代表收到一整块。

根据近地天体持有者之间的近地天体持有比率，按比例分配奖励 6 区气体。发言者奖励交易费(大多为 0)。
*入股 1000 气提名自己记账(共识节点)

**EOS** ( *委托股权证明* ) —持有采用 EOS 的区块链代币的人。IO 软件可以通过持续批准投票系统选择*区块生产商，任何人都可以选择参与区块生产，并有机会生产与他们相对于所有其他生产商获得的总票数成比例的区块。每轮开始时，会选出 21 个独特的积木生产商。每轮自动选出总支持率最高的 20 名，最后一名制作人根据他们相对于其他制作人的票数比例选出。区块应得到三分之二或更多当选区块生产商的确认。街区制作人获得街区奖励。
*利益相关方拥有的 EOS 令牌越多，他们的投票权就越大

**XRP 总账共识流程**

**纹波**—[1]每个节点从外部应用程序接收交易—>

[2]每个节点形成所有有效(不包括在最后分类帐(=块)中)交易的公共列表，也称为(候选集)->

[3]节点将其候选集与 UNLs(唯一节点列表)候选集合并，并对所有交易的真实性进行投票(第一轮共识)->

[4]获得至少 50%投票的所有交易将在下一轮通过(可能会进行多轮)->

[5]最后一轮共识要求至少 80%的节点 UNL 同意交易。这意味着至少 80%的验证节点应该具有相同的候选事务集-->

[6]此后，每个验证节点计算所有交易的新分类帐(=块)(具有 80%的 UNL 协议)并计算分类帐散列、签名和广播->

[7]所有验证节点比较它们的分类帐散列->

[8]当 80%的对等体已经签名并广播了相同的验证散列时，网络的节点将分类帐实例识别为已验证。->

[9]过程重复。分类帐创建过程持续 5 秒(？).每笔交易包括交易费(最低 0.00001 XRP)，交易费将被销毁。

没有块奖励。

**恒星共识协议**

**恒星** ( *联邦拜占庭协议*)——退出类似涟漪。关键区别—仲裁片。

**授权证明**

**VeChain** —目前为 Ethash (PoW)。未来的实施——活动方案。交易和冻结由已批准的帐户进行验证，称为验证器。该链必须由大多数机构签署，在这种情况下，它将成为永久记录的一部分。

**燃烧证明**

**slim coin**—[1]要获得写块节点的权利应该“烧掉”多少硬币。更多的硬币节点“燃烧”更多的机会，它有创造块(长期)- >

[2]节点地址得到一个分数，称为有效燃烧硬币，决定找到块的机会。

积木创造者获得积木奖励。

**重要性证明**

**NEM** —只有拥有最低 10k 既得硬币的账户才有资格收获(创建一个区块)。具有较高重要性分数的帐户获得块的概率较高。既得硬币金额越高，帐户的重要性分数越高。以及满足以下条件的较高交易金额:— *交易金额最小 1k 硬币*、— *最近 30 天内进行的交易*、— *收款人也有 10k 既得硬币*、—较高账户的重要分数。Harvester 从该区块的交易中获得费用奖励。大约创建了一个新块。每 65 秒一次。

**IOTA 算法**

**IOTA** —使用 DAG(有向无环图)代替区块链(TANGLE 等于分类帐)。图形由事务(而不是块)组成。要发布新的交易，节点必须批准 2 个随机的其他交易(未确认)。每个事务都应该被验证 n(？)次。通过验证过去的(2)交易，整个网络达成共识。为了发布交易节点:

[1]用私钥签署交易

[2]基于 MCMC(马尔可夫链蒙特卡罗)算法选择另外两个事务进行验证，检查这两个事务是否有效(节点永远不会批准冲突的事务)

[3]做一些 PoW(类似 HashCash)。->

[4]向网络广播新交易。

节点不接受奖励或费用。

**空间证明/容量证明**

**Filecoin**(*Power Fault Tolerance*)—网络选举一个矿工(领导者)来创建一个新区块的概率(它被称为矿工的投票权)与网络其余部分当前使用的存储成比例。每个节点都有使用中的电源存储，并通过节点的*时空证明*进行验证。领导者通过创建一个块并将其传播到网络来扩展链。可以有一个空块(当没有领导)。如果大多数参与者通过扩展链或签署块，在块所属的链上添加他们的权重，则块被提交。区块创建者获得区块奖励+交易费。

**经过时间的证明**

**Hyperledger 锯齿** — *目标——解决 BFT 验证节点限制*。仅适用于英特尔的 SGX。

[1] PoET 使用随机领导者选举模型或基于 SGX 的基于抽签的选举模型，其中协议随机选择下一个领导者来完成该块。每个验证器都向 enclave(一个受信任的函数)请求一个等待时间。->

[2]特定事务块等待时间最短的验证者被选为领导者。->

BlockPublisher 负责创建候选块以扩展当前链。他根据共识算法来决定何时创建一个块，何时发布一个块。他创作、定稿、签署区块并广播->

[4]块验证器检查块->

[5]在区块链的顶部创建块。

> [直接在您的收件箱中获得最佳软件交易](https://coincodecap.com/?utm_source=coinmonks)

[![](img/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png)](https://coincodecap.com/?utm_source=coinmonks)