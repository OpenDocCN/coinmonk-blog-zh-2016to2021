<html>
<head>
<title>Solidity Fundamentals: Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">坚固性基础:类型</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/solidity-fundamentals-e4e4660e16c8?source=collection_archive---------4-----------------------#2020-12-16">https://medium.com/coinmonks/solidity-fundamentals-e4e4660e16c8?source=collection_archive---------4-----------------------#2020-12-16</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><h2 id="b1fa" class="hr hs ht bd b gc hu hv hw hx hy hz ek ia translated" aria-label="kicker paragraph">以太坊智能合约开发</h2><div class=""/><div class=""><h2 id="d061" class="pw-subtitle-paragraph iz ic ht bd b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ek translated">参考类型</h2></div><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff jr"><img src="../Images/3b4f72a4f22215783d2b114b9bb1378f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1rIpmIXthTkV3JpuO7Rong.jpeg"/></div></div></figure></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><p id="1d61" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated">在本部分中，我们将检查存储数据位置的<strong class="km id">引用类型</strong> — <code class="eh lg lh li lj b">arrays</code>、<code class="eh lg lh li lj b">struct</code>和<code class="eh lg lh li lj b">mapping </code>、<em class="lk">引用</em>，并且不直接共享数据。很明显，我们应该更加小心地处理这些类型，因为我们正在处理位置，否则我们很容易失去性能。</p></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><p id="b92b" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated"><strong class="km id">数组</strong>是<strong class="km id"> </strong>一组相同数据类型的元素，其中每个元素都有一个特定的位置，称为索引。数组的大小可以是固定的，也可以是动态的。</p><p id="0d44" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated">在Solidity中，<code class="eh lg lh li lj b">A[5]</code>总是一个包含五个<code class="eh lg lh li lj b">A</code>类型元素的数组，即使<code class="eh lg lh li lj b">A</code>本身就是一个数组。c等其他语言就不是这样了。</p><p id="1892" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated">数组有以下成员— <code class="eh lg lh li lj b">length</code>、<code class="eh lg lh li lj b">push()</code>、<code class="eh lg lh li lj b">push(x)</code>、<code class="eh lg lh li lj b">pop()</code>。让我们用一些例子来看看它们中的每一个；</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="ll lm l"/></div></figure></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><p id="5635" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated"><strong class="km id"> </strong> Solidity中的<strong class="km id">struct</strong>允许以struct的形式声明新的类型。这种类型是一组不同的类型，可以包含值类型和引用类型。有一个必要的限制—结构不可能包含其自身类型的成员，因为结构的大小必须是有限的。这并不意味着struct不能包含struct，例如<code class="eh lg lh li lj b">struct A</code>可以包含<code class="eh lg lh li lj b">struct B</code>但是<code class="eh lg lh li lj b">struct A </code>不能包含自己的类型<code class="eh lg lh li lj b">struct A</code>。</p><p id="812d" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated"><strong class="km id">映射</strong>在一个键-值对中存储数据，其中一个键可以是任何值类型。我们可以认为这种引用类型类似于任何其他编程语言中的哈希表或字典，可以通过键来检索数据。</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="ll lm l"/></div></figure><p id="f218" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated"><strong class="km id">结构</strong>与<strong class="km id">映射</strong>和<strong class="km id">数组</strong>配合得非常好，但是乍一看，要习惯它有点棘手。</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="ll lm l"/></div></figure></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><p id="058f" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated">所有引用类型都有一个额外的注释，即<em class="lk">数据位置</em>，关于它存储的位置。有三个可能的选项:<code class="eh lg lh li lj b">memory</code>、<code class="eh lg lh li lj b">storage</code>和<code class="eh lg lh li lj b">calldata</code>。但是我们将在下一篇文章中查看<strong class="km id"> <em class="lk">数据位置和赋值</em> </strong> <em class="lk"> </em> <strong class="km id">行为</strong> <em class="lk"> </em>。</p></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><p id="f612" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated"><strong class="km id">参考文献</strong></p><div class="ln lo fm fo lp lq"><a href="https://docs.soliditylang.org/en/v0.7.5/types.html#reference-types" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab ej"><div class="ls ab lt cl cj lu"><h2 class="bd id fv z el lv eo ep lw er et ic dt translated">类型-坚固性0.7.5文件</h2><div class="lx l"><h3 class="bd b fv z el lv eo ep lw er et ek translated">Solidity是一种静态类型语言，这意味着每个变量(状态和局部)的类型都需要…</h3></div><div class="ly l"><p class="bd b gc z el lv eo ep lw er et ek translated">docs.soliditylang.org</p></div></div></div></a></div></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><h1 id="f8c0" class="lz ma ht bd mb mc md me mf mg mh mi mj ji mk jj ml jl mm jm mn jo mo jp mp mq dt translated">所有部件正常</h1><ul class=""><li id="633f" class="mr ms ht km b kn mt kq mu kt mv kx mw lb mx lf my mz na nb dt translated"><a class="ae nc" href="https://ferdikurt.medium.com/solidity-fundamentals-88ceb4873064" rel="noopener">合同的布局</a></li><li id="6bb5" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" href="https://ferdikurt.medium.com/solidity-fundamentals-ca824a3ac023" rel="noopener">值类型:第一部分</a></li><li id="d6f5" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" href="https://ferdikurt.medium.com/solidity-fundamentals-c94460e3be3d" rel="noopener">值类型:第二部分</a></li><li id="505a" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" rel="noopener" href="/coinmonks/solidity-fundamentals-1fb0e6b3b607">运算符</a></li><li id="623d" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" rel="noopener" href="/coinmonks/solidity-fundamentals-e4e4660e16c8">参考类型</a></li><li id="fc35" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" rel="noopener" href="/coinmonks/solidity-fundamentals-a71bf54c0b98">数据位置和赋值行为</a></li><li id="9410" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" rel="noopener" href="/coinmonks/solidity-fundamentals-1dc2af4b453b">控制结构</a></li><li id="a3fd" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" rel="noopener" href="/coinmonks/solidity-fundamentals-a95bb6c8ba2a">错误处理:断言、要求、恢复和异常</a></li><li id="7468" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" rel="noopener" href="/coinmonks/solidity-fundamentals-d2216be1c2c3">功能:第一部分</a></li><li id="503f" class="mr ms ht km b kn nd kq ne kt nf kx ng lb nh lf my mz na nb dt translated"><a class="ae nc" href="https://ferdikurt.medium.com/solidity-fundamentals-functions-a7e3d38c1fe5" rel="noopener">功能:第二部分</a></li></ul></div><div class="ab cl kd ke hb kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hm hn ho hp hq"><p id="cd8b" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated">随便问任何问题。</p><p id="afb9" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated">注意安全，做好工作，保持联系！</p><p id="54f2" class="pw-post-body-paragraph kk kl ht km b kn ko jd kp kq kr jg ks kt ku kv kw kx ky kz la lb lc ld le lf hm dt translated"><a class="ae nc" href="https://www.linkedin.com/in/ferdi-kurt-8b910b164/" rel="noopener ugc nofollow" target="_blank">费尔迪科特</a></p></div></div>    
</body>
</html>