<html>
<head>
<title>How to create certificates on the Ethereum blockchain — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在以太坊区块链上创建证书—第1部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-create-certificates-on-the-ethereum-blockchain-part-1-45564fd29595?source=collection_archive---------0-----------------------#2018-07-21">https://medium.com/coinmonks/how-to-create-certificates-on-the-ethereum-blockchain-part-1-45564fd29595?source=collection_archive---------0-----------------------#2018-07-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/c8d9247b78bd6cff3b13ec7c17a78098.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3a1MR_yZ7jRHgsyrx6sS3g.png"/></div></div></figure><div class=""/><div class=""><h2 id="bfe2" class="pw-subtitle-paragraph jb id ie bd b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js ek translated">在本教程中，您将构建一个分散式应用程序，让用户创建智能证书。</h2></div><p id="974f" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">把你的话写在区块链上<a class="ae kp" href="https://www.verypossible.com/blog/blockchain-explained-how-does-immutability-work" rel="noopener ugc nofollow" target="_blank">会让它变得不可改变</a>。你不会依赖任何政府或机构来保存你的记录。相反，我们将依靠遍布世界各地的16，000多个节点来保障网络安全，这些节点属于像你我这样的人。</p><p id="427d" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">我们将以结婚证书为例。我们还会赋予这些证书契约一些特殊的能力，比如可以接受礼物的婚姻登记处。</p><blockquote class="kq"><p id="0bea" class="kr ks ie bd kt ku kv kw kx ky kz ko ek translated"><a class="ae kp" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><figure class="lb lc ld le lf hv fe ff paragraph-image"><div class="fe ff la"><img src="../Images/5b590faadbca9dff1410df0668a327ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*Q6odR_IFYT7k25a4-YqWfQ.gif"/></div><figcaption class="lg lh fg fe ff li lj bd b be z ek">Fig: A working example of an Ethereum marriage certificate at <a class="ae kp" href="https://forevermore.io/" rel="noopener ugc nofollow" target="_blank">forevermore.io</a>.</figcaption></figure><p id="c641" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意</strong>:你可以很容易地改编这个教程来处理其他主题。例如，让你的用户创建毕业证书，甚至认证他们自己的作品——没有限制！</p><blockquote class="kq"><p id="0af0" class="kr ks ie bd kt ku kv kw kx ky kz ko ek translated"><strong class="ak">在本教程</strong>结束时，您将知道如何创建简单的智能合约，如何与之交互，以及如何将其部署到以太坊区块链。</p></blockquote></div><div class="ab cl lk ll hb lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hm hn ho hp hq"><h1 id="1d54" class="lr ls ie bd lt lu lv lw lx ly lz ma mb jk mc jl md jn me jo mf jq mg jr mh mi dt translated"><strong class="ak">环境设置</strong></h1><ol class=""><li id="d502" class="mj mk ie jv b jw ml jz mm kc mn kg mo kk mp ko mq mr ms mt dt translated"><a class="ae kp" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">下载元掩码</a>:在线钱包处理程序【5分钟】。不要担心购买真正的以太网，因为您可以先部署到测试网。</li><li id="4233" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko mq mr ms mt dt translated"><a class="ae kp" href="http://remix.ethereum.org/#optimize=false&amp;version=soljson-v0.4.24+commit.e67f0147.js" rel="noopener ugc nofollow" target="_blank">访问混音</a>:使用在线Solidity IDE [1分钟]</li></ol><h1 id="abf6" class="lr ls ie bd lt lu mz lw lx ly na ma mb jk nb jl md jn nc jo mf jq nd jr mh mi dt translated">DApp整体建筑</h1><p id="5bac" class="pw-post-body-paragraph jt ju ie jv b jw ml jf jy jz mm ji kb kc ne ke kf kg nf ki kj kk ng km kn ko hm dt translated">这是我们将要做的事情的图示。我们将使用一个工厂模式来创建一个工厂契约，这将依次生成我们的证书契约。</p><p id="fe52" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">在本教程的第1部分，我们将只关注证书契约。</p><figure class="ni nj nk nl fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff nh"><img src="../Images/964e346d755812a538868bcdc1675093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7I7mpJV2E6XP_I9PH0jJKw.png"/></div></div></figure><p id="a914" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">这个栈类比看起来眼熟吗？</strong></p><ul class=""><li id="1494" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated">在高层次上，您可以将区块链视为传统后端和服务器的替代方案。因此，当我们构建这些契约时，我们实际上是在设计应用程序的数据结构和数据关系。</li><li id="12d4" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">我们推荐<a class="ae kp" href="https://refactoring.guru/design-patterns/factory-method" rel="noopener ugc nofollow" target="_blank">工厂模式</a>。<strong class="jv if">它使您更容易创建和跟踪特定类别的合同</strong>。在第2部分中会有更多的介绍。</li></ul><h1 id="74b3" class="lr ls ie bd lt lu mz lw lx ly na ma mb jk nb jl md jn nc jo mf jq nd jr mh mi dt translated">第1部分—构建婚姻契约</h1></div><div class="ab cl lk ll hb lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hm hn ho hp hq"><figure class="ni nj nk nl fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff nq"><img src="../Images/3e5c9e701c451e461cc5806381095410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RuCjCjO0x8O05Mg6x79WXg.png"/></div></div></figure><h2 id="ed1c" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated">在本教程中，您的婚姻契约需要:</h2><ul class=""><li id="8897" class="mj mk ie jv b jw ml jz mm kc mn kg mo kk mp ko np mr ms mt dt translated">存储合同所有者/创建者的详细信息</li><li id="3908" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">存储夫妇的名字和结婚誓言</li><li id="fce2" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">让公众观众“敲响婚礼的钟声”，这给智能合同带来了礼物醚</li><li id="b03d" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">让合同所有者将赠送的乙醚收回到自己的钱包中</li></ul><p id="85e2" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">我们开始吧</strong>。在<a class="ae kp" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix </a>中，用下面的代码创建一个名为<strong class="jv if"> Marriage.sol </strong>的文件:</p><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="cda8" class="nr ls ie og b fv ok ol l om on">// This specifies the Solidity compiler version that generates <br/>// opcodes and ABI to be stored on the blockchain</span><span id="e373" class="nr ls ie og b fv oo ol l om on">pragma solidity ^0.4.19;</span><span id="d0ff" class="nr ls ie og b fv oo ol l om on">contract Marriage {<br/>    // You will declare your global vars here</span><span id="a261" class="nr ls ie og b fv oo ol l om on">    constructor() public {<br/>        // You will instantiate your contract here<br/>    }<br/>}</span></pre><p id="4eb2" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意事项</strong>:</p><ul class=""><li id="d5b5" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated">“public”是一个函数修饰符，允许任何人创建您的婚姻契约的新实例</li><li id="093d" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">确保您使用的是最新的稳定编译器版本。</li></ul><h2 id="84bd" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated">存储婚姻契约的所有者</h2><p id="22c9" class="pw-post-body-paragraph jt ju ie jv b jw ml jf jy jz mm ji kb kc ne ke kf kg nf ki kj kk ng km kn ko hm dt translated">以太坊中所有的钱包和智能合约都有地址，作为主要的标识符。</p><p id="4e95" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">在您的DApp中，您希望能够存储创建的每个婚姻契约的所有者。这允许你授予拥有者特殊的能力——稍后会详细介绍。</p><ol class=""><li id="8590" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko mq mr ms mt dt translated">在<code class="eh op oq or og b">contract Marriage {</code>内部，定义一个全局变量来存储所有者的地址。</li></ol><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="90c6" class="nr ls ie og b fv ok ol l om on">// Set owner public var, so anyone can see who owns the contract</span><span id="9184" class="nr ls ie og b fv oo ol l om on">address public owner;</span></pre><p id="b94b" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意</strong>:‘地址’是一种实数据类型。地址可以识别智能合同或个人钱包。</p><p id="ea18" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">2.接下来，每次实例化新的证书契约时保存地址。修改您的构造函数，如下所示:</p><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="4d3f" class="nr ls ie og b fv ok ol l om on">constructor(address _owner) public {<br/>    owner = _owner;<br/>}</span></pre><p id="d606" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意事项</strong>:</p><ul class=""><li id="00b0" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated">我们将依靠未来的工厂契约来调用这个构造函数并传入_owner的地址。</li><li id="f8b5" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">如果我们不使用工厂合同，您可以将owner设置为“<strong class="jv if"> msg.sender </strong>”，这是试图创建此合同的地址。</li></ul><h2 id="8c8c" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated">存储夫妇的名字和结婚誓言</h2><p id="3605" class="pw-post-body-paragraph jt ju ie jv b jw ml jf jy jz mm ji kb kc ne ke kf kg nf ki kj kk ng km kn ko hm dt translated"><em class="os">在这里，您可以尽情发挥您的创造力，更改您的智能合同以代表不同类型的法律合同或证书！</em></p><ol class=""><li id="87ae" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko mq mr ms mt dt translated">添加以下全局变量:</li></ol><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="edf7" class="nr ls ie og b fv ok ol l om on">contract Marriage {</span><span id="8131" class="nr ls ie og b fv oo ol l om on">// Owner address<br/>    address public owner;</span><span id="4589" class="nr ls ie og b fv oo ol l om on">// Marriage contract details<br/>    string public leftName;<br/>    string public leftVows;<br/>    string public rightName;<br/>    string public rightVows;<br/>    uint public marriageDate;    </span><span id="a38b" class="nr ls ie og b fv oo ol l om on">    constructor(address _owner, string _leftName, string _leftVows, string _rightName, string _rightVows, uint _date) public {<br/>        owner = _owner;<br/>        leftName = _leftName;<br/>        leftVows = _leftVows;<br/>        rightName = _rightName;<br/>        rightVows = _rightVows;<br/>        marriageDate = _date; <br/>    }<br/>}</span></pre><p id="2083" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意</strong>:除了“地址”，Solidity还有其他静态数据类型，比如“字符串”和“uint”。这里有一个关于以太坊如何存储数据的更深入的研究。</p><p id="541e" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">恭喜你！你已经创建了一个婚姻类对象。这个智能合同将成为在区块链实例化未来婚姻合同的模板。</p></div><div class="ab cl lk ll hb lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hm hn ho hp hq"><p id="2e20" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt ot translated"><span class="l ou ov ow bm ox oy oz pa pb di">一个</span>静态的、只显示文本的婚姻契约一点都不好玩。让我们编码一些逻辑和自动化。</p><blockquote class="kq"><p id="4088" class="kr ks ie bd kt ku kv kw kx ky kz ko ek translated">如果你的结婚契约也可以是婚礼登记处，那岂不是很酷？</p></blockquote><h2 id="4db4" class="nr ls ie bd lt ns pc nu lx nv pd nx mb kc pe nz md kg pf ob mf kk pg od mh oe dt translated">让人们在合同上签字</h2><p id="dd5c" class="pw-post-body-paragraph jt ju ie jv b jw ml jf jy jz mm ji kb kc ne ke kf kg nf ki kj kk ng km kn ko hm dt translated">前面我们提到过，智能合约可以存储货币和处理交易。让我们好好利用这一点。你想让任何公开查看你的婚姻契约的人来赠与它。我们姑且称这个功能为“敲响婚礼的钟声”。</p><ol class=""><li id="ba6c" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko mq mr ms mt dt translated">创建一个名为ringBell()的函数。以太坊提供了一个特殊的'<strong class="jv if"> payable </strong>'类型的功能来处理此类货币交易:</li></ol><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="838f" class="nr ls ie og b fv ok ol l om on">// ringBell is a payable function that allows people to celebrate the couple's marriage by sending Ethers to the marriage contract</span><span id="8ef3" class="nr ls ie og b fv oo ol l om on">function ringBell() public payable {...}</span></pre><p id="05b3" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">在幕后，Solidity functions接收重要变量:</p><ul class=""><li id="aba1" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated"><strong class="jv if"> msg.value: </strong>包含发送方指定的金额。“应付”类型的功能会自动将此消息值存储在其自己的分类帐中。</li><li id="f656" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated"><strong class="jv if"> msg.sender </strong>:是给你寄钱的人的地址。</li></ul><p id="38f0" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">2.让我们变得贪婪，用我们对<strong class="jv if"> msg.value </strong>的了解来强加一个最低礼物价值。最低0.0001乙醚(约5美分)的礼物怎么样？</p><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="54f6" class="nr ls ie og b fv ok ol l om on">// ringBell is a payable function that allows people to celebrate the couple's marriage by sending Ethers to the marriage contract</span><span id="592c" class="nr ls ie og b fv oo ol l om on">function ringBell() public payable {<br/>    require(msg.value &gt; .0001 ether);<br/>}</span></pre><p id="5a23" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意事项</strong>:</p><ul class=""><li id="8582" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated"><strong class="jv if"> require() </strong>用于验证用户输入和其他可能经常失败的条件检查。</li><li id="e125" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">如果不满足条件，用户的事务会立即停止。</li><li id="f317" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">这很好，因为如果发送者的请求失败，所有剩余的汽油(即交易费)将立即退还给发送者。</li></ul><h2 id="4a2a" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated"><strong class="ak">让合同业主收回他们的钱</strong></h2><ol class=""><li id="bb33" class="mj mk ie jv b jw ml jz mm kc mn kg mo kk mp ko mq mr ms mt dt translated">声明一个collect()函数，将乙醚从智能合约转移到用户的钱包中。</li></ol><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="41f3" class="nr ls ie og b fv ok ol l om on">function collect() {<br/>    owner.transfer(address(this).balance);<br/>}</span></pre><p id="8e58" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">注意:</strong></p><ul class=""><li id="4225" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated"><strong class="jv if">‘本’</strong>指合同本身。因此“owner.transfer(…)”将合同的全部余额转移到所有者的钱包中。</li></ul><p id="6959" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">让我们花点时间考虑一下安全性。</strong>您希望确保只有合同的所有者可以撤销。</p><p id="113f" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated">一种处理方法是“require(owner == msg.sender)”。但是您可能必须经常执行这个“需要所有者”检查——因为您想为所有者添加更多的特性。解决办法？</p><h2 id="c43d" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated">将条件检查重构为函数修饰符</h2><p id="3f25" class="pw-post-body-paragraph jt ju ie jv b jw ml jf jy jz mm ji kb kc ne ke kf kg nf ki kj kk ng km kn ko hm dt translated">将require()检查重构到它们自己的修饰符函数中被认为是<a class="ae kp" href="http://solidity.readthedocs.io/en/v0.4.24/common-patterns.html" rel="noopener ugc nofollow" target="_blank">最佳实践</a>。</p><ol class=""><li id="6f1a" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko mq mr ms mt dt translated">创建一个名为"<strong class="jv if"> onlyOwner </strong>"的函数修饰符:</li></ol><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="bf7b" class="nr ls ie og b fv ok ol l om on">// Reusable modifier function</span><span id="1326" class="nr ls ie og b fv oo ol l om on">modifier onlyOwner() {<br/>    require(msg.sender == owner);<br/>    _;<br/>}</span><span id="8a52" class="nr ls ie og b fv oo ol l om on">// To use a modifier, append it to the end of the function name</span><span id="ada7" class="nr ls ie og b fv oo ol l om on">function collect() external onlyOwner {<br/>    owner.transfer(address(this).balance);<br/>}</span></pre><p id="9b68" class="pw-post-body-paragraph jt ju ie jv b jw jx jf jy jz ka ji kb kc kd ke kf kg kh ki kj kk kl km kn ko hm dt translated"><strong class="jv if">通知</strong>:</p><ul class=""><li id="39b0" class="mj mk ie jv b jw jx jz ka kc nm kg nn kk no ko np mr ms mt dt translated"><strong class="jv if">“_”是一个占位符</strong>，代表您正在使用onlyOwner()修改的特性功能的内容。</li><li id="bfeb" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated">我们使用<strong class="jv if">外部</strong>函数修饰符<a class="ae kp" href="https://ethereum.stackexchange.com/questions/19380/external-vs-public-best-practices" rel="noopener ugc nofollow" target="_blank">为所有者节省一些交易费用</a>。</li></ul><h2 id="59a9" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated">最后，为我们的前端创建一个助手函数:</h2><ol class=""><li id="728a" class="mj mk ie jv b jw ml jz mm kc mn kg mo kk mp ko mq mr ms mt dt translated">创建一个函数，只让合同的所有者检查他的合同包含多少乙醚:</li></ol><pre class="ni nj nk nl fq of og oh oi aw oj dt"><span id="06a9" class="nr ls ie og b fv ok ol l om on">// Allow only owners the check the balance of the contract</span><span id="f699" class="nr ls ie og b fv oo ol l om on">function getBalance() public view onlyOwner returns (uint) {<br/>    return address(this).balance;<br/>}</span></pre><h2 id="b57f" class="nr ls ie bd lt ns nt nu lx nv nw nx mb kc ny nz md kg oa ob mf kk oc od mh oe dt translated"><strong class="ak">就这样</strong>！您已经构建了第一个智能合约类。</h2><p id="508c" class="pw-post-body-paragraph jt ju ie jv b jw ml jf jy jz mm ji kb kc ne ke kf kg nf ki kj kk ng km kn ko hm dt translated">现在，您可以使用Remix在区块链上实例化智能婚姻契约。剩下的工作就是创建工厂契约和一个简单的UI。</p><h1 id="c914" class="lr ls ie bd lt lu mz lw lx ly na ma mb jk nb jl md jn nc jo mf jq nd jr mh mi dt translated">后续步骤</h1><ul class=""><li id="15f9" class="mj mk ie jv b jw ml jz mm kc mn kg mo kk mp ko np mr ms mt dt translated"><a class="ae kp" rel="noopener" href="/coinmonks/how-to-create-a-notary-on-the-ethereum-blockchain-part-2-1808a458c360"> <strong class="jv if">继续第二部分</strong></a><strong class="jv if">——</strong>接下来我们将致力于工厂合同，把你的智能合同变成一个真正的去中心化应用。</li><li id="b18e" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated"><strong class="jv if">想提前跳过</strong>？点击这里查看最终的<a class="ae kp" href="https://forevermore.io/" rel="noopener ugc nofollow" target="_blank">应用</a> &amp;点击这里查看完整的开源<a class="ae kp" href="https://github.com/nczhu/forevermore" rel="noopener ugc nofollow" target="_blank">项目</a>。</li><li id="3432" class="mj mk ie jv b jw mu jz mv kc mw kg mx kk my ko np mr ms mt dt translated"><strong class="jv if">演职员表</strong> : <a class="ae kp" href="https://github.com/onggunhao" rel="noopener ugc nofollow" target="_blank">丹尼尔</a>(编码对)<a class="ae kp" href="https://github.com/StephenGrider/EthereumCasts" rel="noopener ugc nofollow" target="_blank">斯蒂芬</a>(教程)</li></ul></div></div>    
</body>
</html>