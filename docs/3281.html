<html>
<head>
<title>EIP-1559 51% Attacks: Should you live in fear?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EIP-1559年51%的攻击:你应该生活在恐惧中吗？</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/eip-1559-51-attacks-should-you-live-in-fear-d817be3759dc?source=collection_archive---------0-----------------------#2020-08-22">https://medium.com/coinmonks/eip-1559-51-attacks-should-you-live-in-fear-d817be3759dc?source=collection_archive---------0-----------------------#2020-08-22</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/a72f090e699d7a7803f80a11a0ec7187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C92F9sLRkxqZ3Zr1"/></div></div><figcaption class="ic id fg fe ff ie if bd b be z ek">Photo by <a class="ae ig" href="https://unsplash.com/@andrewtneel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Andrew Neel</a> on <a class="ae ig" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><h1 id="5822" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">TL；博士:回答</h1><p id="9246" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">是的，你应该生活在恐惧中，但不是因为EIP-1559。现在有51%的采矿攻击是自我强化的，这意味着一旦人们开始攻击，加入他们是有利可图的。<strong class="kg ik"> EIP-1559 51%的攻击不会自我强化</strong>，脱离攻击者总是比加入他们更有利可图。</p><h1 id="3aaf" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">EIP-1559剧情简介</h1><p id="cb0e" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated"><em class="lc">如果你知道EIP-1559是什么，跳过这一节。</em></p><p id="99e5" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated"><a class="ae ig" href="https://eips.ethereum.org/EIPS/eip-1559" rel="noopener ugc nofollow" target="_blank"> EIP-1559 </a>提议改变以太坊处理天然气定价的方式，即每个区块都有固定的区块范围内每种天然气的以太坊费用(基本费用)，该费用根据当前区块空间需求自动上调/下调。如果区块过满，基本费用增加，如果区块不足，基本费用减少。</p><p id="aaab" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">为了防止矿工伪造完整块(包括他们自己的垃圾交易)以通过推动基本费用上涨来增加他们的未来收入，基本费用被烧毁而不是给矿工。然后，为了激励矿工实际上包括交易(这对矿工有机会成本)，而不仅仅是为了区块奖励开采空区块，交易包括单独的每个天然气矿工贿赂(又名:天然气溢价，矿工小费)。</p><p id="755c" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">预计基本费用将占拥堵相关费用的*大部分*，而矿工贿赂可能略高于机会成本，约为每气1纳沃特(gwei)。这里有一个小的例外，即预计在区块内定位的天然气价格拍卖中的领先者和其他人将以矿工贿赂的形式参与，因为你贿赂的是矿工，以将你的交易包括在某个位置中。</p><h1 id="a3e4" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">51%的攻击针对工作证明</h1><p id="839a" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated"><em class="lc">本节与EIP-1559无关，但是在评估我们是否需要担心针对EIP-1559的51%攻击时，理解针对工作证明的51%攻击以及它们今天可能造成的损害是很重要的。</em></p><p id="a7ae" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">如果你是一个矿工，拥有51%以上的哈希能力，你可以执行双重花费攻击。这种攻击基本上是让你通过挖掘一个侧链来重写历史，然后在未来的某个时候揭示它，大概是在你收到一些不可逆的链上资产的链外付款之后。这是最常讨论的51%攻击，但在现实中很难执行，因为你需要有足够的资金从链上资产转换到链下资产，你需要一个或多个愿意进行交易的提供商。考虑到攻击一些更大的区块链的51%的成本，它最终只是不值得的努力/成本，因为你根本不能带着足够的钱离开。然而，对于较小的连锁企业，我们<em class="lc">已经</em>看到这种攻击被执行(多次),因为相对于攻击连锁企业的成本，你可以移动足够多的资产来使攻击物有所值。</p><p id="5e03" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">另一个较少讨论的、针对工作证明的51%攻击是审查(又名:自私的挖掘攻击)。在这次攻击中，你拥有51%的哈希动力矿区块，但是你拒绝在任何不是你的采矿联盟开采的区块上建造。因为你有超过51%的hashrate的决策权，这意味着你的链将是最长的(最终)，任何不属于你的联盟的人开采的任何区块都将被忽略。最终结果是，你将获得100%的区块奖励，而不是51%的区块奖励，这意味着你的收入增加了一倍，而你的工作却没有增加一倍。</p><p id="9304" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">51%的审查攻击是可能的<em class="lc">现在</em>针对任何可以形成矿工联盟控制至少51%的采矿权的链。除了一段困难调整期最终会过去之外，这些攻击不会对用户产生任何直接的负面影响。该联盟不需要明显地相互信任，任何联盟成员都可以看到另一个联盟成员是否叛逃并将他们踢出联盟(或者如果足够多的成员叛逃，则可能解散该联盟)。</p><p id="cf61" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated"><strong class="kg ik">一个拥有51%哈希权力的联盟对一个战俘区块链实施审查攻击，增加的收入约为2倍，所有这些都是纯利润</strong>(理论上，当你开始考虑随着时间的推移审查哈希权力被解除的宏观经济影响，从而允许该联盟随着时间的推移降低其哈希权力时，收入甚至会更高)。</p><p id="3e65" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated"><em class="lc">值得注意的是，类似于上述审查攻击的自私挖掘攻击在散列能力的33%左右开始变得有利可图，但这有点复杂，超出了本文的范围，因为我们在这里关心的只是与51%的EIP-1559攻击进行比较。</em></p><h1 id="b37a" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">51%攻击EIP-1559年</h1><p id="9b34" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">对EIP-1559的51%攻击的最常见版本是这样的:</p><ol class=""><li id="d822" class="li lj ij kg b kh ld kl le kp lk kt ll kx lm lb ln lo lp lq dt translated">创建一个由51%的矿工组成的联盟，他们都同意开采空区块，以将基本费用降至0。</li><li id="2d2a" class="li lj ij kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">一旦基本费用为0，将会有一个永久的拥挤状态，这意味着矿工贿赂将是交易是否包括在内的决定因素，这使我们回到了我们当前的情况，即矿工贿赂(天然气价格)是包括在内的唯一因素。</li><li id="71cd" class="li lj ij kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">从高额的矿工贿赂中获利。</li></ol><p id="243e" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated"><em class="lc">首先值得注意的是，最糟糕的情况是我们现在的处境，与目前的天然气价格相比，EIP-1559实际上是不可行的。</em></p><h1 id="896c" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">百分之百的攻击</h1><p id="a78b" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">为了更好地理解这种攻击，让我们看看如果有一个矿工控制了100%的散列能力，他们决定这样做，会发生什么。</p><p id="a818" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">首先，他们需要开采一段时间的空闲区块，以便将基本费用从目前的水平降至接近于零的水平。在此期间，他们将获得整体奖励，但不会收到任何交易费用。每个区块的基本费用只能改变大约12.5%，这意味着假设所有区块都是空的，则基本费用可以大约每5个区块减半，并且每17个区块将减少10倍。把基地费开到艾司隆不会花特别长的时间，也许一个小时的空街区足够这次攻击了。</p><p id="2d67" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">一旦基本费用足够低，你希望它保持在那里。实现这一点最简单的方法是将您的散列能力一分为二，一半挖掘空块，另一半挖掘双满块(这意味着块是当前g as目标允许的两倍)。在这种情况下，你的空区块仍然没有交易费，但你的双满区块得到了一堆交易费，而不必担心基本费用侵蚀他们的交易费利润！太好了，所以我们现在正在执行一个有利可图的攻击。</p><h1 id="95cc" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">99%的攻击</h1><p id="9bfa" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">让我们想象一下，你只有99%的散列能力，而不是100%的散列能力。除了在攻击的最初阶段，1%的背叛散列能力赚取费用，而你用99%的散列能力挖掘空块，攻击进行得基本相同，并且它们还会稍微减慢你降低基本费用的速度，所以你需要更长的时间来达到接近0的基本费用目标。</p><p id="6469" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">一旦你达到了你的目标，你仍然需要50%的<strong class="kg ik">所有</strong>散列能力来挖掘空块，另外50%将挖掘双满块。由于1%的哈希能力不属于你的联盟，他们几乎肯定会挖掘双满块，这意味着只有49%的总哈希能力(或49.5%的个人哈希率)将获得这些甜蜜的双满块交易费。总体而言，这对你来说可能还是有利可图的，但对那1%的矿商来说，利润甚至更高，他们有100%的散列能力开采双满区块(相比之下，你的散列能力为49.5%)。<strong class="kg ik">叛逃者认为你的攻击很棒，因为这让他们变得富有，但他们不可能加入你的队伍</strong>，因为联盟比叛逃者赚的钱少。</p><h1 id="e022" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">51%的攻击</h1><p id="d111" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">假设你的联盟只控制了51%的哈希力量。就像上面一样，49%的变节哈希力量几乎肯定会挖掘双满块，这将几乎完全对抗你的攻击。将基本费用降到0将花费你很长的时间，因为你每开采51个区块，基本费用将下降12.5%，有49个区块将基本费用提高12.5%。你最终会到达那里，但这可能意味着几天或几周的挖掘空街区，而那些叛逃者正在赚取甜蜜的交易费。</p><p id="702a" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">一旦基本费用足够低，您将开始执行拆分挖掘策略，像以前一样，50%的总哈希能力挖掘空块，而另外50%的总哈希能力挖掘双满块。由于你只控制51%的散列能力，这意味着你的<strong class="kg ik">散列能力的98%是挖掘空块(没有事务费),而你的</strong>散列能力的2%是挖掘双满块。与此同时，100%的叛逃者都在开采双倍的区块，并在交易费上赚了大钱。像以前一样，<strong class="kg ik">叛逃者都感谢你的服务，但他们永远不会加入你的联盟，因为这意味着他们会失去98%的交易费。</strong></p><h1 id="2ecd" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">？？%攻击</h1><p id="183d" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">在联盟从可能但无利可图(&gt; 50%)变为有利可图(≤100%)的情况下，存在一个百分比散列值。其中该阈值取决于用户平均愿意支付的气体量(例如，1纳以太对100纳以太)。<strong class="kg ik">攻击者联盟在攻击期间赚的<em class="lc">钱会比任何</em>叛逃者在攻击期间赚的<em class="lc">钱少</em></strong>，所以在鼓吹联盟应该继续攻击的同时叛逃总是更有利可图(换句话说，假装参与，但并不真正参与)。</p><h1 id="af0c" class="jg jh ij bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">那是很多话…我应该担心吗？</h1><p id="1abe" class="pw-post-body-paragraph ke kf ij kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hm dt translated">51%针对工作证明加密货币的攻击是一个严重的问题。如果一个矿业联盟开始审查非联盟矿工，他们可以获得巨大的利润(2倍)。利害关系证明之所以如此受欢迎的一个重要原因是，它通过创建一个协议外的机制来严厉惩罚任何试图进行这种攻击的人，从而解决了这个特定的问题(值得它自己的博客帖子)。</p><p id="32f7" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">如果EIP-1559到位，51%的联盟可以为非联盟成员带来可观的利润，但他们将为自己承担损失。99%的联盟可以为他们自己带来利润，但对任何非联盟矿商来说利润更大。</p><p id="53be" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">如果你有51%的哈希能力，你只需要做一次审查攻击就比T2好得多。你的利润会更高，事情会更简单，完成后你可以<em class="lc">然后</em>对EIP-1559发动攻击，还可以多花几天时间，做一些其他坏事。</p><p id="ee95" class="pw-post-body-paragraph ke kf ij kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hm dt translated">所以，是的，你应该害怕51%的攻击，但EIP-1559不应该有意义地改变你对它们的恐惧，因为它对51%的攻击是无利可图的，即使在理论上，产生的收益也远远低于执行审查攻击。</p></div></div>    
</body>
</html>