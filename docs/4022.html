<html>
<head>
<title>Tokenising NFTs — Improving liquidity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">表征非金融资产——提高流动性</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/tokenising-nfts-improving-liquidity-de9df6131ee9?source=collection_archive---------4-----------------------#2021-02-08">https://medium.com/coinmonks/tokenising-nfts-improving-liquidity-de9df6131ee9?source=collection_archive---------4-----------------------#2021-02-08</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="bc41" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">上周，我写了一篇文章，介绍了一个叫做<a class="ae jo" href="https://github.com/pringao-chevere/NFT-Horcrux" rel="noopener ugc nofollow" target="_blank"> NFT魂器</a>的基本概念验证，它允许将NFT标记为ERC20令牌。<a class="ae jo" rel="noopener" href="/coinmonks/tokenising-nfts-c02a03d34445"/></p><p id="5a32" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了避免你回头阅读那篇文章，这一段应该告诉你你需要知道的一切:</p><blockquote class="jp jq jr"><p id="f0b0" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hm dt translated">我不会说谎，这将是一篇技术文章。它围绕着一个我今天晚上下班后突然想到的概念验证，那个<a class="ae jo" href="https://github.com/pringao-chevere/NFT-Horcrux" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> NFT魂器</strong> </a>。这个概念很简单，你发送一个NFT给代币商，然后它创建一个新的ERC-20代币合约来代表所有权的份额。总余额将转给您，您可以根据需要进行分配。</p></blockquote><p id="d8c3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最初设计的主要缺点是，如果少数股权持有者拒绝合作和出售股权，NFT可能会被锁定。此后的几天里，这个问题一直萦绕在我的脑海里，我认为我已经找到了一个相当不错的解决方案，不仅解决了这个问题，还为一些非金融资产中锁定的价值提供了更多的流动性。如果我们要在DeFi和NFTs之间架起一座桥梁，这是必须要做的事情。</p><figure class="jx jy jz ka fq kb fe ff paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="fe ff jw"><img src="../Images/9f58f2a69b13aaab5e83da2e03ea6948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JVpVdEeKahM3diIW"/></div></div><figcaption class="ki kj fg fe ff kk kl bd b be z ek">Photo by <a class="ae jo" href="https://unsplash.com/@sarah_elizabeth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sarah Shaffer</a> on <a class="ae jo" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="df9e" class="km kn ht bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">NFT魂器(v0.2)</h1><p id="dc01" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">该项目的主要流动性增强变化是NFT的ETH值在被令牌化时被声明。利用ERC721的<code class="eh lp lq lr ls b">approve</code>功能，令牌化过程也得到了简化。</p><p id="8890" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">任何NFT都可以通过合同来象征化。令牌化过程将NFT转移到令牌化器，此时会创建一个新的可替换令牌，整个余额最初归创建者所有。</p><p id="a5c6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦象征化，NFT仍然是象征化合约的财产，直到有人清算它，或拥有与总供应量相等的象征性余额，收回它。</p><p id="747f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当NFT被清算时，清算人提供的ETH等于NFT的价值(减去他们作为代币拥有的份额)。NFT被转移给清算人，剩余的令牌持有者能够提取他们在存放的ETH中的份额。</p><p id="1bf7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当NFT被撤回时，NFT被转移到撤回者手中，象征性契约被销毁。</p><p id="7d96" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">仍有未申请ETH的清算NFT可以与之前约定的NFT价值和令牌供应合并(重新令牌化)。任何无人认领的ETH被转移到合并者，他们收到所有以前兑现的代币。</p><h1 id="b31b" class="km kn ht bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">符号化</h1><h2 id="e12a" class="lt kn ht bd ko lu lv lw ks lx ly lz kw jb ma mb la jf mc md le jj me mf li mg dt translated">第一步。赞同</h2><p id="25fe" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">由于ERC-721的<code class="eh lp lq lr ls b">onERC721Received</code>功能中的气体限制会阻止写入，第一步是批准Tokeniser合同，作为您要标记的NFT的运营商:</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="0358" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">function</strong> approve(<strong class="ls hu">address</strong> _approved, <strong class="ls hu">uint256 </strong>_tokenId)</span></pre><p id="3547" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这给予了令牌化合同转让NFT的许可，令牌化合同将在令牌化过程中进行转让。</p><h2 id="b722" class="lt kn ht bd ko lu lv lw ks lx ly lz kw jb ma mb la jf mc md le jj me mf li mg dt translated">第二步。象征化</h2><p id="1a1a" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">然后调用标记器契约上的<code class="eh lp lq lr ls b">tokenise</code>函数:</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="5966" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">function </strong>tokenise(<strong class="ls hu">address</strong> _nftAddress,<strong class="ls hu">uint</strong> _tokenId, <strong class="ls hu">uint</strong> tokenCount, <strong class="ls hu">uint</strong> value) <strong class="ls hu">public</strong> <strong class="ls hu">returns</strong>(<strong class="ls hu">address</strong> newTokenAddress)</span></pre><p id="6889" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh lp lq lr ls b">tokenCount</code>是将铸造的ERC-20代币的总供应量。</p><p id="dcd5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh lp lq lr ls b">value</code>是被令牌化的NFT的ETH值。</p><p id="07d3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh lp lq lr ls b">tokenCount * value &lt; max value of uint256</code>有一个约束，是为了防止溢出线。</p><p id="c75d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">此函数返回新的可替换令牌合同的地址，供第三方合同使用。它还发出一个事件，下面将进一步讨论。</p><h1 id="eebd" class="km kn ht bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">退出</h1><p id="56fb" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">撤销NFTs很简单，只需一步。如果一个地址拥有<em class="js">所有</em>相应的令牌，那么他们只需调用Tokeniser契约上的<code class="eh lp lq lr ls b">withdraw</code>。</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="1fcb" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">function</strong> withdraw(<strong class="ls hu">address</strong> _nftAddress,<strong class="ls hu">uint</strong> _tokenId) <strong class="ls hu">payable</strong>;</span></pre><p id="8f03" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这将自毁可替换令牌契约，并将NFT转移到<code class="eh lp lq lr ls b">msg.sender</code>。</p><p id="df3e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果取款人拥有的代币少于所有相应的代币，他们必须以ETH支付差额，剩余的代币持有者可以使用相同的功能来兑换。</p><p id="d000" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">该函数还发出一个事件，下面将进一步讨论。</p><h1 id="f2d9" class="km kn ht bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">资产流动性</h1><p id="2895" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">此次更新的主要目的是提高流动性，因为最初NFT将被锁定，直到最后的令牌持有者将其令牌交给任何想要撤回NFT的人。这就是为什么在令牌化期间设置<code class="eh lp lq lr ls b">value</code>的原因，令牌持有者通过接受令牌暗示同意此估价。</p><p id="d763" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">因此，适当估值的象征性NFT可以根据需要被分割出售。在任何时候，有人同意价格是公平的，可以清算NFT(支付他们不拥有的股份，并撤回NFT)。如果NFT被低估，就会有经济动机促使人们以较低的价格将其变现，然后以较高的价格卖出。如果NTF被高估，估值师有责任以更低的价格重新标记(因为他们最初持有所有的标记)。</p><p id="98e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">根据定义，清算后的NFT将意味着其他人仍持有代币。这些代币的价值是固定的，直到全部被赎回。NFT可以被重新标记，而仍有拒绝赎回他们的ETH的人。这种反向清算过程称为“合并”，使用相同的<code class="eh lp lq lr ls b">tokenise</code>功能。合并NFT会将之前兑换的代币以及之前为其他代币持有者保留的未兑换的代币转移给合并者。Solidation含蓄地同意之前的NFT估值。</p><p id="62c4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果NFT已经清算，并且所有代币持有人都赎回了他们的ETH，则可以用不同的估值和代币供应对NFT进行重新代币化。这是使用相同的<code class="eh lp lq lr ls b">tokenise</code>功能完成的。</p><p id="15dd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">清算、NFT提款和赎回都使用相同的<code class="eh lp lq lr ls b">withdraw</code>功能。</p><h1 id="41f7" class="km kn ht bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">事件</h1><p id="cd48" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">该合同有五个事件:</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="2fea" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">event </strong>Create(<strong class="ls hu">address</strong> <strong class="ls hu">indexed</strong> _nftAddress, <strong class="ls hu">uint</strong> <strong class="ls hu">indexed</strong> _tokenId, <strong class="ls hu">address </strong>location,<strong class="ls hu">uint</strong> value);</span></pre><p id="d1e1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当NFT被标记化或重新标记化(但未合并)时，会发出此事件。它宣布了NFT的申报价值和新的代币合约位置。</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="aaf0" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">event</strong> Destroy(<strong class="ls hu">address</strong> <strong class="ls hu">indexed</strong> _nftAddress, <strong class="ls hu">uint indexed</strong> _tokenId, <strong class="ls hu">address</strong> location);</span></pre><p id="280e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当NFT被撤销并且令牌合同被销毁时，或者在彻底重新令牌化之前，会发出此事件。</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="7040" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">event</strong> Liquidate(<strong class="ls hu">address indexed </strong>_nftAddress,<strong class="ls hu"> uint indexed</strong> _tokenId, <strong class="ls hu">uint</strong> tokens);</span></pre><p id="fc2d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">此事件在NFT清算时发出，并宣布在此过程中消耗了多少相应的令牌。</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="2d82" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">event</strong> Solidate(<strong class="ls hu">address indexed </strong>_nftAddress, <strong class="ls hu">uint indexed </strong>_tokenId, <strong class="ls hu">uint</strong> tokens);</span></pre><p id="b34b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">此事件在NFT合并时发出，并宣布向合并者重新颁发了多少相应的令牌。</p><pre class="jx jy jz ka fq mh ls mi mj aw mk dt"><span id="b67a" class="lt kn ht ls b fv ml mm l mn mo"><strong class="ls hu">event </strong>Withdraw(<strong class="ls hu">address indexed </strong>_nftAddress, <strong class="ls hu">uint indexed </strong>_tokenId, <strong class="ls hu">uint</strong> tokens);</span></pre><p id="2140" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当令牌持有者兑现其ETH时会发出此事件，并宣布在此过程中烧掉了多少相应的令牌。</p><h1 id="1e5f" class="km kn ht bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">其他考虑</h1><p id="b75a" class="pw-post-body-paragraph iq ir ht is b it lk iv iw ix ll iz ja jb lm jd je jf ln jh ji jj lo jl jm jn hm dt translated">虽然这个迭代确实大大提高了这个概念在现实世界中的可行性，但NFT魂器仍然没有为生产做好准备。一个关键的概念问题是，每一个符号化的NFT本质上只是另一个无名的狗屎硬币。即使NFT得到了正确的估价，相应的代币也很难被第三方接受。</p><p id="860a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">将所有令牌化的NFT捆绑到单个令牌中，为高估NFT的人滥用打开了大门，以退出欺骗他人，由于NFT交易的集中性质，即使使用第三方市场数据或甲骨文也太容易被滥用(例如，我可以以100万美元的价格向自己出售垃圾令牌，以欺骗自动定价甲骨文)。</p><p id="9005" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">NFT估值的主观性质可能意味着这种解决方案存在固有的限制，但这是未来版本的问题。</p><p id="67d9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我已经把这个版本的NFT魂器部署到<code class="eh lp lq lr ls b"><a class="ae jo" href="https://kovan.etherscan.io/address/0xc485eB25b7F380A22e11698413B20CA2A2546f94" rel="noopener ugc nofollow" target="_blank"><strong class="is hu">0xc485eB25b7F380A22e11698413B20CA2A2546f94</strong></a></code>的科万测试网上</p><p id="e990" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对你疯狂的钻石进行编码。</p></div></div>    
</body>
</html>