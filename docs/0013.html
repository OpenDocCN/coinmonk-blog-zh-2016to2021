<html>
<head>
<title>“Truffle compile” so slow — solc is much faster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“块菌编译”太慢了——solc快多了</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/truffle-compile-so-slow-solc-is-much-faster-2acfb7004bbe?source=collection_archive---------5-----------------------#2017-08-31">https://medium.com/coinmonks/truffle-compile-so-slow-solc-is-much-faster-2acfb7004bbe?source=collection_archive---------5-----------------------#2017-08-31</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/8af69f84667c2ad399032cdf9c414ec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*HsURc-ZiZHmeaaHOiIQK9A.png"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Truffle compile speed</figcaption></figure><p id="4001" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当我们使用<a class="ae jz" href="http://truffleframework.com/" rel="noopener ugc nofollow" target="_blank"> truffle framework </a>并用“truffle compile”命令编译以太坊solidity智能合约时，实际上我们使用的是solidity编译器的<a class="ae jz" href="https://github.com/ethereum/solc-js" rel="noopener ugc nofollow" target="_blank"> javascript版本</a>。但是solidity编译器运行非常慢，例如编译20。sol文件大约需要2分钟。</p><p id="9821" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">简单的解决方案是使用<a class="ae jz" href="http://solidity.readthedocs.io/en/develop/installing-solidity.html#binary-packages" rel="noopener ugc nofollow" target="_blank"> solc二进制包</a>，这样工作起来要快得多。您可以通过命令安装此软件包:</p><pre class="ka kb kc kd fq ke kf kg kh aw ki dt"><span id="cdc8" class="kj kk ht kf b fv kl km l kn ko">sudo add-apt-repository ppa:ethereum/ethereum<br/>sudo apt-get update<br/>sudo apt-get install solc</span></pre><p id="f054" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">但是接下来，我们必须将编译后的EVM字节码转储到truffle构建文件中，该文件位于build/contract文件夹中。我们可以通过简单的<a class="ae jz" href="https://gist.github.com/vitiko/4a5e1a9b92b4c669c0e35538e77e9d99" rel="noopener ugc nofollow" target="_blank"> javascript脚本</a>来做到这一点:</p><figure class="ka kb kc kd fq iu"><div class="bz el l di"><div class="kp kq l"/></div></figure><p id="5b53" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在编译同样的文件只需要10秒钟(相比之下使用javascript solidity编译器需要96秒钟)</p><p id="a762" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><a class="ae jz" href="https://github.com/vitiko/truffle-fast-compile" rel="noopener ugc nofollow" target="_blank">https://github.com/vitiko/truffle-fast-compile</a>—通过solc二进制包编译可靠性合同的命令行实用程序</p></div></div>    
</body>
</html>