<html>
<head>
<title>First Business Network using Hyperledger Composer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第一个使用Hyperledger Composer的商业网络</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/first-business-network-using-hyperledger-composer-ba1691c5e466?source=collection_archive---------0-----------------------#2018-03-25">https://medium.com/coinmonks/first-business-network-using-hyperledger-composer-ba1691c5e466?source=collection_archive---------0-----------------------#2018-03-25</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/6581728dcf94d7327e76762e2bd8a6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iFN3pqidgYorgurPQqY6PQ.jpeg"/></div></div></figure><div class=""/><p id="ed48" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Hyperledger Composer是一个广泛的、开放的开发工具集和框架，使开发区块链应用程序更加容易。主要目标是加速实现价值，并使您的区块链应用程序与现有业务系统的集成更加容易。</p><ul class=""><li id="76ad" class="jz ka ie jd b je jf ji jj jm kb jq kc ju kd jy ke kf kg kh dt translated">您可以使用Composer在几天内快速开发用例并部署区块链解决方案。</li><li id="c328" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy ke kf kg kh dt translated">Composer允许您对业务网络建模，并将现有系统和数据与区块链应用程序集成。</li><li id="b865" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy ke kf kg kh dt translated">Hyperledger Composer支持现有的<a class="ae kn" href="https://hyperledger.org/" rel="noopener ugc nofollow" target="_blank"> Hyperledger Fabric区块链</a>基础设施和运行时。</li><li id="1089" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy ke kf kg kh dt translated">Hyperleder Composer生成业务网络档案(bna)文件，您可以在现有的Hyperledger结构网络上部署该文件</li></ul><p id="7da8" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">您可以使用Hyperledger Composer对业务网络进行建模，其中包含您的现有资产以及与其相关的事务</p><h2 id="bfaf" class="ko kp ie bd kq kr ks kt ku kv kw kx ky jm kz la lb jq lc ld le ju lf lg lh li dt translated">Hyperledger Composer的关键概念</h2><ol class=""><li id="78de" class="jz ka ie jd b je lj ji lk jm ll jq lm ju ln jy lo kf kg kh dt translated">区块链状态存储:它存储您的hyperledger composer应用程序中发生的所有交易。它将交易存储在Hyperledger结构网络中。</li><li id="8bf9" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">连接配置文件:连接配置文件到配置JSON文件，帮助composer连接到Hyperledger Fabric。您可以在用户的主目录中找到连接配置文件JSON文件。</li><li id="5c9e" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">资产:资产是有形或无形的商品、服务或财产，并存储在注册表中。资产可以代表业务网络中的几乎任何东西，例如，待售房屋、销售清单、该房屋的土地注册证书。资产必须有唯一的标识符，但是除此之外，它们可以包含您定义的任何属性。</li><li id="cd77" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">参与者:参与者是商业网络的成员。他们可能拥有资产并提交交易。参与者必须有一个标识符，并且可以有任何其他属性。</li><li id="04ed" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">身份和ID卡:参与者可以与一个身份相关联。ID卡是身份、连接配置文件和元数据的组合。ID卡简化了连接到企业网络的过程。</li><li id="b056" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">事务:事务是参与者与资产交互的机制。您可以在JavaScript中定义事务处理逻辑，也可以为事务发出事件。</li><li id="584e" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">查询:查询用于返回关于区块链世界国家的数据。查询在业务网络中定义，并且可以包括用于简单定制的可变参数。通过使用查询，可以很容易地从您的区块链网络中提取数据。使用Hyperledger Composer API发送查询。</li><li id="5f3d" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">事件:事件在模型文件中定义。一旦定义了事件，它们就可以由交易处理器功能发出，以向外部系统指示分类帐发生了重要的事情。</li><li id="ce40" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">访问控制:Hyperledger是企业区块链，访问控制是任何企业区块链的核心功能。使用访问控制规则，您可以定义谁可以在业务网络中做什么。访问控制语言足够丰富，可以捕捉复杂的条件。</li><li id="a903" class="jz ka ie jd b je ki ji kj jm kk jq kl ju km jy lo kf kg kh dt translated">历史记录注册表:历史记录注册表是一个专门的注册表，记录成功的交易，包括提交交易的参与者和身份。历史记录将事务存储为历史记录资产，这些资产在Hyperledger Composer系统名称空间中定义。</li></ol><h2 id="0560" class="ko kp ie bd kq kr ks kt ku kv kw kx ky jm kz la lb jq lc ld le ju lf lg lh li dt translated">让我们创建第一个Hyperledger Composer应用程序</h2><p id="18e6" class="pw-post-body-paragraph jb jc ie jd b je lj jg jh ji lk jk jl jm lp jo jp jq lq js jt ju lr jw jx jy hm dt translated">步骤1:启动本地的Hyperledger Composer Online版本。点击部署新的业务网络</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/b11654a18f71bf0cd4f718c1959dde18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OEztOTa8gKp7jWZD0hpYEg.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Hyperledger Composer Playground Online version</figcaption></figure><p id="fb63" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤2:选择空的业务网络</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/1e1632ba7b832f9019c11945181af80b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t4em9BrCMGybP_vJRa54QQ.png"/></div></div></figure><p id="9854" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第三步:填写基本信息，选择空的营业网点，点击右侧面板的“部署”按钮</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/b1a0401d8f470037b308740fb5d4c539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSDViGLQnZrfTZyImqIn1g.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Fill basic information</figcaption></figure><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/43dfa26af81ebf946dbfc4e529eaeedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GS-2DoFDBJT8O7CI8PFv6g.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">select empty business network</figcaption></figure><p id="9792" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤4:连接到我们刚刚部署的“硬件-资产”业务网络</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/3ea24eb1b00cbb5255eba4fe2b4d8bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eMC1Q4MmPtCQxT7Kg-YuZA.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">click on “connect now” button</figcaption></figure><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/4768d8a5b49b977ce6a494a9ecc8e746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JVlSfRKrv8cuLDgU5fW3_g.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Inside hardware-assets business network</figcaption></figure><p id="c153" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤5:点击左侧面板中的“+添加文件…”并选择“模型文件(。cto)”</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/ccb25cb96572d22206c20d7474b2506f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gIFsGmFlv24opKBZlCy5VA.png"/></div></div></figure><p id="2d31" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在模型文件中编写以下代码。模型文件包含资产，在我们的例子中是硬件，在我们的例子中参与者是组织的雇员，当分配硬件给雇员时进行交易。每个模型都有额外的属性。确保您拥有正确且唯一的名称空间。在这个例子中，我使用“com.kpbird”作为名称空间。您可以使用此命名空间访问所有模型，即com.kpbird.Hardware、com.kpbird.Employee</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="deb9" class="ko kp ie mc b fv mg mh l mi mj">/**<br/> * Hardware model<br/> */</span><span id="1116" class="ko kp ie mc b fv mk mh l mi mj">namespace com.kpbird</span><span id="2c74" class="ko kp ie mc b fv mk mh l mi mj">asset Hardware identified by hardwareId {<br/> o String hardwareId<br/> o String name<br/> o String type<br/> o String description<br/> o Double quantity<br/> → Employee owner<br/>}<br/>participant Employee identified by employeeId {<br/> o String employeeId<br/> o String firstName<br/> o String lastName<br/>}<br/>transaction Allocate {<br/> → Hardware hardware<br/> → Employee newOwner<br/>}</span></pre><p id="50ea" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Hyperledger建模语言参考:<a class="ae kn" href="https://hyperledger.github.io/composer/reference/cto_language.html" rel="noopener ugc nofollow" target="_blank">https://hyperledger . github . io/composer/reference/CTO _ language . html</a></p><p id="2e05" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第六步:点击左侧面板中的“+添加文件…”并选择“脚本文件(*。js)"</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/9827bff4f2262c86d94f9548dfeddb87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*09HiswnUJwuq1glx_8U7ZA.png"/></div></div></figure><p id="d09d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在脚本文件中编写以下代码。在脚本中，我们可以定义事务处理逻辑。在我们的例子中，我们希望将硬件分配给员工，因此，我们将更新硬件的所有者。确保在函数@params和@transaction上面有注释</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="1d68" class="ko kp ie mc b fv mg mh l mi mj">/**<br/> * Track the trade of a commodity from one trader to another<br/> * <a class="ae kn" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {com.kpbird.Allocate} trade — the trade to be processed<br/> * <a class="ae kn" href="http://twitter.com/transaction" rel="noopener ugc nofollow" target="_blank">@transaction</a><br/> */<br/>function allocateHardware(allocate) {<br/> allocate.hardware.owner = allocate.newOwner;<br/> return getAssetRegistry(‘com.kpbird.Hardware’)<br/> .then(function (assetRegistry) {<br/> return assetRegistry.update(allocate.hardware);<br/> });<br/>}</span></pre><p id="125e" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Hyperledger Composer脚本文件参考:<a class="ae kn" href="https://hyperledger.github.io/composer/reference/js_scripts.html" rel="noopener ugc nofollow" target="_blank">https://hyperledger . github . io/Composer/reference/js _ scripts . html</a></p><p id="3f27" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤7: permissions.acl文件示例已经可用，请在permissions.acl文件中添加以下代码。</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="973b" class="ko kp ie mc b fv mg mh l mi mj">/**<br/> * New access control file<br/> */<br/> rule AllAccess {<br/> description: “AllAccess — grant everything to everybody.”<br/> participant: “ANY”<br/> operation: ALL<br/> resource: “com.kpbird.**”<br/> action: ALLOW<br/> }</span><span id="5437" class="ko kp ie mc b fv mk mh l mi mj">rule SystemACL{<br/> description: “System ACL to permit all access”<br/> participant: “org.hyperledger.composer.system.Participant”<br/> operation: ALL<br/> resource: “org.hyperledger.composer.system.**”<br/> action: ALLOW<br/>}</span></pre><p id="b53c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Hyperledger Composer访问控制语言参考:<a class="ae kn" href="https://hyperledger.github.io/composer/reference/acl_language.html" rel="noopener ugc nofollow" target="_blank">https://hyperledger . github . io/Composer/reference/ACL _ Language . html</a></p><p id="6dda" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤8:现在，是时候测试我们的硬件资产业务网络了。Hyperledger composer在自己的composer面板中提供“测试”功能。点击顶部面板中的“测试”选项卡</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/16d1df7e478c725ab1ae04f6d67699fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aixqaG7ebCLq3y3Tjoz3hA.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Test feature of Hyperledger Composer</figcaption></figure><p id="5538" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤9:创建资产。单击左侧面板中的“硬件”,然后单击右上角的“+创建新资产”,并添加以下代码。我们将在下一步创建员工#01。点击“新建”按钮</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="a26c" class="ko kp ie mc b fv mg mh l mi mj">{<br/> “$class”: “com.kpbird.Hardware”,<br/> “hardwareId”: “MAC01”,<br/> “name”: “MAC Book Pro 2015”,<br/> “type”: “Laptop”,<br/> “description”: “Mac Book Pro”,<br/> “quantity”: 1,<br/> “owner”: “resource:com.kpbird.Employee#01”<br/>}</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/76bc36eac8beab9aa66ec15ec2530303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RjsWddGhrQnkCGYri29sag.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">After adding Hardware assets</figcaption></figure><p id="c43e" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤10:让我们创建参与者。单击“员工”，然后单击“+创建新参与者”并添加以下代码。我们将增加两名员工</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="c31b" class="ko kp ie mc b fv mg mh l mi mj">{<br/> “$class”: “com.kpbird.Employee”,<br/> “employeeId”: “01”,<br/> “firstName”: “Ketan”,<br/> “lastName”: “Parmar”<br/>}</span></pre><p id="d103" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">点击对话框上的“新建”</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="c261" class="ko kp ie mc b fv mg mh l mi mj">{<br/> “$class”: “com.kpbird.Employee”,<br/> “employeeId”: “02”,<br/> “firstName”: “Nirja”,<br/> “lastName”: “Parmar”<br/>}</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/1011f5bc27254fbb0ed826e54a489aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zk-dZPW99lh0ohBEh6dRqA.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">We have two employees</figcaption></figure><p id="b9c6" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第11步:该进行交易了，我们将把Macbook Pro从Ketan(员工#01)分配给Nirja(员工#02)。点击左侧面板中的“提交交易”按钮。在交易对话框中，我们可以在顶部的“交易类型”下拉菜单中看到所有交易功能。</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/2ca582b5ccfe463948344e38cb6ec432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3Sc1-Cley3761r12E9CAw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Submit Transaction Dialog</figcaption></figure><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="3ebb" class="ko kp ie mc b fv mg mh l mi mj">{<br/> “$class”: “com.kpbird.Allocate”,<br/> “hardware”: “resource:com.kpbird.Hardware#MAC01”,<br/> “newOwner”: “resource:com.kpbird.Employee#02”<br/>}</span></pre><p id="ae86" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，我们将Mac01分配给员工02。在事务对话框中更新上述JSON后，单击提交按钮。你一按提交键。已处理的交易和交易Id将生成。</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/a654a4e016562f810c28ac0577d6c395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66etsPCCCYoBRla_UiecAw.png"/></div></div></figure><p id="6fcd" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第12步:点击左侧面板中的“所有交易”来验证所有交易。在以下截图中，您可以看到添加资产、ass参与者和分配所有操作都被视为交易。“查看记录”将为我们提供有关交易的更多信息。</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/f84c8904739cfe0d23b6a3a102a83d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZsT_znuxM_QlmQrAw1dhCg.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">All Transactions</figcaption></figure><p id="234f" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤13:现在，是时候将“硬件-资产”业务网络部署到Hyperledger Fabric了。单击顶部面板中的“定义”选项卡，然后单击左侧面板中的“导出”按钮。导出将创建hardware-assets.bna文件。</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/35cac7bc0329e101c6ad0d598eec4b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSfiEdIc5W7d7YVPgDkS3g.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Download hardware-assets.bna file</figcaption></figure><p id="91ed" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">。bna是业务网络档案文件，包含模型、脚本、网络访问和查询文件</p><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ml"><img src="../Images/5ac21f2a641524184bd4894c7c645004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G21XUkD-3xX8ImDHEKAx2A.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">source: <a class="ae kn" href="https://hyperledger.github.io/composer/introduction/introduction" rel="noopener ugc nofollow" target="_blank">https://hyperledger.github.io/composer/introduction/introduction</a></figcaption></figure><p id="a43c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤14:启动Docker并从~/fabric-tools目录运行以下命令</p><p id="66ef" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">将业务网络安装到Hyperledger Fabric，如果已经安装了业务网络，您可以使用“更新”而不是“安装”</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="b8f7" class="ko kp ie mc b fv mg mh l mi mj">$composer runtime install -c PeerAdmin@hlfv1 -n hardware-assets</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mm"><img src="../Images/2e4925b3e9461a6b6555de8c8d6ee947.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WeEXN5e9R9EEZHgEcuxUXg.png"/></div></div></figure><p id="73a2" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下命令将部署并启动hardware-assets.bna文件。在执行以下命令之前，请更改hardware-assets.bna文件。networkadmin.card文件将根据之前的命令在~/fabric-tools目录中生成。</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="16f6" class="ko kp ie mc b fv mg mh l mi mj">$composer network start — card PeerAdmin@hlfv1 — networkAdmin admin — networkAdminEnrollSecret adminpw — archiveFile /Users/ketan/Downloads/hardware-assets.bna — file networkadmin.card</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mn"><img src="../Images/d700992c68977b543cfe883f8ee6b0d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k971aVxM_MzOh6-lerpE-A.png"/></div></div></figure><p id="de4b" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">要连接商务网络，您需要连接卡。因此，我们可以使用以下命令导入networkadmin.card</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="2ce6" class="ko kp ie mc b fv mg mh l mi mj">$composer card import -f networkadmin.card</span></pre><p id="5937" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">要确保networkadmin.card成功安装，您可以使用以下命令列出卡</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="933d" class="ko kp ie mc b fv mg mh l mi mj">$composer card list</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mo"><img src="../Images/84c44e1fddc6337611f3e25b1c88031e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-9Dlrg_5HtEv58IOKCakVg.png"/></div></div></figure><p id="908c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下命令将确保我们的硬件资产业务网络在Hyperledger Fabric中成功运行。</p><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="2cff" class="ko kp ie mc b fv mg mh l mi mj">$composer network ping — card admin@hardware-assets</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mp"><img src="../Images/fe6dfe7c76b3c6722b127d0212de0900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gW2HZrAzE8T-z0Im_mWMVw.png"/></div></div></figure><p id="a5d7" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在是时候与REST API进行交互了。要开发Web或移动应用程序，我们需要REST API。您可以运行以下命令来为硬件资产业务网络生成REST API。</p><blockquote class="mq"><p id="42e0" class="mr ms ie bd mt mu mv mw mx my mz jy ek translated"><a class="ae kn" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="nb nc nd ne nf hv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff na"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><pre class="lt lu lv lw fq mb mc md me aw mf dt"><span id="e130" class="ko kp ie mc b fv mg mh l mi mj">$composer-rest-server</span></pre><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ng"><img src="../Images/141461880a4a39147e1b08990dce4d2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9cltbnPpu202IgHDNBLMA.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">rest server will ask few basic information before generate rest api</figcaption></figure><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/efd1ab1249622dd8addb1b6d574988bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7yyE6aF0uZsXdzHbviKvxQ.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">REST API for our hardware assets</figcaption></figure><figure class="lt lu lv lw fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff ls"><img src="../Images/30b13de8ab0e08ec366e778780cb41f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M5YIRCQ9rN-gRvpk-Whxww.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">REST API methods for all operations</figcaption></figure><p id="8128" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">享受你的第一个商业网络…</p></div></div>    
</body>
</html>