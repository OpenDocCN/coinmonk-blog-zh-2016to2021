# 有利可图的加密交易策略第 1 部分:移动平均线

> 原文：<https://medium.com/coinmonks/profitable-crypto-trading-strategies-part-1-moving-averages-2d1962d6acba?source=collection_archive---------4----------------------->

在这些系列中，我们将探索和评估加密交易策略。其中一些似乎比其他的更有利可图。但是，我们也将试图理解为什么某些策略在某些情况下有效，而其他情况下无效。这些分析可以作为开发更好算法的非常重要的构件。

由于这是第一部分，我们将涵盖现有的和众所周知的交易策略，这是基于计算和使用移动平均价格。

> 另请阅读:[最佳加密交易机器人](/coinmonks/crypto-trading-bot-c2ffce8acb2a)

# 简单移动平均线

移动平均(MA)算法只是计算固定数量的历史价格值的平均值。最终结果通常是更平滑的价格线。

![](img/131b8f18bba991999e2984f77f4f4b5c.png)

存在相当多的基于移动平均线算法的交易策略。最流行的一种方法是创建两条不同大小的 MA 线，即一条线的窗口长度大于/小于另一条线的窗口长度。最终结果由两条线组成，其中具有最大窗口长度的一条(**MA(1)**)更平滑，对变化的反应更小，而最短的一条( **MA(S)** )适应性更强，因此对价格变化的反应更大。

![](img/415856ae15a02fd20320ba18c3a2e66a.png)

那么，如何利用这一点来决定何时买进或卖出呢？基本策略是这样的:

*   当 MA(S)上升并穿过 MA(L)时，表示“买入”。
*   当均线开始下跌并穿过均线时，意味着“卖出”。

这个策略只有两个变量来决定是买还是卖。由于其简单性，它通常在全自动设置中表现不佳。原因是因为 MA 线滞后于实际价格。当价格快速上涨或下跌时，通过比较实际价格和 MA 的价格可以看出这一点，因此 MA 线跟不上。

## 分析

关于这些策略，人们可能有一百万种观点和意见，但是 SMA 真的有用吗？给定来自币安的 **1 小时蜡烛图**和**BTC-美元**数据，让我们在 30 天内模拟这个策略。

但是等等，我们应该为 MA 窗口选择哪种长度？为了保持科学性，让我们简单地计算一系列不同的组合……由于我的系统生成了数千个组合及其相应的 ROIs)，我将只按升序显示最有利可图的组合:

> 甲:1，乙:41，
> 投资回报率:25。56360 . 68668686661
> 
> 甲:1，乙:44，
> 投资回报率:25。56660.68868886666
> 
> 甲:1，乙:42，
> 投资回报率:26。46360 . 68686868661
> 
> 甲:1，乙:43，
> 投资回报率:26。46360 . 68686868661
> 
> 甲:1，乙:2，
> 投资回报率:33560 . 68686868661

看到最佳组合由大小为 1(= 1)的最小形状记忆合金组成，这可能会令人惊讶，或者至少我很惊讶。这些结果是偏向于市场在这 30 天，烛台区间大小和许多其他变量。这意味着从 3 月 15 日到 4 月 15 日的 30 天里，使用 MA(1)和 MA(2)线进行交易效果很好(33%的 ROI)。但不能保证未来 30 天、下个月甚至明年的表现会更好或更差。因为这个事实，不建议只依赖一种策略。

把这些结果画出来也很有趣。根据我们的策略和“A=1，B=43”参数，下面你可以看到一些买入/卖出指标。

![](img/491c8390ed71bc6e6278def961abeae8.png)

Zoomed in on a specific region for A=1 and B=43

*注意图表上显示的买入“B”和卖出“S”信号。*

## 为什么+90%的回溯测试是错误的

过去，当我测试和模拟策略时，我意识到超过 90%的数据科学家和分析师做得“不够好”。

解释一下为什么:通常在模拟(回溯测试)中，人们使用 OHLC 值或 OC 值的平均值，或者仅仅是开盘价或收盘价。这将产生不切实际的结果——例如，一个人的模拟可能显示每月 10%的投资回报率，然而，如果这个人将他们的策略部署到自动化系统中，他/她可能最终反而会损失-10%;为什么原因是系统会做出次优的买/卖决策。例如，如果理论上仅使用了 avg(OHLC ),那么该策略将偏向于选择的(超)参数，在这种情况下，这些参数是 MA 窗口的选择长度。

为了解决这个问题，人们必须计算数百次(如果不是数千次的话)模拟，每次都在 OHLC 或 OC 范围内选择一个随机价格。在我的实验中，使用 OC 范围内的随机价格比 OHLC 表现更好——原因是试图抓住一些高点或低点是一件有风险的事情，人们不应该依赖它。另一方面，自动化系统在 OC 范围内作出买入/卖出决定的机会比 OHLC 范围大得多，后者偶尔在其大部分范围内包括异常和短暂的价格事件。尽管这是一种更精确的模拟技术，但它很快成为一个主要的性能瓶颈，因为它需要几分钟(甚至几小时)才能完成。

## 重新进行分析

因为这些发现，上面的 A 和 B 参数在实时交易中几乎没有用。手动交易时，它们可能工作得很好，但如果你把它们插入交易机器人，那就不太好了。因此，为了消除我们分析中的一些偏差，我不得不使用 OC 范围内的随机价格，而不是固定的 avg(OC)价格公式。而且还要多次模拟每个组合以达到统计显著性。正如您在下面看到的，现在的结果非常不同:

> 答:14，乙:24，
> 投资回报率:22。36860 . 68668686661
> 
> 甲:15，乙:25，
> 投资回报率:23。53660 . 68668686666
> 
> 甲:13，乙:25，
> 投资回报率:23。36860 . 68668686666
> 
> 答:16，乙:24，
> 投资回报率:23。38660 . 66668666666
> 
> 甲:14，乙:25，
> 投资回报率:24。56660.68668686666

现在让我们看一下同一个放大的区域，但是现在给定参数“A=14，B=25”:

![](img/8154b1ad344d2a0a43733bdf3eb390fd.png)

Zoomed in on a specific region for A=14 and B=25

请记住，这些参数仍然偏向于市场状态(即选择的 30 天期限)。由于我们消除了额外的偏差，我们使这些参数比以前的更可靠。但这仍然意味着，通过使用这些参数，你可能会在未来 30 天内获得正投资回报，也可能不会。重要的是要注意，通过增加模拟的持续时间，比如说 90 天，并不总是能证明你的策略在未来是有利可图的。有些策略从长期来看可能表现糟糕，但从短期来看可能是有利可图的。这就是为什么有一个对烛台间隔大小的偏见。在我们的例子中，这些是 1 小时，所以如果你选择 5 分钟，15 分钟，30 分钟或 1 天烛台，你的策略可能会完全不同。

# 指数移动平均线

EMA 处理简单 MA 中的滞后问题。EMA 的独特之处在于它优先考虑最近的价格，而不是以前的价格。由于这一特性，它通常被认为比 SMA 更好，但真的是这样吗？

# 单一均线

同样，下面是使用 EMA 时的一些最佳参数:

> 答:14，乙:16，
> 投资回报率:7。36860 . 68668686667
> 
> 甲:14，乙:19，
> 投资回报率:8。36860 . 68868888666
> 
> 甲:1，乙:29，
> 投资回报率:8。36860 . 68868888666
> 
> 甲:1，乙:28，
> 投资回报率:8。38860 . 68868888666
> 
> 甲:12，乙:17，
> 投资回报率:9。36680.68868888666

假设“A=12，B=17”，让我们再次放大图:

![](img/565f5b2ed2ba9a323a411f6e19fb93c7.png)

Zoomed-in to specific region on EMA strategy with A=12 and B=17

在我们的模拟中，EMA 的表现并不比 SMA 好。但这并不意味着它的表现更差。我们的实验太简单了，无法验证 SMA 比 EMA 更好还是更差。在任何情况下，都应该仔细分析这两种算法中的哪一种。

## 双均线(DEMA)

这个算法使用 EMA 两次，使数据更平滑，尖锐的峰变平。有些人声称他的比单一均线好，如果是这样，好多少？

> 甲:25，乙:29，
> 投资回报率:2。56680.68868688666
> 
> 甲:27，乙:29，
> 投资回报率:3。36860 . 68668686666
> 
> 甲:26，乙:29，
> 投资回报率:3。53660 . 68638686666
> 
> 甲:27，乙:28，
> 投资回报率:4。36860 . 68686868666
> 
> 甲:28，乙:29，
> 投资回报率:4。53660 . 68686868666

![](img/7aa6fd60aa7c26158022f2bc44af5c97.png)

Zoomed-in to specific region on Double EMA strategy with A=25 and B=28

鉴于我们有限的实验，双均线并不比单均线表现更好。但话说回来，我们没有足够的统计证据证明总体上是好是坏。

# 摘要

你可能意识到开发自动交易策略是一项复杂的任务，原因有几个。首先，仅仅依靠一种启发式方法或技术是不够的。第二，在一个市场有效的策略在另一个市场可能几乎无效——我在比较 BTC 兑美元和长期美元时意识到了这一点，因为我们的一些策略为长期美元带来了比 BTC 好得多的投资回报率，反之亦然。最后但同样重要的是，即使我们做了所有困难的分析，所以你不必做，仍然建议你做自己的功课，并始终对你在网上听到和读到的保持怀疑。

感谢您的阅读，请继续关注第 2 部分！:)
——伊利亚·内沃林

## 另外，阅读

*   最佳加密交易机器人
*   [德里比特审查](/coinmonks/deribit-review-options-fees-apis-and-testnet-2ca16c4bbdb2) |选项、费用、API 和测试网
*   [FTX 密码交易所评论](/coinmonks/ftx-crypto-exchange-review-53664ac1198f)
*   最好的比特币[硬件钱包](/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&sk=324dd9ff8556ab578d71e7ad7658ad7c)
*   [加密复制交易平台](/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c)
*   最好的[加密税务软件](/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b)
*   [最佳加密交易平台](/coinmonks/the-best-crypto-trading-platforms-in-2020-the-definitive-guide-updated-c72f8b874555)
*   最佳[加密贷款平台](/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa)
*   [莱杰 vs 特雷佐](/coinmonks/ledger-vs-trezor-best-hardware-wallet-to-secure-cryptocurrency-22c7a3fd391e)
*   一个轻松赚钱的加密交易机器人
*   [Quadency Review](/coinmonks/quadency-review-a-crypto-trading-automation-platform-3068eaa374e1) -为专业人士打造的加密交易机器人
*   [PrimeXBT 审查](/coinmonks/primexbt-review-88e0815be858) |杠杆交易、费用和交易
*   HaasOnline 评论享受九折优惠
*   Bitmex 的[保证金交易指南](/coinmonks/the-idiots-guide-to-margin-trading-on-bitmex-dbbd7742c6fc?source=friends_link&sk=7bfa99d2a181142510c8442c8ddb0786)
*   [eToro 评论](/coinmonks/etoro-review-78807ddeb33c) |交易股票、密码、交易所交易基金、差价合约和商品
*   [Bitmex 高级保证金交易指南](/coinmonks/bitmex-advanced-margin-trading-guide-2270c195ce25?source=friends_link&sk=1d986cca731f5084b9a2db4a4bc4a7ad)
*   [开发人员的最佳加密 API](/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f)
*   [加密套利](/coinmonks/crypto-arbitrage-guide-how-to-make-money-as-a-beginner-62bfe5c868f6)指南:新手如何赚钱
*   顶级[比特币节点](https://blog.coincodecap.com/bitcoin-node-solutions)提供商
*   最佳[加密制图工具](/coinmonks/what-are-the-best-charting-platforms-for-cryptocurrency-trading-85aade584d80)
*   了解比特币最好的[书籍有哪些？](/coinmonks/what-are-the-best-books-to-learn-bitcoin-409aeb9aff4b)