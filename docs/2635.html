<html>
<head>
<title>Caliper integration with Hyperledger fabric</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">厚度与Hyperledger织物的集成</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/caliper-integration-with-hyperledger-fabric-d2aa0df2f73f?source=collection_archive---------0-----------------------#2020-01-06">https://medium.com/coinmonks/caliper-integration-with-hyperledger-fabric-d2aa0df2f73f?source=collection_archive---------0-----------------------#2020-01-06</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="ec0a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">其</strong>性能基准框架，允许用户用预定义的用例测试不同的区块链解决方案，并得到一组性能测试结果。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/68c488e21f3f8c2187405874a29c11c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wm5dP6p7vCSQrOF-8D7hvA.png"/></div></div></figure><p id="94a2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它支持不同区块链解决方案。<br/> <a class="ae ka" href="https://github.com/hyperledger/fabric" rel="noopener ugc nofollow" target="_blank">总账面料v1。X </a></p><ul class=""><li id="333c" class="kb kc ht is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj dt translated"><a class="ae ka" href="https://github.com/hyperledger/sawtooth-core" rel="noopener ugc nofollow" target="_blank">超账锯齿1.0+ </a></li><li id="25ab" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><a class="ae ka" href="https://github.com/hyperledger/iroha" rel="noopener ugc nofollow" target="_blank">Hyperledger Iroha 1.0 beta-3</a></li><li id="8068" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><a class="ae ka" href="https://github.com/hyperledger/burrow" rel="noopener ugc nofollow" target="_blank">总账钻地1.0 </a></li><li id="1224" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><a class="ae ka" href="https://github.com/ethereum/go-ethereum" rel="noopener ugc nofollow" target="_blank">以太坊</a></li><li id="dd0b" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><a class="ae ka" href="https://github.com/hyperledger/besu" rel="noopener ugc nofollow" target="_blank"> Hyperledger Besu </a>，利用以太坊适配器。</li><li id="9dec" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">FISCO·BCOS</li></ul><blockquote class="kp"><p id="ce8f" class="kq kr ht bd ks kt ku kv kw kx ky jn ek translated"><a class="ae ka" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><p id="a24a" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">Youtube视频系列:<br/>第1部分:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="le lf l"/></div></figure><p id="d780" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第二部分:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="le lf l"/></div></figure><p id="703e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第三部分:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="le lf l"/></div></figure><p id="91b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第四部分:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="le lf l"/></div></figure><p id="2ff6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在性能基准结束时，它给出了下面的性能指标<br/>成功率</p><ul class=""><li id="0ad7" class="kb kc ht is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj dt translated">事务/读取吞吐量</li><li id="f390" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">事务/读取延迟(最小、最大、平均)</li><li id="453e" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">资源消耗(CPU、内存、网络IO等)</li></ul><p id="94a4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">绩效指标</strong></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff lg"><img src="../Images/f985b07316c03ef27bcce71662f13cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtW0KEXggNBeFtGF87k5qw.png"/></div></div></figure><p id="f682" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">每个集装箱的资源消耗</strong></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff lh"><img src="../Images/3f916d2ceb034762b156193899b7cf82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXFMS_e--oFZUMHLEon7cw.png"/></div></div></figure><p id="7cce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们从caliper与Hyperledger fabric的集成开始。</p><p id="eba0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">克隆回购从<a class="ae ka" href="https://github.com/hyperledger/caliper-benchmarks" rel="noopener ugc nofollow" target="_blank">这里</a>，转到路径</p><p id="9a7b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh li lj lk ll b">cd caliper-benchmarks</code></p><pre class="jp jq jr js fq lm ll ln lo aw lp dt"><span id="c1f2" class="lq lr ht ll b fv ls lt l lu lv">npm i <strong class="ll hu">&amp;&amp;</strong> npm run repoclean -- --yes <strong class="ll hu">&amp;&amp;</strong> npm run bootstrap</span></pre><p id="58d3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了运行基准测试，我们必须遵循某些步骤</p><p id="5d0d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">第一步:</strong></p><h1 id="3105" class="lw lr ht bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms dt translated">卡尺CLI</h1><p id="7d25" class="pw-post-body-paragraph iq ir ht is b it mt iv iw ix mu iz ja jb mv jd je jf mw jh ji jj mx jl jm jn hm dt translated">Caliper发布为<a class="ae ka" href="https://www.npmjs.com/package/@hyperledger/caliper-cli" rel="noopener ugc nofollow" target="_blank">@ hyperledger/caliper-cli</a>NPM包和<a class="ae ka" href="https://hub.docker.com/r/hyperledger/caliper" rel="noopener ugc nofollow" target="_blank">hyperledger/caliper</a>Docker映像，两者都包含CLI二进制文件。</p><p id="f508" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">安装制动钳CLI</p><h1 id="8a22" class="lw lr ht bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms dt translated">全球NPM安装</h1><p id="d834" class="pw-post-body-paragraph iq ir ht is b it mt iv iw ix mu iz ja jb mv jd je jf mw jh ji jj mx jl jm jn hm dt translated"><strong class="is hu"> <em class="my">注意:</em> </strong> <em class="my">确保你有一个真正好的理由在全球范围内安装卡尺CLI。推荐的方法是本地安装。这样，您的项目是自包含的，您可以轻松地设置多个项目(在多个目录中)，每个项目针对不同的SUT(或者只是不同的SUT版本)。全局安装或重新绑定依赖项可能会变得棘手。</em></p><p id="4d23" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">与本地安装相比，有一些细微的区别:</p><ol class=""><li id="1f9c" class="kb kc ht is b it iu ix iy jb kd jf ke jj kf jn mz kh ki kj dt translated">你不需要一个<code class="eh li lj lk ll b">package.json</code>文件。</li><li id="2725" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn mz kh ki kj dt translated">您可以从任何地方执行安装、绑定和运行步骤(只需相应地指定工作区)。</li><li id="36b2" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn mz kh ki kj dt translated">您需要全局安装CLI(<code class="eh li lj lk ll b">-g</code>标志)。</li><li id="4c5b" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn mz kh ki kj dt translated">你需要告诉绑定步骤来全局安装软件包(<code class="eh li lj lk ll b">--caliper-bind-args</code>参数)。</li><li id="fb18" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn mz kh ki kj dt translated">您可以省略<code class="eh li lj lk ll b">npx</code>命令，因为<code class="eh li lj lk ll b">caliper</code>将在您的<code class="eh li lj lk ll b">PATH</code>中。</li></ol><pre class="jp jq jr js fq lm ll ln lo aw lp dt"><span id="9be4" class="lq lr ht ll b fv ls lt l lu lv">user@ubuntu:~$ npm install -g --only<strong class="ll hu">=</strong>prod @hyperledger/caliper-cli</span><span id="3165" class="lq lr ht ll b fv na lt l lu lv">user@ubuntu:~$ caliper bind --caliper-bind-sut fabric --caliper-bind-sdk 1.4.0 --caliper-bind-args<strong class="ll hu">=</strong>-g</span></pre><p id="7e40" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们需要理解上面的三个命令。</p><p id="451e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第一个用于全局安装caliper-CLI，您也可以选择本地安装。</p><h1 id="6c10" class="lw lr ht bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms dt translated">bind命令</h1><p id="c0a3" class="pw-post-body-paragraph iq ir ht is b it mt iv iw ix mu iz ja jb mv jd je jf mw jh ji jj mx jl jm jn hm dt translated">从技术上讲，绑定步骤包括一个额外的<code class="eh li lj lk ll b">npm install</code>调用，调用适当的包和安装设置，完全由CLI管理。可以为该命令设置以下参数:</p><ul class=""><li id="909f" class="kb kc ht is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj dt translated"><strong class="is hu">SUT/平台名称:</strong>指定目标平台的名称，例如<code class="eh li lj lk ll b">fabric</code></li><li id="bb10" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><strong class="is hu"> SDK版本:</strong>指定为SUT安装的SDK版本，例如<code class="eh li lj lk ll b">1.4.0</code></li><li id="be7f" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><strong class="is hu">工作目录:</strong>必须执行<code class="eh li lj lk ll b">npm install</code>命令的目录。默认为当前工作目录</li><li id="55c5" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><strong class="is hu">用户参数:</strong>要传递给<code class="eh li lj lk ll b">npm install</code>的附加参数，例如<code class="eh li lj lk ll b">--save</code></li></ul><p id="5a4d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这个命令caliper绑定特定的SUT(被测系统)和所选SUT的SDK。这里我们讨论的是你可以相应选择的Fabric和版本。卡尺支持不同的SUT如下。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nb"><img src="../Images/e3f5cb3d245f64df4a9122115f49bd05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9Kz_f01FGY4IrNzxk7wmw.png"/></div></div></figure><h1 id="f447" class="lw lr ht bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms dt translated">基准命令</h1><p id="bf9d" class="pw-post-body-paragraph iq ir ht is b it mt iv iw ix mu iz ja jb mv jd je jf mw jh ji jj mx jl jm jn hm dt translated">该命令要求设置以下参数:</p><ul class=""><li id="3e4d" class="kb kc ht is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj dt translated"><strong class="is hu">工作空间:</strong>作为项目根目录的目录。其他配置文件或设置中的每个相对路径都将从此目录中解析。引入工作空间的概念是为了使Caliper项目可以跨不同的机器移植。</li><li id="9e65" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><strong class="is hu">基准配置文件:</strong>包含测试回合配置的文件路径，详见<a class="ae ka" href="https://hyperledger.github.io/caliper/vLatest/architecture/#configuration-file" rel="noopener ugc nofollow" target="_blank">架构页面</a>。<em class="my">应该相对于</em>工作空间路径。</li><li id="f0fe" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated"><strong class="is hu">网络配置文件:</strong>包含所选SUT的网络配置/描述的文件路径，在各个适配器的配置页面中有详细说明。<em class="my">应该相对于</em>工作空间路径。</li></ul><p id="3f1a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后，运行下面的命令来启动基准测试。</p><pre class="jp jq jr js fq lm ll ln lo aw lp dt"><span id="afca" class="lq lr ht ll b fv ls lt l lu lv">user@ubuntu:~$ caliper benchmark run --caliper-workspace ~/caliper-benchmarks --caliper-benchconfig benchmarks/scenario/simple/config.yaml --caliper-networkconfig networks/fabric/fabric-v1.4.1/2org1peergoleveldb/fabric-go.yaml</span></pre><p id="72f3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">基准测试完成后，您可以看到报告显示为<code class="eh li lj lk ll b">report.html</code></p><p id="0a38" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以从这里<a class="ae ka" href="https://drive.google.com/open?id=1bHecgojxeOK2E-CaOKuya22h3-FJIYLr" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">这里</strong> </a> <strong class="is hu"> </strong>下载报表样本，并在浏览器中打开。</p><p id="3242" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们将迪普挖掘到卡尺库中</p><h2 id="fcf2" class="lq lr ht bd lx nc nd ne mb nf ng nh mf jb ni nj mj jf nk nl mn jj nm nn mr no dt translated"><strong class="ak">基准配置文件</strong></h2><p id="be49" class="pw-post-body-paragraph iq ir ht is b it mt iv iw ix mu iz ja jb mv jd je jf mw jh ji jj mx jl jm jn hm dt translated">在上面的命令中，我们使用工作台配置作为<code class="eh li lj lk ll b"> --caliper-benchconfig benchmarks/scenario/simple/config.yaml</code></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff np"><img src="../Images/63513214ee85afdef8f52630baabcc07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXDEddLcRx2U1XNb7OtvoA.png"/></div></div></figure><p id="4031" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这个配置文件包含不同的轮次和相对回调，我们将讨论第一轮次。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nq"><img src="../Images/f4dee74b811f1b5a5a88171b968311ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FjGNOWx8PAuHMgsZXufrHA.png"/></div></div></figure><p id="f22a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这一轮中，我们以50 tps的速率发送总共100个交易，这里我们传递的是钱:100000作为一个参数，我会让你知道我们在哪里使用这个参数。我们可以看到open.js是一个回调函数，我们来研究一下。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nr"><img src="../Images/5529782f5b08aa4eb8e32b87865872d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3JxWrcpSy4KG1ZH3RFUFiA.png"/></div></div></figure><p id="254c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">忘记其他事情，这个文件包含创建样本数据和调用智能契约方法的逻辑。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ns"><img src="../Images/35179cd52321b8c6f8e55543d510ffad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NGyYJzpXXpv3AP2JzbZ98w.png"/></div></div></figure><p id="969e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在同一个文件open.js中，在顶部有另一个可用的方法(<code class="eh li lj lk ll b">init</code>)，我们在这里得到从<code class="eh li lj lk ll b">config.yaml</code>传递过来的参数。对于其他回合，也有一些特定的文件，如<code class="eh li lj lk ll b">query.js</code>、<code class="eh li lj lk ll b">transfer.js</code></p><p id="5010" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">网络配置文件</strong></p><p id="ed1b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在caliper run benchmark命令中，我们使用网络配置作为<code class="eh li lj lk ll b"> --caliper-networkconfig networks/fabric/fabric-v1.4.1/2org1peergoleveldb/fabric-go.yaml</code></p><p id="ad55" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">路径network/fabric/我们有以下多个文件夹。我们必须根据我们的面料配置进行选择。让我们假设我们在谈论fabric-v1.4.1。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff nt"><img src="../Images/51ceb06c92d08ff5ecafe828dd3132cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*bkg9Gq-_dLiw_zvD5uVVPw.png"/></div></figure><p id="3b51" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们在这个文件夹中有多个配置文件，如</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff nu"><img src="../Images/dd9ddd7923cbafb82e86e355939df859.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*bvA183BJBedux8R1WKhVSw.png"/></div></figure><p id="ccd9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们考虑一下<code class="eh li lj lk ll b">2org1eercouchdb_raft</code>，里面有如下几种不同的配置。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff nv"><img src="../Images/0b91f5758a08a5b01351fe63c87400bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*GJc8jCYJXvll7Vem6dmSgg.png"/></div></figure><p id="ff59" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">此配置文件包含以下配置</p><ul class=""><li id="98ba" class="kb kc ht is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj dt translated">两个组织各有一个同级</li><li id="7fb2" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">状态数据库为CouchDB</li><li id="4cc6" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">作为RAFT订购服务</li><li id="bdd7" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">我们有不同的选项来选择订购服务，如单人木筏订购或多人木筏订购。</li><li id="23b1" class="kb kc ht is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj dt translated">同样，我们可以选择不同的链码语言，即go或node。</li></ul><p id="3630" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以通过选择不同的配置来测试不同概要文件的基准。</p><p id="791e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们在路径<code class="eh li lj lk ll b">networks/fabric/fabric-v1.4.1/2org1peercouchdb_raft/</code>处可用的轮廓<code class="eh li lj lk ll b">fabric-go-tls-solo.yaml</code>内挖掘铲斗</p><p id="3217" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">参见文件的第一部分<code class="eh li lj lk ll b">fabric-go-tls-solo.yaml</code></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nw"><img src="../Images/93c384e7de0fda38577cafb69ff44997.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZNuVC88sXgqNbncD0ppCdA.png"/></div></div></figure><p id="d852" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它有名称、版本、交互tls和caliper，重要的是在caliper对象中，有两个imp命令，如<code class="eh li lj lk ll b">start and end</code>。如果你还没有运行网络，这个<code class="eh li lj lk ll b">start</code>命令会根据提供的docker-compose文件创建一个网络，这个docker-compose文件会根据选择的配置文件进行所有的配置。一旦基准测试完成，<code class="eh li lj lk ll b">end</code>命令关闭结构网络并移除不必要的容器活动链代码容器。</p><p id="e840" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一部分是网络信息和客户信息。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nx"><img src="../Images/6ea019342c4ede8e337cc5af86a85459.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VR9ryMCEkyf6nzAZxcWV6g.png"/></div></div></figure><p id="483d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它具有关于网络的一般信息和客户端(用户)的信息。请确保您为<code class="eh li lj lk ll b">clientPrivateKey</code>和<code class="eh li lj lk ll b">clientSignedCert</code>提供了正确的路径。我们可以在这里指定多个客户端。</p><p id="aa8d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一部分是如下的通道。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ny"><img src="../Images/b77ec2729992e76837107af9b97fe0dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5tVama4mpV2uJ8LxFVdfgw.png"/></div></div></figure><p id="87e7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如上提供必要的参数，我们可以指定多个链码来安装和实例化。</p><p id="41c6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一个对象是组织:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff nz"><img src="../Images/82503d0c24079e3e336c65636982a706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pYoaGZZdMqnupYc_SzAgw.png"/></div></div></figure><p id="c281" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">确保您为每个组织指定了正确的<code class="eh li lj lk ll b">peers</code>、<code class="eh li lj lk ll b">certificateAuthorities</code>、<code class="eh li lj lk ll b">adminPrivateKey</code>和<code class="eh li lj lk ll b">signedCert</code></p><p id="a962" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后一部分是订购者、对等者和CA</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff oa"><img src="../Images/821a605ebf27af9dcd701a98f364698d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEzsSDY_JOvXjXGybrrVeA.png"/></div></div></figure><p id="fc5c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">请为CA提供正确的<code class="eh li lj lk ll b">peer</code>、<code class="eh li lj lk ll b">url</code>、<code class="eh li lj lk ll b">tlsCACerts</code>和其他必要的东西，如上图所示。</p><p id="9bbc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">到此为止，我们已经介绍了运行fabric基准测试所需的所有文件，您可以使用不同的配置文件和不同的配置进行测试。</p><blockquote class="ob oc od"><p id="7421" class="iq ir my is b it iu iv iw ix iy iz ja oe jc jd je of jg jh ji og jk jl jm jn hm dt translated">注意:如果你已经有光纤网络，不要运行开始和结束命令，你可以注释它。如果已经创建了通道注释<code class="eh li lj lk ll b">configBinary</code>和<code class="eh li lj lk ll b">created: true</code>，如果已经实例化了，就不需要提及链码，可以随意进行必要的修改。</p></blockquote><p id="7e62" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你有任何困难，请在评论区告诉我，我会尽力解决。</p><blockquote class="kp"><p id="9199" class="kq kr ht bd ks kt oh oi oj ok ol jn ek translated"><a class="ae ka" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="on oo op oq or jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff om"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>