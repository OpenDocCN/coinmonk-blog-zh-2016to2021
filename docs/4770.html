<html>
<head>
<title>Building Modern Web Dapp with Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Flutter构建现代Web Dapp</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/building-modern-web-dapp-with-flutter-91656c71d8b?source=collection_archive---------0-----------------------#2021-06-16">https://medium.com/coinmonks/building-modern-web-dapp-with-flutter-91656c71d8b?source=collection_archive---------0-----------------------#2021-06-16</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="3c18" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">不再有反应！再也没有JS了！(jk)我们现在是在颤振时代！</h2></div><h1 id="c4ef" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">介绍</h1><p id="a21b" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">今天我将向你展示如何用Flutter构建一个现代的web Dapp！</p><p id="2bb4" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">我们将使用<a class="ae lb" href="https://github.com/y-pakorn/flutter_web3" rel="noopener ugc nofollow" target="_blank"> flutter_web3 </a>包与以太坊对象交互，连接Metamask、Wallet Connect和其他提供者。</p><p id="ae5a" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">这个包还包括其他连接到Ethers Js和Wallet Connect等提供商的实用工具。</p><p id="a855" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">别说了，让我们开始吧！</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h1 id="427a" class="ji jj ht bd jk jl lj jn jo jp lk jr js iz ll ja ju jc lm jd jw jf ln jg jy jz dt translated">安装</h1><p id="df13" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">首先，创建一个颤振项目。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="dd74" class="lx jj ht lt b fv ly lz l ma mb">flutter create coolassname</span></pre><p id="74a1" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">并在<code class="eh mc md me lt b">pubspec.yaml</code>中添加一些包。这次我将使用<a class="ae lb" href="https://pub.dev/packages/get" rel="noopener ugc nofollow" target="_blank"> Getx </a>进行简单的状态管理，使用<a class="ae lb" href="https://pub.dev/packages/niku" rel="noopener ugc nofollow" target="_blank"> Niku </a>进行酷属性构建，使用我们的包<a class="ae lb" href="https://github.com/y-pakorn/flutter_web3" rel="noopener ugc nofollow" target="_blank"> flutter_web3 </a>。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="2567" class="lx jj ht lt b fv ly lz l ma mb">dependencies:<br/>  flutter:<br/>    sdk: flutter</span><span id="9a39" class="lx jj ht lt b fv mf lz l ma mb">  flutter_web3:<br/>  niku:<br/>  get:</span></pre><p id="750f" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">开始舞动</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="39b7" class="lx jj ht lt b fv ly lz l ma mb">flutter run -d web-server</span></pre><p id="cda0" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">因为像Metamask这样的扩展无法在Chrome调试浏览器(sad)中使用。</p><blockquote class="mg mh mi"><p id="435c" class="ka kb mj kc b kd kw iu kf kg kx ix ki mk ky kl km ml kz kp kq mm la kt ku kv hm dt translated">请记住，Flutter web服务器没有自动刷新页面的热重启功能，在CLI中刷新后，您需要再次手动刷新浏览器。</p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h1 id="513b" class="ji jj ht bd jk jl lj jn jo jp lk jr js iz ll ja ju jc lm jd jw jf ln jg jy jz dt translated"><strong class="ak">建立网站</strong></h1><h2 id="1adf" class="lx jj ht bd jk mn mo mp jo mq mr ms js kj mt mu ju kn mv mw jw kr mx my jy mz dt translated">规划功能</h2><p id="f77a" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">我们今天的主题是</p><ul class=""><li id="ae44" class="na nb ht kc b kd kw kg kx kj nc kn nd kr ne kv nf ng nh ni dt translated">像<code class="eh mc md me lt b">requestAccount</code>一样使用以太坊对象及其方法。</li><li id="436c" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">使用Ethers js与智能合约交互。</li><li id="d737" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">使用默认的合同商20构建具有合同商20标准的合同。</li></ul><p id="c761" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">请注意，这些并不是软件包的全部功能；请务必查看所有API和特性的文档。</p><p id="dbdb" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">因此，为了简单起见，我们将尝试制作Pancake交换交互器。</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="7e47" class="lx jj ht bd jk mn mo mp jo mq mr ms js kj mt mu ju kn mv mw jw kr mx my jy mz dt translated">连接到帐户</h2><p id="4b5e" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">我们首先定义网站的基本结构。然后我们将在那之后工作在web3部分。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div class="fe ff no"><img src="../Images/a9affdf6cd6ec4689aa09c2e933f34dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*eX-Bz7UbuHGD7rlefIOwYQ.png"/></div></figure><p id="6d90" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">定义一些扩展，让生活更轻松。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div class="fe ff ns"><img src="../Images/a318d58308f9ec2ab9bf0f2fc0884ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*92skH1gCqqjJgHNHZoKvxg.png"/></div></figure><p id="2014" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">对于Web3部分，我们将把它放在<code class="eh mc md me lt b">HomeController</code>。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff nt"><img src="../Images/1f90f64f4561a5d0867d95c46099e26f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*adbODraBtizsOfb5gysSIA.png"/></div></div></figure><p id="33be" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">为了便于解释，我们一行一行来。</p><ul class=""><li id="81d8" class="na nb ht kc b kd kw kg kx kj nc kn nd kr ne kv nf ng nh ni dt translated">第2行，检查我们是否可以访问以太坊对象获取器。从下面的实现来看，如果浏览器没有任何可用的提供者，以太网对象可以是<code class="eh mc md me lt b">null</code>。即Metamask、Wallet Connect、币安链钱包等。</li></ul><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff ny"><img src="../Images/479ceec18fb8d636aa54bfe4293e9977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0mDdCxP2K2yzGaFyDPM25g.png"/></div></div></figure><ul class=""><li id="1d91" class="na nb ht kc b kd kw kg kx kj nc kn nd kr ne kv nf ng nh ni dt translated">第4行，检查当前连接的链是否是币安智能链(链id 56)。</li><li id="3dc7" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第6行，全面检查与网站的连接。<code class="eh mc md me lt b">ethereum.isConnected()</code>仅用于提供者可用性，因此我们必须从节点公开的地址进行检查。</li><li id="b0f5" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第9行和第11行存储状态变量。</li><li id="d4ee" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第15行，连接到提供者并更新<code class="eh mc md me lt b">currentAddress</code>和<code class="eh mc md me lt b">currentChain</code>。通过使用<code class="eh mc md me lt b">ethereum.requestAccount</code>,我们可以提示提供商与网站建立连接。(即元掩码模式)返回地址列表，该列表中的第一个地址是将被使用的当前地址。如果用户拒绝模态，一定要处理错误(在这种情况下，我不拒绝，这是我不应该做的。)并使用<code class="eh mc md me lt b">ethereum.getChainId</code>更新<code class="eh mc md me lt b">currentChain</code></li><li id="be08" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第26行，处理<code class="eh mc md me lt b">accountChanged</code>和<code class="eh mc md me lt b">chainChanged</code>事件。每当用户改变他的帐户或链时，它将调用<code class="eh mc md me lt b">clear</code>并更新上面的变量。</li></ul><p id="eee2" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">然后我们可以构建一个超级简单的UI来显示我们是否连接。如果没有，请单击“连接”按钮，提示提供商进行连接。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div class="fe ff nz"><img src="../Images/17843eca28679e33781e38c2d3a086e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*cEJ0J0eC6vF4cKNNqG6dMg.png"/></div></figure><p id="728a" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">所以我们完成了帐户连接部分。我在这里只展示粗糙的UI实现，你们可以把它做得尽可能好。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff oa"><img src="../Images/0fc0c8b7bd5280fe2b52e2ca2b8043d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6-gO6EPIWsi8-oFXf5QQQg.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Connect Button</figcaption></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff of"><img src="../Images/7f278d51f6113168154d9ffa2955f02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P_YvcMGvaEayUdww6yddsQ.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Connecting to the provider</figcaption></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff og"><img src="../Images/d65bb4376c74fd7d2a2d9231355b9850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGoH-K06RxdwXzC8ty5R0w.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Connected</figcaption></figure></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="e9f9" class="lx jj ht bd jk mn mo mp jo mq mr ms js kj mt mu ju kn mv mw jw kr mx my jy mz dt translated">连接到Ethers js提供程序</h2><p id="2694" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">Ethers js有很多提供者，其中两个是<code class="eh mc md me lt b">Web3Provider</code>和<code class="eh mc md me lt b">JsonRPCProvider</code>。</p><p id="563a" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">两者都可以用来从区块链读取数据，Web3Provider通过将以太坊提供者放入构造函数来实例化。JsonRPCProvider通过将RPC Url放入构造函数来实例化。</p><p id="5fdf" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">为了简单起见，我们可以通过使用默认的提供者getter来连接并获取Web3。实现如下。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff oh"><img src="../Images/197925abf74e011934a8b52a963f92a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rur744Wa3m7ihtib7wJ7DA.png"/></div></div></figure><h2 id="e37e" class="lx jj ht bd jk mn mo mp jo mq mr ms js kj mt mu ju kn mv mw jw kr mx my jy mz dt translated">与合同交互</h2><p id="0232" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">我们将此分为两个部分，与蛋糕令牌合同交互和与Masterchef合同交互。</p><p id="4012" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">对于蛋糕令牌契约，我们将使用<code class="eh mc md me lt b">ContractERC20</code>。</p><p id="9f08" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">对于Masterchef合同，我们将使用普通醚<code class="eh mc md me lt b">Contract</code>并指定我们自己的ABI。</p><h2 id="42c6" class="lx jj ht bd jk mn mo mp jo mq mr ms js kj mt mu ju kn mv mw jw kr mx my jy mz dt translated">蛋糕代币合同</h2><p id="5b7e" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">超级简单！只需用令牌地址实例化ContractERC20类。</p><p id="489b" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">我们还将添加一个结束函数，它可以烧掉你1 gwei的蛋糕！辣！</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff oi"><img src="../Images/a9d43517554cb0d1e8f54d61c0770f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iAUC4FYGfmLmmPBn8biy-A.png"/></div></div></figure><p id="49fc" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">我们将在这里一行一行地重复。</p><ul class=""><li id="fdd7" class="na nb ht kc b kd kw kg kx kj nc kn nd kr ne kv nf ng nh ni dt translated">第3，5行存储了关于蛋糕令牌和令牌余额的变量。</li><li id="d11a" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第7行，如果为空，实例化<code class="eh mc md me lt b">cakeToken</code>对象。并从<code class="eh mc md me lt b">balanceOf</code>函数中获取我们的蛋糕余额。</li><li id="daf8" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第15行，从口袋里掏出1 gwei的蛋糕。先检查一下你的余额是不是超过1 gwei(所以你有足够的烧完，还有剩余，哈哈！)然后把你的蛋糕调入<code class="eh mc md me lt b">addressZero</code>，或者0x0。然后再次更新你的蛋糕余额。</li></ul><p id="b0b7" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">要为我们的契约构建UI，我们首先需要确保以太坊对象不为空，然后正常地构建它。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div class="fe ff oj"><img src="../Images/6499bc153245283313c1aafcc28a649f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*otc-eRY2kdsiEuzNXeonSA.png"/></div></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff ok"><img src="../Images/01489d696228c5139bca1c3e8f69fe9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PY3pe6nznnUKdW-thoXZnw.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Fetch cake and burn cake button</figcaption></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff ol"><img src="../Images/3129e8961c93dccbfa1c463ec619f5bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e77J5UIVtV8ymyBvZhmmsg.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">After fetching Cake</figcaption></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff om"><img src="../Images/4b4416c8354849fb7c29936f20abe9c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQpf_xmzTDCTrqM9lB6krw.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Burning 1 gwei of Cake</figcaption></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff on"><img src="../Images/c4d0e6c7612dfd9bd4180975df36b775.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gEAHNA_bbCh-pMdzMHDZDQ.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Burned</figcaption></figure><h2 id="926e" class="lx jj ht bd jk mn mo mp jo mq mr ms js kj mt mu ju kn mv mw jw kr mx my jy mz dt translated"><strong class="ak">主厨</strong>合同<strong class="ak">合同</strong></h2><p id="af39" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">因为我们需要创建自己的契约实例，所以我们还需要契约的abi。我们可以在你选择的block explorer中查找。</p><p id="9e0c" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">我们可以使用<a class="ae lb" href="https://bscscan.com/address/0x73feaa1ee314f8c655e354234017be2193c9e24e#code" rel="noopener ugc nofollow" target="_blank"> BscScan </a>查看合同的代码。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff oo"><img src="../Images/980a9531b4a7ae9ffc8aa952102a1981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbL7_HORR61uDA7Qfig8fA.png"/></div></div></figure><p id="87b2" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">我们将选择一些属性、常量函数和写函数作为我们的例子。</p><p id="a27b" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">首先，我们需要获得abi。有关abi规格和类型，请参考<a class="ae lb" href="https://docs.ethers.io/v5/api/utils/abi/formats/" rel="noopener ugc nofollow" target="_blank"> Ethers js文档</a>。</p><p id="7170" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">为了简单起见，我们将在这里使用最小的人类可读abi，您也可以使用从solidity生成的JSON abi，并将其粘贴到这里。</p><p id="0426" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">所以参考文件我们的abi是。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff op"><img src="../Images/e2db040e9965edd1e5c668b1c59486b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*eWOvT3k2dUmHqRmuNbGQtw.png"/></div></div></figure><p id="8727" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">然后我们可以创建我们的契约并调用那个函数。请注意，solidity中所有返回类型为<code class="eh mc md me lt b">uint</code>的函数实际上都是Dart中的<code class="eh mc md me lt b">BigInt</code>。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff oq"><img src="../Images/eebd4beb55fac6479241eb469a6ea899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OsoUeDKeF_RP7vLBV4jUfg.png"/></div></div></figure><p id="8151" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">为了解释，</p><ul class=""><li id="4c9e" class="na nb ht kc b kd kw kg kx kj nc kn nd kr ne kv nf ng nh ni dt translated">第16行，如果为空，则创建Masterchef合同，并获得带注释类型<code class="eh mc md me lt b">BigInt</code>的<code class="eh mc md me lt b">cakePerBlock</code>和<code class="eh mc md me lt b">poolLength</code>。</li><li id="9fc4" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated">第24行，调用<code class="eh mc md me lt b">emergencyWithdraw</code>，用<code class="eh mc md me lt b">0</code>表示池号作为参数。</li></ul><p id="52cc" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">之后，我们继续构建我们的UI。</p><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff nt"><img src="../Images/4cb506845eac58835c2cd2aff992dd9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*muejP7qBltnc1Gy-nUnVgA.png"/></div></div></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff or"><img src="../Images/a812338869ca922cc964b6475bb486ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cu_eH-qoEniSspRxzs2lDw.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">Fetch information button</figcaption></figure><figure class="lo lp lq lr fq np fe ff paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="fe ff os"><img src="../Images/2041b7338d36a285487400a1dc191282.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QQ-3yWLM8OSInSM0L3sSdg.png"/></div></div><figcaption class="ob oc fg fe ff od oe bd b be z ek">After fetching information</figcaption></figure></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h1 id="a777" class="ji jj ht bd jk jl lj jn jo jp lk jr js iz ll ja ju jc lm jd jw jf ln jg jy jz dt translated">结论</h1><p id="dc3b" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">虽然开发Dapp的Flutter生态系统是前所未见的。但是通过Dart2js和许多涌现出来的用于增强加密和web3效用的Flutter包，这使得Flutter成为未来Dapp开发的有力竞争者。</p><p id="96ff" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">我展示的简单例子已经证明了Flutter确实有潜力使用Dart的广泛功能开发复杂的Dapp。</p><p id="d45b" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">你可以在这里找到这个例子<a class="ae lb" href="https://gist.github.com/y-pakorn/76e0defd1f3cd7861c64c813760ef5d1" rel="noopener ugc nofollow" target="_blank">的源代码。</a></p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><blockquote class="ot"><p id="997a" class="ou ov ht bd ow ox oy oz pa pb pc kv ek translated">加入<a class="ae lb" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> Coinmonks电报频道</a>了解加密交易和投资</p></blockquote><h2 id="7402" class="lx jj ht bd jk mn pd mp jo mq pe ms js kj pf mu ju kn pg mw jw kr ph my jy mz dt translated">另外，阅读</h2><ul class=""><li id="3658" class="na nb ht kc b kd ke kg kh kj pi kn pj kr pk kv nf ng nh ni dt translated"><a class="ae lb" rel="noopener" href="/coinmonks/youhodler-vs-coinloan-vs-hodlnaut-b1050acde55a">尤霍德勒vs科恩洛vs霍德诺特</a></li><li id="a486" class="na nb ht kc b kd nj kg nk kj nl kn nm kr nn kv nf ng nh ni dt translated"><a class="ae lb" href="https://blog.coincodecap.com/pionex-dca-bot" rel="noopener ugc nofollow" target="_blank">美元成本平均交易机器人</a></li></ul></div></div>    
</body>
</html>