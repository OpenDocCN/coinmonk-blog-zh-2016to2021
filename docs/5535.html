<html>
<head>
<title>Rock, Paper, Scissors in Solidity | Part 2 | Web3 and the Browser</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安全中的石头、剪子、布|第二部分| Web3和浏览器</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/rock-paper-scissors-in-solidity-part-2-web3-and-the-browser-79df179e8cd?source=collection_archive---------4-----------------------#2021-09-29">https://medium.com/coinmonks/rock-paper-scissors-in-solidity-part-2-web3-and-the-browser-79df179e8cd?source=collection_archive---------4-----------------------#2021-09-29</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/c9d919f6117bb04faf735bf3385278c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WpRW7sbYCUudiReZ"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/@hiteshchoudhary?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hitesh Choudhary</a> on <a class="ae jf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d705" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在<a class="ae jf" rel="noopener" href="/@websculpt/rock-paper-scissors-in-solidity-part-1-9d7c5d8a316e">之前的帖子</a>中，我们测试了混音版的石头剪子布合约。在remix中，我们有按钮来运行合同的功能…现在我将演示如何在浏览器中做到这一点。</p><p id="9466" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为此，我们需要一个本地的区块链。看看<a class="ae jf" href="https://www.trufflesuite.com/ganache" rel="noopener ugc nofollow" target="_blank">松露组曲</a>。</p><p id="1a99" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了准确地跟踪这个项目，你需要node、react、truffle、ganache和web3-react。要了解更多信息，您可以查看live app 上的<a class="ae jf" href="https://nervous-tereshkova-aa8032.netlify.app/" rel="noopener ugc nofollow" target="_blank">构建笔记。</a></p><p id="80b0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在我们部署到一个测试网并允许两个玩家互相对战之前——让我们让我们的合同在本地生效。请记住，它并不完美——它只是展示了一个玩家违反合同的例子(就像<em class="ke">玩家对电脑</em>的场景)。</p><h1 id="8893" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">使用块菌和加纳切</strong></h1><p id="ea03" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated"><a class="ae jf" href="https://www.trufflesuite.com/docs/ganache/overview" rel="noopener ugc nofollow" target="_blank"> Ganache </a>是个人(本地)区块链，<a class="ae jf" href="https://www.trufflesuite.com/docs/truffle/overview" rel="noopener ugc nofollow" target="_blank">松露</a>是开发环境。</p><p id="7c29" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">您将在终端(或cmd)中使用Truffle来部署您的合同，Ganache将提供一种查看帐户的简单方法。</p><p id="ccbb" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">要将区块链开发的必需品添加到React应用程序中，请转到终端并运行:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="dc1f" class="lr kg ht ln b fv ls lt l lu lv">truffle init</span></pre><p id="c115" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">你会得到<em class="ke"> truffle-config.js </em>文件和3个文件夹:<em class="ke">合同</em>、<em class="ke">迁移</em>和<em class="ke">测试</em>。</p><p id="d8e6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">进入truffle-config文件并更改编译器版本——我的版本是<code class="eh lw lx ly ln b">0.8.7</code></p><p id="a87f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">转到终端并运行:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="79b6" class="lr kg ht ln b fv ls lt l lu lv">truffle compile</span></pre><p id="6325" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lw lx ly ln b">truffle compile</code>是检查编译错误的方法。</p><p id="b93f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们将使用OpenZeppelin(现在使用一点，以后会大量使用)，所以让我们通过运行以下命令来添加这些合同:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="9ab9" class="lr kg ht ln b fv ls lt l lu lv">npm install <a class="ae jf" href="http://twitter.com/openzeppelin/contracts" rel="noopener ugc nofollow" target="_blank">@openzeppelin/contracts</a></span></pre><p id="e380" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">你可以在<em class="ke"> node_modules </em>中找到OpenZeppelin文件。</p><p id="c189" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在将<a class="ae jf" href="https://github.com/nathan-websculpt/reactsolidity_frontend/blob/master/contracts/RPSv1.sol" rel="noopener ugc nofollow" target="_blank">新的Solidity Smart Contract </a>引入你的代码库(你可以再次<code class="eh lw lx ly ln b">truffle compile</code>来检查它是否编译)。</p><p id="e004" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在打开Ganache，使用<em class="ke"> truffle-config.js </em>文件创建一个新的工作空间</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lz"><img src="../Images/1dcbc1fdf1ff746539a613b6fb891cde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMqmyNDBhBbQtm0szQv-Ug.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Ganache _&gt; New Work Space</figcaption></figure><p id="ae2c" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">加纳切会给你提供一个地址列表…</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ma"><img src="../Images/8bf0012034aa4a0f827958435ffb5b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sWi0OfmHwy8ma38Dyvp6MA.jpeg"/></div></div></figure><p id="359d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在您可以使用<em class="ke"> truffle-config.js </em>文件将(开发)<em class="ke">主机</em>、<em class="ke">端口</em>和<em class="ke">网络id </em>设置为与Ganache实例相同的值…</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mb"><img src="../Images/3a21081496534e4164660d7a0bf91a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gQn7NZNzF8Dy92gQXODLxQ.jpeg"/></div></div></figure><h2 id="c4f5" class="lr kg ht bd kh mc md me kl mf mg mh kp jr mi mj kt jv mk ml kx jz mm mn lb mo dt translated"><strong class="ak">松露和加纳切的一些注意事项</strong></h2><p id="a80f" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">现在，我们有了可以部署合同的对象，并且有了可以测试的地址。这个例子使用元掩码，您需要将元掩码链接到您的本地环境。</p><p id="016d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">连接元掩码</strong></p><ul class=""><li id="17ad" class="mp mq ht ji b jj jk jn jo jr mr jv ms jz mt kd mu mv mw mx dt translated">点击<em class="ke">网络</em>下拉菜单</li><li id="4b64" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">点击<em class="ke">自定义RPC </em></li><li id="2eec" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">使用带有<strong class="ji hu">链ID</strong>1337的<strong class="ji hu"> RPC URL </strong>添加您的新网络</li></ul><p id="f1a0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="ke">注意:</em>你将使用本地环境，所以确保你的应用程序中的<code class="eh lw lx ly ln b">InjectedConnector</code>支持<em class="ke"> 1337 </em>。(<a class="ae jf" href="https://github.com/nathan-websculpt/reactsolidity_frontend/blob/master/src/components/wallet/Connectors.js" rel="noopener ugc nofollow" target="_blank">查看我的文件</a>)</p><p id="e75d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在你的新网络已经添加，你可以切换到它…但你仍然需要一个帐户。</p><p id="085e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果您返回到Ganache并查看地址表，您会看到每条记录都显示一个地址、一个余额、一个索引，并且在索引的右侧有一个小键。</p><p id="143a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果您单击密钥，则可以查看该地址的公钥和私钥。要使用其中一个帐户，我们将把私钥导入元掩码</p><ul class=""><li id="3127" class="mp mq ht ji b jj jk jn jo jr mr jv ms jz mt kd mu mv mw mx dt translated">打开元蒙版</li><li id="6ad5" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">(您应该连接到您的本地网络，如果没有，请切换到它)</li><li id="455d" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">点击右上角的圆圈查看您的帐户</li><li id="5d34" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">点击<em class="ke">导入账户</em></li><li id="83c5" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">将您的一个测试私钥复制/粘贴到</li><li id="dae5" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">添加帐户</li></ul><h1 id="b0be" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">迁移</strong></h1><p id="6fe1" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">现在，我们已经拥有了在自己的区块链上测试所需的一切，但是新的智能合约还没有部署。</p><p id="4cfa" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们回到<code class="eh lw lx ly ln b">truffle init</code>添加的<em class="ke">迁移</em>文件夹，看看其中的文件。重要的是，它的名称以数字<em class="ke"> 1 </em>开始……迁移将按照从<em class="ke"> 1 </em>到<em class="ke"> 2 </em>到<em class="ke"> 3 </em>等的顺序运行，因此我们需要<strong class="ji hu"> RPSv1.sol </strong>契约的迁移以<em class="ke"> 2 </em>开始。</p><p id="0146" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我的名字叫做<code class="eh lw lx ly ln b">2_rpsv1_migration.js</code>，它看起来像这样:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="6eed" class="lr kg ht ln b fv ls lt l lu lv">const RPSv1 = artifacts.require("RPSv1");<br/>module.exports = function (deployer) {<br/>     deployer.deploy(RPSv1);<br/>};</span></pre><p id="7969" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在在终端中运行:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="fe87" class="lr kg ht ln b fv ls lt l lu lv">truffle migrate</span></pre><p id="60a4" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这将输出您的迁移结果(包括石头、布、剪刀契约……<strong class="ji hu"><em class="ke">的地址，将其复制到某个地方供以后使用</em> </strong>)。</p><p id="914e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">注意:你也可以从那里运行<code class="eh lw lx ly ln b">truffle console</code>和<code class="eh lw lx ly ln b">migrate</code>。</p><p id="4ed0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">当对合同进行更改时，您可以运行<code class="eh lw lx ly ln b">truffle migrate --reset</code>来替换合同。</p><h2 id="f884" class="lr kg ht bd kh mc md me kl mf mg mh kp jr mi mj kt jv mk ml kx jz mm mn lb mo dt translated"><strong class="ak">ABI</strong></h2><p id="0d43" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">要在浏览器上运行，我们需要ABI。</p><p id="36aa" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ABI是契约接口的描述，它定义了用于与二进制契约交互的方法和结构。像Solidity这样的高级语言需要用EVM可执行字节码编译。部署智能合约时，该字节码存储在区块链上。</p><p id="c1f5" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在我们运行了一个迁移，我们应该在<code class="eh lw lx ly ln b">/build/contracts</code>中有一个新契约的json文件。将<em class="ke">的ABI值复制到一个js文件中，供React应用程序使用。注意，ABI将是一个数组。</em></p><p id="f140" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">然后，我们将使用ABI、RPSv1的地址和web3来创建合同实例。</p><h2 id="54b6" class="lr kg ht bd kh mc md me kl mf mg mh kp jr mi mj kt jv mk ml kx jz mm mn lb mo dt translated"><strong class="ak"> web3和web3-react </strong></h2><p id="0cf4" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">要了解这个正在进行的项目的更多信息，<a class="ae jf" href="https://nervous-tereshkova-aa8032.netlify.app/" rel="noopener ugc nofollow" target="_blank">您可以查看Live应用程序并阅读构建说明</a>。它使用web3-react，但让我们来分解一下:</p><ul class=""><li id="8fd0" class="mp mq ht ji b jj jk jn jo jr mr jv ms jz mt kd mu mv mw mx dt translated"><strong class="ji hu"> InjectedConnector </strong>是元掩码逻辑之上的抽象层</li></ul><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="e511" class="lr kg ht ln b fv ls lt l lu lv">import { InjectedConnector } from "@web3-react/injected-connector";</span><span id="70b2" class="lr kg ht ln b fv nd lt l lu lv">export const Injected = new InjectedConnector({ <br/>    supportedChainIds: [1, 3, 4, 5, 42, 1337],<br/>})</span></pre><ul class=""><li id="6be3" class="mp mq ht ji b jj jk jn jo jr mr jv ms jz mt kd mu mv mw mx dt translated"><a class="ae jf" href="https://github.com/nathan-websculpt/reactsolidity_frontend/blob/master/src/App.js" rel="noopener ugc nofollow" target="_blank"> <em class="ke"> App.js </em> </a>正在用<strong class="ji hu"> Web3ReactProvider </strong>包装应用</li><li id="f9de" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">其中使用提供程序创建了一个新的web3对象</li><li id="b489" class="mp mq ht ji b jj my jn mz jr na jv nb jz nc kd mu mv mw mx dt translated">然后，我们将通过这个<code class="eh lw lx ly ln b">const library</code>访问web3功能</li></ul><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="27c7" class="lr kg ht ln b fv ls lt l lu lv">import { useWeb3React } from '@web3-react/core';</span><span id="d8c4" class="lr kg ht ln b fv nd lt l lu lv">const { active, account, library, connector, activate, deactivate } = useWeb3React();</span></pre><ul class=""><li id="dd5f" class="mp mq ht ji b jj jk jn jo jr mr jv ms jz mt kd mu mv mw mx dt translated">因此，我们可以像这样创建一个契约实例:</li></ul><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="b962" class="lr kg ht ln b fv ls lt l lu lv">library.eth.Contract( ABI_variable , 'address')</span></pre><ul class=""><li id="3e0d" class="mp mq ht ji b jj jk jn jo jr mr jv ms jz mt kd mu mv mw mx dt translated">我们也可以使用<code class="eh lw lx ly ln b">library</code>来处理数字/以太转换，如下所示:</li></ul><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="b264" class="lr kg ht ln b fv ls lt l lu lv">library.utils.toWei(library.utils.toBN(etherAmount), 'ether')</span></pre><p id="dbb6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae jf" href="https://github.com/nathan-websculpt/reactsolidity_frontend/blob/master/src/components/RPSETH_simple.js" rel="noopener ugc nofollow" target="_blank">查看组件，了解更多信息。</a></p><h2 id="daf8" class="lr kg ht bd kh mc md me kl mf mg mh kp jr mi mj kt jv mk ml kx jz mm mn lb mo dt translated"><strong class="ak">合同实例</strong></h2><p id="421a" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">我们越来越接近从浏览器调用我们的智能合约。<code class="eh lw lx ly ln b">contractInstance</code>将公开<strong class="ji hu">方法</strong>对象，这将允许我们调用智能合约的功能。契约对象作为javascript中的嵌套对象存在——函数调用存储在<strong class="ji hu">方法</strong>对象中。</p><p id="f2f3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lw lx ly ln b">.call()</code>适用于视图函数(不会对区块链进行更改)——<strong class="ji hu">getcontractballance()</strong>就是一个很好的例子，因为它只返回余额:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="edad" class="lr kg ht ln b fv ls lt l lu lv">contractInstance.methods.<strong class="ln hu">getContractBalance()</strong>.call()</span></pre><p id="d8c0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lw lx ly ln b">.send()</code>适用于会改变区块链状态的函数:</p><pre class="li lj lk ll fq lm ln lo lp aw lq dt"><span id="f1eb" class="lr kg ht ln b fv ls lt l lu lv">contractInstance.methods.<strong class="ln hu">deposit()</strong>.send({ from: account, value: etherBalance})</span></pre><h1 id="18e6" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">在浏览器上测试</strong></h1><p id="6ee3" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">如果您正在使用来自Github 的代码，它应该是这样的:</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ne"><img src="../Images/e214d69e1feb567a015607993225bad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vo1iOrNls-zDAdXCeYPaVg.jpeg"/></div></div></figure><p id="6af6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">您应该做的第一件事是连接到您的一个测试帐户:</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nf"><img src="../Images/05a02b5d7f1cd71a9580934760a2a544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tssTAhCFDiAXsqkRoqXc_g.jpeg"/></div></div></figure><p id="16c2" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">然后使用右边的字段为合同提供资金(这样它就可以对你下注)，并作为玩家存入一些以太(这样你就有东西可以下注了)。然后检查测试按钮，以确保您有资金和合同有资金。注意，可以使用<strong class="ji hu"> <em class="ke">试玩</em> </strong>按钮赢取1以太。</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ng"><img src="../Images/4a3806e439766b2c42aa3be2a8a9d10c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjhhbxkDdAoFdm75GrH0mg.jpeg"/></div></div></figure><p id="2ce8" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">当你玩游戏时，检查你的玩家余额——当你玩完后退出，并确保在他们与你的合同互动时观察你的Ganache帐户。</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nh"><img src="../Images/b5881828fce7ed9579424056315e389d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWWgcLCy0ow2JZRKw1IhbA.jpeg"/></div></div></figure><p id="b4a3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="ke">免责声明:这个游戏还没有为mainnet准备好，因为生成的“计算机选择”可以在调用合同之前被操纵。这只是一个如何调用契约函数的例子。</em></p></div><div class="ab cl ni nj hb nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="hm hn ho hp hq"><h1 id="8404" class="kf kg ht bd kh ki np kk kl km nq ko kp kq nr ks kt ku ns kw kx ky nt la lb lc dt translated">如何支持更多这样的帖子</h1><p id="3568" class="pw-post-body-paragraph jg jh ht ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hm dt translated">如果你想看更多这方面的内容，请在这里捐赠ETH或ERC-20代币:0xd 6355 a6b 745985342 ebf 168 E1 EC 965 DC 612704 b 1</p><blockquote class="nu"><p id="77cd" class="nv nw ht bd nx ny nz oa ob oc od kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="6048" class="lr kg ht bd kh mc oe me kl mf of mh kp jr og mj kt jv oh ml kx jz oi mn lb mo dt translated">也阅读</h2><div class="oj ok fm fo ol om"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">ICON _ PLACEHOLDEREstimated预计阅读时间:28分钟加密货币交易所的加密交易需要知识…</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">blog.coincodecap.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a href="https://blog.coincodecap.com/crypto-lending" rel="noopener  ugc nofollow" target="_blank"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">2021年10大最佳加密贷款平台| CoinCodeCap</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">当谈到加密货币贷款时，大量因素等同于良好的收入状况。此外，借款的一部分…</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">blog.coincodecap.com</p></div></div><div class="ov l"><div class="pb l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">2021年最佳免费加密交易机器人</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">medium.com</p></div></div><div class="ov l"><div class="pc l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">最佳4个加密交易信号电报通道</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">这是乏味的找到正确的加密交易信号提供商。因此，在本文中，我们将讨论最好的…</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">medium.com</p></div></div><div class="ov l"><div class="pd l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a href="https://blog.coincodecap.com/blockfi-review" rel="noopener  ugc nofollow" target="_blank"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">BlockFi评论2021:利弊和利率| CoinCodeCap</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">今天，我们提出了一个全面的BlockFi评论，这是一个成立于2017年的加密贷款平台，拥有其…</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">blog.coincodecap.com</p></div></div><div class="ov l"><div class="pe l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a rel="noopener follow" target="_blank" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">如何在印度购买比特币？2021年购买比特币的7款最佳应用[手机版]</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">如何使用移动应用程序购买比特币印度</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">medium.com</p></div></div><div class="ov l"><div class="pf l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">加密税务软件——五大最佳比特币税务计算器[2021]</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">medium.com</p></div></div><div class="ov l"><div class="pg l ox oy oz ov pa iz om"/></div></div></a></div><div class="oj ok fm fo ol om"><a href="https://blog.coincodecap.com/best-hardware-wallet-bitcoin" rel="noopener  ugc nofollow" target="_blank"><div class="on ab ej"><div class="oo ab op cl cj oq"><h2 class="bd hu fv z el or eo ep os er et hs dt translated">存储比特币的最佳加密硬件钱包[2021] | CoinCodeCap</h2><div class="ot l"><h3 class="bd b fv z el or eo ep os er et ek translated">保管您的数字资产很容易，但找到正确的存储方式却是一项繁琐的任务。在线钱包有一个风险…</h3></div><div class="ou l"><p class="bd b gc z el or eo ep os er et ek translated">blog.coincodecap.com</p></div></div><div class="ov l"><div class="ph l ox oy oz ov pa iz om"/></div></div></a></div></div></div>    
</body>
</html>