<html>
<head>
<title>The technology behind IPFS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">IPFS背后的技术</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/the-technology-behind-ipfs-and-what-can-ipfs-do-c7009fe42bab?source=collection_archive---------3-----------------------#2018-07-19">https://medium.com/coinmonks/the-technology-behind-ipfs-and-what-can-ipfs-do-c7009fe42bab?source=collection_archive---------3-----------------------#2018-07-19</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="9ee8" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">IPFS能做什么</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/e4e65714b5487aefc38722868b326471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/0*o30AAwcHRvsA840O.jpg"/></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Image <a class="ae ju" href="https://www.google.co.in/url?sa=i&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwi7rdLgnarcAhVJto8KHQBrDtQQjxx6BAgBEAI&amp;url=http%3A%2F%2Fblog.adnansiddiqi.me%2Fgetting-started-with-python-and-ipfs%2F&amp;psig=AOvVaw023Iiu4b5EUZvz931-KGLR&amp;ust=1532057615544241" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="74c1" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">简而言之，IPFS是一个P2P文件系统。一些术语:</p><ol class=""><li id="131f" class="kr ks ht jx b jy jz kb kc ke kt ki ku km kv kq kw kx ky kz dt translated"><strong class="jx hu">IPNS</strong>——一个名字系统。将加密密钥映射到IPFS的文件。</li><li id="358e" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq kw kx ky kz dt translated"><strong class="jx hu">IPRS</strong>——一个记录系统。可以验证和查询的抽象记录。所有的IPNS记录都是IPRS记录，但不是所有的IPRS记录都是IPNS记录。</li><li id="228a" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq kw kx ky kz dt translated"><strong class="jx hu"> DHT </strong>，区块链，Pubsub等。—分发这些记录(及更多)的方法。</li></ol><h1 id="e823" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated">它是如何工作的:</h1><p id="568a" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">IPFS给每个文件一个唯一的散列(指纹来识别文件)。即使只有一个字符的差异，哈希也是完全不同的。因此，IPFS可以使用文件的内容来定位它的地址，而不是像HTTP那样使用域名。</p><p id="792e" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">IPFS清除整个网络中的冗余文件。它为它做版本控制。每个编辑历史都被记录下来，可以很容易地追溯。</p><p id="b087" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">当搜索查询被触发时，IPFS根据它的散列来搜索文档。因为散列是唯一的，所以很容易进行查询。</p><p id="7775" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">ipFS的哈希和HTTP的IP地址都很难让人记住。人们发明了域名来定位ip地址。我们还有IPNS来找到IPFS·哈希。IPFS中的所有节点都存储一个哈希表来记录文件的相应位置。</p></div><div class="ab cl mc md hb me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hm hn ho hp hq"><h1 id="1868" class="lf lg ht bd lh li mj lk ll lm mk lo lp iz ml ja lr jc mm jd lt jf mn jg lv lw dt translated">技术</h1><h1 id="8299" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated"><strong class="ak">分布式哈希表</strong></h1><p id="7d11" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">在IPFS的例子中，<strong class="jx hu">密钥是对内容的散列</strong>。在IPFS节点中查询具有散列qmc px 9 zqboyhw 8t 7 AFE 4 dbwfcjyocef 5 PE 4h 3u 7 ek 1 osnq的内容，IPFS节点将在DHT中查找哪些节点具有该内容。</p><p id="da81" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">对于现有的各种分布式哈希表实现，如何有效地找到特定值(快速，尽可能少的网络请求)以及如何管理分布式哈希表以便容易地吸收变化(进入/离开网络的节点，或者表中的新条目)是不同的。</p><p id="a410" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">DHT在IPFS用于路由，换句话说:</p><ol class=""><li id="9fa9" class="kr ks ht jx b jy jz kb kc ke kt ki ku km kv kq kw kx ky kz dt translated"><strong class="jx hu">向网络通告添加的数据</strong></li><li id="c956" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq kw kx ky kz dt translated">并且<strong class="jx hu">帮助定位任何节点请求的数据。</strong></li></ol><p id="4fe7" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">白皮书指出:</p><p id="4d9e" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">小值(等于或小于1KB)直接存储在DHT上。<strong class="jx hu">对于更大的值，分布式哈希表存储引用，这些引用是可以服务该块的对等体的nodeid</strong>。</p><h1 id="15ff" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated"><strong class="ak">阻止交流— BitTorrent </strong></h1><p id="8ef3" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">一个显著的区别是，在BitTorrent中，每个文件都有一个单独的对等群(彼此形成一个P2P网络)，而IPFS是一个所有数据的大对等群。<br/> 对等体连接时，交换自己有哪些块(have_list)和正在寻找哪些块(want_list)</p><p id="5456" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">比特交换策略:<br/> </strong> -该策略基于这两个对等体之间先前的数据交换<br/> -当对等体交换块时，它们跟踪它们共享的数据量(建立信用)和它们接收的数据量(建立债务)<br/> -这两个对等体之间的记账在比特交换分类帐<br/>中被跟踪-如果对等体具有<strong class="jx hu">信用(共享的比接收的多</strong>)， 我们的<strong class="jx hu">节点将发送所请求的块<br/> </strong> -如果一个对等体有<strong class="jx hu">债务</strong>，我们的<strong class="jx hu">节点将共享或不共享，这取决于一个确定性函数</strong>，债务越大，共享的机会就越小<br/> -数据交换总是从分类帐的交换开始，如果分类帐不相同，我们的节点就断开连接</p><h1 id="056c" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated">版本控制系统— Git</h1><p id="b018" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">属性:<br/> 1) <strong class="jx hu">不可变对象代表文件(blob)、目录(tree)、变更(commit)。2)对象是内容寻址的，通过其内容的加密散列。嵌入到其他对象的链接，形成一个Merkle DAG。这提供了许多有用的完整性和工作流属性。<br/> 4)大多数版本化元数据(分支、标签等。)只是简单的指针引用，因此创建和更新起来并不昂贵。<br/> 5) <strong class="jx hu">版本变更仅更新引用或添加对象。<br/> </strong> 6)把版本变更分发给其他用户，就是简单的转移对象，更新远程引用。</strong></p><h1 id="2a24" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated">自我认证的文件系统— SFS</h1><p id="eaf6" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">这用于实现IPFS的IPNS名字系统。它允许我们<strong class="jx hu">为远程文件系统</strong>生成一个地址，用户可以在这里验证地址的有效性。</p><p id="9014" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">SFS引入了一种构建自认证文件系统的技术:使用以下方案寻址远程文件系统:</p><pre class="jj jk jl jm fq mo mp mq mr aw ms dt"><span id="0d9f" class="mt lg ht mp b fv mu mv l mw mx"><em class="my">/sfs/&lt;Location&gt;:&lt;HostID&gt;</em></span></pre><p id="e60e" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">其中，Location是服务器网络地址；</p><p id="8b1f" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><em class="my">HostID = hash(public _ key | | Location)</em><br/>因此，SFS文件系统的名称证明了它的服务器。</p></div><div class="ab cl mc md hb me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hm hn ho hp hq"><h1 id="a624" class="lf lg ht bd lh li mj lk ll lm mk lo lp iz ml ja lr jc mm jd lt jf mn jg lv lw dt translated">应用程序</h1><p id="3c61" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">IPFS也可以做pubsub应用。</p><p id="e9ef" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">“发布者”发送按主题或内容分类的消息</strong>,<strong class="jx hu">“订阅者”只接收他们感兴趣的消息</strong>，发布者和订阅者之间没有直接联系。</p><p id="384c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">CLI用法:<a class="ae ju" href="https://ipfs.io/blog/25-pubsub/" rel="noopener ugc nofollow" target="_blank">https://ipfs.io/blog/25-pubsub/</a></p><h1 id="ec4a" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated">示例:</h1><p id="7e0b" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">内容发布/货币化平台:<a class="ae ju" href="http://www.alexandria.io/learn/#integrated-technologies" rel="noopener ugc nofollow" target="_blank">http://www.alexandria.io/learn/#integrated-technologies</a></p><p id="f250" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">github:<br/>T40】https://github.com/dloa/alexandria-librarian</p><p id="ce68" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">P2P聊天应用:<br/><a class="ae ju" href="https://orbit.chat" rel="noopener ugc nofollow" target="_blank">https://orbit . chat</a>T3【https://github.com/orbitdb/orbit】T4</p><p id="2ccb" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">在线玩家:输入hash查看相应视频<br/><a class="ae ju" href="http://www.ipfs.guide/" rel="noopener ugc nofollow" target="_blank">http://www.ipfs.guide/</a><br/><a class="ae ju" href="http://ipfser.org/2018/04/08/r36/" rel="noopener ugc nofollow" target="_blank">http://ipfser.org/2018/04/08/r36/</a></p><p id="07a1" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">媒体网络:<br/>T13】https://akasha.world/</p><p id="6753" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">例子列表:<br/><a class="ae ju" href="https://github.com/ipfs/awesome-ipfs" rel="noopener ugc nofollow" target="_blank">https://github.com/ipfs/awesome-ipfs</a></p><h1 id="efb4" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated">缺点</h1><p id="395d" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">慢:<br/>通过scp复制<strong class="jx hu"> 100MB和1G文件分别用了1.5秒和17秒</strong>。而同样的成绩在T21用了16秒，在IPFS用了170秒。</p><p id="af98" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">下载373M二进制文件:</p><ul class=""><li id="626f" class="kr ks ht jx b jy jz kb kc ke kt ki ku km kv kq mz kx ky kz dt translated">wget: 12.6兆字节/秒</li><li id="0338" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">ipfs获取(方向A):9.10 MB/秒</li><li id="0e10" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">ipfs获取(方向B):2.07 MB/秒</li></ul><p id="2b66" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">和</p><ul class=""><li id="c976" class="kr ks ht jx b jy jz kb kc ke kt ki ku km kv kq mz kx ky kz dt translated">平:33.018毫秒</li><li id="bad8" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">ipfs ping: 32.93毫秒</li><li id="4367" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">ipfs cat(方向A):151毫秒</li><li id="6698" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">指规数类别(B方向):443毫秒</li></ul><p id="ade2" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">参考:<a class="ae ju" href="https://github.com/ipfs/go-ipfs/issues/2111" rel="noopener ugc nofollow" target="_blank">https://github.com/ipfs/go-ipfs/issues/2111</a></p><h1 id="73c5" class="lf lg ht bd lh li lj lk ll lm ln lo lp iz lq ja lr jc ls jd lt jf lu jg lv lw dt translated">列兵IPFS:</h1><p id="70af" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">IPFS中的所有文件都是公开的，这对于大多数应用程序来说不是一个理想的特性，尤其是对于企业应用程序。人们可能想要一个只能由某些实体访问的私有IPFS。</p><p id="101f" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">这项功能仍处于试验阶段。<br/>回购:<a class="ae ju" href="https://github.com/ipfs/ipfs-cluster" rel="noopener ugc nofollow" target="_blank">https://github.com/ipfs/ipfs-cluster</a></p><p id="a0be" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">路线图:<a class="ae ju" href="https://cluster.ipfs.io/roadmap/" rel="noopener ugc nofollow" target="_blank">https://cluster.ipfs.io/roadmap/</a><br/>短期(Q2 2018):</p><ul class=""><li id="a9eb" class="kr ks ht jx b jy jz kb kc ke kt ki ku km kv kq mz kx ky kz dt translated">项目网站(正在进行中)</li><li id="5392" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">从go-IPF/importers中提取关键功能(正在进行)</li><li id="4530" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">分片支持原型(正在进行中)</li><li id="090c" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">改进UX以处理更大的文件/并发pin操作(几个方面，一些正在进行中)</li><li id="d1d4" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">在IPFS高效使用存储库磁盘(持续进行)</li><li id="6b9e" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">设置、管理和操作生产集群的参考指南。</li><li id="e28f" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">第一个指标被公开。</li><li id="deaa" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">由我们(IPFS)运营和维护的实时大型存储集群整合了我们所有的引脚集。(正在进行中)</li><li id="9925" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">讨论和合作始于“大型数据集”领域的参与者。</li></ul><p id="e66a" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">期中考试(6-8个月)，本节于2018年7月完成</p><ul class=""><li id="799d" class="kr ks ht jx b jy jz kb kc ke kt ki ku km kv kq mz kx ky kz dt translated">与对使用ipfs-cluster/ipfs存储大型数据集感兴趣的不同参与者进行稳定的协作。</li><li id="873b" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">对至少约1TB数据集(包存储库)的良好分片支持。</li><li id="8e26" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">我们有指标来了解集群可以增长到多大(对等体、引脚集、存储库大小)、从哪里开始降级、应用程序性能的关键路径。</li><li id="62db" class="kr ks ht jx b jy la kb lb ke lc ki ld km le kq mz kx ky kz dt translated">合作存档工作(陌生人之间)</li></ul></div><div class="ab cl mc md hb me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hm hn ho hp hq"><h1 id="0d83" class="lf lg ht bd lh li mj lk ll lm mk lo lp iz ml ja lr jc mm jd lt jf mn jg lv lw dt translated">有用的链接</h1><p id="a6fa" class="pw-post-body-paragraph jv jw ht jx b jy lx iu ka kb ly ix kd ke lz kg kh ki ma kk kl km mb ko kp kq hm dt translated">如何托管文件:<br/><a class="ae ju" href="https://github.com/miaoski/ipfs-tutorial" rel="noopener ugc nofollow" target="_blank">https://github.com/miaoski/ipfs-tutorial</a></p><p id="078a" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">在IPFS上传加密文件:<br/><a class="ae ju" rel="noopener" href="/@mycoralhealth/learn-to-securely-share-files-on-the-blockchain-with-ipfs-219ee47df54c">https://medium . com/@ mycoralhealth/learn-to-securely-share-files-on-the-the-the-区块链-ipfs-219ee47df54c </a></p><p id="099c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">在IPFS上托管以太坊app:<br/><a class="ae ju" rel="noopener" href="/@merunasgrincalaitis/the-ultimate-end-to-end-tutorial-to-create-and-deploy-a-fully-descentralized-dapp-in-ethereum-18f0cf6d7e0e">https://medium . com/@ merunasgrincalaitis/the-ultimate-end-to-end-tutorial-to-create-and-deploy-a-fully-descentralized-dapp-in-ether eum-18 f 0 cf 6d 7 e0e</a></p></div></div>    
</body>
</html>