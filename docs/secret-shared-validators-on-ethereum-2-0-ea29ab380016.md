# 以太坊 2.0 上的秘密共享验证器

> 原文：<https://medium.com/coinmonks/secret-shared-validators-on-ethereum-2-0-ea29ab380016?source=collection_archive---------0----------------------->

![](img/a88bcc19e1d23b21f2adf56b2aa6000b.png)

(Source: Ethos, 2018)

## **以太坊 2.0 上的第三方赌注服务**

今天，有 [120，000 个以太坊地址](https://decrypt.co/31646/nearly-120000-ethereum-wallets-primed-eth-2-staking)拥有成为以太坊 2.0 链上的验证者所需的最少 32 个 ETH。当然，并不是所有现有的和未来的以太网持有者都有技术能力或愿望来操作他们自己的验证器客户端节点并帮助保护以太网。

幸运的是，潜在的利益相关者将可以选择通过利益相关者即服务提供商或交易所代表他们运行验证程序来进行利益相关者交易。在[我们进行的一项大规模调查](https://consensys.net/insights/eth-2-staking-ecosystem-report)中，超过 1/3 的人表示他们有兴趣通过第三方提供商入股 Eth2。如果你是他们中的一员，这篇文章就是为你写的！

为了参与 eth2 链的共识发现并因此获得奖励，验证者需要签署证明并使用他们的验证者私钥提出块。如果您计划在 eth2 上下注，而不运行任何自己的基础设施，那么这个验证器私钥将由第三方下注提供商操作。

值得注意的是，将您的验证器私钥委托给一家公司实际上是授予了提供者对您的验证器的单方面操作控制权。这就产生了一个单点故障，如果提供商经历了停机时间，有意或无意地引发了一个严重的事件，或者由于破产而需要过早退出系统，这会使您的资本面临风险。

拥有大量现有用户的交易所，如币安和比特币基地，能够充分利用现有客户的影响力和声誉来扩展现有业务，代表其用户提供 eth2 staking。与较小的提供商相比，较大的公司可能也有足够的规模经济和替代收入来源，以低于市场平均水平或 [0%的佣金率](https://www.binance.com/en/support/announcement/360037466251)补贴风险服务，在某些情况下推动进一步采用或获取更大的市场份额。

如果给定公司在整个网络的很大份额上集中了“委托赌注权力”,这可能会给整个网络带来更大规模的风险。考虑到基础设施提供商通常为多个客户运营相同的基础设施，这就引发了对同时停机和协同攻击的潜在担忧。此外，由于 eth2 在协议中内置了[反相关性惩罚结构](https://blog.ethereum.org/2020/01/13/validated-staking-on-eth2-1-incentives/),您所遭受的惩罚将增加三倍，与所有现有的验证器在大约相同的时间受到的惩罚成比例。如果有大量股权集中的赌注提供商、客户或云提供商(如亚马逊)意外离线或犯下严重罪行，你将受到比你做了错事但与他人无关时更多的惩罚。

## **秘密共享和多方计算的快速讲解者**

在我们深入研究以太坊 2.0 上秘密共享验证器的好处之前，让我们快速回顾一下它的基本机制。秘密计算依赖于两个核心原语。

第一个原语是[秘密共享](http://en.wikipedia.org/wiki/Secret_sharing)。[秘密共享](https://en.wikipedia.org/wiki/Secret_sharing#%22Secure%22_versus_%22insecure%22_secret_sharing)是一种机制，通过这种机制，秘密(或私钥)被分割并分布在不同的参与者之间，每个参与者持有该秘密的一部分。个人股份不能用于重建秘密。为了重构秘密，需要组合预定数量(或阈值)的份额。

第二个是[安全多方计算](https://en.wikipedia.org/wiki/Secure_multi-party_computation) (MPC)。MPC 允许多个参与者以保护隐私的方式计算他们输入的函数。将 MPC 应用于秘密共享允许在参与者之间分配秘密份额，以执行这些输入的分散计算并生成秘密共享输出，而无需在单个设备上重建秘密。

**以太坊 2.0 上的秘密共享验证器**

Eth2 使用 BLS 签名，这是一种在椭圆曲线(eth2 的 bls 12–381)上定义的签名方案。BLS 签名是可添加的，这意味着它们有利于聚合，允许将多个签名组合成一个。

由于这种附加属性，共享私钥(例如使用 Shamir 的秘密共享机制)允许签署消息，而不需要重建秘密或完整的 MPC。通过使用门限签名方案，您能够配置您想要将验证器私钥分成多少份，以及需要多少份这样的签名来计算完整的 BLS 签名。

例如，如果 Alice 希望分散风险，同时为 eth2 网络的更广泛的安全性和弹性做出贡献，她可以决定将她的私有验证器密钥分成三份，将每份分配给她选择的提供商，并要求⅔签名方案来重建完整的签名。没有一个单独的提供者可以单方面控制她的验证器，也不再会有单点故障。

那么，秘密共享验证器方案的赢家是谁呢？所有人。

**以太坊 2.0 上秘密共享验证器的增值**

**对于赌注者:**

*   分散你的风险！这是通过消除验证器的单边控制和单点操作故障来实现的。此外，该方案可以被利用来实现反相关性策略，例如通过从较小的提供者中选择不太可能具有相关故障的节点

**针对标桩提供商:**

*   减轻你的责任！eth2 协议鼓励验证器(尤其是大型的)减少其验证器与其他验证器同时失败的可能性。允许运营商将他们的验证器分布在几台机器甚至数据中心可以减轻这种风险和相关的责任。
*   公平竞争！具有较少签名策略的较小验证器可能以与较大提供者不相关的方式运行——这通过提供秘密共享验证器服务，为不同规模和比例股份的提供者之间的互利合作开辟了途径。

**为网络**

*   增加安全性！集中化给网络及其参与者带来了潜在的风险和攻击媒介。安全性对以太坊作为新的全球结算层的价值有直接影响。专注于秘密共享验证器的开发提供了一种途径来实际实现以太坊 2.0 协议的一些去中心化和反相关性目标，这有益于网络中的所有利益相关者。

**行动号召和现有工作**

在以太坊 2.0 上秘密共享验证器的实际实现需要:

*   秘密共享验证器客户端的规范
*   秘密共享验证器客户端的实现
*   在不同提供者之间操作秘密共享验证器的标准
*   终端用户友好的 UX/用户界面，可在不同提供商之间分割私钥

随着官方 eth2 testnet 的即将推出，对于社区来说，在 mainnet 发布之前推动集体行动来指定、实现和充分测试秘密共享验证器的实现是再好不过的时机了。

PlatON 团队在 EF 的资助下，已经实现了设计安全多方计算算法的目标，利用优化的 SCALE-MAMBA 实现，展示了理想的可行性和性能目标。这个项目主要关注以太坊 2.0 中[保管证明](https://github.com/ethereum/eth2.0-specs/issues/568)方案的 MPC 实现。更多参考请见 [GitHub](https://github.com/PlatONnetwork/proof_of_custody) 。

如果你愿意为这项工作做出贡献和支持，请联系 dankrad@ethereum.org。

感谢 Ben Edgington、Dankrad Feist、Joseph Chow 和 Collin Myers 的评论和反馈。

> [直接在您的收件箱中获得最佳软件交易](https://coincodecap.com/?utm_source=coinmonks)

[![](img/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png)](https://coincodecap.com/?utm_source=coinmonks)