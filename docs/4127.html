<html>
<head>
<title>The Biggest Hurdle Facing Decentralized Finance (DeFi)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分散金融面临的最大障碍</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/the-biggest-hurdle-facing-decentralized-finance-defi-1e1151c4afe?source=collection_archive---------3-----------------------#2021-03-01">https://medium.com/coinmonks/the-biggest-hurdle-facing-decentralized-finance-defi-1e1151c4afe?source=collection_archive---------3-----------------------#2021-03-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="d59c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">上个月，我为<a class="ae jo" href="https://chain.link/" rel="noopener ugc nofollow" target="_blank"> Chainlink </a>提供了一个解决方案，内容是如何使用价格反馈和oracles最好地为比特币和以太坊期权建模隐含波动率(IV)。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/998695cb8a973482fa90e6ebd9f09747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZmvilvAkFgO5TKJHfsjLtw.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Chainlink — Decentralized Pricing Feeds For Etherum Smart Contracts</figcaption></figure><p id="3d97" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你不太熟悉以太坊智能合约的工作方式或者<a class="ae jo" href="https://blog.chain.link/what-is-the-blockchain-oracle-problem/" rel="noopener ugc nofollow" target="_blank">甲骨文问题</a>，在进入公共区块链协议面临的主要问题之一之前，我将给出一个简短的概述<em class="kf">。</em></p><h1 id="47d9" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated"><strong class="ak">公有区块链的隔离问题</strong></h1><p id="db2e" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">公共区块链越来越受欢迎，因为它们强调分散的基础设施和支付授权。前提是，当涉及到数据共享、支付和其他通常由中央机构作为服务提供的行业应用程序(如Visa、Mastercard、Google或Paypal)时，去中心化提供了公平性。</p><p id="3398" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">虽然区块链无疑为去中心化问题提供了独特的解决方案，但他们有一些独特的问题，这些问题围绕着可能引入安全风险、欺诈性交易以及在区块链分类帐的历史中变成不可改变(不可删除)的明显错误的应用程序状态的链外数据接收。</p><p id="8222" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">换句话说，区块链有一个数据问题。</strong></p><p id="a692" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">所以问题变成了:</p><blockquote class="lj"><p id="7228" class="lk ll ht bd lm ln lo lp lq lr ls jn ek translated">您如何使用来自现实世界的数据，您如何知道这些数据是可信的，以便添加到分类账中的交易既准确又公平？</p></blockquote><h1 id="63dd" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr lt kt ku kv lu kx ky kz lv lb lc ld dt translated">数据问题变成了Oracle问题</h1><p id="8187" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">总而言之，区块链的数据问题围绕着一个非常简单的限制— <strong class="is hu">区块链不能作为内置功能从任何外部系统获取数据或向其推送数据。</strong> <strong class="is hu">因此，区块链是孤立的网络，非常类似于没有互联网连接的计算机。</strong></p><p id="05ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">像<a class="ae jo" href="http://chain.link" rel="noopener ugc nofollow" target="_blank"> Chainlink </a>这样的公司正试图通过提供被称为<em class="kf">价格反馈</em>的预建解决方案来解决这个问题。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lw"><img src="../Images/200903923fcef915615a884ab31817d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PVocV01ntSKIk0BIbA70TA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Price Feed Example for ETH / USD Exchange Rate Using Various Sources,</figcaption></figure><p id="2142" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这些价格源本质上是收集离线数据的神谕，并使用加权平均将它们聚合成单一的真实来源。</p><p id="2db1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">虽然这对于价格馈送和原始数据很有效，但智能合约目前面临的主要问题是高阶金融建模变得几乎不可能。如果区块链的最终目标是财政分权，那么这是一个需要解决的问题。</p><h1 id="f66f" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">传统金融与DeFi的脱节</h1><p id="fe09" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">当谈到DeFi时，我看到的公共区块链协议所面临的问题不一定是一个哲学问题(集权与分权)，而是一个技术问题。</p><p id="eeca" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当谈到传统金融(TradFi)中的风险管理或投资组合分配时，基金经理通常使用金融模型来进行投资组合分配，以各种方式量化风险。这些风险管理指标通常采用希腊字母的形式:<em class="kf"> alpha、beta、delta、gamma、rho、theta等。</em>允许经理衡量投资组合对基础价格、市场波动、利率和其他因素的市场变化的敏感度。</p><p id="586d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">除此之外，量化货币经理经常使用贝叶斯模型将投资组合表现建模为概率分布，因此这些希腊字母可能采用多个概率分布相加的值(贝叶斯统计)。</p><blockquote class="lj"><p id="618c" class="lk ll ht bd lm ln lo lp lq lr ls jn ek translated">区块链目前面临的主要问题是，如果你要真正分散金融，你必须提供与传统金融相同的工具，否则你所做的一切都是在承担无法量化的风险。</p></blockquote><h1 id="3d71" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr lt kt ku kv lu kx ky kz lv lb lc ld dt translated">智能合同的当前限制</h1><p id="2afc" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">在前面的部分中，我提到了风险管理和投资组合管理通常可以归结为希腊字母。这些希腊字母通常是各种金融建模方程的偏导数，其中最著名的是期权定价的Black-Scholes模型。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lx"><img src="../Images/956d7e7a3c6ccec885f4e1dcfc5434c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94nQ0xHn-Ikv-rT_3NsOqw.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">The closed-form Black-Scholes Equation for option pricing. The equation is used for deriving the expected price of an option based on the price of the current price of underlying asset, the cost of capital, the time to expiration, the strike price, and the asset’s volatility.</figcaption></figure><p id="8771" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这里，我们看到了区块链在TradFi建模时面临的问题，即TradFi模型经常包含分布。在Black Scholes模型中,“N”符号是对数正态分布。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff ly"><img src="../Images/5bbf13be1b33eb18eaa939cabfd14676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7mWi10xb5VdQwuo8lrCUdg.jpeg"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">The log-normal distribution, where Y is function of X distributed over a range of probabilities.</figcaption></figure><p id="c2f5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这就给我们带来了当今智能合约面临的最关键的技术问题…</p><p id="917e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">以太坊智能合约的主要问题是，作为一种编程语言，Solidity不支持浮点数</strong>，这使得在智能合约中使用Black Scholes Merton (BSM)模型等人工计算隐含波动率成为不可能。</p><p id="4392" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你没有浮点数，你就不能对连续分布建模，这意味着你不能在链上进行TradFi建模。这是Solidity在采用分散资产管理方面面临的一个主要障碍。</p><p id="4553" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">相比较而言，所有现代编程语言如Python、Java、C++、Javascript、Go，甚至Rust都支持浮点数。</p><p id="f79d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Python现在<em class="kf">是金融建模事实上的</em>语言，因为它有大量的金融库，如TA-Lib和Mibian。如果独立金融专业人士和独立量化资产管理公司的开发人员打算采用智能合约作为可行的透明资金管理解决方案，那么这个浮点数问题就需要解决。</p><p id="84a5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">并且这些库将需要在链上重建，因为没有人愿意浪费时间手工做Black-Scholes计算。开发人员希望专注于解决现实世界的问题，而不是重新发明轮子。</p><h1 id="293c" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">目前唯一可行的解决方案</h1><p id="967e" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">就性能而言，目前使用以太坊进行TradFi建模的唯一可用且可伸缩的解决方案是在中间层API中进行所有建模<em class="kf">离线</em>，将结果四舍五入为整数或整数数组，并将结果返回给调用oracle。</p><p id="594f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">除了因为缺乏可靠的浮点数支持而无法在链上进行这种建模之外，即使你尝试了，天然气价格也可能会扼杀你的交易，因为在引擎盖下需要大量的计算——计算分配涉及到许多<em class="kf">西格玛</em>。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/dacae33ccfcb0643153a32ca7b82a8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*qXKII4FQIQLEqhg9eT0IMw.png"/></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Calculations involving sigmas could cause gas prices on Ethereum to explode.</figcaption></figure><p id="d825" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在下面的Colab笔记本中，我提供了一个在以太坊当前版本的Solidity中如何进行TradFi建模的工作示例。</p><p id="3c80" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">作为Chainlink的一个例子，我展示了如何使用Chainlink价格源为比特币和以太坊期权合约的隐含波动率(IV)建模。</p><p id="ca27" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> Colab笔记本(点击“运行时”然后点击运行全部)</strong>:<br/><a class="ae jo" href="https://kaizentek.live/chainlink-BTC-IV-architecture" rel="noopener ugc nofollow" target="_blank">https://kaizentek.live/chainlink-BTC-IV-architecture</a></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff ma"><img src="../Images/af6023e69c257c0bee449c8ad6f43913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*miCo2Ypt1NC4Y4gsC-fmrQ.png"/></div></div></figure><p id="7b7a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">简而言之，您需要在中间层API中完成所有繁重的工作，然后将结果缓存或存储为链上的舍入整数，在这种情况下，智能契约或多或少只是充当一个数据库。</p><blockquote class="mb mc md"><p id="a5e7" class="iq ir kf is b it iu iv iw ix iy iz ja me jc jd je mf jg jh ji mg jk jl jm jn hm dt translated">但这引入了大量与区块链的前提背道而驰的哲学问题:如果金融建模本身没有去中心化，那么去中心化这些模型的结果有什么好处呢？</p></blockquote><p id="45bc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这是以太坊基金会需要解决的一个主要问题，因为这是所有金融发展的方向:<em class="kf">概率风险管理。</em></p><p id="45c6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这也是概率深度学习和金融开始合作的交叉点，所以像TensorFlow这样的深度学习框架也需要出现在链上。</p><p id="86ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果智能合约最终不能提供这种基本的浮点数功能来进行链上的TradFi建模，你怎么能真正地<em class="kf"> </em>期望分散<em class="kf">所有</em>西方金融？</p><h1 id="c7bd" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">实际上分散了西方财政</h1><p id="be10" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">当我写完这篇文章时，我正看着我笔记本电脑右边的星巴克咖啡。今天花了我1.86美元，一个小数点数字。</p><p id="3ac6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果星巴克的POS系统是建立在坚固的基础上，他们将不得不四舍五入，向我收取2美元。在现实世界中，金融不是这样运作的。</p><p id="917a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在金融世界彻底去中心化和民主化之前，我们还有一段路要走。但是我相信以太坊基金会的开发者能够胜任弥合TradFi和DeFi之间的鸿沟的任务。</p><h1 id="ba00" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">如果你从这篇文章中学到了什么，给我一些掌声和关注…</h1><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mh"><img src="../Images/bd890deef36237f5fc5b6f66b26f8ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/1*lMmW_WjZwZzKjOGuU0975g.gif"/></div></figure><h1 id="ab3d" class="kg kh ht bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">如果你需要做正确的事情…</h1><p id="7147" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated"><a class="ae jo" href="http://www.kaizentek.io" rel="noopener ugc nofollow" target="_blank">改善——现代化、加速、&amp;规模</a></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="mi mj l"/></div></figure></div></div>    
</body>
</html>