<html>
<head>
<title>Writing Software Contracts for Ethereum — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为以太坊写软件合同—第2部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/writing-software-contracts-for-ethereum-part-2-cfcfae70a20c?source=collection_archive---------4-----------------------#2017-08-04">https://medium.com/coinmonks/writing-software-contracts-for-ethereum-part-2-cfcfae70a20c?source=collection_archive---------4-----------------------#2017-08-04</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="d1ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">(2018年2月3日更新)</strong></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/3a24906c60119412f23cf28569fa1c65.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*Ny3u9hy0G2fotUYXvkqcgw.png"/></div></figure><ul class=""><li id="2b1b" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">在<a class="ae kf" rel="noopener" href="/@IndianGuru/writing-software-contracts-for-ethereum-part-1-a9c2eb1bd27"> <strong class="is hu">第一部分</strong> </a>中我们谈到了区块链的基础知识。</li><li id="1da7" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">在<a class="ae kf" rel="noopener" href="/@IndianGuru/writing-software-contracts-for-ethereum-part-3-5bd83c528c58"> <strong class="is hu">第3部分</strong> </a>中，我们将使用geth设置我们的私有区块链。</li></ul><h1 id="84b4" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">什么是智能合约？</h1><p id="9196" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">1.智能合同是全球各地的人们相互做生意的一种方式，即使他们不说相同的语言或使用相同的货币。<em class="lo">智能合约帮助你以透明、无冲突的方式交换金钱、财产、股票或任何有价值的东西，同时避免中间人的服务。</em></p><p id="c83d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2.描述智能合约的最佳方式是将这项技术比作自动售货机。通常，你会去找律师或公证人，付钱给他们，然后等着你拿到文件。有了智能合约，你只需将一种加密货币投入自动售货机(即分类账)，然后将你的驾照或任何东西投入你的账户。更重要的是，智能合同不仅以与传统合同相同的方式定义了协议的规则和惩罚，还自动强制执行这些义务。</p><p id="f1a5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">3.智能合约是一系列指令，使用编程语言“Solidity”编写，基于IFTTT逻辑(也称为IF-THIS-THEN-than逻辑)工作。</p><p id="86fe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">4.你可以在各种情况下使用智能合约，从金融衍生品到保险费、违约、财产法、信用执行、金融服务、法律程序和众筹协议。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="fe ff lp"><img src="../Images/ab749edf1736e129beab83f3cd7beabb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ysKU7F0DVj7clJlZe88e0w.jpeg"/></div></div><figcaption class="lu lv fg fe ff lw lx bd b be z ek">Smart Contract — image courtesy Blockgeek</figcaption></figure><p id="4349" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">值得关注的三家公司是:</p><div class="ly lz fm fo ma mb"><a href="https://www.rsk.co" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab ej"><div class="md ab me cl cj mf"><h2 class="bd hu fv z el mg eo ep mh er et hs dt translated">RSK</h2><div class="mi l"><h3 class="bd b fv z el mg eo ep mh er et ek translated">比特币智能合约平台RSK。</h3></div><div class="mj l"><p class="bd b gc z el mg eo ep mh er et ek translated">www.rsk.co</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp ju mb"/></div></div></a></div><div class="ly lz fm fo ma mb"><a href="https://www.linkedin.com/company/balanc3/" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab ej"><div class="md ab me cl cj mf"><h2 class="bd hu fv z el mg eo ep mh er et hs dt translated">余额3</h2><div class="mi l"><h3 class="bd b fv z el mg eo ep mh er et ek translated">平衡3 -一个ConsenSys编队-已经秘密工作了一年多，以建立一个以区块链为基地的…</h3></div><div class="mj l"><p class="bd b gc z el mg eo ep mh er et ek translated">www.linkedin.com</p></div></div><div class="mk l"><div class="mq l mm mn mo mk mp ju mb"/></div></div></a></div><div class="ly lz fm fo ma mb"><a href="https://monax.io" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab ej"><div class="md ab me cl cj mf"><h2 class="bd hu fv z el mg eo ep mh er et hs dt translated">莫奈克斯</h2><div class="mi l"><h3 class="bd b fv z el mg eo ep mh er et ek translated">企业使用区块链、智能合同和分布式存储技术来共享数据、消除冗余和…</h3></div><div class="mj l"><p class="bd b gc z el mg eo ep mh er et ek translated">monax.io</p></div></div><div class="mk l"><div class="mr l mm mn mo mk mp ju mb"/></div></div></a></div><h1 id="6519" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">以太坊软件:geth，eth，pyethapp</h1><p id="0d4d" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">官方的以太坊客户端都是开源的——也就是说，你可以看到它们背后的代码，并调整它们来制作你自己的版本。最受欢迎的客户是:</p><p id="4b19" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">1.<strong class="is hu"> geth </strong>(用一种叫做Go的语言编写)<a class="ae kf" href="https://github.com/ethereum/go-ethereum" rel="noopener ugc nofollow" target="_blank">https://github.com/ethereum/go-ethereum</a><em class="lo">geth</em>是以太网(主网、测试网或专用网)的入口点，能够作为完整节点(默认)存档节点(保留所有历史状态)或轻型节点(实时检索数据)运行。<br/> 2。<strong class="is hu"> eth </strong>(用C++写的)<a class="ae kf" href="https://github.com/ethereum/cpp-ethereum" rel="noopener ugc nofollow" target="_blank">https://github.com/ethereum/cpp-ethereum</a><br/>3。<strong class="is hu"> pyethapp </strong>(用Python写的)<a class="ae kf" href="https://github.com/ethereum/pyethapp" rel="noopener ugc nofollow" target="_blank">https://github.com/ethereum/pyethapp</a></p><p id="b08e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这些都是基于命令行的程序(想想黑色背景上的绿色文本),所以额外的软件可以用于更好的图形界面。</p><p id="2231" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一种流行的以太坊浏览器是<a class="ae kf" href="https://github.com/ethereum/mist" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">薄雾浏览器</strong> </a>，它是一种快速且安全的与以太坊网络交互的方式。</p><p id="3eb9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最广泛使用的以太坊客户端(<strong class="is hu"> geth </strong>)是用Go编写的，这意味着应该有一个很好的生态系统来使用Go与以太坊和智能合约进行交互，它具有很好的特性，比如代码生成和来自共享库的可重用助手。我们将在接下来的文章中探讨这一点。</p><h1 id="88a9" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">智能合同语言:Solidity / Serpent，LLL</h1><p id="e9c4" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">智能合约有三种常用语言编写，可以编译成智能合约，运行在以太坊虚拟机上。它们是:</p><ol class=""><li id="e40a" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn ms kc kd ke dt translated"><strong class="is hu">坚实度</strong>——看起来有点像Javascript。<em class="lo">这是目前最流行、最实用的智能合同脚本语言</em>。</li><li id="a6d8" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn ms kc kd ke dt translated"><strong class="is hu">Serpent</strong>——类似于语言Python，在以太坊早期历史中流行。然而，很快就要退休了。</li><li id="977e" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn ms kc kd ke dt translated"><strong class="is hu"> LLL </strong>(类似Lisp的语言)——类似于Lisp，只是在很早的时候才真正使用。这可能是最难写的。</li></ol><p id="3a9a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以上所有语言都可以编译成EVM字节码。</p><h1 id="44a4" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">让我们理解并开始学习固体语言</h1><p id="718a" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">Solidity是一种面向契约的高级语言，其语法类似于JavaScript，旨在针对以太坊虚拟机(EVM)。</p><p id="66d9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Solidity语言本身是一种工具，我们用来生成可以在EVM上执行的机器代码，它是一种带有编译器的语言，编译器可以将我们的高级人类可读代码分解为简单的指令。这里列出了所有可用的<a class="ae kf" href="https://ethereum.stackexchange.com/questions/119/what-opcodes-are-available-for-the-ethereum-evm" rel="noopener ugc nofollow" target="_blank">操作码</a>。</p><p id="2da0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Solidity是<em class="lo">静态类型的</em>(变量的类型将在编译时确定，而不是在运行时确定)，支持继承、库和复杂的用户定义类型等特性。</p><p id="6c60" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">坚实有<strong class="is hu">。sol </strong>作为文件扩展名。</p><p id="476b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了学习可靠性，你不需要以太坊节点来编写和部署智能契约。现在为小合同试用Solidity的最佳方式是使用<a class="ae kf" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"><strong class="is hu">Remix</strong></a>——一个基于浏览器的IDE，集成了编译器和Solidity运行时环境，没有服务器端组件。</p><h1 id="41fb" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">以太坊上的简单智能合约</h1><p id="e8db" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">让我们从一个简单的智能契约示例<strong class="is hu"> MessageContract.sol </strong>开始，在这里我们学习如何在Solidity中编写Getters和Setters。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mt mu l"/></div><figcaption class="lu lv fg fe ff lw lx bd b be z ek">MessageContract.sol</figcaption></figure><h1 id="9767" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">使用混音</h1><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="fe ff mv"><img src="../Images/bc052fe46c7405a548d87ca060e9493f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9OD_abhtE9JFNfTTDIUlJg.jpeg"/></div></div><figcaption class="lu lv fg fe ff lw lx bd b be z ek">Click on the + button at the top left</figcaption></figure><p id="1222" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">加载<a class="ae kf" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> Remix </strong> </a>你会在左侧看到一个按钮来加载新的实体文件；在中间你有代码窗口，在右边你可以看到控制元素，有运行，编译等标签。现在点击左上方的+按钮，将名称命名为<strong class="is hu"> MessageContract.sol </strong>按OK。</p><p id="a94d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">将上述代码即<strong class="is hu"> MessageContract.sol </strong>复制到Remix的中间窗口。</p><p id="b0b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">点击右上角的<em class="lo">运行</em>按钮，会显示当前环境。我们将使用JavaScript VM，其中所有东西都是本地的，只存在于内存中。此外，您可以看到它为您提供了几个用于测试的帐户。现在，点击粉红色的<em class="lo">创建</em>按钮。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="fe ff mv"><img src="../Images/9de701fa2b8f0bf389c830862833b5e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9VB35QSOv2cG4thKGoiUA.jpeg"/></div></div><figcaption class="lu lv fg fe ff lw lx bd b be z ek">Click on the Create button to execute your code</figcaption></figure><p id="7de7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您应该看到蓝色的getMessage按钮(这是getter ),粉红色的setMessage按钮(这是setter)。在setMessage文本区域输入双引号中的“一些文本”,然后按setMessage按钮。新值现已设置完毕。如果您按下getMessage按钮，您现在应该会看到“一些文本”。</p><p id="920c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们试着理解我们在上面的程序中做了什么。</p><h1 id="1261" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">理解可靠性</h1><p id="9458" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated"><strong class="is hu">杂注:</strong></p><p id="4be1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">源文件可以(也应该)用所谓的版本<strong class="is hu">杂注</strong>进行注释，以拒绝用将来可能引入不兼容变化的编译器版本进行编译。</p><p id="1808" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">版本杂注的用法如下:</p><pre class="jp jq jr js fq mw mx my mz aw na dt"><span id="ed41" class="nb km ht mx b fv nc nd l ne nf"><strong class="mx hu">pragma</strong> solidity <strong class="mx hu">^</strong>0.4.0;</span></pre><p id="9d86" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这样的源文件不能用早于0.4.0版本的编译器编译，也不能在0.5.0版本的编译器上运行(第二个条件是通过使用^).添加的</p><p id="b67c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">合同的结构:</strong></p><p id="a51a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Solidity文档说,“Solidity中的契约类似于面向对象语言中的类”,它位于以太坊区块链上的一个特定地址。</p><ul class=""><li id="0ce3" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">每个契约可以包含状态变量、函数、函数修饰符、事件、结构类型和枚举类型的声明(后面会详细介绍)。</li><li id="3a19" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">此外，协定可以从其他协定继承。一个有趣的阅读是关于<a class="ae kf" href="https://medium.freecodecamp.org/a-hacker-stole-31m-of-ether-how-it-happened-and-what-it-means-for-ethereum-9e5dc29e33ce" rel="noopener ugc nofollow" target="_blank">有史以来第二大ETH盗窃案</a>，它基本上是由继承(通过授权)引发的。</li></ul><p id="b868" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">代码布局:</strong></p><ul class=""><li id="965e" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated"><strong class="is hu">缩进</strong> —每个缩进级别使用4个空格。</li><li id="843a" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated"><strong class="is hu">制表符或空格</strong> —空格是首选的缩进方法。应该避免混合制表符和空格。</li><li id="7c8a" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated"><strong class="is hu">源文件编码</strong> —首选UTF-8或ASCII编码。</li><li id="4eb2" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated"><strong class="is hu">注释</strong> —单行注释(//)和多行注释(/*…*/)都是可以的。</li></ul><pre class="jp jq jr js fq mw mx my mz aw na dt"><span id="bb61" class="nb km ht mx b fv nc nd l ne nf"><em class="lo">// This is a single-line comment.</em><br/><br/><em class="lo">/*</em><br/><em class="lo">This is a</em><br/><em class="lo">multi-line comment.</em><br/><em class="lo">*/</em></span></pre><p id="6d11" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">命名约定:</strong></p><ul class=""><li id="5f51" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">应使用<strong class="is hu"> CamelCase </strong>样式命名合同和库(CamelCase是一种命名约定，其中名称由多个单词组成，这些单词连接成一个单词，每个单词的第一个字母大写，这样组成名称的每个单词都可以很容易地读出。这个名字来源于似乎出现在任何驼峰名称中的驼峰。在<strong class="is hu">大写字母</strong>中，新单词的第一个字母是大写字母，这使得它很容易与小写字母的名字区分开来，其中名字的第一个字母是小写字母。).在上面的代码中，我们有<strong class="is hu">合同消息合同</strong></li><li id="492e" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">函数名应该使用mixedCase (lowerCamelCase名称)。在上面的代码中，我们有一个函数<strong class="is hu"> getMessage() </strong></li></ul><p id="ccd4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">字符串文字:</strong></p><ul class=""><li id="3eee" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">字符串由双引号或单引号组成，例如“Hello World”</li><li id="21bb" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">惯例是字符串应该用双引号而不是单引号引起来。</li></ul><p id="acda" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">字符串:</strong></p><ul class=""><li id="9de5" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">它是一个动态大小的unicode字符串，假定是UTF 8编码的。</li><li id="e0a6" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">在Solidity中，需要提到变量的类型，在我们的例子中是字符串消息。</li></ul><p id="7033" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">语句:</strong></p><p id="f299" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一个基本语句将设置一个变量(在我们的例子中是消息)并给它一个值。这种类型的语句被称为<strong class="is hu">赋值语句</strong>，因为它在变量上设置了一个值。</p><p id="be92" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">string message = " Hello World "；</strong></p><p id="5b51" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="lo">所有语句必须以分号</em> ( <strong class="is hu">)结尾；</strong>)。</p><h2 id="31ca" class="nb km ht bd kn ng nh ni kr nj nk nl kv jb nm nn kz jf no np ld jj nq nr lh ns dt translated">功能:</h2><p id="454b" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">对于短函数声明，建议:</p><ul class=""><li id="c7a2" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">函数体的左括号与函数声明保持在同一行。</li><li id="9f48" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">右大括号应该与函数声明在同一缩进级别。</li><li id="90d8" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">左大括号前面应该有一个空格。</li></ul><p id="d642" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当用一条语句声明短函数时，允许在一行中完成。例如:</p><pre class="jp jq jr js fq mw mx my mz aw na dt"><span id="0fcc" class="nb km ht mx b fv nc nd l ne nf"><strong class="mx hu">function</strong> shortFunction() { doSomething(); }</span></pre><p id="8207" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">函数有四种可见性:<code class="eh nt nu nv mx b">external</code>、<code class="eh nt nu nv mx b">public</code>、<code class="eh nt nu nv mx b">internal</code>或<code class="eh nt nu nv mx b">private</code>，默认为<code class="eh nt nu nv mx b">public</code>。请注意，不同的可见性级别不会对其他人“隐藏”您的代码，而只是防止其他契约调用它们。可见性说明符在状态变量类型之后，在函数的参数表和返回参数表之间。</p><h2 id="45eb" class="nb km ht bd kn ng nh ni kr nj nk nl kv jb nm nn kz jf no np ld jj nq nr lh ns dt translated">状态变量:</h2><p id="7ad9" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">状态变量有三种类型的可见性:<code class="eh nt nu nv mx b">public</code>、<code class="eh nt nu nv mx b">internal</code>或<code class="eh nt nu nv mx b">private</code>，其中默认为<code class="eh nt nu nv mx b">internal </code>(这些函数和状态变量只能在内部访问，即从当前合同或从其派生的合同中访问)。</p><p id="88cb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">状态变量可以声明为<code class="eh nt nu nv mx b">constant</code>。在这种情况下，它们必须从一个在编译时为常数的表达式中赋值。</p><p id="02c0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">编译器不会为这些常量状态变量保留存储槽，每次出现都会被相应的常量表达式(可能由优化器计算为单个值)替换。</p><p id="1fc7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">目前并非所有类型的常数都已实现。唯一支持的类型是值类型和字符串。</p><p id="8568" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">可见性说明符位于状态变量的类型之后，在函数的参数列表和返回参数列表之间。</p><p id="feb3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">注意:</strong> <em class="lo">如果你公开了你的状态变量——编译器会自动为你创建getters。</em></p><h1 id="e01d" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">资源</h1><p id="c63b" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated"><strong class="is hu">视频:</strong></p><ul class=""><li id="f6f7" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated">什么是智能合同？初学者指南</li><li id="81d5" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated">什么是区块链智能合约？</li><li id="3c10" class="jw jx ht is b it kg ix kh jb ki jf kj jj kk jn kb kc kd ke dt translated"><a class="ae kf" href="https://youtu.be/R_CiemcFKis" rel="noopener ugc nofollow" target="_blank">初学者指南:Solidity中的智能合同编程教程</a></li></ul><p id="5948" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">链接:</strong></p><ul class=""><li id="4068" class="jw jx ht is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke dt translated"><a class="ae kf" href="https://l.facebook.com/l.php?u=http%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Flatest%2Fstyle-guide.html%23&amp;h=ATMP0EBPPsFkbDrxsQsWDFPA_lEybg7egHzo9eJ68s6ciJHm3-Agez7tVJ11CnAKQGZL5wXPGs4mZTIxI1dHpBAmu_4wRIttA7mbpBqgvE1p5WlZvvBSOueqIpEl5rFMj8KzBI1vjkw" rel="noopener ugc nofollow" target="_blank">风格指南</a></li></ul><h1 id="32ca" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">信用</h1><p id="d286" class="pw-post-body-paragraph iq ir ht is b it lj iv iw ix lk iz ja jb ll jd je jf lm jh ji jj ln jl jm jn hm dt translated">感谢Michael Kohl 审阅本文并提供建议。非常感谢。</p><blockquote class="nw"><p id="c964" class="nx ny ht bd nz oa ob oc od oe of jn ek translated"><a class="ae kf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="oh oi oj ok ol jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff og"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>