<html>
<head>
<title>Test and develop DApps on Zilliqa with ZilPay</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用ZilPay在Zilliqa上测试和开发DApps</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/test-and-develop-dapps-on-zilliqa-with-zilpay-52b165f118bf?source=collection_archive---------1-----------------------#2019-04-24">https://medium.com/coinmonks/test-and-develop-dapps-on-zilliqa-with-zilpay-52b165f118bf?source=collection_archive---------1-----------------------#2019-04-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7077" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">前途无量的区块链Zilliqa终于发布了他们特定领域的函数式语言Scilla的稳定版本。然而，正如你可能知道的，并不是每个人都理解智能合约编程的复杂性，因此采用智能合约存在一定的障碍。但是！别担心，ZilPay是来救援的。</p><p id="d668" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ZilPay允许您轻松部署基于Zilliqa的智能合约，并使用web与它们进行交互。自己测试，在你的浏览器上创建你自己的分散式应用程序。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/b248817adadc6be3cb036a96a828921a.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*THuzMnjBKEsBYIiys1IBoA.png"/></div></figure><p id="3685" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你曾经使用过以太坊或者基于Tron的dApps，这个钱包界面对你来说会非常熟悉。</p><h1 id="f801" class="jw jx ht bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">它是如何工作的？</h1><p id="7477" class="pw-post-body-paragraph iq ir ht is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hm dt translated">来自dApp的调用约定方法示例。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff kz"><img src="../Images/51c2b77724e6812bbd4dff9ccf01fecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1cqirapd9e5r8JFF0VFayA.png"/></div></div></figure><p id="4d20" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们一步一步来看:</p><ul class=""><li id="e6ba" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated">首先，dApp将创建包含调用契约方法规范的事务有效负载，并通过加密流将其发送到content.js。</li><li id="af7d" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">其次，content.js会将这个事务有效负载转发给background.js，以提示一个ZilPay弹出窗口供用户确认。</li><li id="5c4c" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">如果用户检查并确认ZilPay钱包上的交易有效负载。该交易将被签署并在Zilliqa网络上播出。</li></ul><p id="6c92" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果dApp询问合同的状态，则请求代理的content.js。</p><h1 id="dc90" class="jw jx ht bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">用于测试的样本dApps。</h1><p id="3c85" class="pw-post-body-paragraph iq ir ht is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hm dt translated">您可以访问<a class="ae ls" href="https://zilpay.xyz/#dapps" rel="noopener ugc nofollow" target="_blank"> DApps </a>页面了解更多信息。</p><h1 id="9174" class="jw jx ht bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">有趣的事情开始了…</h1><p id="115a" class="pw-post-body-paragraph iq ir ht is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hm dt translated">为以下项目安装ZilPay钱包:</p><ul class=""><li id="4249" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated">c<a class="ae ls" href="https://chrome.google.com/webstore/detail/zilpay/klnaejjgbibmhlephnhpmaofohgkpgkd" rel="noopener ugc nofollow" target="_blank">chrome</a></li><li id="a840" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">福<a class="ae ls" href="https://addons.mozilla.org/en-GB/firefox/addon/zilpay" rel="noopener ugc nofollow" target="_blank"> irefox </a></li><li id="9634" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">或者手动通过<a class="ae ls" href="https://github.com/lich666dead/zil-pay/releases" rel="noopener ugc nofollow" target="_blank"> GitHub释放</a></li></ul><p id="a767" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ZilPay wallet安装完成后，注入脚本将打包在其中。要查看后台发生了什么，请打开浏览器的开发人员控制台。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/ec526de59eec52ea2da14caebea08577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*LN9UQ8zibgMyxHn1FI2Maw.png"/></div></figure><p id="7c11" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ZilPay将创建一个全局对象，即“window.zilPay”。</p><ul class=""><li id="f785" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated">` window.zilPay '显示了修改后的<a class="ae ls" href="https://github.com/Zilliqa/Zilliqa-JavaScript-Library" rel="noopener ugc nofollow" target="_blank">Zilliqa-JavaScript-Library</a>对象。并显示钱包的当前状态。</li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff lu"><img src="../Images/a041e8c0dbcee86353017392629a5554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r_NqIp0xbSJRquWlYPv4Nw.png"/></div></div></figure><h1 id="4110" class="jw jx ht bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">从Scilla编辑器部署合同。</h1><ul class=""><li id="a05f" class="le lf ht is b it ku ix kv jb lv jf lw jj lx jn lj lk ll lm dt translated">访问基于网络的编辑器。</li></ul><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff ly"><img src="../Images/e9c994c4f66f0e524dc6fae16db6ae70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SnDrNUhJfGD-SnDLm8u6mA.png"/></div></div></figure><p id="3e2b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">左侧选项卡是IDE，您可以在其中自由修改“. scilla”智能合同代码。右边的选项卡由“init.json”表单组成，它包含智能合同中不可变变量的初始化参数。在这种情况下，有2个固有的和1个用户定义的不可变变量:</p><ul class=""><li id="c706" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated">` _scilla_version `表示本合同适用的scilla的当前版本。</li><li id="aa20" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">` _creation_block `表示将在其中部署智能合约的当前块。</li><li id="c14f" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">“所有者”是用户定义的参数，表示合同所有者的帐户地址。</li></ul><p id="5238" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">单击“部署”按钮。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff lz"><img src="../Images/536a920982731d53694957aca16eb6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vc9_cPS1KeC3HnkZhagoRg.png"/></div></div></figure><p id="9d84" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">恭喜您，您已经在developer testnet上部署了您的第一个Scilla智能合约。</p><h1 id="528e" class="jw jx ht bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">前端</h1><p id="824f" class="pw-post-body-paragraph iq ir ht is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hm dt translated">当你写完契约后，你必须调用这些方法。DApp的前端由传统的web技术组成(如javascipt、html、css)。当您在网络(主网络或测试网络)上部署协定时，您会获得一个能够调用它的地址。</p><p id="ff6c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">创造index.html</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ma mb l"/></div></figure><ul class=""><li id="76ce" class="le lf ht is b it iu ix iy jb lg jf lh jj li jn lj lk ll lm dt translated">标签“h2 id = "address "”将显示您的默认地址</li><li id="d7b5" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">标记' button onclick="getState()" '将获取我们合同的当前状态。</li><li id="d718" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">标记' pre id="state " '将显示我们合同的提取状态。</li></ul><p id="5cca" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们从获取契约状态开始，好吗？</p><p id="7025" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">JavaScript代码:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="aeef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们现在可以发现用户。</p><p id="9018" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，让我们尝试通过创建一个新函数“getState”来获取智能合约的状态。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="365b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，如果点击按钮“getstate ”, TEG会显示智能合同的当前状态。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff mc"><img src="../Images/6233c3a78cccc09f46c1fb0d2605870f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XdU9GF7ekWqUZeJBHT2-nw.png"/></div></div></figure><p id="f27d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这不是很好吗？就这么简单。现在，让我们尝试在智能契约中调用一个转换方法，好吗？</p><p id="5e9e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在下面的演示中，我们将尝试从“HelloWorld.scilla”示例契约中调用转换方法“setHello”。</p><p id="9ecf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为此，我们只需创建一个名为“setHello”的新函数。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="2d5e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦你自己创建了这个按钮，试着点击它并调用这个函数！</p><p id="f420" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这个合同部署事务将被广播，我们将等待Zilliqa网络接受和确认它。</p><p id="eeb5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">恭喜你！🎉你已经在Zilliqa上创建了你自己的dApp，这只是你的第一次尝试。</p><h2 id="91b3" class="md jx ht bd jy me mf mg kc mh mi mj kg jb mk ml kk jf mm mn ko jj mo mp ks mq dt translated">测试用DApps:</h2><ul class=""><li id="300b" class="le lf ht is b it ku ix kv jb lv jf lw jj lx jn lj lk ll lm dt translated">dApp允许你通过一个简单的表单轻松创建一个类似ERC 20的令牌。</li><li id="9656" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><a class="ae ls" href="https://zilpay.xyz/app/unstoppabledomains" rel="noopener ugc nofollow" target="_blank">不可停止的域名</a> dApp你可以通过ZilPay管理你的域名。</li><li id="284c" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated"><a class="ae ls" href="https://zilpay.xyz/app/roll" rel="noopener ugc nofollow" target="_blank"> ROL </a>是一款简单的竞技游戏，你可以和朋友一起玩:)</li><li id="6373" class="le lf ht is b it ln ix lo jb lp jf lq jj lr jn lj lk ll lm dt translated">scilla-editor是一个简单的基于web的IDE，允许用户创建和部署scilla智能合同</li></ul><h1 id="2e8b" class="jw jx ht bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">摘要</h1><p id="425a" class="pw-post-body-paragraph iq ir ht is b it ku iv iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn hm dt translated">ZilPay wallet是为简化去中心化应用程序的创建而创建的。代码是<a class="ae ls" href="https://github.com/lich666dead/zil-pay" rel="noopener ugc nofollow" target="_blank">开源的</a>，所以请不要客气，只要你能贡献！</p><blockquote class="mr"><p id="3ac5" class="ms mt ht bd mu mv mw mx my mz na jn ek translated"><a class="ae ls" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nc nd ne nf ng jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nb"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>