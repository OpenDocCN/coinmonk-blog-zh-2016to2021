<html>
<head>
<title>How I see the Ethereum World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何看待以太坊世界</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-i-see-the-ethereum-world-d31b8a6fca3a?source=collection_archive---------5-----------------------#2018-04-20">https://medium.com/coinmonks/how-i-see-the-ethereum-world-d31b8a6fca3a?source=collection_archive---------5-----------------------#2018-04-20</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="f116" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">作为一名软件开发人员，我显然喜欢看到代码在运行轨道之外的任何地方运行(<em class="jo">)。</em>)。</p><blockquote class="jp"><p id="d8f6" class="jq jr ht bd js jt ju jv jw jx jy jn ek translated">你可以从<a class="ae jz" href="https://github.com/sushreesoumya1/HospAppEthereum" rel="noopener ugc nofollow" target="_blank"> github </a>获得代码。</p></blockquote><p id="56b4" class="pw-post-body-paragraph iq ir ht is b it ka iv iw ix kb iz ja jb kc jd je jf kd jh ji jj ke jl jm jn hm dt translated">当我了解区块链及其功能时，都是在文章和视频中。接下来是最精彩的，以太坊大帝！</p><p id="5fa4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">“宇宙”中的一些人发现它很酷，因为它有一种叫做智能合同的东西。但是，除非我写了合同，否则我不明白什么是明智的合同。</p><p id="e50c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是，接下来呢？我想看到一些事情发生。我想看看理论在实践中的运用。于是，我开始在以太坊上寻找搭建App的资源。在得到所有这些并在上面建立了一个概念模型后，我想在这里分享一下。</p><p id="9c4a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以下是我将要讲述的内容:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff kf"><img src="../Images/f8612fe64817a3ad2c9ce37b867fcc76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qtHDvlQnCy6wqOUo94ko5g.png"/></div></div></figure><h1 id="ea49" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated"><strong class="ak">我们可以在以太坊做什么:</strong></h1><p id="b1b5" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">(<em class="jo">嗯，这是我的观点。如果你能找到别的东西，请评论</em></p><p id="0ce9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">没有什么比<strong class="is hu">创建一个去中心化的应用</strong> (DApp)更好的了。这里的重点是，我不会非常深入地研究区块链概念。相反，我会指导你创造一个DApp。</p><p id="a890" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在我们继续之前，有几件事你应该知道:</p><p id="1277" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">(1) <strong class="is hu">以太坊钱包</strong> —便于持有加密资产以及撰写、部署和使用智能合同:</p><p id="d2c4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最流行的是MyEtherWallet和Metamask</p><p id="a694" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">(2) <strong class="is hu">加密货币的创建。</strong>是的！你没看错！你可以创造自己的加密货币(<em class="jo">如果交易成功，我会从你这里买一些</em>)。</p><p id="74cf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">(3) <strong class="is hu">创建分权自治组织</strong>。嘿！不要混淆了DApp和刀。道是一个复杂的DApp，由一个契约系统组成</p><h1 id="2f85" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">让我们来谈谈以太坊网络:</h1><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff lu"><img src="../Images/58055e8ff06e43cb2a8ac77e6baef591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lc5VHp88jL-FvvSZT4SKsQ.png"/></div></div></figure><p id="e572" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">注意:这些id是在创建区块链网络时分配给这些网络的。如，<strong class="is hu">主以太坊网络</strong>是第一个以太坊区块链网络，其ID为1。</p><p id="e0a9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们有3个测试网络。我用的是Rinkeby网(<em class="jo">哦！不要慌！这就像服务器-客户端应用程序开发，其中有开发环境、测试环境、生产前和生产</em>。</p><h1 id="a756" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">如何连接到这些网络？</h1><p id="f6eb" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">目前有两种主要的方法可以做到这一点。</p><ol class=""><li id="f1b6" class="lv lw ht is b it iu ix iy jb lx jf ly jj lz jn ma mb mc md dt translated">通过使用Geth将您的系统变成一个本地节点</li><li id="891b" class="lv lw ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">另一种是使用类似truffle-hdwallet的服务提供商</li></ol><h1 id="1177" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">Geth</h1><p id="eafd" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">Geth是运行以太坊节点的命令行界面。在使用Geth之前，主要工作是<strong class="is hu">分别为公网或私网获取或创建genesis块</strong>。创世纪区块是区块链上创建的第一个区块。</p><p id="8407" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果您想将您的系统转换成一个<strong class="is hu">节点</strong>(在Rinkeby网络中):</p><p id="ce18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">1-下载“Geth”</p><p id="323d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2-去<a class="ae jz" href="https://www.rinkeby.io/" rel="noopener ugc nofollow" target="_blank"> https://www.rinkeby.io </a></p><p id="5dce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">3-下载<strong class="is hu"> rinkeby.json </strong></p><p id="2aa1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">4-通过Geth ( <em class="jo">我知道，我知道，</em>说起来容易做起来难。可能我会写另一篇关于这个的文章</p><h1 id="f6dc" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">松露的简短介绍</h1><p id="1f9e" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated"><em class="jo">不，不，不是松露糕点。</em>我们为以太坊使用的Truffle是一个以太坊开发框架，主要用于编译和部署智能合约，但我们不会用它来编译或部署我们的智能合约(<em class="jo">我的意思是，在本文中</em>)。</p><p id="3e44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可以在<a class="ae jz" href="http://truffleframework.com/" rel="noopener ugc nofollow" target="_blank">http://truffleframework.com/</a>中查看它的所有功能</p><p id="806d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们将只使用它的一个功能来签署我们的交易，即<strong class="is hu">truffle-HD wallet-provider</strong>(<em class="jo">我们将在以后真正需要使用这个</em>时讨论这个问题)</p><h1 id="c781" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated"><strong class="ak">传统架构Vs区块链架构</strong></h1><p id="b195" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">在传统架构中，一切都位于服务器上。因此，如果数据从那里丢失，那么它就永远消失了。但是在区块链中，所有的节点都是同步的。因此，如果一个节点的数据丢失或一个节点关闭，其余的节点会保护您的数据。</p><div class="kg kh ki kj fq ab cb"><figure class="mj kk mk ml mm mn mo paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/eee5c2dd1bf6e700e7dca5a053a24625.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*zKV1sMBYKKcBS7h3kcnDEQ.png"/></div></figure><figure class="mj kk mp ml mm mn mo paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/4c171f9d75865fa1b6d27439414e792d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*42mQgYSZGH6ptHo1uJKFAA.png"/></div><figcaption class="mq mr fg fe ff ms mt bd b be z ek mu di mv mw">Conventional architecture Vs Blockchain</figcaption></figure></div><h1 id="ec24" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated"><strong class="ak">我们来煮一个去中心化的App吧！！</strong></h1><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff mx"><img src="../Images/b25e727299db4dc49f8119081332ffb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HaCQixAa4mKesIClzE7vvA.png"/></div></div><figcaption class="mq mr fg fe ff ms mt bd b be z ek"><strong class="bd my">Steps to build a DApp</strong></figcaption></figure><p id="1f9c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">别担心，我会一步一步告诉你怎么做这道菜</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff mz"><img src="../Images/ecc3debf4be71807dd810f31bfa275a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2BzuJvVsfoTPcyIOARkEUQ.png"/></div></div></figure><p id="016f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我会适当地解释每个步骤。</p><p id="9d87" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">嗯，在我们讨论这个之前，只要理解一点，你用任何语言写的任何应用程序都有三样东西——UI、你的应用程序代码(<em class="jo">业务逻辑我们称之为</em>)和数据库。</p><blockquote class="jp"><p id="8e64" class="jq jr ht bd js jt ju jv jw jx jy jn ek translated">我以下面的方式想象它:</p></blockquote><figure class="nb nc nd ne nf kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff na"><img src="../Images/687e1735860942c367176cdafd59dc5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0PjeCYPSx0lOkWl-nCdUYQ.png"/></div></div></figure><h1 id="7008" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">现在，以同样的方式来看区块链应用程序:</h1><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff ng"><img src="../Images/4dfc3f718693b3b8b5fcabe3e6fa76b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kAOx-GOmIonAgWFGNtxN6Q.png"/></div></div></figure><h1 id="9ed5" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">让我们创建一个钱包</h1><p id="de3b" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">图片胜于雄辩！！</p><p id="9737" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">只需打开谷歌浏览器(<em class="jo">没有其他浏览器请！</em>)并遵循以下步骤:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff nh"><img src="../Images/a9982c813ba71d5e058cdf8fd15b30ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PLp7o7v1520pFpVWn-lpZA.png"/></div></div></figure><h1 id="5cce" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">撰写智能合同</h1><p id="b37e" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">我们必须编写一个智能合同，在医院注册一个病人，向管理员显示所有的病人ID，并通过点击ID获得有关病人的数据。</p><p id="ab91" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了编写一个智能契约并测试它的功能，我使用remix IDE，因为这是最简单的方法。</p><p id="b2e1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">打开<a class="ae jz" href="http://remix.ethereum.org" rel="noopener ugc nofollow" target="_blank">http://remix.ethereum.org</a>。在左上角，你会看到一个“+”号。点击该按钮，打开一个新的合同页面。</p><p id="e8bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">代码是用Solidity语言写的。学起来没那么难。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff ni"><img src="../Images/775661b58b8be55afec6001487f10149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lp1HEPWXFj42aZMD0aNv6g.png"/></div></div></figure><p id="2aec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这里，我创建了一个数组来存储所有的病人id，这样我就可以很容易地在一个页面中列出它们。</p><p id="9b19" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我已经创建了一个映射，它将病人的数据映射到病人ID。因此，单击特定的患者ID，我们将能够检索该患者的所有数据。</p><p id="d123" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这些函数不言自明。</p><p id="a5fa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，要运行并测试功能，请单击run选项卡。</p><div class="kg kh ki kj fq ab cb"><figure class="mj kk nj ml mm mn mo paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/828e77978d8cb0feea765a7c615a4e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*HkAytXynkjot25aN-ctzhw.png"/></div></figure><figure class="mj kk nk ml mm mn mo paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/80c191ddb555f39781edd74a3e0a755b.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*PAaba0HD3Wxo4rpyNFdZrw.png"/></div><figcaption class="mq mr fg fe ff ms mt bd b be z ek nl di nm mw">the left image shows the page where you are already there and the right image is the page where you have to go.</figcaption></figure></div><p id="cffa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当你点击“运行”标签时，你会看到很多选项，第一个是“环境”。点击下拉菜单。选择JavaScript VM来测试合同。稍后，当代码运行良好时，将其更改为Injected Web3。</p><p id="197d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当选择了注入Web3选项时，确保元掩码连接到Rinkeby网络。如果没有显示Rinkeby，打开Metamask，将网络改为Rinkeby。<em class="jo">很简单！</em></p><p id="32a4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它还应该有一些醚(<em class="jo">嗯，不是真的，你可以在测试网络</em>中得到假的)。你可以去rinkeby .水龙头为你的测试帐户申请乙醚。</p><p id="b062" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">立即测试:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff nn"><img src="../Images/c294d83d5c18300c17fc64856b626c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*i3GoOyBzOoZ8zYy4uUw-PQ.png"/></div></figure><p id="b412" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当您单击create按钮时，它会将智能合约部署到所需的网络，在我们的例子中是Rinkeby。然后你可以看到这里所有的功能。继续在文本框中输入函数registerPatient()的参数值，然后单击registerPatient按钮。</p><p id="7229" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">等待几秒钟，让挖掘完成。</p><p id="b5b4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后单击其他函数来查看结果。</p><h1 id="eb42" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">编译和部署您的智能契约(这一次，通过您的代码编辑器)</h1><p id="8d3c" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">从github克隆app后，你会看到有一个名为“以太坊”的文件夹。所有的合同文件都在这里。或者我应该说，所有与契约和以太坊世界相关的东西都在这里(<em class="jo">这家伙不想要任何UI的东西在里面！</em>)</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff no"><img src="../Images/d7d6149b4ad4c09efdab6bded8b2312f.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/1*l6dX5rbXCGOTNU9yfyWGWw.png"/></div></div></figure><p id="4ff3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">点记！！！</p><p id="385e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> (1)我们先编一个智能合约</strong>。当我们这样做时，我们得到了字节码和应用程序二进制接口(ABI)。如果你想了解更多，那么去https://web3j.readthedocs.io/en/latest/abi.html<a class="ae jz" href="https://web3j.readthedocs.io/en/latest/abi.html" rel="noopener ugc nofollow" target="_blank"/></p><p id="e0c2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> (2) </strong>要与任何智能合约交互，您只需要两件事情:合约地址和ABI</p><p id="92b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">好了，我们有了ABI。但是<strong class="is hu">合同地址</strong>在哪里？我什么也没看到。你有吗？</p><p id="c85b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> (3) </strong>你必须<strong class="is hu">将智能合同</strong>部署到任何一个网络来获取地址(在我们的例子中是Rinkeby测试网络)。</p><p id="d72a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是我如何在Rinkeby网络中部署我的合同呢？</p><p id="718b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo"> Infura就是答案！！</em></p><p id="ba5b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Infura让你进入以太坊。为此，你必须去https://infura.io/注册。<em class="jo">免费的！！只需输入您的姓名和电子邮件ID，向他们证明您是人类，然后提交表单。</em></p><p id="4d44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您会收到一封类似这样的电子邮件:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff np"><img src="../Images/c9c0468d3e6808e869d04f96a09be984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJr6XhKXO49O6e7CbU0W5w.png"/></div></div></figure><p id="b572" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用所需网络的URL，您可以连接到该特定网络并在那里部署契约。我会告诉你如何…</p><p id="722c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你还记得<strong class="is hu">松露钱包供应商吗？</strong>我们在前面的松露部分讨论过这个问题(<em class="jo">如果没有，你应该感到高兴。健忘是聪明的标志。</em></p><p id="d89e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">嗯，我会推荐你从<a class="ae jz" href="http://truffleframework.com/tutorials/using-infura-custom-provider" rel="noopener ugc nofollow" target="_blank">这里</a>开始阅读整本书。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff nq"><img src="../Images/be476df0a2087700f0d8c44c7e215067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VqDeDBC-165HFQ42Mf6X7Q.png"/></div></div></figure><p id="93fb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">元掩码由Infura节点提供支持。那么，松露钱包提供商如何在这里工作呢？</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff nr"><img src="../Images/cb88dbee68050e0b81e698ff5e0989f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBOSdvlsBfcskrPcTTsJYw.png"/></div></div></figure><p id="1095" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">看看图再看看deploy.js写的代码，你会更好理解的！</p><p id="8d45" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果打开deploy.js文件，您将看到助记符和URL是如何传递的。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff ns"><img src="../Images/ebacfe4a4b7d3222a1d3f37c49823d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31O4XWA5-cUq7ogalbVbdQ.png"/></div></div></figure><ul class=""><li id="9134" class="lv lw ht is b it iu ix iy jb lx jf ly jj lz jn nt mb mc md dt translated">如果您的系统上运行的是geth客户端，那么您不需要使用HDWalletProvider。你只需要使用你的本地主机网址。</li><li id="a95b" class="lv lw ht is b it me ix mf jb mg jf mh jj mi jn nt mb mc md dt translated">如果您使用Ganache来完成，代码将如下所示:</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff nu"><img src="../Images/97f47f4f4f166dce618489c36667b054.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*pSpn7E1gIQYzdJpr2dWpVw.png"/></div></figure><p id="4964" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以上两点仅供你参考。如果你不明白，不要担心。我们没有在这里使用它们。T15】</p><p id="143c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，你有了ABI，合同地址。接下来呢？</p><p id="c227" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">嗯，使用这两个东西，我们将获得契约实例。</p><h1 id="fff0" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">获取已部署的智能协定的实例</h1><p id="ad01" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">打开ContractInstance.js。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff nv"><img src="../Images/7f9af60645a0ea75b1642fe9c24bb823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bE6SlWQsA4V3q9QxCoPUXA.png"/></div></div></figure><p id="211e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这里是编译后得到的MedData.json。它既有ABI也有字节码。</p><p id="ed2c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您在这里看到的地址是我们将合同部署到Rinkeby网络后获得的合同地址。</p><h1 id="7f75" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">使用实例调用智能合约函数</h1><p id="bea5" class="pw-post-body-paragraph iq ir ht is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hm dt translated">好了，现在一切都够了！让我们看看如何将UI与我们的智能合约相集成。这就是我们所期待的。不是吗？</p><p id="43fc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在应用程序文件夹中，您会发现index.js，我在其中调用了一个智能契约函数getPatients()来列出我的医院病人的id。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff nw"><img src="../Images/9298125497d2569dd9f57eed3cdd667e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ht27J_0-g2frDNtfb9Xlrw.png"/></div></div></figure><p id="4698" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你不明白反应，不要担心。我们也可以使用普通的Javascript来完成所有这些工作。</p><p id="b00e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你不懂Javascript，请学习它！！</p><p id="5ceb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">index.js中的其余代码是UI部分。我们不会在本文中讨论这个问题。</p><p id="5a3c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当您打开本地主机时，数据会以如下方式列出:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff nx"><img src="../Images/3bde09ae6902757aee58a9567af5d6cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/1*0KNcJXJ16fGAyTAQIGulaw.png"/></div></figure><p id="1018" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">相信我，页面比这张截图好看多了！！</em></p><p id="35c0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你会在左上角发现一个“+”号。用于添加患者(<em class="jo">请自行添加</em>)。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff ny"><img src="../Images/0ea5645aadb8dbd68728bf4f6d0abf36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*Lt_x6ISBtpd24rRo3lg1fw.png"/></div></figure><p id="114c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您能够将自己添加为患者吗？</p><ul class=""><li id="291b" class="lv lw ht is b it iu ix iy jb lx jf ly jj lz jn nt mb mc md dt translated">如果是，您必须通过元掩码签署交易。<em class="jo">牛逼！正式来说，你现在是我的病人</em>。</li><li id="b0b4" class="lv lw ht is b it me ix mf jb mg jf mh jj mi jn nt mb mc md dt translated">如果没有，请检查您是否已经登录您的元掩码。</li></ul><p id="4a90" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后检查您是否已连接到Rinkeby网络。</p><p id="889f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后检查你是否有醚。如果你没有，那么请去<a class="ae jz" href="https://faucet.rinkeby.io/" rel="noopener ugc nofollow" target="_blank">这里</a>买一些。</p><p id="9795" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">哪天我们一起去我的医院喝杯咖啡吧！</em></p></div></div>    
</body>
</html>