<html>
<head>
<title>nOS dAPP Getting Started Guide 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">nOS dAPP入门指南3</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/nos-dapp-getting-started-guide-3-435320d550eb?source=collection_archive---------11-----------------------#2018-06-09">https://medium.com/coinmonks/nos-dapp-getting-started-guide-3-435320d550eb?source=collection_archive---------11-----------------------#2018-06-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="4ca2" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">* *这是一个由3部分组成的系列，介绍nOS以及编写和安装智能合同以及使用React开发dApp的详细步骤</h2></div><p id="8f09" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">欢迎使用nOS dAPP入门指南3。您可以查看<a class="ae ke" rel="noopener" href="/@SharedMocha/nos-dapp-getting-started-guide-187e72ed9ace">指南1 </a>和<a class="ae ke" rel="noopener" href="/@SharedMocha/nos-dapp-getting-started-guide-2-e4f7524375f">指南2 </a></p><p id="3bc3" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在这里，我们将深入了解如何使用React编写(或)修改dApp，并从nos客户端测试它。</p><h1 id="e704" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">在这里做什么？</h1><p id="2d81" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated">我们将安装所需的工具，并学习如何在React中编写dApp并测试它。在核心部分，我们将使用这个<a class="ae ke" rel="noopener" href="/nos-io/one-click-nos-dapp-development-create-nos-dapp-e086997f0f3d">信息</a>创建一个dAPP。之后，我们修改代码，并从nos-client测试它。好消息是我们只需要修改很少的代码并测试它。其余全部由<a class="ae ke" rel="noopener" href="/nos-io/one-click-nos-dapp-development-create-nos-dapp-e086997f0f3d"> dApp builder starter kit </a>处理。</p><h1 id="83fc" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">先决条件</h1><p id="3e60" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated"><strong class="jk hu">步骤1 :- </strong>返回neo-python控制台(这是与<a class="ae ke" rel="noopener" href="/@SharedMocha/nos-dapp-getting-started-guide-2-e4f7524375f">指南2 </a>中相同的控制台/终端)，输入以下命令提取钱包地址</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="9939" class="ll kg ht lh b fv lm ln l lo lp">neo&gt; wallet</span></pre><p id="b23a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">第2步:- </strong>现在保存您获得的地址。我使用的是<a class="ae ke" href="https://github.com/nos/nos-local" rel="noopener ugc nofollow" target="_blank"> nos-local </a>中给出的默认钱包，所以我的地址是“AK 2 njjpjr 6 o 664 cwjki 1 qrxjqeic 2 zrp 8y”</p><p id="073a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">步骤3 :- </strong>现在，让我们提取与我们的地址相关联的WIF密钥。我们这样做是为了登录到nos-client并调用我们的智能契约。请注意，我们在<a class="ae ke" rel="noopener" href="/@SharedMocha/nos-dapp-getting-started-guide-2-e4f7524375f">指南2 </a>中使用相同的钱包部署了智能合约</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="8d57" class="ll kg ht lh b fv lm ln l lo lp">neo&gt; export WIF AK2nJJpJr6o664CWJKi1QRXjqeic2zRp8y</span></pre><p id="3897" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">或者，如果您使用的是<a class="ae ke" href="https://github.com/nos/nos-local" rel="noopener ugc nofollow" target="_blank"> nos-local </a>的默认钱包，那么您的WIF密钥将是‘kxdgvekzgsbppfuvfw 67 opqbsjideiqthurksdl 1 r 7 ygagyaeynr’</p><p id="d2ea" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">步骤4 :- </strong>记下您从nos-Local部署的智能合约的散列。查看此<a class="ae ke" rel="noopener" href="/@SharedMocha/nos-dapp-getting-started-guide-2-e4f7524375f">链接</a>了解更多信息</p><p id="cd6d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">步骤5 :- </strong>最后，确保您的<a class="ae ke" href="https://github.com/nos/nos-local" rel="noopener ugc nofollow" target="_blank"> nos-local </a>正在使用默认的<a class="ae ke" href="https://github.com/nos/name-service/blob/a5818e7e60282bd8c8154e1ffec4482f5cfa5ec2/contract.py" rel="noopener ugc nofollow" target="_blank">智能合约</a>运行</p><h1 id="e226" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">详细步骤</h1><p id="c6f7" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated"><strong class="jk hu">第一步</strong> :-安装nOS-Client并测试。<a class="ae ke" href="https://github.com/nos/client" rel="noopener ugc nofollow" target="_blank">点击此处获取指示</a>。使用获得的WIF密钥登录。</p><figure class="lc ld le lf fq lr fe ff paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="fe ff lq"><img src="../Images/0eb7d420d76e72a140120d1c5ad1ed27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JYGZ20MDr_x_W94-ttte7Q.png"/></div></div></figure><p id="98fa" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">第二步:- </strong>在nos-client中设置你的网络为nOSLocal，如下图。</p><figure class="lc ld le lf fq lr fe ff paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="fe ff ly"><img src="../Images/525a738bd530ee9d9c3131a681414e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n3lYCT8lOM6ilL-fS-sUaA.png"/></div></div></figure><p id="4c06" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在让我们开始编写或更新dApp。</p><p id="d6cf" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="lz">* *注意——你可以按照这个</em> <a class="ae ke" rel="noopener" href="/nos-io/one-click-nos-dapp-development-create-nos-dapp-e086997f0f3d"> <em class="lz">链接</em> </a> <em class="lz">来创建自己的dapp。这里我们将使用现有的dApp。</em></p><p id="deb5" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在命令提示符或终端中运行以下命令来克隆示例报表</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="b1ec" class="ll kg ht lh b fv lm ln l lo lp">$ git clone https://github.com/SharedMocha/RegisterDomain.git</span></pre><p id="4916" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在命令提示符或终端中导航到“RegisterDomain”文件夹</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="57db" class="ll kg ht lh b fv lm ln l lo lp">$ cd C:\Users\***\RegisterDomain</span></pre><p id="3623" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最后，运行以下命令来启动它</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="c94d" class="ll kg ht lh b fv lm ln l lo lp">npm start</span></pre><p id="bef0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">请注意，您会看到类似下面的内容</p><figure class="lc ld le lf fq lr fe ff paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="fe ff ma"><img src="../Images/f93a11fdbcaa9e62eff13169f140302a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZs9_EPLZEMGyaRiKhNIaQ.png"/></div></div></figure><p id="8474" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">步骤4 </strong> :-转到nos客户端并启动“localhost:1234”，您应该会看到以下屏幕。</p><figure class="lc ld le lf fq lr fe ff paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="fe ff mb"><img src="../Images/b65e2bbd8ddb3d2eb50eb1146ddebf2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FlSiTuL3apEe8uHowxgsfQ.png"/></div></div></figure><p id="6eee" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">输入“域名”和“重定向Url ”,然后单击“注册域名”按钮。现在，我们将得到一个带有事务散列的弹出(或)警告框。您还可以在nos-local控制台(或)终端中查看更多详细信息。</p><p id="3b05" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">如何添加更多字段？</strong></p><p id="ff8f" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">要添加更多的领域，我们需要作出2个变化</p><p id="d9f8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">变化1。)更新和测试您的智能合约并进行部署。点击<a class="ae ke" rel="noopener" href="/@SharedMocha/nos-dapp-getting-started-guide-2-e4f7524375f">链接</a>获取更多信息。</p><p id="1007" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">更改2.1)转到下面的文件，并添加新的字段和按钮，以便在dApp UI上显示。</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="d5c9" class="ll kg ht lh b fv lm ln l lo lp">C:\Users\**\RegisterDomain\src\components\NOSActions\index.jsx</span></pre><p id="3e06" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在文件中添加一个变量，如下所示</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="46f4" class="ll kg ht lh b fv lm ln l lo lp">let newField</span></pre><p id="7fe2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在在你的构造函数中声明它</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="4e9d" class="ll kg ht lh b fv lm ln l lo lp">constructor(props) {super(props)this.state = {newField: " "}}</span></pre><p id="4298" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在定义一个输入字段来接受如下值</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="e9ca" class="ll kg ht lh b fv lm ln l lo lp">&lt;input value = {this.state.newField} <br/>onChange ={this.handleNewFieldChange.bind(this)}<br/>type = "text"name = "newField" /&gt;</span></pre><p id="cfe6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最后，定义一个变化函数</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="6907" class="ll kg ht lh b fv lm ln l lo lp">handleNewFieldChange(e) <br/>{this.setState({newField: e.target.value});}</span></pre><p id="62bc" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在，您可以将这个“新字段”传递到您的参数中进行调用，如下所示</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="afd2" class="ll kg ht lh b fv lm ln l lo lp">args = [newField]</span></pre><p id="c724" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">改2.2。)定义一个按钮并用您的自定义“操作”调用invoke</p><p id="cf3d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">按钮代码</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="6f46" class="ll kg ht lh b fv lm ln l lo lp">&lt;button <br/>onClick = {() =&gt; this.handleAlert(this.props.nos.invoke(invoke).then(txid =&gt; alert(`Invoke tx id: ${txid}`)).catch(err =&gt; alert(`Error: ${err.message}`)))} &gt;<br/>New Button &lt;/button&gt;</span></pre><p id="379f" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在，修改ScriptHash、操作、参数</p><p id="136c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">* *脚本哈希是从nos-Local获取的已部署智能合约的哈希。</p><pre class="lc ld le lf fq lg lh li lj aw lk dt"><span id="10c9" class="ll kg ht lh b fv lm ln l lo lp">// Add your smart contract's scriptHash here<br/>const scriptHash = "e60a3fa8149a853eb4dff4f6ed93c931646a9e22";</span><span id="c6d3" class="ll kg ht lh b fv mc ln l lo lp">// The operation of your smart contract you want to <br/>invokeconst operation = "SampleOperation";</span><span id="11f0" class="ll kg ht lh b fv mc ln l lo lp">// The necessary arguments for you invoke<br/>let args = [this.state.newField];</span></pre><p id="f68e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">* *请注意，我在这里没有修改“调用”代码。</p><h1 id="49ba" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">常见问题和有用的调试方法</h1><p id="1827" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated">“无法在地址*****8处调用智能协定”-如果您遇到此错误，请通过包含警报或日志消息来检查您的参数是否被正确传递。</p><p id="df90" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">也可以在<a class="ae ke" href="https://discordapp.com/invite/eGFAskm" rel="noopener ugc nofollow" target="_blank">不和谐</a>里问社区。</p><blockquote class="md me mf"><p id="cadc" class="ji jj lz jk b jl jm iu jn jo jp ix jq mg js jt ju mh jw jx jy mi ka kb kc kd hm dt translated">请随意派生我的代码来添加新的操作和字段。截至目前，我只有'注册域'</p></blockquote></div></div>    
</body>
</html>