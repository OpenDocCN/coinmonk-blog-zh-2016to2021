<html>
<head>
<title>Is block.blockhash(block.number-1) okay?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">block.blockhash(block.number-1)可以吗？</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/is-block-blockhash-block-number-1-okay-14a28e40cc4b?source=collection_archive---------1-----------------------#2018-03-10">https://medium.com/coinmonks/is-block-blockhash-block-number-1-okay-14a28e40cc4b?source=collection_archive---------1-----------------------#2018-03-10</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/930e14e22aa6c01f65779b7ee6f32168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dj4jGITyG0eM41sJdjOtmw.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Cover Photo by <a class="ae jf" href="https://unsplash.com/photos/RSsqjpezn6o?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">dylan nolte</a> on <a class="ae jf" href="https://unsplash.com/search/photos/random?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="eee8" class="jg jh ht bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">在我的以太坊游戏中，block.blockhash(block.number-1)对于random是否足够好？</h2><p id="81c8" class="pw-post-body-paragraph ke kf ht kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hm dt translated">TL；大卫:是的。:/</p></div><div class="ab cl kz la hb lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hm hn ho hp hq"><p id="ebc0" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">在以太坊上构建游戏时，你很快意识到链上的随机性是很棘手的。区块链是公开的确定性的，但是有一些技巧可以产生伪随机性。</p><p id="4e1a" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">其中一个技巧是获取前一个块的散列，但这意味着你已经知道随机数是什么。另外它由矿工控制。如果目标区块散列不能在你的游戏中产生想要的结果，他们可以选择扔掉一个区块。这看起来不狡猾吗？</p><p id="7d29" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">让我们来看看目前在<a class="ae jf" href="https://dappradar.com/" rel="noopener ugc nofollow" target="_blank">DAppRadar.com</a>上排名前15的游戏，看看我们是否能了解它们是如何产生随机数的</p><p id="44a2" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#1.<a class="ae jf" href="https://dappradar.com/app/3/cryptokitties" rel="noopener ugc nofollow" target="_blank">CryptoKitties</a>——做基因混合的私人合同，未知随机</p><p id="6bd9" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#2.<a class="ae jf" href="https://dappradar.com/app/26/etherbots" rel="noopener ugc nofollow" target="_blank">以太机器人</a></p><figure class="ll lm ln lo fq iu"><div class="bz el l di"><div class="lp lq l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">They use the hash of the previous block.</figcaption></figure><p id="31ca" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#3.<a class="ae jf" href="https://dappradar.com/app/61/cryptocities.net" rel="noopener ugc nofollow" target="_blank">加密城市</a>——在<a class="ae jf" href="https://etherscan.io/" rel="noopener ugc nofollow" target="_blank">以太扫描</a>上没有源代码，没有游戏机制？</p><p id="869c" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#4.<a class="ae jf" href="https://dappradar.com/app/23/etheremon" rel="noopener ugc nofollow" target="_blank">以太精灵</a> —没有真正的游戏机制，但是:</p><figure class="ll lm ln lo fq iu"><div class="bz el l di"><div class="lp lq l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">They use the previous blockhash plus a “private” salt.</figcaption></figure><p id="3bae" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#5.<a class="ae jf" href="https://dappradar.com/app/17/ethercraft" rel="noopener ugc nofollow" target="_blank">以太工艺</a>—<a class="ae jf" href="https://etherscan.io/" rel="noopener ugc nofollow" target="_blank">以太扫描</a>上没有源代码。还没有游戏机制，但他们已经承诺使用未来的块哈希。他们也把奖励限制在块奖励的数量上…稍后会有更多的介绍。</p><p id="8f78" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#6.<a class="ae jf" href="https://dappradar.com/app/39/cryptobots" rel="noopener ugc nofollow" target="_blank">密码机器人</a>——明目张胆的KittieClone，私人基因混合器</p><p id="0c40" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#7.<a class="ae jf" href="https://dappradar.com/app/183/ether-quest" rel="noopener ugc nofollow" target="_blank">以太探索</a></p><figure class="ll lm ln lo fq iu"><div class="bz el l di"><div class="lp lq l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">They use the previous blockhash with other things the miners can manipulate.</figcaption></figure><p id="bcf4" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#8.<a class="ae jf" href="https://dappradar.com/app/29/kryptowar" rel="noopener ugc nofollow" target="_blank">氪星战争</a>——在<a class="ae jf" href="https://etherscan.io/" rel="noopener ugc nofollow" target="_blank">以太扫描</a>上没有源代码</p><p id="c392" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#9.<a class="ae jf" href="https://dappradar.com/app/31/angel-battles" rel="noopener ugc nofollow" target="_blank">天使之战</a></p><figure class="ll lm ln lo fq iu"><div class="bz el l di"><div class="lp lq l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">They use the previous blockhash plus a “private” salt.</figcaption></figure><p id="928e" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#10.<a class="ae jf" href="https://dappradar.com/app/202/ether's-ark" rel="noopener ugc nofollow" target="_blank">以太方舟</a>——坏基蒂克隆，没有游戏机制</p><p id="4244" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#11.<a class="ae jf" href="https://dappradar.com/app/124/cryptostamps" rel="noopener ugc nofollow" target="_blank">加密邮票</a> —可收藏，无游戏机制</p><p id="d909" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#12.<a class="ae jf" href="https://dappradar.com/app/4/cryptofighters" rel="noopener ugc nofollow" target="_blank">隐斗士</a> s</p><figure class="ll lm ln lo fq iu"><div class="bz el l di"><div class="lp lq l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">They use a nonce with the timestamp. A miner could pick the timestamp that lets them win.</figcaption></figure><p id="58b0" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#13.<a class="ae jf" href="https://dappradar.com/app/216/cryptocars" rel="noopener ugc nofollow" target="_blank">隐形车</a>——没有游戏机制</p><p id="86b8" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#14.<a class="ae jf" href="https://dappradar.com/app/48/cryptocities" rel="noopener ugc nofollow" target="_blank">隐城</a>——没有游戏机制</p><p id="3431" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">对于第15条，我应该放弃声明<em class="lr">我写了这个合同</em>。不管怎样，我后悔我过度设计了随机性。<strong class="kg hu">很明显，以前的blockhash对于休闲游戏来说工作得很好。</strong></p><p id="2bf7" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">#15.<a class="ae jf" href="https://cryptogs.io" rel="noopener ugc nofollow" target="_blank"> Cryptogs </a> —我们使用提交/揭示方案来创建链上随机性。在ETHDenver，我们决定使用一种比以前的blockhash更安全、矿工更难操纵的随机形式。</p><p id="abbb" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated"><a class="ae jf" href="https://github.com/austintgriffith/cryptogs/blob/master/Cryptogs/Cryptogs.sol" rel="noopener ugc nofollow" target="_blank"> Cryptogs.sol </a>使用一个<em class="lr"> future </em> blockhash结合一个已提交然后公开的hash。玩家可以放心，矿工是无法操纵结果的。很酷吧？不，不是真的。</p><p id="65ce" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">我们从所有额外交易中学到的:<strong class="kg hu">不值得。块奖励，加上黑客将不得不花费的时间来潜入合同的内脏，只是不值得偷我的rad <a class="ae jf" href="https://cryptogs.io/cryptog/251" rel="noopener ugc nofollow" target="_blank"> 8球pog </a>。</strong></p><blockquote class="ls"><p id="4f53" class="lt lu ht bd lv lw lx ly lz ma mb ky ek translated"><a class="ae jf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="md me mf mg mh iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mc"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><p id="3f6e" class="pw-post-body-paragraph ke kf ht kg b kh lg kj kk kl lh kn ko jr li kq kr jv lj kt ku jz lk kw kx ky hm dt translated">我们将建立一个延长的合同，以允许一个更便宜的游戏版本。我们还会在一些中央集权和国家频道里撒点，让用户体验更好。原来的，完全分散的，提交/揭示将永远提供给铁杆！</p><figure class="ll lm ln lo fq iu fe ff paragraph-image"><div class="fe ff mi"><img src="../Images/5d6c3de44c700f7e8261c1acfc52dd9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*IbW1SLG3ralQ_FE0FhVdEA.gif"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Play Cryptogs now at https://cryptogs.io</figcaption></figure></div></div>    
</body>
</html>