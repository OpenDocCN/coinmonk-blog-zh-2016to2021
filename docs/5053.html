<html>
<head>
<title>Mapping Ring Signatures and Stealth Addresses in Monero</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Monero中映射环签名和秘密地址</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/mapping-ring-signatures-and-stealth-addresses-in-monero-a5543a434684?source=collection_archive---------1-----------------------#2021-07-27">https://medium.com/coinmonks/mapping-ring-signatures-and-stealth-addresses-in-monero-a5543a434684?source=collection_archive---------1-----------------------#2021-07-27</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="475c" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">以最近一次XHV黑客攻击(2021年6月)为例</h2></div><h1 id="991a" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">介绍</h1><p id="ae6e" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">Monero采用了许多技术来增强加密货币用户的隐私。在这篇文章中，我来看看其中的两个，发送者匿名的<em class="kw">环签名</em>和接收者匿名的S <em class="kw">健康地址</em>。我经常发现这些文档很难理解，因为要么<a class="ae kx" href="https://www.getmonero.org/resources/moneropedia/ringsignatures.html" rel="noopener ugc nofollow" target="_blank">对我来说太浅</a>，要么<a class="ae kx" href="https://web.getmonero.org/library/Zero-to-Monero-2-0-0.pdf" rel="noopener ugc nofollow" target="_blank">包含太多希腊符号</a>，让我头疼。在这篇文章中，我试图更深入地研究这两种技术，但是保持它的直观性，我自己也是这样学习的。我希望如此。以及一个追踪真实世界黑客的例子，让它变得更有趣一些。</p><p id="00f8" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">由于Monero已经被分叉并用作多个其他区块链的基础，环签名和秘密地址的相同概念也更广泛地应用于那些分叉的区块链。这些分叉项目之一是<a class="ae kx" href="https://havenprotocol.org/" rel="noopener ugc nofollow" target="_blank"> Haven协议(XHV) </a>私有stablecoin项目。我将使用来自2021年6月XHV攻击的例子，强调隐藏地址和环签名的相互作用，以及它们如何与XHV开发人员试图解决的攻击相关。</p><p id="6268" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">由于XHV区块链上的<a class="ae kx" href="https://havenprotocol.medium.com/haven-protocol-successfully-deploys-rollback-hard-fork-206e5ead190e" rel="noopener">漏洞没有完全恢复，数据应该还在那里，以便任何感兴趣的人在实践中检查。不管怎样，只要区块链还存在。无论如何，让我们先简要了解一下相关的Monero隐私特性，以便做好准备。</a></p><h1 id="77f3" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">Monero隐私功能</h1><p id="aa0b" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">Monero使用多种隐私增强机制。其中包括<a class="ae kx" href="https://web.getmonero.org/resources/moneropedia/pedersen-commitment.html" rel="noopener ugc nofollow" target="_blank">彼得森承诺</a>、<a class="ae kx" href="https://web.getmonero.org/resources/moneropedia/ringsignatures.html" rel="noopener ugc nofollow" target="_blank">戒指签名</a>、<a class="ae kx" href="https://web.getmonero.org/resources/moneropedia/ringCT.html" rel="noopener ugc nofollow" target="_blank">戒指机密交易(RingCT) </a>、<a class="ae kx" href="https://web.getmonero.org/resources/moneropedia/stealthaddress.html" rel="noopener ugc nofollow" target="_blank">隐形地址</a>。这些技术可分为隐藏交易中转账金额的技术、隐藏交易收款人的技术和隐藏汇款人的技术。有很多隐藏，所以让我们看看每一个。</p><h2 id="f4a1" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">交易金额</h2><p id="b13f" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">交易匿名的一个核心方面是交易金额，即交易花费/发送了多少资金。这与隐藏金额本身有关，但也是为了将一项交易的输入与另一项交易的输出相关联。例如，如果您可以查看在一次交易中发送的特定金额，并在随后的另一次交易中发现相同的金额，您可以推断出第一次交易的收款人可能是第二次交易的付款人，或者它与您认为已获得的其他资产的价格相匹配。</p><p id="612d" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">Monero最初没有隐藏金额，交易的输入和输出金额在区块链上是可见的。如果您查看区块链早期的Monero交易，您仍然可以看到这一点，例如<a class="ae kx" href="https://localmonero.co/blocks/tx/9c3c0086ef9aa98f370dac303c5dca109678bf95c9e4252e103dab16dce46fa8" rel="noopener ugc nofollow" target="_blank">100000</a>区块中2014年的交易。</p><p id="7fda" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">如今，Monero使用一种叫做<a class="ae kx" href="https://web.getmonero.org/resources/moneropedia/pedersen-commitment.html" rel="noopener ugc nofollow" target="_blank"> Pedersen Commitment </a>的加密方案来隐藏金额。我在<a class="ae kx" rel="noopener" href="/coinmonks/zero-knowledge-proofs-um-what-a092f0ee9f28">关于零知识证明的文章</a>中详细描述了彼得森承诺。与此相关，在本文后面我还将讨论环签名，这也是<a class="ae kx" href="https://monero.stackexchange.com/questions/6312/why-monero-used-to-split-amounts-by-denominations" rel="noopener ugc nofollow" target="_blank">过去需要考虑的数量</a>。然而，自从引入<a class="ae kx" href="https://monero.stackexchange.com/questions/3683/can-someone-walk-me-through-a-simple-example-to-explain-how-ringct-works?rq=1" rel="noopener ugc nofollow" target="_blank"> RingCT协议</a>以来，Ring签名现在也隐藏了Pedersen承诺的金额。</p><p id="1a10" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">因此，总的来说，关于交易金额，目前基于Monero的区块链隐藏得很好，这对用户来说非常透明。也就是说，用户不需要真正关心它，因为它总是在使用协议时自动发生。</p><h2 id="1635" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">交易接收者</h2><p id="e0df" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">在Monero中隐藏交易接收者的方法被称为<a class="ae kx" href="https://web.getmonero.org/resources/moneropedia/stealthaddress.html" rel="noopener ugc nofollow" target="_blank">隐形地址</a>。在Monero社区中，隐藏地址的含义似乎有些含糊不清，但在这里，我将其用作区块链上可见的交易接收方地址。</p><p id="45c9" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">秘密地址不同于钱包地址。我在这里提到的Monero钱包地址是当你启动官方的Monero命令行(CLI)钱包，并输入“地址”命令时得到的地址。或者在GUI或您使用的任何钱包中也是如此。这个钱包地址实际上从未出现在基于Monero的区块链上，只有秘密地址会出现。</p><p id="2301" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">给定目标(接收者)钱包地址，发送者钱包生成一次性秘密地址。这个生成的隐藏地址在区块链中用作交易接收方地址。<a class="ae kx" href="https://steemit.com/monero/@luigi1111/understanding-monero-cryptography-privacy-part-2-stealth-addresses" rel="noopener ugc nofollow" target="_blank">椭圆曲线数学用于从给定接收者钱包地址中编码的公钥创建秘密地址，并使用大的随机因子</a>。这使得每个秘密地址都是唯一的。即使同一个发送者向同一个接收者发送Monero，隐形地址对于每笔交易也总是不同且唯一的。这是隐藏交易接收者的机制。</p><p id="a8ed" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">关于建造隐形地址的细节，我推荐这篇<a class="ae kx" href="https://monero.stackexchange.com/questions/1409/constructing-a-stealth-monero-address" rel="noopener ugc nofollow" target="_blank">优秀栈交换贴</a>，以及类似Luigi1111 的<a class="ae kx" href="https://steemit.com/monero/@luigi1111/understanding-monero-cryptography-privacy-part-2-stealth-addresses" rel="noopener ugc nofollow" target="_blank">优秀文章。当查看区块链时，如果没有匹配的私钥，秘密地址就无法与任何钱包地址匹配。只有接收者能够访问与用于生成秘密地址的公钥相匹配的私钥，因此只有他们的钱包能够识别针对他们的交易。</a></p><h2 id="bcfd" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">猴子看，猴子做(涂鸦)</h2><p id="1809" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">为了让这个看起来更形象，我做了下面这个关于邮件系统的最漂亮的涂鸦，作为隐形地址如何工作的隐喻。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff lr"><img src="../Images/58efcc2d6657bb025ab9ce3b1fd35f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K71qXFU2qks-ix7FqGBbBw.png"/></div></div><figcaption class="md me fg fe ff mf mg bd b be z ek">My most impressive doodle on using mail as a metaphora for a Stealth Address. Pics from Pixabay: <a class="ae kx" href="https://pixabay.com/vectors/face-monkey-smile-smiling-2025030/" rel="noopener ugc nofollow" target="_blank">monkey</a>, <a class="ae kx" href="https://pixabay.com/vectors/envelope-mail-postage-post-office-3172770/" rel="noopener ugc nofollow" target="_blank">envelope 1</a>, <a class="ae kx" href="https://pixabay.com/illustrations/airmail-envelope-vintage-airmail-163625/" rel="noopener ugc nofollow" target="_blank">envelope 2</a>, <a class="ae kx" href="https://pixabay.com/vectors/message-private-message-mail-email-369540/" rel="noopener ugc nofollow" target="_blank">envelope 3</a>, <a class="ae kx" href="https://pixabay.com/vectors/avatar-flat-modern-minimal-5261900/" rel="noopener ugc nofollow" target="_blank">heads 1</a>, <a class="ae kx" href="https://pixabay.com/vectors/avatar-flat-modern-minimal-5261902/" rel="noopener ugc nofollow" target="_blank">heads 2</a>, <a class="ae kx" href="https://pixabay.com/vectors/avatar-flat-modern-minimal-5261896/" rel="noopener ugc nofollow" target="_blank">heads 3</a>, <a class="ae kx" href="https://pixabay.com/vectors/avatar-flat-modern-minimal-5261898/" rel="noopener ugc nofollow" target="_blank">heads 4</a>, <a class="ae kx" href="https://pixabay.com/vectors/garbage-icon-rubbish-trash-1295900/" rel="noopener ugc nofollow" target="_blank">trashcan</a>, <a class="ae kx" href="https://pixabay.com/vectors/piggy-bank-bank-pork-money-3718557/" rel="noopener ugc nofollow" target="_blank">piggy</a>, <a class="ae kx" href="https://pixabay.com/vectors/postman-letter-man-post-service-836940/" rel="noopener ugc nofollow" target="_blank">mailman</a>.</figcaption></figure><p id="5aea" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">考虑图中列出的7个步骤:</p><ol class=""><li id="8319" class="mh mi ht kc b kd ky kg kz kj mj kn mk kr ml kv mm mn mo mp dt translated">乔治(左边的猴子)想给鲍勃(右边的秃子)寄10块钱。所以他开始建立一个Monero交易，并把10 Monero放进去。</li><li id="0ff5" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mm mn mo mp dt translated">乔治有鲍勃的钱包地址。可能是他从Bob的Github项目里找到的，求捐款。乔治想寄些钱来。使用在Bob的公共钱包地址中编码的公钥，George的钱包生成一个唯一的秘密地址来向Bob发送资金。</li><li id="d1e8" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mm mn mo mp dt translated">George将这个新生成的秘密地址放在10 Monero交易中作为接收方地址。</li><li id="b621" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mm mn mo mp dt translated">乔治把交易交给邮递员投递。这里的邮递员代表着Monero点对点区块链网络。由运行Monero守护程序软件的节点组成。</li><li id="600a" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mm mn mo mp dt translated">邮递员，或在这种情况下的Monero网络，将交易的副本发送给区块链的每个用户。或者他们的钱包。</li><li id="3431" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mm mn mo mp dt translated">每个人都试图通过将他们的私钥与秘密地址相匹配来读取和打开事务。或者他们的钱包自动这样做。</li><li id="a637" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mm mn mo mp dt translated">其他人都放弃了交易，因为他们的密钥不匹配，除了Bob，他的私钥与George从他的钱包地址使用的公钥相匹配。所以鲍勃得到了10块钱，并把它们放进了他的钱包(piggybank)以备后用。</li></ol><p id="ab0b" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">就本文而言，关键的要点是为每笔交易生成一个唯一的接收方地址，这就是您在区块链上看到的交易接收方地址。这就是(我所说的)秘密地址。这是下一步使用环签名隐藏交易发送者的一个重要元素，以及我们以后如何使用它来寻找环签名和隐藏地址之间的联系。我稍后讨论的XHV hack将更具体地说明这个链接。</p><h2 id="7637" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">交易发送方</h2><p id="9bb1" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">正如我已经提到的，在Monero中隐藏交易发送者的方法被称为环签名。环签名之所以如此命名，是因为在算法如何被应用中的<a class="ae kx" href="https://en.wikipedia.org/wiki/Ring_signature" rel="noopener ugc nofollow" target="_blank">环状结构。该算法的基本思想是建立一个可能签名者的匿名集合，并在该匿名集合中隐藏真实的发送者/签名者。在这种情况下，签名者指的是事务输出(秘密地址),该事务输出可以在附加了环签名的事务中使用。下面举例说明一个戒指签名(是的，这只是根据我的理解涂鸦):</a></p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/71f08cd2f43de2bec0918f08648a571b.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*74OX_5ud3ZvSKMarpWtacQ.png"/></div><figcaption class="md me fg fe ff mf mg bd b be z ek">My Ring Signature doodle. Green is the real tx, hiding in yellow decoys.</figcaption></figure><p id="1bb4" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">在上图中，我将<em class="kw"> T9 </em>(作为环中的事务输出9)涂成绿色，以说明在这种情况下它是真正的输入。这只是为了说明，因为真实的输入/签名者被随机放置在环上。因为如果它总是在同一个位置，它是哪一个就很明显了。<a class="ae kx" href="https://monero.stackexchange.com/questions/3683/can-someone-walk-me-through-a-simple-example-to-explain-how-ringct-works?rq=1" rel="noopener ugc nofollow" target="_blank">环签名算法</a>以类似环的顺序处理这些，因此得名。</p><p id="118f" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">Monero <a class="ae kx" href="https://www.getmonero.org/resources/moneropedia/ring-size.html" rel="noopener ugc nofollow" target="_blank">目前强制执行11 </a>的环大小，这意味着该环包含真实的事务输入和10个虚假的<em class="kw">诱饵</em>事务输出(有时称为<a class="ae kx" href="https://monero.stackexchange.com/questions/8462/are-mixins-now-officially-called-decoys-and-when-did-that-happen" rel="noopener ugc nofollow" target="_blank"> <em class="kw">混合</em> </a>)。<a class="ae kx" href="https://monero.stackexchange.com/questions/7233/would-a-fixed-ring-size-improve-anonymity" rel="noopener ugc nofollow" target="_blank">戒指大小过去可以由用户更改</a>，但强制计数11目前用于避免不同的戒指大小泄露关于特定用户的额外元数据，从而削弱整体匿名设置。</p><p id="ba33" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">环中的签名是使用来自区块链上真实交易的一组秘密地址生成的。谁都能证明其中一个签名是真的，但不能证明是哪个。这给了每一个环参与者可信的否认。真正的签名者当然是发送真正资金的人，或者是在秘密地址花费他们收到的输出的人。但是你不知道它是11个中的哪一个。此外，在每个交易花费中包含一个<a class="ae kx" href="https://monero.stackexchange.com/questions/2883/what-is-a-key-image" rel="noopener ugc nofollow" target="_blank">键图像</a>,以确保每个输出仅花费一次。</p><p id="ebfa" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">关于环签名实现的细节，我推荐优秀的<a class="ae kx" href="https://monero.stackexchange.com/questions/3683/can-someone-walk-me-through-a-simple-example-to-explain-how-ringct-works?rq=1" rel="noopener ugc nofollow" target="_blank">栈交换答案</a>用于Monero和RingCT细节，或者<a class="ae kx" href="https://en.wikipedia.org/wiki/Ring_signature" rel="noopener ugc nofollow" target="_blank">维基百科文章</a>的原始环签名方案的示例代码。</p><p id="508d" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">对于本文来说，理解隐藏地址定义了事务接收者就足够了，当事务输出失效时，失效输出的隐藏地址出现在事务环签名中。但是秘密地址也可能在其他交易中作为虚假诱饵出现。</p><h2 id="2fc8" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">想象一下:来自XHV Explorer的秘密地址和环形签名</h2><p id="c8bd" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">为了说明这一点，这里有一个Haven protocol (XHV) explorer的屏幕截图，显示了一个被攻击的coinbase输出(通常金额是隐藏的，但coinbase / miner事务显示了它们):</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mw"><img src="../Images/522470fb15c037c4e03ce9800425b124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*telEVpPCa48VsnkTUv9qZw.png"/></div></div><figcaption class="md me fg fe ff mf mg bd b be z ek">Screenshot of a coinbase output on XHV chain. <a class="ae kx" href="https://explorer.havenprotocol.org/tx/7d48e1189e2f4013bbe1f217d48baf909e1bad681a94d136c7a6ce3ae44f8236" rel="noopener ugc nofollow" target="_blank">This link </a>should take you to it, if the explorer exists as used to.</figcaption></figure><p id="c1b8" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">请注意，上面的屏幕截图显示了每个事务输出如何为接收者提供一个可见的隐藏地址。并且它总是唯一的，即使去相同的接收者钱包。上面截图中的所有输出，其实都是支付给同一个(黑客)钱包，只是各自有不同的隐身地址。在上面的截图中，我突出显示了一行101k的xUSD输出。让我们把它映射到一个环签名。</p><p id="afe6" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">下面是资源管理器的屏幕截图，显示了上面突出显示的隐藏地址是如何用于Ring签名的:</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mx"><img src="../Images/d662743eeed0a8ecf51841f3920e62be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3A_MGZyKO8gdbO6PKxqSMA.png"/></div></div><figcaption class="md me fg fe ff mf mg bd b be z ek">Screenshot of explorer with a ring signature using the previous screenshots Stealth Address. <a class="ae kx" href="https://explorer.havenprotocol.org/search?value=f864dc3816ef75e3217f08fb0aed343bcdd220ae7969b415df0472a894efcaab" rel="noopener ugc nofollow" target="_blank">Link</a>.</figcaption></figure><p id="dab0" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">在这个截图中，我将它标记为真正的输出。一般来说，我们无法判断这是一个真实的输入还是一个诱饵输入。在这种情况下，我相信这是真正的花费，正如我将很快解释的那样，这是由于黑客们花掉它的一些方式。然而，一般来说，这应该说明隐形地址是如何在环签名中作为真实地址或诱饵地址出现的。从区块链的公开数据来看，我们真的不能断定是哪一个。</p><p id="33c4" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">最后，在所有冗长的解释之后，让我们看看承诺的XHV攻击，以及秘密地址和环签名是如何进行的。</p><h1 id="ff8f" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">看看XHV Hack的例子</h1><p id="060b" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">首先，为了更好地理解XHV漏洞描述，以及它们与隐藏地址和环签名的关系，需要一些简短的背景知识。</p><h2 id="df0e" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">什么是XHV</h2><p id="83f2" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">XHV，或<a class="ae kx" href="https://havenprotocol.org/" rel="noopener ugc nofollow" target="_blank"> Haven协议</a>，被称为<a class="ae kx" href="https://hackernoon.com/algorithmic-stablecoins-a-beginners-guide-pmh320t" rel="noopener ugc nofollow" target="_blank">算法稳定核心</a>。令人惊讶的是，基本的XHV标记叫做XHV。它可以在交易所交易，并在钱包之间发送，类似于Monero的XMR。为了创建算法stablecoin功能，XHV还在区块链上实现了其他令牌类型，例如xUSD跟踪美元值，xBTC跟踪比特币值，xJPY跟踪日元值。可以在XHV区块链上创建特殊的事务，将这些令牌类型中的一种更改为另一种，这些令牌可以像基本XHV本身一样在钱包之间发送。</p><p id="61ac" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">美元、BTC等的跟踪价格。，由<a class="ae kx" href="https://chain.link/" rel="noopener ugc nofollow" target="_blank">链</a>神谕决定，比如<a class="ae kx" href="https://data.chain.link/ethereum/mainnet/crypto-usd/xhv-usd" rel="noopener ugc nofollow" target="_blank">XHV-USD</a>的那个。不涉及太多的细节，这些概念只在较高的层次上与本文的多种资产类型相关，因为它们出现在讨论以下XHV利用的例子中。</p><h2 id="bd95" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">功勋</h2><p id="614f" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">在这里使用的例子中，在XHV blockhain 的几天时间里，有<a class="ae kx" href="https://havenprotocol.org/wp-content/uploads/2021/07/Technical-Overview-of-June-2021-Exploits.pdf" rel="noopener ugc nofollow" target="_blank">个不同的漏洞被利用。我将使用列表中的第一个漏洞作为示例。这个漏洞滥用了一些关于如何创建miner (coinbase)事务的遗漏检查。如果感兴趣，可以类似地分析其他漏洞的输出，因为它们都列在XHV teams </a><a class="ae kx" href="https://havenprotocol.medium.com/haven-protocol-technical-overview-of-june-2021-exploits-6f4573fbf216" rel="noopener"> Medium post </a>上。</p><p id="465b" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">列表中第一个被利用的miner事务在XHV块<a class="ae kx" href="https://explorer.havenprotocol.org/block/882877" rel="noopener ugc nofollow" target="_blank"> 882877 </a>中。具体而言，攻击者利用漏洞利用错过检查来验证额外资产令牌的矿工奖励(也称为coinbase)交易中的采矿奖励/费用。在<a class="ae kx" href="https://explorer.havenprotocol.org/tx/7d48e1189e2f4013bbe1f217d48baf909e1bad681a94d136c7a6ce3ae44f8236" rel="noopener ugc nofollow" target="_blank">区块882877采矿交易</a>(也是上面签名部分的截图)中，你可以看到101k xUSD和6.73 xBTC被凭空创建。在块<a class="ae kx" href="https://explorer.havenprotocol.org/block/883040" rel="noopener ugc nofollow" target="_blank"> 883040 </a>中再次利用miner事务，获得相同数量的<a class="ae kx" href="https://explorer.havenprotocol.org/tx/45e4eba24ffa4f431ff433a58bafd67f17f7cfab4c4fb1263afdbeb8765b423f" rel="noopener ugc nofollow" target="_blank"> 6.73 xBTC和101k xUSD </a>。</p><p id="6752" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">那么这与秘密地址和环签名有什么关系呢？在XHV开发人员注意到/被告知异常大的矿工奖励后，他们试图阻止黑客使用那些被黑客攻击的101k xUSD和6.73 xBTC输出。这就是那些事务输出的秘密地址和环签名发挥作用的地方。</p><h2 id="9a4c" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">试图阻止被剥削资金的支出</h2><p id="f5de" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">如前所述，Monero不包括区块链上的实际接收方地址。取而代之的是，它为每笔交易创建一个一次性的秘密地址，这个秘密地址是基于接收者在他们的钱包地址中编码的加密公钥。虽然您不能将单个隐藏地址映射到任何特定的接收者/钱包，但是您可以将其映射到特定交易的环签名，其中由隐藏地址标识的输出可能被用作输入/花费(或作为诱饵)。之前的截图说明了这一点。</p><p id="d59b" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">在这种情况下，XHV开发者会将秘密地址用作被利用的交易的支付的目标地址，并扫描区块链以找到使用这些秘密地址作为输入的任何环签名，从而找到这些资金的任何潜在花费。在没有找到匹配的环签名/交易花费的情况下，可以假设资金还没有被花费/从初始目标秘密地址转移。阅读他们的<a class="ae kx" href="https://havenprotocol.medium.com/haven-protocol-technical-overview-of-june-2021-exploits-6f4573fbf216" rel="noopener">报告</a>，这可能是他们假设的情况。</p><p id="911b" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">为了阻止攻击者使用他们开发的资金，他们<a class="ae kx" href="https://havenprotocol.medium.com/haven-protocol-technical-overview-of-june-2021-exploits-6f4573fbf216" rel="noopener">为最大的XHV挖掘池提供了一个经过修改的软件</a>，该软件可以丢弃任何使用这些秘密地址作为其环签名一部分的新交易。<a class="ae kx" href="https://miningpoolstats.stream/haven" rel="noopener ugc nofollow" target="_blank">这些最大的矿池将让他们控制超过51%的网络散列能力</a>。这种51%以上的哈希能力使任何人都有能力丢弃其他人挖掘的任何块，在这种情况下，这些块将包含来自被利用的输出的秘密地址作为输入。</p><p id="7583" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">然而，阅读他们的<a class="ae kx" href="https://havenprotocol.org/wp-content/uploads/2021/07/Technical-Overview-of-June-2021-Exploits.pdf" rel="noopener ugc nofollow" target="_blank">报告</a>和<a class="ae kx" href="https://havenprotocol.medium.com/haven-protocol-technical-overview-of-june-2021-exploits-6f4573fbf216" rel="noopener">中期报告</a>，开发商似乎在他们的扫描中犯了一些错误，资金没有被花掉的想法并不是真实的情况。我们可以简单地通过使用XHV守护进程共享的<a class="ae kx" href="https://www.getmonero.org/resources/developer-guides/daemon-rpc.html" rel="noopener ugc nofollow" target="_blank"> Monero守护进程RPC API </a>来验证这一点。我们可以用这个API查询网络节点中的块和事务，并在环签名中寻找任何具有特定隐藏地址的输入。让我们看看它看起来怎么样。</p><h2 id="c248" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">将秘密地址映射到环签名</h2><p id="2426" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">为了构建这个例子，我在XHV网络中查询那些在环签名中具有被利用的miner事务的隐藏地址的事务。一旦我找到了，我再重复一次扫描，以找到使用这些潜在花费作为他们的环签名的输入的交易。下图显示了这一过程的结果，以及被利用的miner事务如何在随后的区块中扩散到区块链:</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff my"><img src="../Images/2533b67583f8c1c7c137226bdf59df95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vFzJDgKPReO7x4PGjKAXmw.png"/></div></div><figcaption class="md me fg fe ff mf mg bd b be z ek">Hacker TX fan-out into the blockchain and its ring signatures.</figcaption></figure><p id="c4e5" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">上图说明了两个被利用的事务输出如何从来自块882887 的原始<a class="ae kx" href="https://explorer.havenprotocol.org/tx/7d48e1189e2f4013bbe1f217d48baf909e1bad681a94d136c7a6ce3ae44f8236" rel="noopener ugc nofollow" target="_blank">被利用的miner事务扇出。上图中被利用的两个miner事务是图左侧的事务，标记为<em class="kw"> 882877 xUSD 100k </em>和<em class="kw"> 882877 6.73 xBTC。</em>如果你在block explorer </a>上查看<a class="ae kx" href="https://explorer.havenprotocol.org/tx/7d48e1189e2f4013bbe1f217d48baf909e1bad681a94d136c7a6ce3ae44f8236" rel="noopener ugc nofollow" target="_blank"> miner事务，xUSD事务被支付到隐身地址<em class="kw">3b8e 80 a 279000d 3d 32826010 b 665 e 2 c 78 AAF 25d 1744 c 49 ca c8 a5 da 154d 293875</em>，xBTC被支付到隐身地址<em class="kw">7 dec 1 f 53 DD 30416458926 BD 35 e 9 C1 fff 98。</em></a></p><p id="50cd" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">扫描这些秘密地址作为环签名的一部分，在块<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=f864dc3816ef75e3217f08fb0aed343bcdd220ae7969b415df0472a894efcaab" rel="noopener ugc nofollow" target="_blank"> 882939 </a>、<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=7c897d1409f54f00d5ecc5ba7e3d4027db975cf13624ba8c39593aaf966518d9" rel="noopener ugc nofollow" target="_blank"> 883064 </a>、<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=a5903080ecc87b1166cc834e0eb48324bb682d384ce3e69864486e74454cc18b" rel="noopener ugc nofollow" target="_blank"> 883410 </a>中，xUSD输出用作三个事务的环签名的输入。在模块<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=8733388b614cea9131dbd278dca97948819df53a76aeff2a8052902d14e005e2" rel="noopener ugc nofollow" target="_blank"> 882939 </a>和<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=ffb29e77f420792b162aecfe80db821f907cdfabcd7873350c8364fe54a0ad72" rel="noopener ugc nofollow" target="_blank"> 883041 </a>中，xBTC输出同样用作两个环形签名的输入。</p><p id="87e5" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">在上图中，我用绿色突出显示了882939，因为对我来说，这似乎很清楚，这是花费882877块中开发的资金的实际交易。我不能100%证明这一点，因为环签名在xUSD和xBTC交易的10个其他诱饵中混淆了发送者。然而，这是一个很好的例子，说明如果你的行为通过其他启发背叛了你，这些隐私机制不一定单独隐藏你。</p><p id="c0e5" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">我这样说是因为块882877包含使用xUSD和xBTC开发的输出作为环成员的事务。两个输出也在同一块中首次出现在任何环签名中。就Monero选择诱饵的方式而言，在同一个区块进行两笔交易，使用完全相同的前一笔交易的诱饵，是极不可能的。更有甚者，Monero对miner (coinbase)交易的解锁时间为60个块，如块882877中的漏洞，882939和882877之间的差异为62个块。所以882939是第一批被黑客攻击的输出可能被使用的地方之一。这一切同时发生，真是太巧了。这说明了技术可以完美地工作，但你的行为仍然会背叛你。对黑客来说可能没什么区别，但是一个很好的例子。</p><h2 id="540a" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">为什么只有2-3个环使用开发的输出</h2><p id="1036" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">上图显示了只有3个和2个模块，其中xUSD和xBTC输出显示为环形输入，但对于图中的其它处理，则有更多。这是XHV开发者努力停止使用它们的结果，只是有点晚了，因为它们已经在3和2块中被用作真正的输入/诱饵。但如果不是这样，正如截止日期所显示的那样，停止可能会很好。</p><h2 id="fc7f" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">扇出进入区块链</h2><p id="d50f" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">在上图中，我将块882939中来自xUSD支付的<a class="ae kx" href="http://f864dc3816ef75e3217f08fb0aed343bcdd220ae7969b415df0472a894efcaab" rel="noopener ugc nofollow" target="_blank">两个交易输出</a>展开，作为输出的更实际扇出看起来像下面块中的多个环签名的例子。第一个(图中标为<em class="kw"> output1 </em>)支付给隐身地址<em class="kw">71d 224 f 0043 fdf 8 C5 b 6 E8 BC 292 f1 C1 e 07 BF 820d 707 C2 d 9 b 04 b 6335d 49 BF 37 e4b</em>。第二个扇出输出(<em class="kw"> output2 </em>)支付给隐形地址<em class="kw">AFA 169 a 74 b 1581 cafed 215219 ca 7b 7708802 EC 13945540d 3 fb9 ba 30 e 188d 842</em>。</p><p id="25fa" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">如图所示，882939块的<em class="kw">输出1 </em>可以作为<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=b78ae3f494451ff377cdf6dd239c41c6375a0866c66a4c7ea528f6a6f9f3185e" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> 883000 </em> </a>、<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=3fa14c79d8da49f7764b263b6105406cc3f4c6a5779ed91c9540eb715a18c520" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> 883105 </em> </a>、<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=7f9ecbd43ac1dd6ee54fa7cb420136154900ccbb5f64d70529d2ad058af1e8a7" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> 883155 </em> </a>、<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=a446b7299e9938042f624871d068efe7a84a06a0c5d75cbf1504cea83933c561" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> 883247 </em> </a>、<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=582c59946561f0ae43923e055a5738fed7320b144b58c81c6295504c206b6f05" rel="noopener ugc nofollow" target="_blank"><em class="kw">883337同样，输出2可以在<a class="ae kx" href="https://explorer.havenprotocol.org/search?value=7396214b3b9883a1155c6d58b50fd1554b03614c7ef3dc205bfdd3498c8ff4c0" rel="noopener ugc nofollow" target="_blank"><em class="kw"/></a><a class="ae kx" href="https://explorer.havenprotocol.org/search?value=0dae17cef562146ea19d1a6863439a2512f9d1831904a17fdbbd43ad7676c132" rel="noopener ugc nofollow" target="_blank"><em class="kw">883903</em></a><a class="ae kx" href="https://explorer.havenprotocol.org/search?value=a26b423f4e9674939bfa03a6d5040f3d03f601b6c51414c08f4ff46f3a5b46e2" rel="noopener ugc nofollow" target="_blank"><em class="kw">883925</em></a><a class="ae kx" href="https://explorer.havenprotocol.org/search?value=894f7f1e1fa7cbf6e222e8f8be473339bac732675bf81a0596f340464bcd48e9" rel="noopener ugc nofollow" target="_blank"><em class="kw">883986</em></a><a class="ae kx" href="https://explorer.havenprotocol.org/search?value=4f8f5903a57850813e1e6fc7e147d29aac5b0dfb857c65eb8850d9da6c82e4de" rel="noopener ugc nofollow" target="_blank"><em class="kw">883991</em></a><a class="ae kx" href="https://explorer.havenprotocol.org/search?value=a13e1254579364c673d5add93a12955357b0abbf6f58a872a68784b48ea93488" rel="noopener ugc nofollow" target="_blank"><em class="kw">883996【中找到如果你想自己检查，只需打开这些链接，搜索我上面复制粘贴的秘密地址。</em></a></em></a></p><h2 id="5782" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">与用户隐私的相关性</h2><p id="591e" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">除了所有这些技术方面，阅读关于黑客和所有可能是有趣的。或者可能大家都已经睡着了。但是这和普通用户有关系吗？</p><p id="cfa0" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">如果你只关心一些基本的隐私，或者如果你根本不关心隐私和匿名，你可能很好地使用基于Monero的协议。如果你真的更关心它，我们可以从这里收集到一些值得记住的要点:</p><ul class=""><li id="d520" class="mh mi ht kc b kd ky kg kz kj mj kn mk kr ml kv mz mn mo mp dt translated">当你收到任何交易时，考虑在短时间后重新发送给你自己，或者一般情况下<a class="ae kx" href="https://monero.stackexchange.com/questions/4565/what-is-churning?noredirect=1&amp;lq=1" rel="noopener ugc nofollow" target="_blank">搅动</a>几次。这将模糊资金的秘密地址，而不仅仅是包含在其他环签名中。但是要小心明显的模式，比如上面的miner漏洞。</li><li id="2a0a" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated">考虑可以用来标识和链接事务的其他元数据。在上面的XHV hack示例中，元数据是在原始事务解锁之后，同时使用来自同一个miner事务的多个输出。</li></ul><p id="9e74" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">然而，让这变得更复杂的是，搅拌和其他技术也不是那么简单就能完美完成的。一些相关的讨论在<a class="ae kx" href="https://monero.stackexchange.com/questions/12306/estimating-anonymity-set-size/12316#12316" rel="noopener ugc nofollow" target="_blank">本栈交流帖</a>中。为了使它完美，你的搅拌应该看起来像真正的诱饵模式。但是做这样完美的优化可能会有点复杂，所以对以上几点的一些基本考虑可能就足够了。这是非常棘手的，因为我现在知道任何具体的支持，可以对花费哪些交易输出进行粒度控制，甚至可以看到Monero钱包中的具体输入和输出。</p><p id="82b4" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">总的来说，与时间相关的分析似乎是尝试和分析Monero交易最常见的方法之一。为了更深入地研究诱饵选择算法，我在这里写了一个小的研究，但是有点长。这似乎经常发生在我身上。因此，为了避免更长的篇幅和太多的题外话，我将把关于诱饵选择和时机分析的细节留到以后再说。</p><h2 id="2bf2" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">其他元数据</h2><p id="c21f" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">除了基于时间的分析之外，在Monero的整个生命周期中，还发现并解决了与交易分析、环签名、诱饵和相关主题相关的各种其他问题。在Monero团队的<a class="ae kx" href="https://www.youtube.com/playlist?list=PLsSYUeVwrHBnAUre2G_LYDsdo-tD0ov-y" rel="noopener ugc nofollow" target="_blank">打破Monero YouTube系列</a>中有一个关于这个话题的非常好的和广泛的讨论。我不会在这里讨论任何细节，但是如果你对这个话题感兴趣，这绝对是一部值得一看的剧集。</p><h2 id="d745" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">环签名的未来展望</h2><p id="cffa" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">虽然目前的Monero戒指尺寸为11，但Monero实验室最近的研究课题包括<a class="ae kx" href="https://ccs.getmonero.org/proposals/cypherstack-sarang-triptych-research.html" rel="noopener ugc nofollow" target="_blank">三联画和相关创意</a>，旨在实现更大的戒指尺寸。这使得对交易发送者以及他们之间的关系的任何分析变得更加困难。它还应该提供更广泛的诱饵模式，使您更难在自己的交易中不匹配它们。</p><h1 id="6feb" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">软件测试的强制性推广</h1><p id="a08f" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">我在软件测试领域工作了多年(主要是工程部分)，我将借此机会就这些加密货币黑客和我对这个主题的看法说几句话，即使它实际上不是关于环签名和秘密地址。很抱歉。</p><p id="fb89" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">关于XHV黑客，他们发布的<a class="ae kx" href="https://havenprotocol.medium.com/haven-protocol-technical-overview-of-june-2021-exploits-6f4573fbf216" rel="noopener">报告似乎指向相当缺乏的软件开发实践</a>(寻找经验教训)。似乎很少或没有测试，缺乏代码审查和审计，并且在开发中获得任何(有益的)社区参与似乎很少或没有支持。对于一个在互联网上公开分散运行的开源金融项目来说，这是非常可怕的阅读，有时价值数亿美元或更多。</p><p id="3493" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">阅读这些经验教训，至少XHV团队现在认识到了这一点，并努力改进。我想一步到位地改变基本流程和人们的工作实践还有待观察。</p><p id="e090" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">当然，XHV团队并不孤单，例如，大约一个月后(2021年7月)，另一个名为<a class="ae kx" href="https://thorchain.finance/" rel="noopener ugc nofollow" target="_blank"> Thorchain </a>的加密货币项目也发生了类似的<a class="ae kx" href="https://www.msn.com/en-au/money/markets/thorchain-hacked-for-third-time-in-a-month-with-a-11m-stolen/ar-AAMsZwW" rel="noopener ugc nofollow" target="_blank">多起黑客攻击，损失高达数百万美元</a>。虽然没有那么糟糕，但我阅读的一些报告指出了开发流程、测试等方面的类似限制。一般来说，这种黑客攻击似乎几乎每月都会在加密货币项目中发生，特别是对于具有更大新代码库(因此未经测试的攻击面)的新项目。也许这是一种习惯，但是在测试和安全性上花些心思也无妨。</p><p id="559a" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">当然，每个人都会犯错误，我想从错误中吸取教训是最重要的。但这不应该成为忽视最基本的质量保证的借口。</p><h1 id="d73a" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">结论</h1><p id="62f6" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">我希望这篇文章能对什么是环签名和秘密地址，以及它们是如何工作的有所了解。我发现Monero如何将许多最新的密码研究应用于实践，结合不同的密码技术来创建一个私人和分散的交易系统，并且没有任何像我在这里部分描述的那样的大黑客攻击，这给我留下了非常深刻的印象。</p><p id="2a7f" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">Monero技术可能相当复杂，但最终我发现一个好的解释有助于让复杂的主题变得容易理解。很像比特币一样聪明，但一旦你找到合适的资源来解释它，就不会太难理解。Luigi1111的秘密地址文章很棒，可惜他似乎从来没有抽出时间看他的戒指签名文章。</p><p id="9053" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">对于那些对如何使用Monero API来分析区块链感兴趣的人来说，在我写<a class="ae kx" rel="noopener" href="/coinmonks/merkle-trees-concepts-and-use-cases-5da873702318">我的关于Merkle Trees </a>的早期文章时，我使用Monero守护程序/节点API构建了一个<a class="ae kx" href="https://github.com/mukatee/monero-scraper" rel="noopener ugc nofollow" target="_blank">小工具来抓取Monero区块链</a>。这让我可以对数据进行局部分析，我在本文中也应用了这些数据。也许有一天我也会完成我为这篇文章添加的内容，并更新Github，尽管它应该已经是一般过程的一个例子了。</p><p id="63b6" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">就我个人而言，我觉得在试图很好地理解如何在实践中实现隐形地址和环签名方面，我可能已经成功了一半。也许对于理解他们在区块链和托巴基·莫内罗追踪上的关系，那已经足够了。</p><p id="0134" class="pw-post-body-paragraph ka kb ht kc b kd ky iu kf kg kz ix ki kj la kl km kn lb kp kq kr lc kt ku kv hm dt translated">今天到此为止。干杯。</p><h2 id="11bb" class="ld jj ht bd jk le lf lg jo lh li lj js kj lk ll ju kn lm ln jw kr lo lp jy lq dt translated">也阅读</h2><div class="na nb fm fo nc nd"><a href="https://blog.coincodecap.com/best-monero-wallets" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab ej"><div class="nf ab ng cl cj nh"><h2 class="bd hu fv z el ni eo ep nj er et hs dt translated">最佳Monero钱包(XMR钱包)[2021]</h2><div class="nk l"><h3 class="bd b fv z el ni eo ep nj er et ek translated">Monero(XMR)是专注于隐私和审查阻力的顶级加密货币之一。有很多密码…</h3></div><div class="nl l"><p class="bd b gc z el ni eo ep nj er et ek translated">blog.coincodecap.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr mb nd"/></div></div></a></div><blockquote class="ns"><p id="4cb6" class="nt nu ht bd nv nw nx ny nz oa ob kv ek translated">加入<a class="ae kx" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> Coinmonks电报频道</a>，了解加密交易和投资</p></blockquote><h2 id="7402" class="ld jj ht bd jk le oc lg jo lh od lj js kj oe ll ju kn of ln jw kr og lp jy lq dt translated">另外，阅读</h2><ul class=""><li id="3658" class="mh mi ht kc b kd ke kg kh kj oh kn oi kr oj kv mz mn mo mp dt translated"><a class="ae kx" rel="noopener" href="/coinmonks/youhodler-vs-coinloan-vs-hodlnaut-b1050acde55a">尤霍德勒vs科恩洛vs霍德诺特</a> | <a class="ae kx" href="https://blog.coincodecap.com/cryptohopper-vs-haasbot" rel="noopener ugc nofollow" target="_blank"> Cryptohopper vs哈斯博特</a></li><li id="c962" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" href="https://blog.coincodecap.com/binance-vs-kraken" rel="noopener ugc nofollow" target="_blank">币安vs北海巨妖</a> | <a class="ae kx" href="https://blog.coincodecap.com/pionex-dca-bot" rel="noopener ugc nofollow" target="_blank">美元成本平均交易机器人</a></li><li id="eae3" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" rel="noopener" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94">如何在印度购买比特币？</a> | <a class="ae kx" rel="noopener" href="/coinmonks/wazirx-review-5c811b074f5b"> WazirX评论</a> | <a class="ae kx" href="https://blog.coincodecap.com/bitmex-review" rel="noopener ugc nofollow" target="_blank"> BitMEX评论</a></li><li id="ac2b" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" href="https://blog.coincodecap.com/bitcoin-taproot" rel="noopener ugc nofollow" target="_blank">比特币主根</a> | <a class="ae kx" href="https://blog.coincodecap.com/bitso-review" rel="noopener ugc nofollow" target="_blank"> Bitso回顾</a> | <a class="ae kx" rel="noopener" href="/coinmonks/bitcoin-credit-card-bc8ab6f377c6">排名前6的比特币信用卡</a></li><li id="525a" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" href="https://blog.coincodecap.com/gemini-vs-coinbase" rel="noopener ugc nofollow" target="_blank">双子座vs比特币基地</a> | <a class="ae kx" href="https://blog.coincodecap.com/kraken-vs-coinbase" rel="noopener ugc nofollow" target="_blank">比特币基地vs北海巨妖</a>|<a class="ae kx" href="https://blog.coincodecap.com/coinspot-vs-coinjar" rel="noopener ugc nofollow" target="_blank">coin jar vs coin spot</a></li><li id="2b63" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度加密交易所</a> | <a class="ae kx" rel="noopener" href="/coinmonks/bitcoin-savings-account-e65b13f92451">比特币储蓄账户</a> | <a class="ae kx" rel="noopener" href="/coinmonks/paxful-review-4daf2354ab70"> Paxful审核</a></li><li id="4625" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" href="https://blog.coincodecap.com/coinflex-review" rel="noopener ugc nofollow" target="_blank"> CoinFLEX评论</a> | <a class="ae kx" href="https://blog.coincodecap.com/aex-exchange-review" rel="noopener ugc nofollow" target="_blank"> AEX交易所评论</a> | <a class="ae kx" href="https://blog.coincodecap.com/upbit-review" rel="noopener ugc nofollow" target="_blank"> UPbit评论</a></li><li id="5641" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" href="https://blog.coincodecap.com/ascendex-margin-trading" rel="noopener ugc nofollow" target="_blank"> AscendEx保证金交易</a> | <a class="ae kx" href="https://blog.coincodecap.com/bitfinex-staking" rel="noopener ugc nofollow" target="_blank"> Bitfinex赌注</a> | <a class="ae kx" href="https://blog.coincodecap.com/bitflyer-review" rel="noopener ugc nofollow" target="_blank"> bitFlyer审核</a></li><li id="a6cc" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" href="https://blog.coincodecap.com/sparrow-exchange-review" rel="noopener ugc nofollow" target="_blank">麻雀交换评论</a> | <a class="ae kx" href="https://blog.coincodecap.com/nash-exchange-review" rel="noopener ugc nofollow" target="_blank">纳什交换评论</a></li><li id="11c6" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" rel="noopener" href="/coinmonks/cryptocurrency-savings-accounts-be3bc0feffbf">加密货币储蓄账户</a> | <a class="ae kx" href="https://blog.coincodecap.com/staking-crypto" rel="noopener ugc nofollow" target="_blank">跑马圈地</a> | <a class="ae kx" rel="noopener" href="/coinmonks/stealthex-review-396c67309988">盗x评论</a></li><li id="1d5d" class="mh mi ht kc b kd mq kg mr kj ms kn mt kr mu kv mz mn mo mp dt translated"><a class="ae kx" rel="noopener" href="/coinmonks/bigone-exchange-review-64705d85a1d4"> BigONE交易所评论</a> | <a class="ae kx" href="https://blog.coincodecap.com/cex-io-review" rel="noopener ugc nofollow" target="_blank"> CEX。IO审查</a> | <a class="ae kx" rel="noopener" href="/coinmonks/swapzone-review-crypto-exchange-data-aggregator-e0ad78e55ed7"> Swapzone审查</a></li></ul></div></div>    
</body>
</html>