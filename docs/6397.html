<html>
<head>
<title>Netflix over Bitcoin Payment Channels</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比特币支付渠道上的网飞</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/netflix-over-bitcoin-payment-channels-ec55b3c242da?source=collection_archive---------1-----------------------#2021-12-09">https://medium.com/coinmonks/netflix-over-bitcoin-payment-channels-ec55b3c242da?source=collection_archive---------1-----------------------#2021-12-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="e4d4" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">延展性是一个特性，而不是一个缺陷</h2></div><p id="bf83" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们展示了一种基于支付渠道的经济高效的方式来按需提供电影流和其他类型的服务。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff ke"><img src="../Images/ffcc5e4c69d65f2ba2ee9724ffa99baf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Eleot1qmAbEFQeaM"/></div></div></figure><h1 id="d3b7" class="kq kr ht bd ks kt ku kv kw kx ky kz la iz lb ja lc jc ld jd le jf lf jg lg lh dt translated">可锻性</h1><p id="0ec3" class="pw-post-body-paragraph ji jj ht jk b jl li iu jn jo lj ix jq jr lk jt ju jv ll jx jy jz lm kb kc kd hm dt translated">在比特币的背景下，<a class="ae ln" href="https://wiki.bitcoinsv.io/index.php/Transaction_Malleability" rel="noopener ugc nofollow" target="_blank">延展性</a>意味着修改交易而不使其无效的能力。有两个级别:</p><ul class=""><li id="9472" class="lo lp ht jk b jl jm jo jp jr lq jv lr jz ls kd lt lu lv lw dt translated">脚本级别:签名不包括解锁脚本，因此修改它不会改变签名的有效性</li><li id="e058" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated">事务级:<a class="ae ln" href="https://wiki.bitcoinsv.io/index.php/SIGHASH_flags" rel="noopener ugc nofollow" target="_blank"> SIGHASH标志</a>可用于控制哪些输入/输出被签名。</li></ul><p id="984d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们在这里关注脚本级的可伸缩性。</p><h1 id="9792" class="kq kr ht bd ks kt ku kv kw kx ky kz la iz lb ja lc jc ld jd le jf lf jg lg lh dt translated">流动</h1><p id="32b6" class="pw-post-body-paragraph ji jj ht jk b jl li iu jn jo lj ix jq jr lk jt ju jv ll jx jy jz lm kb kc kd hm dt translated">假设Alice想从Bob那里购买电影流。</p><p id="561b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">电影被分成多个小块:<em class="mc"> D₀，D₁，D₂，…，Dn </em>。爱丽丝和鲍勃创建了一个所谓的<a class="ae ln" href="https://wiki.bitcoinsv.io/index.php/Payment_Channels" rel="noopener ugc nofollow" target="_blank">支付通道</a>来交换离线信息。鲍勃和爱丽丝分享了默克尔树的叶子(下面的<em class="mc"> H₀ </em>到<em class="mc"> H₇ </em>)。爱丽丝可以通过计算其根哈希(<em class="mc"> T₀ </em>)来验证其保真度，并将其与给定电影的已知哈希进行比较。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff md"><img src="../Images/24667d9dca2f6d2fb9dbccd2e1141ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jPbY7OVrQVMDkAAK312zxw.png"/></div></div><figcaption class="me mf fg fe ff mg mh bd b be z ek">Figure 1: A Merkle Tree</figcaption></figure><p id="96eb" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">爱丽丝创建了一系列交易:<em class="mc"> TX₁，TX₂，…，TXn </em>。它将硬币锁定在下面的智能合约中，由输入中引用的她的UTXOs提供资金。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff mi"><img src="../Images/d2b6568518dcf4bca9d10bf822aa8b14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mLE7_i3pQMwcRUgELI9-MQ.png"/></div></div><figcaption class="me mf fg fe ff mg mh bd b be z ek">Figure 2: Transactions with Scripts Shown²</figcaption></figure><figure class="kf kg kh ki fq kj"><div class="bz el l di"><div class="mj mk l"/></div><figcaption class="me mf fg fe ff mg mh bd b be z ek"><a class="ae ln" href="https://github.com/sCrypt-Inc/boilerplate/tree/master/contracts/netflix.scrypt" rel="noopener ugc nofollow" target="_blank">Contract Netflix</a></figcaption></figure><p id="7424" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">解锁硬币有两种选择:</p><ol class=""><li id="1aac" class="lo lp ht jk b jl jm jo jp jr lq jv lr jz ls kd ml lu lv lw dt translated">Bob签名并提供正确的数据块，即当第12行的为假时<em class="mc">中的条件</em></li><li id="0545" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd ml lu lv lw dt translated">如果第12行的为真，则当<em class="mc">中的条件成立时，爱丽丝和鲍勃都签名</em></li></ol><p id="dc79" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">每次爱丽丝收到<em class="mc"> Dᵢ </em>，<em class="mc"> TXᵢ </em>更新只有两个变化:</p><ol class=""><li id="4411" class="lo lp ht jk b jl jm jo jp jr lq jv lr jz ls kd ml lu lv lw dt translated"><em class="mc"> Hᵢ </em>:上面契约中的哈希更新为下一个块的哈希</li><li id="bc72" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd ml lu lv lw dt translated">输出数量增加100 satoshis，以支付额外的大块。</li></ol><p id="691a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">注意爱丽丝需要再次签名。下图显示了Alice和Bob之间的交流，从通道的打开到关闭。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/37448ecc2fbb1e6fb3ab9eb80cae4de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*Qtpxx3Boy4tHab_dSl2yZA.png"/></div><figcaption class="me mf fg fe ff mg mh bd b be z ek">Payment Channel⁴</figcaption></figure><h2 id="ed1d" class="mn kr ht bd ks mo mp mq kw mr ms mt la jr mu mv lc jv mw mx le jz my mz lg na dt translated">通道关闭</h2><p id="5854" class="pw-post-body-paragraph ji jj ht jk b jl li iu jn jo lj ix jq jr lk jt ju jv ll jx jy jz lm kb kc kd hm dt translated">在任何时候，Alice或Bob都可以单方面或联合停止流式传输。如果爱丽丝停止支付，鲍勃将停止流；反之亦然。没有人能作弊。</p><p id="efb4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt nb translated"><span class="l nc nd ne bm nf ng nh ni nj di">2</span><strong class="jk hu">-方式</strong> : Bob发送<em class="mc"> TXp </em>，支付交易，<em class="mc"> </em>给Alice。艾丽丝<strong class="jk hu">通过用她的签名</strong>替换Dᵢ来扩展 <strong class="jk hu">，如图2所示。请注意，新交易<em class="mc"> TXp' </em>仍然有效，并且仍然可以使用选项2而不是选项1来解锁旧合同。Bob更喜欢以这种方式关闭通道，因为:</strong></p><ul class=""><li id="d4a9" class="lo lp ht jk b jl jm jo jp jr lq jv lr jz ls kd lt lu lv lw dt translated">节省了交易费用。一般来说，每个块都比签名大得多(平均只有<a class="ae ln" href="https://b10c.me/blog/006-evolution-of-the-bitcoin-signature-length/" rel="noopener ugc nofollow" target="_blank"> 72字节</a>)。在极端的情况下，使用<a class="ae ln" href="https://wiki.bitcoinsv.io/index.php/Pushdata_Opcodes" rel="noopener ugc nofollow" target="_blank"> OP_PUSHDATA4 </a>的4GB数据块被修剪，导致巨大的~ <strong class="jk hu"> <em class="mc"> 60，000，000倍</em> </strong>减少。</li><li id="4506" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated">数据块是私有且敏感的。Bob不想让链上的电影块暴露给每个人观看。</li></ul><p id="5814" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt nb translated"><span class="l nc nd ne bm nf ng nh ni nj di"> 1 </span></p><p id="4107" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">只有两个交易在这个链上结束。之后可以安全地丢弃所有中间事务。</p><h2 id="de48" class="mn kr ht bd ks mo mp mq kw mr ms mt la jr mu mv lc jv mw mx le jz my mz lg na dt translated">讨论</h2><p id="8553" class="pw-post-body-paragraph ji jj ht jk b jl li iu jn jo lj ix jq jr lk jt ju jv ll jx jy jz lm kb kc kd hm dt translated">与网飞等现有付费流媒体网站相比，这种基于支付渠道的流媒体具有显著优势:</p><ul class=""><li id="4eb3" class="lo lp ht jk b jl jm jo jp jr lq jv lr jz ls kd lt lu lv lw dt translated">现收现付:只为观看的部分付费</li><li id="a293" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated">由于比特币的微支付能力，交易成本低</li><li id="7ac1" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated">不需要注册。</li></ul><p id="85d6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了更加实际，必须采取额外的措施来防止Alice在渠道外加倍花费资金交易(在<em class="mc"> TXᵢ </em>中引用的UTXOs)，并广播陈旧的交易(例如，当我们已经在<em class="mc"> TX₉ </em>时广播<em class="mc"> TX₁ </em>)。更多详情请参考patent⁴。</p><p id="aaca" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">此外，Bob可以使用<a class="ae ln" href="https://xiaohuiliu.medium.com/access-blockchain-data-from-bitcoin-smart-contracts-part-4-94dd34ce697d" rel="noopener">这种技术</a>迭代地仅共享下一个块及其Merkle证明，以避免在开始时一次共享所有树叶。</p><h1 id="076b" class="kq kr ht bd ks kt ku kv kw kx ky kz la iz lb ja lc jc ld jd le jf lf jg lg lh dt translated">摘要</h1><p id="2736" class="pw-post-body-paragraph ji jj ht jk b jl li iu jn jo lj ix jq jr lk jt ju jv ll jx jy jz lm kb kc kd hm dt translated">我们使用流媒体电影只是作为一个例子。将这种方法扩展到“流式传输”其他类型的数据/服务是相当简单的，例如Wifi、公用事业(水和电)、租赁(汽车和房子)。许多现收现付服务可以通过这种方式方便地提供。</p><h1 id="db93" class="kq kr ht bd ks kt ku kv kw kx ky kz la iz lb ja lc jc ld jd le jf lf jg lg lh dt translated">承认</h1><p id="8d59" class="pw-post-body-paragraph ji jj ht jk b jl li iu jn jo lj ix jq jr lk jt ju jv ll jx jy jz lm kb kc kd hm dt translated">这篇文章是基于中国专利WO2020240297A1⁴.</p></div><div class="ab cl nk nl hb nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="hm hn ho hp hq"><p id="e795" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[1]我们假设电影的Merkle roots可以从IMDB和网飞这样的可信第三方公开获得。</p><p id="83df" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[2]为简洁起见，未显示事务的某些部分，如变更输出。</p><p id="3a14" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[3]从技术上讲，爱丽丝可以通过在鲍勃完成一大块后不给他钱来作弊。但是这在实践中不是问题，因为它的价值很低。</p><p id="f127" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">[4]中国专利<a class="ae ln" href="https://patents.google.com/patent/WO2020240297A1" rel="noopener ugc nofollow" target="_blank"> WO2020240297A1 </a>:包含在区块链中的交易的可延展性</p><blockquote class="nr"><p id="ea61" class="ns nt ht bd nu nv nw nx ny nz oa kd ek translated">加入Coinmonks <a class="ae ln" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ln" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="d197" class="mn kr ht bd ks mo ob mq kw mr oc mt la jr od mv lc jv oe mx le jz of mz lg na dt translated">另外，阅读</h2><ul class=""><li id="6674" class="lo lp ht jk b jl li jo lj jr og jv oh jz oi kd lt lu lv lw dt translated"><a class="ae ln" href="https://blog.coincodecap.com/zero-fee-crypto-exchanges" rel="noopener ugc nofollow" target="_blank"> 7大最佳零费用密码交易平台</a></li><li id="902b" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae ln" href="https://blog.coincodecap.com/what-are-decentralized-exchanges" rel="noopener ugc nofollow" target="_blank">分散交易所</a> | <a class="ae ln" href="https://blog.coincodecap.com/bitbns-fip" rel="noopener ugc nofollow" target="_blank">比特FIP </a> | <a class="ae ln" href="https://blog.coincodecap.com/pionex-review-exchange-with-crypto-trading-bot" rel="noopener ugc nofollow" target="_blank"> Pionex评论</a></li><li id="d239" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae ln" href="https://blog.coincodecap.com/buy-crypto-with-credit-card" rel="noopener ugc nofollow" target="_blank">用信用卡购买密码的10个最佳地点</a></li><li id="0fa9" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae ln" rel="noopener" href="/coinmonks/okex-review-6b369304110f"> OKEx回顾</a> | <a class="ae ln" rel="noopener" href="/coinmonks/kucoin-trading-bot-automate-your-trades-8cf0ca2138e0"> Kucoin交易机器人</a> | <a class="ae ln" rel="noopener" href="/coinmonks/futures-trading-bots-5a282ccee3f5">期货交易机器人</a></li><li id="3a3f" class="lo lp ht jk b jl lx jo ly jr lz jv ma jz mb kd lt lu lv lw dt translated"><a class="ae ln" href="https://blog.coincodecap.com/ascendex-staking" rel="noopener ugc nofollow" target="_blank">AscendEx Staking</a>|<a class="ae ln" href="https://blog.coincodecap.com/bot-ocean-review" rel="noopener ugc nofollow" target="_blank">Bot Ocean Review</a>|<a class="ae ln" href="https://blog.coincodecap.com/bitcoin-wallets-india" rel="noopener ugc nofollow" target="_blank">最佳比特币钱包</a></li></ul></div></div>    
</body>
</html>