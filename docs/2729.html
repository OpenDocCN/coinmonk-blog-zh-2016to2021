<html>
<head>
<title>Blockchain Explorer Integration with Hyperledger Fabric</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">区块链浏览器与Hyperledger Fabric的集成</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/blockchain-explorer-integration-with-hyperledger-fabric-fc14570753f7?source=collection_archive---------0-----------------------#2020-02-12">https://medium.com/coinmonks/blockchain-explorer-integration-with-hyperledger-fabric-fc14570753f7?source=collection_archive---------0-----------------------#2020-02-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="e07a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这里，我假设您已经启动并运行了Hyperledger结构网络。确保所有必要的容器服务工作正常，并且您能够调用/查询事务。就我而言。我有以下网络配置。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/ca9c1f9992d37992fdbf8c6b174f2765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ltlHvFkIfIH9PcfBoG7sg.png"/></div></div></figure><p id="a9b0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> Hyperledger浏览器:</strong></p><p id="b309" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Hyperledger Explorer是一个简单、强大、易于使用、维护良好的开源工具，用于浏览底层区块链网络上的活动。</p><p id="f58b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">请确保您安装了适当版本的资源管理器，节点和结构应匹配如下。</p><blockquote class="ka"><p id="d7c0" class="kb kc ht bd kd ke kf kg kh ki kj jn ek translated"><a class="ae kk" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><figure class="km kn ko kp kq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kl"><img src="../Images/90ce3672320f3bb232d2f61f772d25c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jXodWv42frs0E7iN-sp1ig.png"/></div></div></figure><p id="ba4c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">从<a class="ae kk" href="https://github.com/hyperledger/blockchain-explorer" rel="noopener ugc nofollow" target="_blank">这里</a>克隆资源管理器。一旦克隆，回购将有以下结构。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff kr"><img src="../Images/af6da31d94e277582584719dc12e1a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a8txfSnB3NSzmdy-d4Y6bw.png"/></div></div></figure><p id="d5b2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">资源管理器使用PostgreSQL存储从对等机获取的数据。安装下列依赖项。</p><ul class=""><li id="ed4d" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated">Nodejs 8.11.x(注意还不支持v9.x)</li><li id="30af" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated">PostgreSQL 9.5或更高版本</li><li id="6d7b" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><a class="ae kk" href="https://stedolan.github.io/jq/" rel="noopener ugc nofollow" target="_blank"> jq </a></li></ul><h2 id="b2ec" class="lg lh ht bd li lj lk ll lm ln lo lp lq jb lr ls lt jf lu lv lw jj lx ly lz ma dt translated"><strong class="ak">第一步:</strong></h2><p id="2259" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb md jd je jf me jh ji jj mf jl jm jn hm dt translated">转到<code class="eh mg mh mi mj b">blockchain-explorer/app</code>并修改<code class="eh mg mh mi mj b">explorerconfig.json</code>以更新PostgreSQL数据库设置。我</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="9cab" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果您为数据库添加了不同的用户名和配置，请确保在此文件中进行更新(<code class="eh mg mh mi mj b">explorerconfig.json</code>)。</p><p id="d500" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">转到cd <code class="eh mg mh mi mj b">cd blockchain-explorer/app/persistence/fabric/postgreSQL/db</code>，如果您看不到db文件夹或db文件夹中的任何内容，请更改权限。<code class="eh mg mh mi mj b">chmod -R 775 db/</code></p><p id="6f5d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">运行<code class="eh mg mh mi mj b">sudo -u postgres ./createdb.sh</code>，您将会看到数据库的创建以及存储数据所需的表格。</p><h2 id="b1db" class="lg lh ht bd li lj lk ll lm ln lo lp lq jb lr ls lt jf lu lv lw jj lx ly lz ma dt translated"><strong class="ak">第二步:</strong></h2><p id="d703" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb md jd je jf me jh ji jj mf jl jm jn hm dt translated"><strong class="is hu">光纤网络配置</strong></p><p id="c254" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦结构网络启动并运行，转到Explorer repo中的<code class="eh mg mh mi mj b">/blockchain-explorer/app/platform/fabric/config.json</code>。在第一个网络下添加配置文件路径。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="6d40" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">定义<code class="eh mg mh mi mj b">test.json</code>(配置文件):在连接配置文件文件夹下定义一个test.json文件。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="010f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">添加适当的配置文件、密钥、证书和URL。确保特定路径下的所有文件和证书都可用。根据您的配置进行必要的更改。我们从一个对等体获取所有数据。</p><p id="43ca" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">按照以下步骤构建浏览器。</p><ul class=""><li id="fa86" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">cd blockchain-explorer</code></li><li id="8f70" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">npm install</code></li><li id="5bb8" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">cd blockchain-explorer/app/test</code>(如果您也想执行测试，则需要)</li><li id="504e" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">npm install</code>(如果您也想执行测试，则需要)</li><li id="d413" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">npm run test</code>(如果您也想执行测试，则需要)</li><li id="b35a" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">cd client/</code></li><li id="9a4d" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la dt translated"><code class="eh mg mh mi mj b">npm install</code></li></ul><p id="b6a1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">第三步:</strong></p><p id="d614" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">到新的终端<code class="eh mg mh mi mj b">cd blockchain-explorer/</code>运行第一条命令<br/> 1) <code class="eh mg mh mi mj b">./start.sh</code>启动服务器<br/> 2) <code class="eh mg mh mi mj b">./stop.sh</code>停止服务器</p><p id="2cfe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦服务器启动成功，进入浏览器上的<code class="eh mg mh mi mj b">localhost:8080</code>，你需要登录，一旦登录成功，你将会看到如下屏幕。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff mm"><img src="../Images/6ca834086778a201b9dbde010e2545b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zziA3rfEbU-hACXdTL46lw.png"/></div></div></figure><p id="db92" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">可能会有不同的块数和交易，它会显示您的网络交易。</p><h1 id="e1f6" class="mn lh ht bd li mo mp mq lm mr ms mt lq mu mv mw lt mx my mz lw na nb nc lz nd dt translated">油管（国外视频网站）</h1><p id="9557" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb md jd je jf me jh ji jj mf jl jm jn hm dt translated">有关更多细节，您可以关注我的youtube视频系列，了解如何将区块链浏览器与Hyperledger Fabric集成。</p><p id="be20" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">视频1:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ne ml l"/></div></figure><p id="82cd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">视频2:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ne ml l"/></div></figure><p id="8b20" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">视频3:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ne ml l"/></div></figure><p id="e751" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最重要的是，你可以看到<code class="eh mg mh mi mj b">cd blockchain-explorer/logs/console/console.log.</code>下的所有日志</p><p id="4134" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">服务器不断地从对等体获取数据，所有的日志都将打印在控制台文件中。请参考下面的console.log文件。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="mk ml l"/></div></figure><h1 id="7a87" class="mn lh ht bd li mo mp mq lm mr ms mt lq mu mv mw lt mx my mz lw na nb nc lz nd dt translated">日志记录配置</h1><p id="98e8" class="pw-post-body-paragraph iq ir ht is b it mb iv iw ix mc iz ja jb md jd je jf me jh ji jj mf jl jm jn hm dt translated">通过使用以下环境变量，您可以控制每个组件(应用程序、数据库和控制台)的日志级别。您可以将这些<code class="eh mg mh mi mj b">ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; MARK &lt; OFF</code>字符串设置到每个级别。每个文件都按日期(7天)和大小(8MB)滚动。</p><p id="a545" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">日志级别应用程序</p><ul class=""><li id="cf34" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated">关于应用层的日志级别。日志被写入<code class="eh mg mh mi mj b">logs/app/app.log</code>。</li></ul><p id="83fe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">日志级别数据库</p><ul class=""><li id="68dd" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated">关于后端层的日志级别。日志被写入<code class="eh mg mh mi mj b">logs/db/db.log</code>。</li></ul><p id="4022" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">日志级别控制台</p><ul class=""><li id="2347" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated">关于控制台的日志级别。日志被写入<code class="eh mg mh mi mj b">logs/console/console.log</code>。</li></ul><p id="d4fa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">日志_控制台_标准输出</p><ul class=""><li id="c06b" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la dt translated">您可以将控制台日志的目标从文件切换到标准输出。</li></ul><p id="0b44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">用于在repo的主目录上停止服务器运行<code class="eh mg mh mi mj b">./stop.sh </code>。一旦应用程序启动并运行，您就可以使用它了。更多细节请浏览上面提到的youtube视频。如果您在集成Explorer和fabric时遇到任何困难，可以联系我。</p><p id="ec5b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">谢谢你。</p><blockquote class="ka"><p id="958a" class="kb kc ht bd kd ke kf kg kh ki kj jn ek translated"><a class="ae kk" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="km kn ko kp kq jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nf"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff ng"><img src="../Images/e9dbce386c4f90837b5db529a4c87766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fZu_SfnNF6m_BGbXlsl-A@2x.png"/></div></a></figure></div></div>    
</body>
</html>