<html>
<head>
<title>Digging into Tezos with ConseilPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用ConseilPy挖掘Tezos</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/digging-into-tezos-with-conseilpy-86e0564ffbd5?source=collection_archive---------0-----------------------#2019-07-11">https://medium.com/coinmonks/digging-into-tezos-with-conseilpy-86e0564ffbd5?source=collection_archive---------0-----------------------#2019-07-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="ffef" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">烤坏了的DYOR系列</h2></div><p id="fff0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ConseilPy是一个Python库，为<a class="ae ke" href="https://cryptonomic.github.io/Conseil/#/" rel="noopener ugc nofollow" target="_blank"> Conseil </a>区块链索引器提供类似Sqlalchemy的查询语法。您现在可以开始使用ConseilPy了:可以通过PyPi安装<a class="ae ke" href="https://pypi.org/project/conseil/" rel="noopener ugc nofollow" target="_blank">软件包</a>，<a class="ae ke" href="https://github.com/baking-bad/conseilpy" rel="noopener ugc nofollow" target="_blank">文档</a>，以及<a class="ae ke" href="https://github.com/baking-bad/conseilpy/tree/master/examples" rel="noopener ugc nofollow" target="_blank">示例</a>可在Github上获得。我们要感谢Tezos基金会对我们的支持，感谢Cryptonomic团队的合作和快速反应。</p><p id="d275" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们是Jupyter笔记本电脑的超级粉丝，我们也喜欢在不经意的情况下工作。ConseilPy让您只需点击几下鼠标就可以开始使用Tezos alphanet，在本文中，我们将举几个有趣的用法示例。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff kf"><img src="../Images/e1a927cd9685ecb9cc3ef9cba4ec7aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/0*UpyD_5W7b12sEHIz.jpg"/></div></figure><h1 id="25fc" class="kn ko ht bd kp kq kr ks kt ku kv kw kx iz ky ja kz jc la jd lb jf lc jg ld le dt translated">代表注册和滚动价格</h1><p id="1925" class="pw-post-body-paragraph ji jj ht jk b jl lf iu jn jo lg ix jq jr lh jt ju jv li jx jy jz lj kb kc kd hm dt translated">没有多少有用的信息可以从alphanet中提取出来，但是我们从这样一个假设开始:面包师在Mainnet中做某件事之前，会先尝试在alphanet中做这件事。</p><p id="e8b7" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们看看一卷的价格和注册代表的人数是否有联系。为了注册为面包师，一个人必须对自己进行委托操作。现在不可能比较Conseil中的字段，但是我们可以按源过滤操作(请注意，这在艾美奖更新后将不起作用)。</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lk ll l"/></div></figure><p id="ce09" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">运用一些熊猫魔法:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lk ll l"/></div></figure><p id="3716" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最后，我们得到了图表。人们可以注意到，在价格大幅下跌后，人们的兴趣有所增加。此外，这是一个伟大的时间，以开放面包店在6月底:)</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lm ll l"/></div></figure><h1 id="cfec" class="kn ko ht bd kp kq kr ks kt ku kv kw kx iz ky ja kz jc la jd lb jf lc jg ld le dt translated">智能合同洞察</h1><p id="8ce7" class="pw-post-body-paragraph ji jj ht jk b jl lf iu jn jo lg ix jq jr lh jt ju jv li jx jy jz lj kb kc kd hm dt translated">让我们看看关于智能合同有什么发现。应该注意的是，一些开发人员更喜欢在本地节点上调试智能合同，因为这样方便多了。因此，我们的结果不太正确。但出于演示目的，这是可以的。</p><h2 id="657a" class="ln ko ht bd kp lo lp lq kt lr ls lt kx jr lu lv kz jv lw lx lb jz ly lz ld ma dt translated">开发人员您好</h2><p id="355b" class="pw-post-body-paragraph ji jj ht jk b jl lf iu jn jo lg ix jq jr lh jt ju jv li jx jy jz lj kb kc kd hm dt translated">在代码中遇到程序员留下的一些笑话总是很好的。我们已经提到了意外发现的ASCII <a class="ae ke" rel="noopener" href="/coinmonks/inspecting-smart-contracts-with-pytezos-848946a15078"> -art </a>样本，但是我们可以使用ConseilPy提取什么呢？幸运的是，我们可以利用对存储、脚本和参数的全文搜索。例如，我们可以寻找网址和电子邮件:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lk ll l"/></div></figure><p id="0e7c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">或者碰到一个男人哭着求救:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mb"><img src="../Images/a03a331413bbe5801eadc079fb34b91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I4RLsn3sYkmbdP9-ypioFA.png"/></div></div><figcaption class="mg mh fg fe ff mi mj bd b be z ek">I’m afraid he never got help</figcaption></figure><p id="2f54" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">分析脚本你也可以发现很多有趣的事情，例如，我们在寻找内部原创和委托来调试<a class="ae ke" href="https://better-call.dev" rel="noopener ugc nofollow" target="_blank">更好-call.dev </a>。Conseil目前不支持内部操作，所以我们使用了以下查询:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lk ll l"/></div></figure><h2 id="1934" class="ln ko ht bd kp lo lp lq kt lr ls lt kx jr lu lv kz jv lw lx lb jz ly lz ld ma dt translated">源语言</h2><p id="b67d" class="pw-post-body-paragraph ji jj ht jk b jl lf iu jn jo lg ix jq jr lh jt ju jv li jx jy jz lj kb kc kd hm dt translated">使用一个相当简单的试探法，在某些情况下，我们可以确定使用了哪种高级语言来编写合同。例如，如果出现特殊类型的字段或<a class="ae ke" href="https://github.com/OCamlPro/liquidity/blob/c61178b89986875ce7193c3cdda9b25e3998774a/tools/liquidity/liquidMichelson.ml#L60" rel="noopener ugc nofollow" target="_blank">变量</a>注释，可以检测到Liquidity compiler，或者错误消息模板可以识别SmartPy。</p><p id="18f8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们看看用流动性和其他语言编写的已部署合同的数量是如何变化的。从非流动性产品开始:来自开发商的问候</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lk ll l"/></div></figure><p id="af6a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">你可以注意到，我们是按脚本对原创进行分组的，这是删除重复代码库的一种简单方法。一个更好的方法是使用模糊比较，但是一个简单的方法也可以用于我们的研究。</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lk ll l"/></div></figure><p id="9d1b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">快速增长的时刻很可能与一个契约的几个修改(调试)的部署有关。总的来说，结果是预料中的偏差，但可以得出一些结论。</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lm ll l"/></div></figure><h1 id="ec42" class="kn ko ht bd kp kq kr ks kt ku kv kw kx iz ky ja kz jc la jd lb jf lc jg ld le dt translated">摘要</h1><p id="4e5a" class="pw-post-body-paragraph ji jj ht jk b jl lf iu jn jo lg ix jq jr lh jt ju jv li jx jy jz lj kb kc kd hm dt translated">有了ConseilPy，您可以不费吹灰之力就开始探索Tezos。类似SQLAlchemy的语法和内联元数据文档字符串允许非常快速地编写查询。下次我们将展示如何一起使用ConseilPy和PyTezos来制作更酷的东西。</p><p id="2758" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在<a class="ae ke" href="https://twitter.com/tezosbakingbad" rel="noopener ugc nofollow" target="_blank">推特</a>和<a class="ae ke" href="https://github.com/baking-bad" rel="noopener ugc nofollow" target="_blank"> Github </a>上关注我们，保持更新。<br/>干杯！</p><p id="30da" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="mk">最初发表于2019年7月11日</em><a class="ae ke" href="https://baking-bad.org/blog/2019/07/11/digging-into-tezos-with-conseilpy/" rel="noopener ugc nofollow" target="_blank"><em class="mk">https://baking-bad.org</em></a><em class="mk">，在那里你可以找到文章的完整版本。</em></p><blockquote class="ml"><p id="c82b" class="mm mn ht bd mo mp mq mr ms mt mu kd ek translated"><a class="ae ke" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mw mx my mz na kk fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mv"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>