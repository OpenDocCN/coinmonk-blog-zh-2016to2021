<html>
<head>
<title>SegWit Depth Overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SegWit深度概述</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/segwit-depth-overview-719ca5af56c9?source=collection_archive---------2-----------------------#2021-06-21">https://medium.com/coinmonks/segwit-depth-overview-719ca5af56c9?source=collection_archive---------2-----------------------#2021-06-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="591e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> <em class="jo">简介:</em> </strong> <em class="jo">在本文中，我将对SegWit进行深度概述。以及SegWit如何帮助比特币实现可扩展性。Pieter Wuille在2015年的一次比特币会议上首次介绍了SegWit的想法。</em></p><p id="15ab" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">seg wit(Segregated wit)是改变比特币交易数据结构的</em> <strong class="is hu"> <em class="jo">协议升级</em> </strong> <em class="jo">。它于2017年8月23日</em> <strong class="is hu"> <em class="jo">在比特币上推出，并被定性为比特币链条中的一个软叉，随后被比特币矿工和用户广泛接受。</em></strong></p><h2 id="3af1" class="jp jq ht bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj dt translated"><strong class="ak">什么是SegWit？</strong></h2><p id="a462" class="pw-post-body-paragraph iq ir ht is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hm dt translated"><strong class="is hu"> SegWit </strong>是如何通过从<a class="ae kp" href="https://www.investopedia.com/terms/j/jobsgrowth.asp" rel="noopener ugc nofollow" target="_blank">比特币交易</a>中移除签名数据来增加<a class="ae kp" href="https://www.investopedia.com/terms/b/blockchain.asp" rel="noopener ugc nofollow" target="_blank">区块链</a>上的<a class="ae kp" href="https://www.investopedia.com/terms/b/block-bitcoin-block.asp" rel="noopener ugc nofollow" target="_blank">块</a>大小限制的。当事务的某些部分从块中移除时，这释放了空间或容量来将更多的事务添加到链中。</p><ul class=""><li id="9033" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn kv kw kx ky dt translated">首先也是最关键的，SegWit固定了事务的可延展性。</li><li id="6213" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn kv kw kx ky dt translated">增加比特币的区块大小，以增加更多交易。</li><li id="c24f" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn kv kw kx ky dt translated">SegWit引入了两种新的脚本类型——发送和接收比特币——以及一种名为<a class="ae kp" href="https://river.com/learn/terms/b/bech32/" rel="noopener ugc nofollow" target="_blank"> Bech32 </a>的新编码方案。</li></ul><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff le"><img src="../Images/4bfc995f625a6726d5d8b2822fad71c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GmwhvfCuuDcn_kK3EVVlZw.jpeg"/></div></div></figure><h2 id="bc4f" class="jp jq ht bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj dt translated"><strong class="ak">什么是交易延展性？</strong></h2><p id="284b" class="pw-post-body-paragraph iq ir ht is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hm dt translated">事务可延展性是指一个事务拥有多个有效的<a class="ae kp" href="https://river.com/learn/terms/t/txid/" rel="noopener ugc nofollow" target="_blank">txid</a>的能力。有关更多信息，请查看此<a class="ae kp" href="https://en.bitcoin.it/wiki/Transaction_malleability" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h2 id="c3a8" class="jp jq ht bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj dt translated">Segwit是如何工作的？</h2><ol class=""><li id="03af" class="kq kr ht is b it kk ix kl jb lq jf lr jj ls jn lt kw kx ky dt translated"><strong class="is hu"> <em class="jo">块大小增加:</em> </strong> Segwit提出比特币块是如何构造的。<strong class="is hu">非segwit </strong>块也称为遗留块，具有1MB空间。在1MB块内，输入数据，输出&amp;签名等。</li></ol><ul class=""><li id="2159" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn kv kw kx ky dt translated">另一方面，Segwit块大小高达4MB。这是因为它由基本事务块和扩展块组成。所以Segwit就像比特币现金一样，确实是块大小增加。</li></ul><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff lu"><img src="../Images/2fcdcdeea73c15f533c80840677fd815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OkEDWgJXjbZMuyHD_dpiDw.png"/></div></div><figcaption class="lv lw fg fe ff lx ly bd b be z ek">Legacy vs SegWit Block</figcaption></figure><p id="cac7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> SegWit块结构实现了两个主要目标。</strong></p><ul class=""><li id="0652" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn kv kw kx ky dt translated">Segwit块结构将数字签名移出基本事务块。因此，如果有人更改交易上的签名，不会影响交易id。这实际上解决了事务的可伸缩性问题。</li><li id="2f25" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn kv kw kx ky dt translated">它最小化了块中的基本事务数据。由于见证数据占事务大小的65%,将它移到基本事务块之外可以让更多的事务适合1MB的块。</li></ul><p id="7f8d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 2。Segwit是软叉:</strong>所以SegWit只是一个格挡增加。所以你可能会想，为什么不把块大小增加到4 MB呢？在这种情况下，开发人员只是避免硬分叉。</p><p id="fc6b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">比特币特别说明了块大小不能超过1MB。于是比特币开发者找到了没有硬分叉的解决方案。在现有协议下，具有另一个3MB的“扩展”的1MB块的解决方案仍然是可接受的。</p><p id="b03f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">因此，传统节点可以接受1 MB的数据块，Segwit节点可以接受1MB的扩展数据块，总计4 MB。这叫做软叉。</p><p id="10b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 3。测量块:</strong></p><p id="857a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">传统块按大小测量，SegWit块按重量测量。</p><p id="b4e2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">SegWit交易分为两部分:</p><ul class=""><li id="cd91" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn kv kw kx ky dt translated"><strong class="is hu">交易</strong>的一部分:交易的<strong class="is hu">见证</strong>被归类为<em class="jo">交易</em>的一部分。</li><li id="8541" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn kv kw kx ky dt translated"><strong class="is hu">非交易部分:</strong>除<strong class="is hu">见证</strong>外的所有其他交易部分均归类为<em class="jo">非交易部分</em>。</li></ul><p id="c474" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一个简单的公式定义了任何交易的权重:</p><pre class="lf lg lh li fq lz ma mb mc aw md dt"><span id="cd11" class="jp jq ht ma b fv me mf l mg mh">3*(non-segwit-part-of-transaction) + 1*(segwit-part-of-transaction)</span></pre><p id="86ed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是，首先，让我们看看数学方程块测量。</p><pre class="lf lg lh li fq lz ma mb mc aw md dt"><span id="28b7" class="jp jq ht ma b fv me mf l mg mh">legacy_block_size = <strong class="ma hu">∑</strong>(size_of_non-segwit-data_of_each_transaction)</span><span id="23ad" class="jp jq ht ma b fv mi mf l mg mh">segwit_block_size = legacy_block_size + <strong class="ma hu">∑</strong>(size_of_segwit-data_of_each_transaction)</span></pre><p id="1dd7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对于一个块，<strong class="is hu"> non_segwit_weight </strong>和<strong class="is hu"> segwit_weight </strong>定义为</p><pre class="lf lg lh li fq lz ma mb mc aw md dt"><span id="1bdf" class="jp jq ht ma b fv me mf l mg mh">non_segwit_weight = 3*<strong class="ma hu">∑</strong>(size_of_non-segwit-data_of_each_transaction)</span><span id="74f6" class="jp jq ht ma b fv mi mf l mg mh">segwit_weight = 1*<strong class="ma hu">∑</strong>(size_of_segwit-data_of_each_transaction)</span><span id="4dc5" class="jp jq ht ma b fv mi mf l mg mh">block_weight = non_segwit_weight + segwit_weigh</span></pre><p id="a701" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了使块在链上有效</p><pre class="lf lg lh li fq lz ma mb mc aw md dt"><span id="c344" class="jp jq ht ma b fv me mf l mg mh">legacy_block_size &lt;= 1 MB</span><span id="9d8c" class="jp jq ht ma b fv mi mf l mg mh">block_weight &lt;= 4MBU</span></pre></div><div class="ab cl mj mk hb ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hm hn ho hp hq"><h2 id="ce1a" class="jp jq ht bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj dt translated">赞成者&amp;反对者</h2><p id="3007" class="pw-post-body-paragraph iq ir ht is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hm dt translated"><strong class="is hu">优点:</strong></p><ol class=""><li id="6427" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn lt kw kx ky dt translated"><strong class="is hu">比特币交易更快:</strong> SegWit让比特币区块链更轻。它允许处理更多的交易，而不会增加比特币区块链的整体规模。</li><li id="cfe4" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn lt kw kx ky dt translated"><strong class="is hu">比特币交易更便宜。更高的交易速度意味着更低的交易费用。然而，比特币交易费用可能高得令人难以置信，因此社区应该欢迎任何降低交易费用的变化。</strong></li><li id="6d12" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn lt kw kx ky dt translated"><strong class="is hu">交易延展性已成为过去:</strong> SegWit是比特币协议中一个重大问题的简单而有创意的解决方案。</li></ol><p id="46e2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">缺点:</strong></p><ol class=""><li id="de40" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn lt kw kx ky dt translated"><strong class="is hu"> SegWit造成了比特币社区的分裂:</strong>围绕SegWit的分歧造成了几次硬分叉。其中最著名的是比特币现金(BCH)。</li><li id="4172" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn lt kw kx ky dt translated"><strong class="is hu">足够多的节点没有使用它:</strong>很多矿工不喜欢SegWit。较低的费用影响了他们的利润，他们也不喜欢支持证人数据侧链，这不提供任何费用收入。</li></ol><h2 id="1cb4" class="jp jq ht bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj dt translated"><strong class="ak">结论</strong></h2><p id="991a" class="pw-post-body-paragraph iq ir ht is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hm dt translated">SegWit的实施标志着比特币区块链网络的重大升级。它被引入可扩展的比特币网络，以供大众采用。此外，将数字签名或见证从事务块中分离出来，可以实现几个优点，比如更小的事务大小、可延展性修复等等。但同时，许多方式不接受SegWit，因为扣除收入。比特币交易的可扩展性需要更多的R&amp;D来修复几个问题，尽管SegWit可以在短时间内修复可扩展性。</p><p id="fe2e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">参考</p><ol class=""><li id="fd8b" class="kq kr ht is b it iu ix iy jb ks jf kt jj ku jn lt kw kx ky dt translated"><a class="ae kp" href="https://www.bitpanda.com/academy/en/lessons/what-is-segwit-segregated-witness-and-how-does-it-work/" rel="noopener ugc nofollow" target="_blank">https://www . bit panda . com/academy/en/lessons/what-is-seg wit-separated-wit-and-how-it-work/</a></li><li id="8c28" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn lt kw kx ky dt translated"><a class="ae kp" href="https://www.econstor.eu/bitstream/10419/230576/1/1693601958.pdf" rel="noopener ugc nofollow" target="_blank">https://www . econ stor . eu/bitstream/10419/230576/1/1693601958 . pdf</a></li><li id="23a5" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn lt kw kx ky dt translated"><a class="ae kp" href="https://river.com/learn/what-is-segwit/" rel="noopener ugc nofollow" target="_blank">https://river.com/learn/what-is-segwit/</a></li><li id="bdb8" class="kq kr ht is b it kz ix la jb lb jf lc jj ld jn lt kw kx ky dt translated"><a class="ae kp" rel="noopener" href="/@akshay_111meher/segwit-block-size-and-block-weights-f5864a6133fc">https://medium . com/@ AK shay _ 111 meher/seg wit-block-size-and-block-weights-f 5864 a 6133 fc</a></li></ol><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/coinmonks/segregated-witness-simplified-b0e56103750f"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">简化隔离见证。</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">自从隔离见证(SegWit)实施以来，加密货币世界就被一个叫做SegWit的新词所充斥</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh lo mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">最佳免费加密交易机器人——前16名比特币交易机器人[2021]</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="ni l ne nf ng nc nh lo mt"/></div></div></a></div></div></div>    
</body>
</html>