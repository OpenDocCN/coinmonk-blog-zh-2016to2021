<html>
<head>
<title>The DeFi liquidation game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DeFi清算游戏</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/the-defi-liquidation-game-aaef5c0b903d?source=collection_archive---------0-----------------------#2021-04-23">https://medium.com/coinmonks/the-defi-liquidation-game-aaef5c0b903d?source=collection_archive---------0-----------------------#2021-04-23</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/b651676b336c14a60203b0895f6fbee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dX3z0Bvp_OEf1mW9kO8B0A.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Not all competitive multiplayer games require an APM optimized keyboard and mouse. Some are played with full nodes and mempool services.</figcaption></figure><p id="28e1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">MEV空间活动频繁，在过去的几个月里吸引了大量的关注。<a class="ae kd" rel="noopener" href="/@danrobinson/ethereum-is-a-dark-forest-ecc5f0505dff">以太坊是黑暗森林</a>、<a class="ae kd" href="https://samczsun.com/escaping-the-dark-forest/" rel="noopener ugc nofollow" target="_blank">逃离黑暗森林</a>、<a class="ae kd" href="https://github.com/Defi-Cartel/salmonella" rel="noopener ugc nofollow" target="_blank">沙门氏菌</a>和许多其他故事都强调，从区块链中提取价值是一项高度竞争的全天候游戏，由追求高分的各种个人玩，像<a class="ae kd" href="https://keeperdao.com/#/" rel="noopener ugc nofollow" target="_blank"> KeeperDAO </a>或<a class="ae kd" href="https://github.com/flashbots/pm#flashbots" rel="noopener ugc nofollow" target="_blank"> Flashbots </a>这样的项目试图以新的方式组织游戏。</p><p id="7bbe" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">根据<a class="ae kd" href="https://arxiv.org/pdf/2101.05511.pdf" rel="noopener ugc nofollow" target="_blank">量化区块链可提取价值:森林有多黑中呈现的数据，MEV空间可以大致分为几个子类？</a>目前最重要的两个是:</p><h2 id="e5ae" class="ke kf ht bd kg kh ki kj kk kl km kn ko jq kp kq kr ju ks kt ku jy kv kw kx ky dt translated"><strong class="ak">套利</strong></h2><p id="d4fb" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">描述在一个有限合伙人池中购买一项资产，同时在另一个有限合伙人池中以不同的价格出售该资产以获取利润的过程。创造MEV机会的交易可以是以显著方式改变LP池中资产价格的任何交易。例如，它可以由用户或机器人交易或通过清算或另一个套利机会提取价值的人创建。由于Uniswap/Sushiswap和其他AMM是以太坊上最常用的合同之一，所以这种MEV相当普遍也就不足为奇了。</p><h2 id="9e5e" class="ke kf ht bd kg kh ki kj kk kl km kn ko jq kp kq kr ju ks kt ku jy kv kw kx ky dt translated"><strong class="ak">清算</strong></h2><p id="e4c9" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">自2020年初以来，Maker、Compound和Aave等贷款协议出现了巨大增长。随着TLV的增加，清算量也有所增加，特别是在市场突然低迷时期，清算人偿还低于健康系数的用户贷款。虽然清算人通常采用与套利者类似的MEV捕获技术，如前跑和后跑，但MEV发现/创建/发生频率和竞争程度可能会有很大不同。本文对DeFi清算领域提供了一些更深入的见解。我们将看看清算人用来捕获MEV的技术。我们还将讨论如何测量延迟，这是HFT使用的一个关键指标，并将其应用于MEV领域。</p><p id="633c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">用于生成图表的数据是从2020年1月至2021年4月发生在Aave v1和v2上的清算中收集的。导致低利润(少于1 ETH)或负利润的清算已从数据集中删除。利润阈值的选择是为了捕捉那些有足够的经济激励来吸引多个清算人参与同一机会的清算。</p><p id="f72e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果你想回忆一下DeFi的清算工作，我推荐你在继续之前阅读<a class="ae kd" rel="noopener" href="/dragonfly-research/liquidators-the-secret-whales-helping-defi-function-acf132fbea5e">清算者:帮助DeFi运作的秘密鲸鱼</a>。</p><h1 id="ea99" class="le kf ht bd kg lf lg lh kk li lj lk ko ll lm ln kr lo lp lq ku lr ls lt kx lu dt translated"><strong class="ak">鲸鱼大战闪电侠</strong></h1><p id="4205" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">在我们深入分析清算之前，让我们先谈谈快速贷款。虽然现在能够在不提供任何担保的情况下借入价值数百万美元的密码是正常的，只要你在同一笔交易中偿还，但这仅在一年前是开创性和革命性的。大家记住的是像<a class="ae kd" href="https://peckshield.medium.com/bzx-hack-analysis-exposes-challenging-defi-inherent-composable-liquidity-risks-e3e1c623b7bd" rel="noopener"> bZx 1 </a>、<a class="ae kd" href="https://peckshield.medium.com/bzx-hack-ii-full-disclosure-with-detailed-profit-analysis-8126eecc1360" rel="noopener"> bZx 2 </a>或者<a class="ae kd" href="https://peckshield.medium.com/balancer-hacks-root-cause-and-loss-analysis-4916f7f0fff5" rel="noopener">平衡器</a>这样的黑客。黑客大大加快了稳定和安全的DeFi协议的自然选择。然而，闪贷对生态系统也有其他影响。例如，他们为所有参与MEV领域的人创造了公平的竞争环境。追求更大的机会不再需要成为一只密码鲸，不再是突然之间每个人都可以做到。这大大增加了玩家的数量，加剧了竞争。</p><p id="d9d7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">下图显示了清算情况，并根据清算人获取流动性的方式对其进行了分类。</p><ul class=""><li id="f5f4" class="lv lw ht jh b ji jj jm jn jq lx ju ly jy lz kc ma mb mc md dt translated">Whale-Aave:从Aave借入的资产</li><li id="d638" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">Whale-Compound:从Compound借用的资产</li><li id="0754" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">Whale-Dydx:从Dydx借入的资产</li><li id="3f82" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">Whale:仅在清算和ERC20合约期间与Aave交互。假设清算人使用自己的资金进行清算</li><li id="4492" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">Flashboys:偿还贷款的清算来源来自Uniswap、Sushiswap或Kyber。没有一个主要的借贷平台是用来借入资产的</li><li id="52ab" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">未知:流动性来源未被发现</li></ul><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mj"><img src="../Images/257c7a58d4ba632354ea13500de388a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdS1AZtbPNHEBf4mhs0Q5w.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Source of liquidity of all liquidations in the data set</figcaption></figure><p id="7a22" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">我们可以从数据集中得出以下一般趋势。在2020年5月推出Uniswap v2之后，flash boys真正实现了增长，因为Aave v1支持flashloan，但阻止用户在接受flashloan的同时进行清算。当时，真的没有任何其他地方能让你快速获得流动性不错的贷款。虽然不同流动性来源之间存在波动，但很明显，鲸鱼在2020年初和中期普遍占据主导地位，此后，闪光灯男孩接管了市场。促成这一发展的因素有:</p><ul class=""><li id="7486" class="lv lw ht jh b ji jj jm jn jq lx ju ly jy lz kc ma mb mc md dt translated">清算人可以获得或借出的流动性可能不足以追求更大的机会。</li><li id="9dbe" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">闪贷的贷款利率很低。Uniwap和Sushiswap拿0.3%。</li><li id="c1a9" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc ma mb mc md dt translated">用自己的资金进行清算可能会有风险，并导致亏损。flashloan来源清算的最坏情况是交易恢复。</li></ul><h1 id="7270" class="le kf ht bd kg lf lg lh kk li lj lk ko ll lm ln kr lo lp lq ku lr ls lt kx lu dt translated">潜伏</h1><p id="e070" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">首先，让我们简单介绍一下价格预言，理解后面介绍的延迟的概念很重要。自推出以来，Aave一直使用Chainlink oracles进行资产价格更新。如果您不熟悉Chainlink，想象一下一群提供商从区块链以外的某个地方获取资产价格，然后在价格上涨或下跌时将价格提交给智能合约。一旦向oracle contract提交了足够多的oracle update事务，就会根据所有提交的事务计算出新的中间价，并更新资产价格。这种情况经常发生，你可以想象，以太坊充满了oracle价格更新。对于Aave用户来说，抵押资产的价格下降或借入资产的价格上升会导致用户变得不健康，或者换句话说，借入资产的价值过于接近抵押的价值。Aave需要确保所有贷款在任何时候都被超额抵押，如果不再是这种情况，其他人可以为该用户偿还贷款，并获得同等价值的可用抵押品和奖金，并进行清算。因此，使清算成功的是价格更新，使用户抵押不足，我们将这一事件称为MEV创建。</p><p id="0746" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">测量MEV创建和MEV提取事件(在这种情况下是清算)之间的距离，使我们能够确定任何尝试的延迟，无论是成功还是失败。为什么这很重要？清算人不只是对成功清算的数量感兴趣吗？答案是肯定的，当然提取的金额就是高分。但是测量延迟可以让你了解什么是最佳策略，并根据每次尝试来衡量你的机器人。它还为您提供了关于您的bot执行情况的更即时的反馈，当其他玩家的延迟远远超过您的延迟时，或者当生态系统发生变化时，例如新的内存池服务速度极快时，您可以了解其他玩家是否开始超过您。</p><p id="a0a4" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">让我们讨论两种清算和所使用的技术，并测量它们的延迟，以了解如何实现它。</p><h2 id="b11f" class="ke kf ht bd kg kh ki kj kk kl km kn ko jq kp kq kr ju ks kt ku jy kv kw kx ky dt translated"><strong class="ak">技巧1:天然气拍卖</strong></h2><p id="baa8" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">此<a class="ae kd" href="https://etherscan.io/tx/0x35e334927757c618a1702d3bd618b735d6b249a3a5d56ff1bc638375d1ce7db6" rel="noopener ugc nofollow" target="_blank">交易</a>于4月18日清算用户0x 67 E5 ab 5b 573 f 01030 a 1076 DDA 7a 79 ef 0 f 31 a1 BFA，清算人偿还从用户处借入的部分DAI，并收到Aave令牌作为回报，为DAI出售Aave令牌，偿还从Uniswap池借入的DAI，然后将剩余的Aave令牌交换为ETH。这是一种天然气拍卖交易，多个清算人哄抬天然气价格，成为第一个清算用户的人。让你成为第一个意味着让你的交易尽可能靠近MEV创建事件。我们可以通过模拟发生在块12261731和事务索引2的清算并尝试在先前的位置执行它来找到MEV创建事件。该过程如下所示:</p><ol class=""><li id="d61d" class="lv lw ht jh b ji jj jm jn jq lx ju ly jy lz kc mo mb mc md dt translated">在12261731块和交易指数1处清算是否仍然成功？是</li><li id="fbba" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc mo mb mc md dt translated">在12261731块，交易指数为0，清算还成功吗？是的。哦，那么MEV创建事件必须在前一个块中。</li><li id="47f1" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc mo mb mc md dt translated">在块12261730和交易指数120(该块有121笔交易)清算是否仍然成功？是</li><li id="a9e5" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc mo mb mc md dt">…</li><li id="d4c5" class="lv lw ht jh b ji me jm mf jq mg ju mh jy mi kc mo mb mc md dt translated">在12261730块，交易指数95，清算还成功吗？否。该交易是oracle价格更新吗？是的。然后我们找到了<a class="ae kd" href="https://etherscan.io/tx/0x8ffc3c4970a9458111bd87e055fa2daef6f126ede4ca2ce2a6a691ad7c5a8db8" rel="noopener ugc nofollow" target="_blank"> MEV创建事件</a>，在本例中它更新了戴的价格。</li></ol><p id="279c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">现在我们已经找到了MEV创建事件，我们可以通过测量两个事件之间的距离来计算清算的延迟。让我们指定一个由数据块和事务延迟组成的延迟分数，该分数揭示了来自可用数据块的所有基于时间的相关信息。对于块延迟，包含清算的块号从包含oracle update价格的块号中减去。对于事务延迟，我们测量两个事件之间有多少事务。因此，我们将块展平为一个事务列表，并计算从创建到提取事件有多少个要获取的事务。这意味着在MEV创建和提取之间有一个块，从一个事件到另一个事件有28个事务。因此，我们得出结论，清算的延迟得分为1–28。</p><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mp"><img src="../Images/93c606c62a5782bf90049972700804e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8BsDt3TAVYbBkhFYaPJOHQ.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Latency measure for <a class="ae kd" href="https://etherscan.io/tx/0x35e334927757c618a1702d3bd618b735d6b249a3a5d56ff1bc638375d1ce7db6" rel="noopener ugc nofollow" target="_blank">gas auction liquidation</a></figcaption></figure><p id="db27" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">还有两个竞争对手试图清算同一个用户。0x5Abb次重新定价清算，最终支付7 <strong class="jh hu">。</strong>交易费用中的98 ETH。0x2CA1放弃较早，付出1.5 ETH。</p><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mq"><img src="../Images/dfbed0eb868b401243b8a19fe6d6a9e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGng66p4S89XRACd0dCkAw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">List of <a class="ae kd" href="https://etherscan.io/tx/0x35e334927757c618a1702d3bd618b735d6b249a3a5d56ff1bc638375d1ce7db6" rel="noopener ugc nofollow" target="_blank">liquidation</a> competitors</figcaption></figure><p id="34cb" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">有趣的是，前两笔交易似乎在不同的流动性池之间套利。他们透露，该区块包含通过flashbots提交的交易。所以套利者也可以利用这次清算。我们将在后面的部分更详细地介绍flashbots，并解释为什么会这样。</p><h2 id="8878" class="ke kf ht bd kg kh ki kj kk kl km kn ko jq kp kq kr ju ks kt ku jy kv kw kx ky dt translated"><strong class="ak">技巧2:回溯价格甲骨文更新</strong></h2><p id="e7be" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">此<a class="ae kd" href="https://etherscan.io/tx/0x61247978224b2742375399c6c6c3bbe7c0aa9245ac3c9ae154fdeca026158f2f" rel="noopener ugc nofollow" target="_blank">交易</a>于4月7日清算用户0xb 64943 F4 f26d 837 ceeac 96 CAE 86 D1 Bab 23 a 3414d。发送交易的清算人不与其他人在天然气价格上竞争，而是在同一区块的MEV创建事件后，谁能够反向运行并最接近。区块内的交易通常由矿商按照天然气价格从高到低排序。比较MEV生成和提取事件的气体价格，我们注意到它们是相同的166 <strong class="jh hu">。</strong> 1 Gwei。当我们测量延迟时，我们发现清算实际上发生在oracle更新之后。这是一个<em class="mr">0–1</em>的延迟分数(从MEV创建到提取事件的同一个块和1个事务)，这是可能的最高延迟分数。</p><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ms"><img src="../Images/bda0ccbd4656b532be599364d96a4cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3mSYhxjLR872DTgUR4Ik1g.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Latency measure for <a class="ae kd" href="https://etherscan.io/tx/0x61247978224b2742375399c6c6c3bbe7c0aa9245ac3c9ae154fdeca026158f2f" rel="noopener ugc nofollow" target="_blank">back-running oracle price update liquidation</a></figcaption></figure><p id="8799" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">让我们看看竞争对手在试图清算同一用户时的表现，并测量他们的延迟。下表包含了与成功清算相同天然气价格的同一区块中同一用户的所有清算尝试。</p><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mq"><img src="../Images/619c21bd59bee2c2c7d2f0cb6bc353dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9gdHSNOxvXHwBqXZQOU1lA.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">List of <a class="ae kd" href="https://etherscan.io/tx/0x61247978224b2742375399c6c6c3bbe7c0aa9245ac3c9ae154fdeca026158f2f" rel="noopener ugc nofollow" target="_blank">liquidation</a> competitors</figcaption></figure><p id="beda" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这里发生了很多事情。总共有来自5个不同清算人的12次其他清算尝试。交易指数90处的oracle价格更新完全被清算尝试所包围。从第2行和第3行可以看出，甚至有2个出现得太早。负的事务延迟分数意味着MEV提取发生在创建之前。同样引人注目的是，大多数清算人选择发送多次尝试。这种技术不知何故让我想起了<a class="ae kd" href="https://www.computerhope.com/jargon/h/heap-spraying.htm" rel="noopener ugc nofollow" target="_blank">堆喷</a>，一种在21世纪初流行的技术。它用于在web浏览器中执行代码，方法是将代码放在堆的不同位置，希望被覆盖的函数指针稍后会引用其中一个位置并执行代码。在这种情况下，清算人的垃圾邮件清算尝试与MEV创建事件同步进行，以最大化他们尽可能接近MEV创建事件的机会。</p><h2 id="0714" class="ke kf ht bd kg kh ki kj kk kl km kn ko jq kp kq kr ju ks kt ku jy kv kw kx ky dt translated">谁赢了？</h2><p id="40e4" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">在前面的例子中，我们已经讨论了两种主要的清算策略。谁赢了——天然气拍卖商还是价格预言家？回到延迟的概念，我们可以看到反向运行价格预测实现了最高的延迟，因此它是最佳技术，因为它发生在与MEV创建事件相同的块中，而天然气拍卖严格地发生在下一个块中，因为还没有人利用这个机会。当我们以这种方式考虑这些技术时，很明显这些技术是可以组合的，其中清算人可以首先尝试回溯最初的尝试，然后如果MEV创建事件已经包括在最新的块回退到气体拍卖技术中之后机会仍然存在。</p><p id="dde0" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">让我们再次查看整个清算数据集，并测量延迟。下图显示了按在同一、下一个或多个数据块中的发生情况分组的清算的数据块延迟。我们注意到，随着时间的推移，延迟已经逐渐改善。从2020年年中开始，flashloans也可能大大增加了参与清算游戏的人数，这反过来导致竞争加剧，并有助于降低清算的延迟。我们进一步看到，在过去的几个月里，oracle价格回溯已成为迄今为止最成功的清算技术。</p><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mt"><img src="../Images/df7360b2f88a4ca36e2a99428016ca13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bn2lmzgXd5v3hfpLwQ0QXw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Block latency for liquidations that were successfully measured</figcaption></figure><h2 id="3bb0" class="ke kf ht bd kg kh ki kj kk kl km kn ko jq kp kq kr ju ks kt ku jy kv kw kx ky dt translated">游戏一直在变</h2><p id="9803" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">虽然这些技术目前是成功的，但这并不意味着它们将来也会成功。有一个项目可能会让上述所有技术最终过时，并让清算游戏彻底失败，那就是flashbots。对于那些不熟悉这个项目的人，我强烈推荐看看他们的<a class="ae kd" href="https://github.com/flashbots/pm" rel="noopener ugc nofollow" target="_blank"> Github </a>或者<a class="ae kd" href="https://discord.gg/7hvTycdNcK" rel="noopener ugc nofollow" target="_blank">加入他们非常活跃的社区。flashbots的基本思想是创建一个链外协调机制来决定谁可以在下一个块中排序事务，从而捕获MEV。搜索者(基本上是任何想要提取MEV的人)可以提出普通块的块替代方案，包括他们的MEV提取以及MEV创建交易，并基本上贿赂矿工选择他们的块(或他们的块的一部分),直接将ETH转移到coinbase地址。矿商有动力选择利润最大的区块。当flashbots开始时，只有一个矿工参与了一段时间，但这似乎已经发生了巨大的变化(见</a><a class="ae kd" rel="noopener" href="/flashbots/flashbots-transparency-report-march-2021-d3930b4b98a9">他们的三月更新</a>),相当多的大矿工已经开始开采flashbots块。</p><p id="5c18" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">4月7日，包含Aave清算的第一批<a class="ae kd" href="https://etherscan.io/tx/0x9a7a4b78096301ece260e8f22c46d8387931d0c3c2b4f8c5ea4c6e5dfe8f9d0d" rel="noopener ugc nofollow" target="_blank"> flashbots区块中的一个</a>被开采，用于偿还USDC的贷款，并获得WBTC的回报。查看块12192419中的前几个事务，很明显这是一个非标准块:</p><p id="9c8b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><a class="ae kd" href="https://etherscan.io/tx/0x4639c928e61ae9e37364f31111f5bc1219f8a8994d6b616693214001284f1345" rel="noopener ugc nofollow" target="_blank"> <strong class="jh hu">索引0 </strong> </a> <strong class="jh hu"> </strong>处的事务包含MEV创建事件。这是oracle为USDC更新的价格，设定的天然气价格为171 <strong class="jh hu">。250001823 Gwei。</strong></p><p id="d0a1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><a class="ae kd" href="https://etherscan.io/tx/0x9a7a4b78096301ece260e8f22c46d8387931d0c3c2b4f8c5ea4c6e5dfe8f9d0d" rel="noopener ugc nofollow" target="_blank"> <strong class="jh hu">索引1 </strong> </a>的交易包含MEV提取事件。就是设定气价为0的清算。在这种情况下，不是通过gas向矿工付款，而是向0.94 ETH的coinbase地址进行传输，这是由F2Pool收集的。</p><p id="369c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">根据设定的天然气价格及其在区块中的位置，区块中的以下交易看起来很标准。此外，没有进一步的coinbase转移。看起来清算是这个街区唯一的MEV提取。</p><figure class="mk ml mm mn fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mu"><img src="../Images/67518448b6ddedaaca712da0978913d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F8ytwKaNpuHA6SZdcvDyMg.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">One coinbase transfer at block 12192419</figcaption></figure><h1 id="253a" class="le kf ht bd kg lf lg lh kk li lj lk ko ll lm ln kr lo lp lq ku lr ls lt kx lu dt translated">TL；速度三角形定位法(dead reckoning)</h1><p id="9dc2" class="pw-post-body-paragraph jf jg ht jh b ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy ld ka kb kc hm dt translated">没有什么是静止的，在MEV空间中，事物似乎都在以光速运动。新玩家的加入、oracle机制的变化以及第三方mempool服务速度的加快都导致了这样一个事实，即市场在不断变化，哪些玩家拥有优势。flashbots肯定有潜力从根本上改变清算游戏的玩法。如果是这样的话，这也将有望对普通以太坊用户产生积极的影响，因为MEV提取协调将发生在链外，使天然气拍卖和tx垃圾邮件成为过去。如果个人在未来仍然能够在这个高度竞争的24/7多人游戏中竞争，矿工和更大的玩家进入这个空间还有待观察。</p></div></div>    
</body>
</html>