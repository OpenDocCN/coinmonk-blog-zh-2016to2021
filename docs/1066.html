<html>
<head>
<title>Getting Started with EOSJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EOSJS入门</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/getting-started-with-eosjs-6be29dbb71be?source=collection_archive---------6-----------------------#2018-07-17">https://medium.com/coinmonks/getting-started-with-eosjs-6be29dbb71be?source=collection_archive---------6-----------------------#2018-07-17</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/5f7c3798803bf33f075724b3daddb900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3t99pahtD6-RLhIXbSCxaQ.png"/></div></div></figure><p id="67f7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了容易理解EOSJS是什么，可以把它想象成一个用Javascript轻松控制EOS区块链的库。再深入一点，可以说是为了方便使用EOS的(nodeos) HTTP API而做的。(<a class="ae jz" href="https://github.com/ethereum/web3.js" rel="noopener ugc nofollow" target="_blank">以太坊里的web3.js </a>，Neo里的<a class="ae jz" href="https://github.com/CityOfZion/neon-js" rel="noopener ugc nofollow" target="_blank"> neon-js </a></p><blockquote class="ka"><p id="b37a" class="kb kc ht bd kd ke kf kg kh ki kj jy ek translated">因为EOSJS也使用EOS的HTTP API，所以BP的选择至关重要。(响应时间、可用性等。)</p></blockquote><h1 id="7065" class="kk kl ht bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated"><strong class="ak">安装</strong></h1><p id="71d8" class="pw-post-body-paragraph jb jc ht jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">有两种安装方式。</p><h2 id="e88a" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated"><strong class="ak">用NPM简单安装</strong></h2><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="88c4" class="ln kl ht mg b fv mk ml l mm mn">&gt; npm install eosjs</span></pre><h2 id="b36a" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated"><strong class="ak">CDN的使用</strong></h2><figure class="mb mc md me fq iu"><div class="bz el l di"><div class="mo mp l"/></div></figure><h1 id="c5bd" class="kk kl ht bd km kn ko kp kq kr ks kt ku kv mq kx ky kz mr lb lc ld ms lf lg lh dt translated"><strong class="ak"> EOS连接</strong></h1><h2 id="12ec" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated"><strong class="ak">使用EOSJS进行EOS连接</strong></h2><figure class="mb mc md me fq iu"><div class="bz el l di"><div class="mo mp l"/></div></figure><p id="90c8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果EOS没有在localhost上运行，那么如果您运行上面的代码，将会得到下面的错误。(使用错误的EOS http endpoint进行连接也会出现如下错误。)</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="b7a8" class="ln kl ht mg b fv mk ml l mm mn">{ FetchError: request to <a class="ae jz" href="http://127.0.0.1:8888/v1/chain/get_info" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8888/v1/chain/get_info</a> failed, reason: connect ECONNREFUSED 127.0.0.1:8888<br/>    at ClientRequest.&lt;anonymous&gt; (/Users/mayajuni/Projects/eos-scan/node_modules/node-fetch/index.js:133:11)<br/>    at ClientRequest.emit (events.js:182:13)<br/>    at Socket.socketErrorListener (_http_client.js:382:9)<br/>    at Socket.emit (events.js:182:13)<br/>    at emitErrorNT (internal/streams/destroy.js:82:8)<br/>    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)<br/>    at process._tickCallback (internal/process/next_tick.js:63:19)<br/>  name: 'FetchError',<br/>  message:<br/>   'request to <a class="ae jz" href="http://127.0.0.1:8888/v1/chain/get_info" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8888/v1/chain/get_info</a> failed, reason: connect ECONNREFUSED 127.0.0.1:8888',<br/>  type: 'system',<br/>  errno: 'ECONNREFUSED',<br/>  code: 'ECONNREFUSED' }</span></pre><h2 id="0f44" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated">Mainnet连接</h2><figure class="mb mc md me fq iu"><div class="bz el l di"><div class="mo mp l"/></div></figure><p id="762c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您尝试像上面那样连接，将会出现如下的错误消息。</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div class="ab fr cl mt"><img src="../Images/b7e5012189e7748a799fcf37205e425f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*NEcIHJNI56hIU58587mkVA.png"/></div></figure><p id="84c3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">即使出现错误，<em class="mu"> getInfo </em>也是可能的，所以让我们使用它来检查并输入chainId。</p><blockquote class="mv mw mx"><p id="fdb1" class="jb jc mu jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated">以Mainnet为例，ACA 376 f 206 b 8 fc 25 a 6 ed 44 dbdc 66547 c 36 c 6 c 33 e 3a 119 FB beaef 943642 f 0 e 906是常用的chainId，所以输入这个。</p></blockquote><p id="0cb3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果使用上述方法连接，第一个get_info api将被调用一次，如下所示。(起初，我不是很了解，每次都连接，这导致了mobile L上大量的数据使用)</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div class="ab fr cl mt"><img src="../Images/46559071adc2fa98d0056274d2ab57a1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*xoiFJUP_ntCYHBcA9AgFsA.png"/></div></figure><blockquote class="mv mw mx"><p id="a0e2" class="jb jc mu jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated"><em class="ht">你可以在</em> <a class="ae jz" href="https://api.eosnewyork.io." rel="noopener ugc nofollow" target="_blank"> <em class="ht">查看mainnet地址https://API . eosnewyork . io .</em></a><em class="ht">因为每个BP提供的信息量、响应时间等都不一样。，找到并选择适合自己需求的BP至关重要。(也有直接获取完整节点并连接的方法)。</em></p></blockquote><h2 id="2492" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated"><strong class="ak">连接配置</strong></h2><figure class="mb mc md me fq iu"><div class="bz el l di"><div class="mo mp l"/></div></figure><p id="d2c2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这部分的详细描述在github上。(github-配置)</p><h2 id="5f45" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated"><strong class="ak"> getInfo — api </strong></h2><p id="1c3d" class="pw-post-body-paragraph jb jc ht jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">可以得到EOS的基本网络信息。代码如下所示。</p><figure class="mb mc md me fq iu"><div class="bz el l di"><div class="mo mp l"/></div></figure><blockquote class="mv mw mx"><p id="575d" class="jb jc mu jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated"><em class="ht">有趣的事实:其他API都是基于承诺的，只有getInfo是回调方法。</em></p></blockquote><p id="8f5d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">返回值如下所示。</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="c17d" class="ln kl ht mg b fv mk ml l mm mn">{<br/>    server_version: '36a043c5',<br/>    chain_id:<br/>        'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',<br/>    head_block_num: 5469047,<br/>    last_irreversible_block_num: 5468711,<br/>    last_irreversible_block_id:<br/>        '00537227a657d1f4fd74de877e9ad1a3839540ece45eedeaf177b20e51b2da1b',<br/>    head_block_id:<br/>        '005373770504c59e992214b3056c7bdabb07c53c5a9c4785909b90fe595a119f',<br/>    head_block_time: '2018-07-12T08:58:05.500',<br/>    head_block_producer: 'helloeoscnbp',<br/>    virtual_block_cpu_limit: 200000000,<br/>    virtual_block_net_limit: 1048576000,<br/>    block_cpu_limit: 199900,<br/>    block_net_limit: 1048576<br/>}</span></pre><p id="6689" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您不知道上面提到的chainId(EOS Connect)，您可以通过getInfo获得并使用chainId。</p><p id="c0ca" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这篇文章写得很轻松，因为这只是使用EOSJS的install、connect和getInfo的第一步。我们将在未来更深入地研究EOSJS。</p></div><div class="ab cl nb nc hb nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="hm hn ho hp hq"><h2 id="5a16" class="ln kl ht bd km lo lp lq kq lr ls lt ku jm lu lv ky jq lw lx lc ju ly lz lg ma dt translated">ITAM游戏是一个透明的游戏生态系统的区块链平台</h2><p id="5d69" class="pw-post-body-paragraph jb jc ht jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">订阅ITAM游戏并接收最新信息。</p><p id="4717" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">访问ITAM游戏电讯，就ITAM游戏和区块链进行交流。点击下面的链接加入！👫</p><p id="0b3c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">网址:<strong class="jd hu"/><a class="ae jz" href="https://itam.games" rel="noopener ugc nofollow" target="_blank">https://itam . games</a><strong class="jd hu"><br/></strong>电报:<a class="ae jz" href="https://t.me/itamgames" rel="noopener ugc nofollow" target="_blank">https://t.me/itamgames</a></p></div></div>    
</body>
</html>