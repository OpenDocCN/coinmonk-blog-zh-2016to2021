<html>
<head>
<title>Developing pirates “Black Label” voting system. Blockchain Smart Contract on Solidity. 15 minutes step by step instruction. Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发盗版“黑标”投票系统。关于稳固性的区块链智能合约。15分钟分步指导。第三部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/developing-pirates-black-label-voting-system-6618378aae03?source=collection_archive---------2-----------------------#2018-08-18">https://medium.com/coinmonks/developing-pirates-black-label-voting-system-6618378aae03?source=collection_archive---------2-----------------------#2018-08-18</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7201" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们继续我们的教育课程——15分钟的工作原型——逐步指导。第三个实际教训是致力于巩固必要技能——开发，测试和使用简单智能合同。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/787e00a422a919270063947b5f30787b.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/0*Kmk8RUf3O2Low6e5.jpg"/></div></figure><p id="e252" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">实际上，在互联网上有很多投票系统的例子，但是大多数很难在一堂课上理解和测试。</p><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="2cab" class="kb kc ht jx b fv kd ke l kf kg">Lessons One and Two from the session:</span><span id="c5aa" class="kb kc ht jx b fv kh ke l kf kg">1. <a class="ae ki" rel="noopener" href="/@andrii.ryzhenko/создаем-работающую-криптоцерковь-с-нуля-за-15-минут-пошаговая-инструкция-9c27798d2913">Developing of CryptoChurch. 15 minutes step by step instruction (Russian)</a></span><span id="c313" class="kb kc ht jx b fv kh ke l kf kg">2. <a class="ae ki" rel="noopener" href="/@andrii.ryzhenko/develop-blockchain-trusted-diploma-verification-system-in-15-minutes-step-by-step-instruction-fdcf37a244ab">Develop blockchain “Trusted Diploma” verification system in 15 minutes. Step by step instruction</a></span></pre><h1 id="8995" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">项目要求</h1><p id="f086" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">首先，我们得从对产品需求的理解开始:</p><ul class=""><li id="d9ca" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">任何来自海盗船组的人都可以创建新的选举，并建议自己成为船长。但是，如果选举失败，剧组会杀掉候选人。</li><li id="8d00" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">每个船员只能投一次票，每个人都有同等的权力</li><li id="8e17" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">船员地址列表是公开的</li><li id="386d" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">只有机组成员可以查看投票结果</li><li id="3fae" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">智能合同必须是公开的，以确保投票</li><li id="4d3f" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">多数投票制是指超过50%的投票者投票给有争议的人或问题(非多数投票)</li></ul><h1 id="cddc" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">数据结构</h1><p id="884c" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">第二步是开发数据结构。我们从变量开始:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="lz ma l"/></div></figure><p id="ac81" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">和功能符合要求</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="lz ma l"/></div></figure><h1 id="d3a3" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">制定智能合同</h1><p id="97e3" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">打开浏览器(Chrome或Firefox)去remix.ethereum.org<br/>点击新建Solidity文件，输入新名字，比如“Election.sol”还不错。<br/>从BlackLabel智能合同中复制过去的文本或手动输入。我们将在下一阶段深入研究</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="lz ma l"/></div></figure><p id="8a45" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">部署前检查重新混合配置:</p><p id="2bc8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">环境— JavaScriptVM</p><p id="1734" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Address[] _crewAddresses —从帐户中输入您的实际地址(取3–4进行快速测试)。</p><p id="4154" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">或者，使用我的示例进行第一次测试，但是添加您部署合同的实际地址:</p><p id="3164" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">[" 0x ca 35 b 7d 915458 ef 540 ade 6068 dfe 2 f 44 e 8 fa 733 c "，" 0x 14723 a 09 acff 6 D2 a 60 CDF 7 aa 4a af 308 fddc 160 c "，" 0x4b 0897 b 0513 FDC 7 c 541 b 6d 9 e 929 C4 e 5364d 2 db "，" 0x 2 addf 375156d 0 c 9553 FD 5 e 62 cf 62 f 4288859 bb 7</p><p id="89e6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">按下部署按钮</p><p id="1696" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果没问题，去控制台看看这样</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mb"><img src="../Images/77b3b08fd89c8fc672d96772e0fd22af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g7fbDKq8rqkfFfDJtAZICg.png"/></div></div></figure><p id="442e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">而不是去“部署的合同”,检查功能和审查合同。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mg"><img src="../Images/8ad1c01b3688f22445d08ea35e4793ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tLFqjAw8HeApyjDfAX0AXg.png"/></div></div></figure><p id="fc53" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一步—了解其工作原理:)</p><h1 id="4926" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">审查代码</h1><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="1992" class="kb kc ht jx b fv kd ke l kf kg">pragma solidity 0.4.24;</span></pre><p id="46ee" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以选择编译器的版本。开发人员通常不喜欢锁定pragma。现在，这并不重要，你可以使用这两个选项</p><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="8877" class="kb kc ht jx b fv kd ke l kf kg">pragma solidity ^0.4.24;</span><span id="54c3" class="kb kc ht jx b fv kh ke l kf kg">contract BlackLabel {</span></pre><p id="63f7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一个字符串是创建智能合同的基本语法。</p><p id="954b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一步，我们已经定义了变量</p><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="6864" class="kb kc ht jx b fv kd ke l kf kg">address public nextCapitan; </span><span id="ad70" class="kb kc ht jx b fv kh ke l kf kg">mapping(address =&gt; bool) private crew; </span><span id="7f8d" class="kb kc ht jx b fv kh ke l kf kg">uint private voteCount; </span><span id="01fe" class="kb kc ht jx b fv kh ke l kf kg">address[] private crewList;</span></pre><p id="3372" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最有趣的是映射——我们将在文章的最后讨论<br/>构造函数()正在做的事情:</p><ul class=""><li id="5143" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">设置合同的所有者；</li><li id="e6b7" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">存储带有机组地址的输入数组；</li><li id="8186" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">将机组成员的值映射为true以访问投票；</li><li id="faf3" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">候选人必须为自己投票</li></ul><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="43bc" class="kb kc ht jx b fv kd ke l kf kg">constructor( address[] _crewAddresses) payable public {<br/>        nextCapitan = msg.sender;<br/>        crewList = _crewAddresses;<br/>        voteCount = 1;<br/>        for (uint i = 0; i &lt; crewList.length; i++) {<br/>            crew[crewList[i]] = true;<br/>        }    <br/>}</span></pre><p id="53ad" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下一个函数是<strong class="is hu"> vote(): </strong></p><ul class=""><li id="7c5f" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">团队中的任何人只能为创建智能合同的候选人投票一次。</li><li id="0782" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">候选人不能投票，因为合同创建时会自动投票。</li></ul><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="c15c" class="kb kc ht jx b fv kd ke l kf kg">function vote() public {<br/>    require(crew[msg.sender]); <br/>    require(msg.sender != nextCapitan ); <br/>    crew[msg.sender] = false; <br/>    voteCount++; }</span></pre><p id="8180" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来的两个函数<strong class="is hu"> getVoteCount( </strong>)和<strong class="is hu"> getCrewAddresses </strong>需要使投票过程更加公开。</p><p id="eafc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">函数winOrDie()比较有意思。当工作人员决定时间到了，工作人员中的任何人都可以启动验证程序来检查投票结果:</p><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="4ad7" class="kb kc ht jx b fv kd ke l kf kg">function winOrDie() public view returns (string text) {<br/>    require(msg.sender != nextCapitan);<br/>    if (voteCount &gt; crewList.length/2 ) <br/>         return “Glory to new Captain!!!”; <br/>    else <br/>         return “Vote was failed.Kill candidate!”; }}</span></pre><p id="6975" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们必须在真实网络上进行测试。</p><h1 id="175e" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">是时候安装元掩码了。如果您以前使用过，请跳过</h1><p id="c824" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">进入<a class="ae ki" href="http://www.metamask.io" rel="noopener ugc nofollow" target="_blank"> <em class="mh"> www.metamask.io </em> </a>网站，按照基本说明进行安装。保存助记词，以便在出现问题时恢复访问。</p><p id="1f70" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来，去https://faucet.rinkeby.io/<a class="ae ki" href="https://faucet.rinkeby.io/" rel="noopener ugc nofollow" target="_blank"/></p><p id="f465" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">完成一个简单的任务。将你的账户地址从MetaMask复制到Google+ post。</p><p id="1984" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">输入链接到水龙头形式，并选择18.75乙醚延迟3天。</p><p id="e26c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">等待帐户余额更新:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mi"><img src="../Images/0e556bd9f145a1ea425a4dc5628c89b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TvZxejYh3G_lJ4dp"/></div></div></figure><h1 id="6fab" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">运行以太坊交易</h1><p id="e6a7" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">前往以太坊MetaMask钱包。选择<strong class="is hu"> Rinkeby测试网络</strong>。此外，您可以使用公共以太网或运行自己的私有以太网(MS Azure或Google Cloud)。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mj"><img src="../Images/8a71f524800b20a46398663ecd68ab95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*myO40bmcmJ91346x"/></div></div></figure><p id="f4b8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">或者测试新的酷网版本:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mk"><img src="../Images/f359a9f4c98e3ec5153054de659d8060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8O-c4TAlXiV4beY0TzPkXw.png"/></div></div></figure><p id="ad2c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">返回混音工作室:</p><div class="ml mm fm fo mn mo"><a href="http://remix.ethereum.org" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab ej"><div class="mq ab mr cl cj ms"><h2 class="bd hu fv z el mt eo ep mu er et hs dt translated">混合可靠性集成开发环境</h2><div class="mv l"><h3 class="bd b fv z el mt eo ep mu er et ek translated">编辑描述</h3></div><div class="mw l"><p class="bd b gc z el mt eo ep mu er et ek translated">remix.ethereum.org</p></div></div></div></a></div><p id="8c3f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">验证解决方案的最后一个清单:</strong></p><ul class=""><li id="803a" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">确认你的合同没有任何错误</li><li id="0e18" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">验证您是否在Rinkeby测试网络中</li><li id="1386" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">检查环境—选择“注入的Web”选项</li><li id="b6cb" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">检查帐户余额是否非零</li><li id="0941" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">检查您的帐户地址是否在船员地址列表中</li></ul><p id="f3ff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">点击<strong class="is hu">部署合同附近的回收站，清除实例列表并重置记录器。</strong></p><p id="25ef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">复制您的地址并在字段中输入</p><p id="1cf7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">[" 0x ca 35 b 7d 915458 ef 540 ade 6068 dfe 2 f 44 e 8 fa 733 c "，" 0x 14723 a 09 acff 6 D2 a 60 CDF 7 aa 4a af 308 fddc 160 c "，" 0x4b 0897 b 0513 FDC 7 c 541 b 6d 9 e 929 C4 e 5364d 2 db "，" 0x 2 addf 375156d 0 c 9553 FD 5 e 62 cf 62 f 4288859 bb 7</p><p id="36aa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">点击部署按钮</strong></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mx"><img src="../Images/16dd212124897aeceafa0b3180b9c66f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MjtMvpuFiDCIzNyTRY1Xrw.png"/></div></div></figure><p id="190b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">按下提交按钮，在元掩码处确认交易</p><p id="cf64" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">等待交易确认，您可以通过点击最后一笔交易打开链接进行检查</p><p id="4275" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我的例子</p><div class="ml mm fm fo mn mo"><a href="https://rinkeby.etherscan.io/tx/0x24112f2a6a9aa661045d10cabd591620454f8465a3613f9198f41ad72e086790" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab ej"><div class="mq ab mr cl cj ms"><h2 class="bd hu fv z el mt eo ep mu er et hs dt translated">Rinkeby交易0x 24112 F2 a 6a 9 aa 661045d 10 cabd 591620454 f 8465 a 3613 f 9198 f 41 ad 72e 086790</h2><div class="mv l"><h3 class="bd b fv z el mt eo ep mu er et ek translated">rinke by(ETH)0x 24112 F2 a 6a 9 aa 661045d 10 cabd 591620454 f 8465 a 3613 f 9198 f 41 ad 72e 086790详细交易信息</h3></div><div class="mw l"><p class="bd b gc z el mt eo ep mu er et ek translated">rinkeby.etherscan.io</p></div></div></div></a></div><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff my"><img src="../Images/ffe0114463923c51dfe6472bddb0b14f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQuBhSVZls7ZJFLHw6Rpzg.png"/></div></div></figure><p id="0490" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">单击合同并验证它。我的例子:</p><div class="ml mm fm fo mn mo"><a href="https://rinkeby.etherscan.io/address/0xef76b473bae3d312d7f557a6510b4fa1d335d05f" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab ej"><div class="mq ab mr cl cj ms"><h2 class="bd hu fv z el mt eo ep mu er et hs dt translated">Rinkeby帐户、地址和合同</h2><div class="mv l"><h3 class="bd b fv z el mt eo ep mu er et ek translated">以太坊区块链浏览器、API和分析平台</h3></div><div class="mw l"><p class="bd b gc z el mt eo ep mu er et ek translated">rinkeby.etherscan.io</p></div></div></div></a></div><p id="f9a7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">恭喜—投票已创建！</p><h1 id="f761" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">智能合同的测试</h1><p id="ef97" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">下一步是测试它是如何工作的</p><p id="8da9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">打开混音工作室，创建一个新的。sol文件并在其上复制智能合同文本。</p><p id="528e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">将已部署的合同地址复制并粘贴到已存档的“从地址加载合同”中:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mz"><img src="../Images/d2015a40ffbfcddfcd2e017eb6014837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l3aY0FSdmUUtcJT87LB2kw.png"/></div></div></figure><p id="94e9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">点击地址按钮</p><p id="e597" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">好的，您的本地合同已部署:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff mz"><img src="../Images/faac72b35f89f48b15ba143f1e495354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ufEB7GF9CFUuRt1-vzXg2w.png"/></div></div></figure><p id="e4ee" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">选择不同的帐户和测试功能:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff na"><img src="../Images/e10de70805774fb5a4d88fedefa174d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WKLhG2sEcC6iPtGqqp4M_A.png"/></div></div></figure><ul class=""><li id="01a7" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">尝试多次运行投票</li><li id="80fe" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">跟踪getVoteCount输出的更改</li><li id="12b8" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">运行winOrDie作为船长和船员</li></ul><p id="f707" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在你对结果完全满意并理解其运作方式之前，重新运行你的合同。</p><p id="6ea5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">转到以太网扫描并输入合同部分代码。</p><p id="b835" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">点击<a class="ae ki" href="https://rinkeby.etherscan.io/verifyContract?a=0xef76b473bae3d312d7f557a6510b4fa1d335d05f" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">验证并发布</strong> </a> <strong class="is hu"> </strong>今天就新增您的合同源代码！</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff nb"><img src="../Images/8b20b54e96d209202f404dfd7ee78c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KvB3WhlqLl6jUhOF8pkBlQ.png"/></div></div></figure><p id="5614" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你第一次没有成功，不要担心</p><p id="2a43" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">检查重新混合和合同时的设置:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff nc"><img src="../Images/7378fa15255eff06af5625144c533c6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oiYXWtdRtxA6-l5gvjKWOQ.png"/></div></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff nd"><img src="../Images/9d2ea68e53cda627401eefa46f2ab48d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y8fHXcNquaZMVERCA6VHrw.png"/></div></div></figure><h1 id="9d4e" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">接下来的发展阶段</h1><p id="a664" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">接下来呢？您可以提高自己的技能并添加解决方案:</p><ul class=""><li id="0fa4" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">委托职能；</li><li id="0009" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">完善候选人名单；</li><li id="d5ab" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">“是”和“否”的投票结果，添加权力参数；</li><li id="c47b" class="ll lm ht is b it lu ix lv jb lw jf lx jj ly jn lq lr ls lt dt translated">尝试这样的投票者结构:</li></ul><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="d5ff" class="kb kc ht jx b fv kd ke l kf kg">struct Voter { <br/>      bytes32 name; // short name <br/>      uint powerPoits; // amount of vote points<br/>      bool voteStatus; // check if voted<br/>      bool delegationStatus // check delegated or not <br/>      uint memberIndex; // crew member index</span><span id="12e3" class="kb kc ht jx b fv kh ke l kf kg">mapping(address =&gt; Voter) public crew;</span></pre><p id="5b4a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">重要！既然我们可以使用数组，为什么还要使用映射呢？</p><p id="d730" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae ki" href="https://ethereum.stackexchange.com/questions/2592/store-data-in-mapping-vs-array" rel="noopener ugc nofollow" target="_blank">https://ether eum . stack exchange . com/questions/2592/store-data-in-mapping-vs-array</a></p><pre class="jp jq jr js fq jw jx jy jz aw ka dt"><span id="db00" class="kb kc ht jx b fv kd ke l kf kg">mapping<!-- --> is generally recommended.  </span><span id="79b6" class="kb kc ht jx b fv kh ke l kf kg">The main advantage of an array is for iteration. But the iteration needs to be limited, not only for speed, but potentially for security. As an extreme example, a permanent Denial-of-Service could be inflicted on a contract if its service involves iterating over an array that an attacker can fill up, such that the cost of iteration and operation permanently exceeds the block gas limit.</span><span id="d3c9" class="kb kc ht jx b fv kh ke l kf kg">Note, for clarity, one should not try to replace all arrays with mappings: <a class="ae ki" href="http://solidity.readthedocs.org/en/latest/types.html#mappings" rel="noopener ugc nofollow" target="_blank">mappings can only be used for data in storage</a>.</span></pre><ul class=""><li id="bc13" class="ll lm ht is b it iu ix iy jb ln jf lo jj lp jn lq lr ls lt dt translated">基于React框架创建一个按钮应用程序</li></ul><p id="9e0e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">此外，我还创建了投票系统的简单版本，尝试进一步简化:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="lz ma l"/></div></figure><h2 id="f442" class="kb kc ht bd kk ne nf ng ko nh ni nj ks jb nk nl kw jf nm nn la jj no np le nq dt translated">非常感谢！请喜欢或分享文章。祝你好运！</h2><p id="dace" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">下一个阅读</p><h1 id="c63e" class="kj kc ht bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated"><a class="ae ki" rel="noopener" href="/@andrii.ryzhenko/develop-blockchain-trusted-diploma-verification-system-in-15-minutes-step-by-step-instruction-fdcf37a244ab">15分钟开发区块链“可信文凭”。分步指令</a></h1><p id="d2c6" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated"><a class="ae ki" rel="noopener" href="/@andrii.ryzhenko">https://medium.com/@andrii.ryzhenko</a></p><div class="ml mm fm fo mn mo"><a href="https://www.linkedin.com/in/andrii/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab ej"><div class="mq ab mr cl cj ms"><h2 class="bd hu fv z el mt eo ep mu er et hs dt translated">NCube有限公司业务发展总监--软件开发外包…</h2><div class="mv l"><h3 class="bd b fv z el mt eo ep mu er et ek translated">业务开发和技术总监。有兴趣与科技公司合作构建跨堆栈解决方案…</h3></div><div class="mw l"><p class="bd b gc z el mt eo ep mu er et ek translated">www.linkedin.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw ju mo"/></div></div></a></div><blockquote class="nx"><p id="d6b8" class="ny nz ht bd oa ob oc od oe of og jn ek translated"><a class="ae ki" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="oi oj ok ol om jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff oh"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>