<html>
<head>
<title>Intro to Web3.go Part 1: EthClient</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web3.go简介第1部分:EthClient</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/web3-go-part-1-31c68c68e20e?source=collection_archive---------1-----------------------#2020-07-06">https://medium.com/coinmonks/web3-go-part-1-31c68c68e20e?source=collection_archive---------1-----------------------#2020-07-06</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="c9e7" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">如何使用go-ethereum作为库</h2></div><p id="9314" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">许多开发人员问我，他们如何使用他们最喜欢的编程语言Go来访问以太坊网络。这篇文章是系列文章的一部分，它将解释使用<a class="ae ke" href="https://github.com/ethereum/go-ethereum" rel="noopener ugc nofollow" target="_blank"> go-ethereum </a>作为库来访问以太坊的鲜为人知的能力。</p><p id="c0a8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">早在2015年，Péter Szilágyi和geth团队就开始开发<code class="eh kf kg kh ki b">ethclient</code>包和<code class="eh kf kg kh ki b">abigen</code>工具。这个旧的<a class="ae ke" href="https://www.youtube.com/watch?v=R0Ia1U9Gxjg" rel="noopener ugc nofollow" target="_blank">视频</a>深入探究了它背后的推理以及如何使用它们。除了这个视频，没有太多关于他们的可用文档。本系列的目的是为开发人员提供更多关于这些工具的文档。</p><h2 id="c6c1" class="kj kk ht bd kl km kn ko kp kq kr ks kt jr ku kv kw jv kx ky kz jz la lb lc ld dt translated"><strong class="ak">连接:ethclient包。</strong></h2><p id="47b1" class="pw-post-body-paragraph ji jj ht jk b jl le iu jn jo lf ix jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated">包<code class="eh kf kg kh ki b">ethclient</code>是当你试图把geth作为一个库使用时，你会偶然发现的第一个包。它使您能够通过websocket、http或ipc连接到节点。<code class="eh kf kg kh ki b">ethclient</code>允许您连接到<strong class="jk hu">任何支持在<a class="ae ke" href="https://eth.wiki/json-rpc/API" rel="noopener ugc nofollow" target="_blank"> RPC-Spec </a>中定义的rpc API的</strong>节点。</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="lo lp l"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Connect to an ethereum node</figcaption></figure><p id="79aa" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">Dial返回一个包装了raw <code class="eh kf kg kh ki b">rpc.Client</code>的对象，例如可以用来调用以下函数(还有很多):</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="lo lp l"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Common functions</figcaption></figure><p id="cc2c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在上一个片段中，您已经看到了ethclient的一些基本用法，但是细心的读者已经注意到我们正在创建一个会导致错误的无效事务，那么我们如何创建有效的事务以及帐户管理是如何工作的呢？</p><p id="2ff3" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">账户管理:账户包。</strong></p><p id="2075" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了创建原始事务，您可以使用以下代码片段:</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="lo lp l"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Create a new transaction</figcaption></figure><p id="20f0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在你需要签署交易。如果您有明文形式的密钥，您可以使用以下代码对您的交易进行签名:</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="lo lp l"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Sign your transaction</figcaption></figure><p id="8bd1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">但是，如果您不想处理原始密钥或使用硬件密钥来发送事务，该怎么办呢？我们掩护你！您可以使用<code class="eh kf kg kh ki b">keystore.Keystore</code>作为您私钥的加密存储，如下所示:</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="lo lp l"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Use keystore.Keystore to create a TransactOpts</figcaption></figure><p id="69b6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">使用<code class="eh kf kg kh ki b">TransactOpts</code>对象，您可以签署交易。稍后需要该对象通过自动生成的绑定与智能合约进行交互。</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="lo lp l"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Sign a transaction with TransactOpts</figcaption></figure><p id="c57f" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这看起来很酷，但是如果我想与智能合约交互呢？您可以在事务的<code class="eh kf kg kh ki b">data</code>字段中输入原始数据，但是这非常不安全，所以geth提供了<code class="eh kf kg kh ki b">bind</code>包和<code class="eh kf kg kh ki b">abigen</code>二进制文件来为您的智能契约创建契约绑定。我们将在本系列的第二部分中讨论这个问题。</p><p id="e007" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果你想联系我，就发消息给我，地址是@ v<a class="ae ke" href="https://twitter.com/vdWijden" rel="noopener ugc nofollow" target="_blank">dWijden</a>Twitter<a class="ae ke" href="https://twitter.com/vdWijden" rel="noopener ugc nofollow" target="_blank">或Linkedin </a>。</p><p id="47a8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae ke" rel="noopener" href="/@m.vanderwijden1/web3-go-part-1-31c68c68e20e">第一部分:连接和发送事务</a> <br/> <a class="ae ke" rel="noopener" href="/@m.vanderwijden1/web3-go-part-2-aebdcb8d926e">第二部分:调用智能合约上的函数</a> <br/> <a class="ae ke" rel="noopener" href="/@m.vanderwijden1/intro-to-web3-go-part-3-d4f08a32c0ae">第三部分:监听来自智能合约的事件</a> <br/> <a class="ae ke" rel="noopener" href="/@m.vanderwijden1/intro-to-web3-go-part-4-5a21bc71fddc">第四部分:创建用于测试的模拟区块链</a></p><p id="c183" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">特别感谢<a class="ae ke" href="https://twitter.com/renelubov" rel="noopener ugc nofollow" target="_blank"> Rene </a>的校对！</p><figure class="lj lk ll lm fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff lu"><img src="../Images/2833d4600ec931998560ae8fe2bd7fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VgXtXeplmssepMlX0bkyXw.png"/></div></div></figure><blockquote class="mb"><p id="6b38" class="mc md ht bd me mf mg mh mi mj mk kd ek translated">加入Coinmonks <a class="ae ke" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ke" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae ke" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="kj kk ht bd kl km ml ko kp kq mm ks kt jr mn kv kw jv mo ky kz jz mp lb lc ld dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="mq mr ht jk b jl le jo lf jr ms jv mt jz mu kd mv mw mx my dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae ke" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated"><a class="ae ke" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae ke" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="874f" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated"><a class="ae ke" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae ke" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="f33b" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳加密交易所</a> | <a class="ae ke" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度最佳加密交易所</a></li><li id="657f" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">开发者最佳加密API</a></li><li id="b359" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated">最佳<a class="ae ke" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">密码借贷平台</a></li><li id="3c98" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/free-crypto-signals-48b25e61a8da">免费加密信号</a> | <a class="ae ke" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a></li><li id="9487" class="mq mr ht jk b jl mz jo na jr nb jv nc jz nd kd mv mw mx my dt translated">杠杆代币的终极指南</li></ul></div></div>    
</body>
</html>