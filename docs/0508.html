<html>
<head>
<title>Setting up a multi node private ethereum swarm network without a blockchain</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立一个没有区块链的多节点私有以太群网络</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/setting-up-a-multi-node-private-ethereum-swarm-network-without-a-blockchain-e3fd55873887?source=collection_archive---------3-----------------------#2018-05-14">https://medium.com/coinmonks/setting-up-a-multi-node-private-ethereum-swarm-network-without-a-blockchain-e3fd55873887?source=collection_archive---------3-----------------------#2018-05-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/ec6554f2be78e72e81aef181043201b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9u_Xsyf461U3jZQL."/></div></div><figcaption class="ic id fg fe ff ie if bd b be z ek">“Fans and wires on the back of a computer server” by <a class="ae ig" href="https://unsplash.com/@freeche?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Thomas Kvistholt</a> on <a class="ae ig" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="693f" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在浏览完<a class="ae ig" href="http://swarm-guide.readthedocs.io/en/latest/introduction.html" rel="noopener ugc nofollow" target="_blank"> swarm的</a>之后，我发现多节点swarm网络的设置令人困惑，所以我写这篇文章来帮助那些可能正在考虑开发一个的人。</p><h2 id="eb7e" class="ke kf ij bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">以太坊群是什么？</h2><p id="bc95" class="pw-post-body-paragraph jg jh ij ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">以太坊群是一个点对点的文件存储系统，允许用户数据的分布式和加密存储。类似于<a class="ae ig" href="https://en.wikipedia.org/wiki/BitTorrent" rel="noopener ugc nofollow" target="_blank"> Bittorrent </a>如何存储文件或者<a class="ae ig" href="https://ipfs.io/" rel="noopener ugc nofollow" target="_blank"> IPFS </a>如何存储文件。由于区块链上的数据存储非常昂贵，所以正在开发这种技术。swarm与众不同的一点是，它将在不久的将来鼓励用户存储其他人的数据。类似于Filecoin 在不久的将来会怎样。虽然swarm的激励层还没有最终确定</p><p id="9a32" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这个定义是对swarm的一个非常简短的介绍，请阅读下面的参考资料以了解更多信息</p><div class="hs ht fm fo hu le"><a href="https://blog.ethereum.org/2016/12/15/swarm-alpha-public-pilot-basics-swarm/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab ej"><div class="lg ab lh cl cj li"><h2 class="bd ik fv z el lj eo ep lk er et ii dt translated">Swarm alpha公共试验和Swarm - Ethereum博客的基础</h2><div class="ll l"><h3 class="bd b fv z el lj eo ep lk er et ek translated">随着期待已久的geth 1.5(“让蜜蜂发光”)的发布，Swarm成为了官方的go-ethereum发布版…</h3></div><div class="lm l"><p class="bd b gc z el lj eo ep lk er et ek translated">blog.ethereum.org</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls ia le"/></div></div></a></div><div class="hs ht fm fo hu le"><a href="http://swarm-guide.readthedocs.io/en/latest/introduction.html" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab ej"><div class="lg ab lh cl cj li"><h2 class="bd ik fv z el lj eo ep lk er et ii dt translated">简介- swarm 0.2rc5文档</h2><div class="ll l"><h3 class="bd b fv z el lj eo ep lk er et ek translated">从最终用户的角度来看，Swarm与WWW没有太大的不同，除了上传不是针对特定的…</h3></div><div class="lm l"><p class="bd b gc z el lj eo ep lk er et ek translated">虫群指南</p></div></div><div class="ln l"><div class="lt l lp lq lr ln ls ia le"/></div></div></a></div><h2 id="e37f" class="ke kf ij bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">安装群</h2><p id="adb1" class="pw-post-body-paragraph jg jh ij ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">你可以在这里找到详细的安装说明<a class="ae ig" href="http://swarm-guide.readthedocs.io/en/latest/installation.html" rel="noopener ugc nofollow" target="_blank"/>,但是我会给你一些与linux相关的说明，因为如果你不注意的话，这是一个会引起麻烦的小问题:)</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff lu"><img src="../Images/fa9d14e2968529f9c4d9a83d65339fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EUwjdjBVn0W9iApSqAdlmA.png"/></div></div></figure><h2 id="c89f" class="ke kf ij bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">组建群体专用网络</h2><p id="e0f6" class="pw-post-body-paragraph jg jh ij ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">即使要运行swarm，你也需要创建/使用一个以太坊账号，这样你就可以将账号密钥传递给你将要运行的swarm节点。</p><p id="c3fa" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们将创建一个新的geth节点，并在in中创建一个帐户。然后将给定的键导出到一个环境变量中，供以后使用。请确保您已经安装了<a class="ae ig" href="https://github.com/ethereum/go-ethereum/wiki/Installing-Geth" rel="noopener ugc nofollow" target="_blank">geth</a>。</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff lz"><img src="../Images/a62b404babc501afaea2d329be618a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*lyUA1qEVTs0X51cENw99Zw.png"/></div></div></figure><p id="5a1d" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在用下面的命令启动swarm节点。之后我会解释每面旗的含义</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div class="fe ff ma"><img src="../Images/f9c3450fd8332975fd7ba5ea44a884dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*bw6m6t5dz7NIR10nnIPCAg.png"/></div></figure><ul class=""><li id="d6d0" class="mb mc ij ji b jj jk jn jo jr md jv me jz mf kd mg mh mi mj dt translated"><strong class="ji ik">bzza account</strong>:在这里您可以设置上传到bzza account的密钥。</li><li id="38f2" class="mb mc ij ji b jj mk jn ml jr mm jv mn jz mo kd mg mh mi mj dt translated">数据目录:你的群节点将存储数据的目录</li><li id="998d" class="mb mc ij ji b jj mk jn ml jr mm jv mn jz mo kd mg mh mi mj dt translated"><strong class="ji ik"> keystore: </strong>存储您的密钥的目录。这样swarm就可以使用你设置的账户密码来解锁你bzzaccount的私钥。</li><li id="2acb" class="mb mc ij ji b jj mk jn ml jr mm jv mn jz mo kd mg mh mi mj dt translated">ens-api :将此项设置为" " swarm将不会连接到您的区块链，没有它也不会运行。</li><li id="fe16" class="mb mc ij ji b jj mk jn ml jr mm jv mn jz mo kd mg mh mi mj dt translated"><strong class="ji ik"> bzzport </strong>:你设置的端口，可以用来上传和下载群节点。</li></ul><p id="6e72" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这就是运行单个节点所需的全部内容，但是两个节点运行多个节点时，您需要执行以下操作。</p><p id="de12" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji ik">设置更多的群节点</strong></p><p id="515d" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在，如果您像以前一样运行相同的命令，但认为只需更改bzzport就可以了。事实并非如此。您还需要更改文档中没有提到的UDP端口。如果您不这样做，那么您将得到以下错误。</p><blockquote class="mp mq mr"><p id="d862" class="jg jh ms ji b jj jk jl jm jn jo jp jq mt js jt ju mu jw jx jy mv ka kb kc kd hm dt translated">致命错误:启动协议栈时出错:监听udp :30399:绑定:地址已在使用中</p></blockquote><p id="c83a" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是我困惑的主要原因，也是我写这篇文章的原因。</p><p id="30f1" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">因此，为了运行第二个节点，您需要运行以下命令。</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div class="fe ff mw"><img src="../Images/0be66cb59993e961e2d81a3cf803e8c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*Z10PFswX5irioiEJn84UBg.png"/></div></figure><h2 id="8088" class="ke kf ij bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">连接Swarn节点</h2><p id="3243" class="pw-post-body-paragraph jg jh ij ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">现在，即使节点正在运行，您也需要将它们连接在一起，以便它们能够相互通信。</p><p id="345c" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为此，您可以手动将一个群节点的bootnode连接到另一个群节点的IPC。下面我们将把swarnNode2的bootnode连接到swarnNode的IPC。</p><p id="f49d" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">首先找到swarnNode2的bootnode地址。运行以下命令。</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mx"><img src="../Images/0f7e52c5e1267f972b284ddd2cf816d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ka4jgBSGxz5QC26TGXO_5A.png"/></div></div></figure><p id="141d" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">复制结果并添加到以下命令中，以将两个节点连接在一起。</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mx"><img src="../Images/7238114e7b2a0527477413be471d2bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ng-tc2MGMg8gA2TJgirXvg.png"/></div></div></figure><h2 id="a94e" class="ke kf ij bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">测试网络连接</h2><p id="c8b4" class="pw-post-body-paragraph jg jh ij ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">现在测试这两个节点是否连接。您可以通过bzzport使用以下命令将文件上传到第一个节点。你会得到一个类似url的文件散列。</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div class="fe ff my"><img src="../Images/ab933c010a773229fa5262ce9a22ea1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*8j4efMT3UpSGSq32r5MMlw.png"/></div></figure><p id="1a8a" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在复制提供的散列，并使用第二个节点的bzzport查询文件。</p><figure class="lv lw lx ly fq hv fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/1a55beb1270ae00aba43433ecd02e452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*mdDSCYeHIe6hp1RLltT9EA.png"/></div></figure><p id="f4a7" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在，这应该会输出您的txt文件，并确认您的两个节点都已连接。就是这样:)</p><p id="f9e1" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">请查看<a class="ae ig" href="http://swarm-guide.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> swarm的</a>文档了解更多细节。</p><p id="685d" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji ik"> <em class="ms">感谢阅读！</em>T11】</strong></p></div></div>    
</body>
</html>