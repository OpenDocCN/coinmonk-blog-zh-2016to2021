<html>
<head>
<title>Tezos on KMS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">KMS的泰佐斯</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/tezos-on-kms-c70653bcd288?source=collection_archive---------5-----------------------#2020-09-21">https://medium.com/coinmonks/tezos-on-kms-c70653bcd288?source=collection_archive---------5-----------------------#2020-09-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="ec78" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">由<a class="ae jo" href="https://twitter.com/keefertaylor" rel="noopener ugc nofollow" target="_blank">基弗·泰勒</a>和<a class="ae jo" href="https://twitter.com/lukeyoungblood" rel="noopener ugc nofollow" target="_blank">卢克·扬布拉德</a></p><p id="a3be" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">今天，我们开源了两个库，用于处理亚马逊网络服务的<a class="ae jo" href="https://aws.amazon.com/kms/" rel="noopener ugc nofollow" target="_blank">密钥管理系统</a>(“AWS KMS”)中存储的<a class="ae jo" href="https://tezos.com" rel="noopener ugc nofollow" target="_blank"> Tezos </a>密钥。这些工具提供了一个安全的抽象概念，允许开发人员安全地使用存储在云中的热键。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/783444e972cf7143291b894a65ac22ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ObLLTCBDyFG-jJej"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Photo by <a class="ae jo" href="https://unsplash.com/@jankolar?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jan Antonin Kolar</a> on <a class="ae jo" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2c4d" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">关于KMS</h1><p id="306f" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">在讨论新图书馆之前，一些关于KMS的背景可能是有用的。</p><p id="591a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">AWS KMS是一个按需提供硬件安全模块(HSM)的云解决方案。HSM是硬连线的计算机硬件，不允许提取密钥。AWS KMS在多个地理区域提供对这些密钥的冗余和安全访问，同时防止恶意员工或恶意攻击者提取或窃取密钥。</p><p id="fa39" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">KMS最近开始支持secp256k1签名弯曲，这是用于<a class="ae jo" href="https://blog.coincodecap.com/tezos-blockchain-a-simple-overview-for-beginners" rel="noopener ugc nofollow" target="_blank"> Tezos </a>和其他加密货币。这一发展使得AWS KMS成为保护需要在线、高度可用和安全的密钥的诱人解决方案。最重要的是，这项服务很便宜，存储和使用一把钥匙每月只需几美元。</p><h1 id="61a1" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">在先驱基础设施中使用</h1><p id="7ca4" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated"><a class="ae jo" href="https://github.com/tacoinfra/harbinger" rel="noopener ugc nofollow" target="_blank">Harbinger price Oracle</a>(一个安全的连锁价格源)广泛使用AWS KMS。Harbinger数据馈送的签名者将他们的密钥存储在KMS，在那里他们被用于签名数据馈送。Tezos mainnet上Harbinger 数据的<a class="ae jo" href="https://tzstats.com/tz2L9474hvA2EXyNLi4u3YnqrKVf3GzeZ8tb" rel="noopener ugc nofollow" target="_blank">海报存储资金和签名，每小时支付一次手术费用。出于好奇，</a><a class="ae jo" href="https://twitter.com/keefertaylor" rel="noopener ugc nofollow" target="_blank">基弗·泰勒</a>和<a class="ae jo" href="https://twitter.com/lukeyoungblood" rel="noopener ugc nofollow" target="_blank">卢克·扬布拉德</a>在<a class="ae jo" href="https://www.youtube.com/watch?v=jaVnBujxd8w&amp;t=66s" rel="noopener ugc nofollow" target="_blank"> TezTalks 11 </a>中广泛谈论了KMS是如何被运用在先兆系统中的。</p><p id="d66f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这两种服务都保证了不小的价值。在签名者的情况下，恶意用户可以改变价格馈送，潜在地影响DeFi工具的结果，导致任意高的损失金额。在发帖人的案例中，活资金被放在一个热门的钱包里。这两种服务都要求密钥持续在线(在签名者的情况下，根据需要对数据进行签名，或者在发帖者的情况下，为甲骨文的更新付费)。KMS代表了一种安全的解决方案，允许这两种服务同时运行。</p><h1 id="3c6e" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">广义KMS图书馆</h1><p id="d93f" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">事实证明，KMS是一个非常有用的存储Tezos密钥的服务，我们认为其他开发人员可能会发现将这个基础设施用于他们自己的DeFi项目或运行在Tezos上的服务的价值。我们已经从Harbinger基础设施中归纳和提取了两个TypeScript包以供重用。</p><h2 id="4348" class="li kg ht bd kh lj lk ll kl lm ln lo kp jb lp lq kt jf lr ls kx jj lt lu lb lv dt translated">泰佐斯-KMS</h2><p id="f9ee" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">第一个包，<a class="ae jo" href="https://www.npmjs.com/package/@tacoinfra/tezos-kms" rel="noopener ugc nofollow" target="_blank"> Tezos-KMS </a>，目标是Tezos开发者，他们需要一个安全的解决方案来存储密钥和签署任意字节。</p><p id="c718" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">该库提供了一个KMS密钥的包装器，允许检索公钥、公钥散列，并允许密钥对任意字节进行签名。这个库是模块化的，使用简单，易于理解。下面是如何开始的一个简单示例:</p><pre class="jq jr js jt fq lw lx ly lz aw ma dt"><span id="d7d1" class="li kg ht lx b fv mb mc l md me">const kmsClient = new TezosKmsClient(awsKeyId, awsRegion)</span><span id="12af" class="li kg ht lx b fv mf mc l md me">await kmsClient.getPublicKey() // sppk…<br/>await kmsClient.getPublicKeyHash() // tz2…</span><span id="20b0" class="li kg ht lx b fv mf mc l md me">await kmsClient.signOperation(Buffer.from(‘deadbeef’, ‘hex’)) // &lt;bytes&gt;</span><span id="23fc" class="li kg ht lx b fv mf mc l md me">await kmsClient.signOperationBase58(Buffer.from(‘deadbeef’, ‘hex’)) // spsig…</span></pre><h2 id="afa0" class="li kg ht bd kh lj lk ll kl lm ln lo kp jb lp lq kt jf lr ls kx jj lt lu lb lv dt translated">KMS理事会</h2><p id="9f55" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">第二个包，<a class="ae jo" href="https://www.npmjs.com/package/@tacoinfra/conseil-kms" rel="noopener ugc nofollow" target="_blank"> Conseil-KMS </a>，为使用<a class="ae jo" href="https://github.com/cryptonomic/conseiljs" rel="noopener ugc nofollow" target="_blank"> Cryptonomic的ConseilJS </a>提供即插即用功能。ConseilJS为签名操作(称为<code class="eh mg mh mi lx b">Signer</code> s)和使用密钥(称为<code class="eh mg mh mi lx b">Keystore</code> s)提供了模块化接口。</p><p id="02c5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">KMS理事会提供了一个由存储在KMS的密钥支持的<code class="eh mg mh mi lx b">Signer</code>和<code class="eh mg mh mi lx b">KeyStore</code>的实现。使用Conseil的开发人员只需要实例化这些新的实现，并将它们提供给ConseilJS用于操作。这里有一个简单的例子:</p><pre class="jq jr js jt fq lw lx ly lz aw ma dt"><span id="c67e" class="li kg ht lx b fv mb mc l md me">const signer = new KmsSigner(awsKeyId, awsRegion)<br/>const keystore = KmsKeyStore.from(awsKeyId, awsRegion)</span><span id="7a10" class="li kg ht lx b fv mf mc l md me">// This is a vanilla Conseil invocation with no <br/>// modification required</span><span id="3c9a" class="li kg ht lx b fv mf mc l md me">const result = await TezosNodeWriter.sendTransactionOperation(<br/> “https://rpctest.tzbeta.net", <br/> signer, <br/> keystore, <br/> ‘tz1RVcUP9nUurgEJMDou8eW3bVDs6qmP5Lnc’, // Recipient<br/> 500000, // Amount, in mutez<br/> 1500 // Fee, in mutez<br/>)</span></pre><h1 id="b39d" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">结论</h1><p id="3106" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">AWS KMS为需要高价值服务的热、安全和冗余密钥访问的企业级dApps和服务提供了令人信服的安全解决方案。</p><p id="de76" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这些新的库为所有Tezos开发者提供了通用的、可重用的接口。我们期待着继续为Tezos生态系统构建有用的DeFi原语和基础设施，并欢迎贡献和反馈。开发人员可以在各自的GitHub repos中查看源代码、派生或贡献给这些库:</p><ul class=""><li id="7068" class="mj mk ht is b it iu ix iy jb ml jf mm jj mn jn mo mp mq mr dt translated">https://github.com/tacoinfra/tezos-kms</li><li id="e366" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><strong class="is hu">康塞尔https://github.com/tacoinfra/conseil-kms KMS:</strong>T2</li></ul><h2 id="d5d0" class="li kg ht bd kh lj lk ll kl lm ln lo kp jb lp lq kt jf lr ls kx jj lt lu lb lv dt translated">另外，阅读</h2><ul class=""><li id="02dc" class="mj mk ht is b it ld ix le jb mx jf my jj mz jn mo mp mq mr dt translated">最好的<a class="ae jo" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="b851" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">密码本交易平台</a></li><li id="ae2d" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">最好的<a class="ae jo" rel="noopener" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b">加密税务软件</a></li><li id="92e4" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/the-best-crypto-trading-platforms-in-2020-the-definitive-guide-updated-c72f8b874555">最佳加密交易平台</a></li><li id="d8fc" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">最佳<a class="ae jo" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">加密贷款平台</a></li><li id="4f10" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" href="https://bitquery.io/blog/best-blockchain-analysis-tools-and-software" rel="noopener ugc nofollow" target="_blank">最佳区块链分析工具</a></li><li id="d432" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/crypto-arbitrage-guide-how-to-make-money-as-a-beginner-62bfe5c868f6">加密套利</a>指南:新手如何赚钱</li><li id="aa54" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">最佳<a class="ae jo" rel="noopener" href="/coinmonks/what-are-the-best-charting-platforms-for-cryptocurrency-trading-85aade584d80">加密制图工具</a></li><li id="15e1" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">莱杰vs特雷佐</li><li id="56fd" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">了解比特币的<a class="ae jo" rel="noopener" href="/coinmonks/what-are-the-best-books-to-learn-bitcoin-409aeb9aff4b">最佳书籍有哪些？</a></li><li id="170f" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a></li><li id="d145" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/aax-exchange-review-2021-67c5ea09330c"> AAX交易所评论</a> |推荐代码、交易费用、利弊</li><li id="54f9" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/deribit-review-options-fees-apis-and-testnet-2ca16c4bbdb2"> Deribit审查</a> |选项、费用、API和Testnet</li><li id="e34b" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/ftx-crypto-exchange-review-53664ac1198f"> FTX密码交易所评论</a></li><li id="d0c3" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/ngrave-zero-review-c465cf8307fc">n零审核</a></li><li id="1310" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit交换审查</a></li><li id="8b1e" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/cryptohopper-vs-3commas-vs-shrimpy-a2c16095b8fe"> 3Commas vs Cryptohopper </a></li><li id="b18b" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">最好的比特币<a class="ae jo" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&amp;sk=324dd9ff8556ab578d71e7ad7658ad7c">硬件钱包</a></li><li id="e7b1" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">最佳<a class="ae jo" href="https://blog.coincodecap.com/best-monero-wallets" rel="noopener ugc nofollow" target="_blank"> monero钱包</a></li><li id="747f" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" href="https://blog.coincodecap.com/ledger-nano-s-vs-x" rel="noopener ugc nofollow" target="_blank">莱杰nano s vs x </a></li><li id="ace6" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" href="https://blog.coincodecap.com/bitsgap-3commas-quadency" rel="noopener ugc nofollow" target="_blank">Bitsgap vs 3 commas vs quad ency</a></li><li id="a274" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" href="https://blog.coincodecap.com/ledger-nano-s-vs-trezor-one-ledger-nano-x-trezor-t" rel="noopener ugc nofollow" target="_blank">莱杰纳米S vs特雷佐one vs特雷佐T vs莱杰纳米X </a></li><li id="44f0" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/blockfi-vs-celsius-vs-hodlnaut-8a1cc8c26630">block fi vs Celsius</a>vs Hodlnaut</li><li id="52d0" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">bits gap review——一个轻松赚钱的加密交易机器人</li><li id="92c0" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">为专业人士设计的加密交易机器人</li><li id="22eb" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/primexbt-review-88e0815be858"> PrimeXBT审查</a> |杠杆交易、费用和交易</li><li id="62d2" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/ellipal-titan-review-85e9071dd029">埃利帕尔泰坦评论</a></li><li id="1a26" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" href="https://blog.coincodecap.com/secux-stone-hardware-wallet-review" rel="noopener ugc nofollow" target="_blank">赛克斯·斯通评论</a></li><li id="31ff" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/blockfi-review-53096053c097"> BlockFi评论</a> |赚取高达8.6%的加密利息</li></ul></div></div>    
</body>
</html>