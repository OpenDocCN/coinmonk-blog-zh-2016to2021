<html>
<head>
<title>How to make a cryptocurrency trading bot- Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何制作加密货币交易机器人——第2部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-make-a-cryptocurrency-trading-bot-7409696b617e?source=collection_archive---------0-----------------------#2020-07-25">https://medium.com/coinmonks/how-to-make-a-cryptocurrency-trading-bot-7409696b617e?source=collection_archive---------0-----------------------#2020-07-25</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="b0e9" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">风险管理。为什么你必须避免在BitMex上清算。。</h2></div><p id="4d21" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">快速警告:</p><ul class=""><li id="c7ec" class="ke kf ht jk b jl jm jo jp jr kg jv kh jz ki kd kj kk kl km dt translated">不是交易建议。</li><li id="abd7" class="ke kf ht jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km dt translated">其他一些人知道建造机器人/松树等。比我好。</li><li id="aab7" class="ke kf ht jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km dt translated">我个人与TradingView、Alertatron、exchanges或任何提到的服务没有任何关系。</li><li id="aa04" class="ke kf ht jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km dt translated">我在这里展示的大多数产品我已经用了好几年了。</li><li id="888a" class="ke kf ht jk b jl kn jo ko jr kp jv kq jz kr kd kj kk kl km dt translated">您可以通过在帖子中注册推荐链接<strong class="jk hu"> <em class="ks"> </em> </strong>来帮助这个项目。</li></ul><blockquote class="kt ku kv"><p id="d663" class="ji jj ks jk b jl jm iu jn jo jp ix jq kw js jt ju kx jw jx jy ky ka kb kc kd hm dt translated">在<a class="ae kz" href="https://t.me/mocbchat" rel="noopener ugc nofollow" target="_blank">我自己的加密机器人讨论中询问关于机器人的一切</a></p></blockquote><p id="0b83" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae kz" rel="noopener" href="/@strategst/crypto-signals-were-a-scam-6cc240f55b40"> <em class="ks">零部分</em> </a> <em class="ks">，我为什么要这样做</em></p><p id="5aec" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/how-to-make-a-cryptocurrency-trading-bot-f94172e0c7bd"> <em class="ks">第一部分</em> </a> <em class="ks">，如何在TradingView上用开源策略生成信号。</em></p><p id="1e03" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt la translated"><span class="l lb lc ld bm le lf lg lh li di">答</span>按照第一部分的步骤，现在我们有两个买卖比特币的警告。</p><p id="0a9c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">首先，让我们回到脚本的策略版本，看看我们这里有什么风险管理。</p><blockquote class="kt ku kv"><p id="e1e8" class="ji jj ks jk b jl jm iu jn jo jp ix jq kw js jt ju kx jw jx jy ky ka kb kc kd hm dt translated">添加战略的更新版本，因为旧版本在本教程中不适用。</p></blockquote><p id="31c1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">转到策略设置-属性-交易列表</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff lj"><img src="../Images/1005cda691b286cdf08e5fb7ef59733d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1TVLv_JX8mMCbLpcdI9arg.png"/></div></div></figure><p id="afd8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">正如我们在第1部分中看到的，我们正在用一个简单的风险管理系统测试高杠杆策略:</strong></p><p id="e935" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">1.初始资本为14552.5美元，相当于1 BTC的美元</p><p id="9121" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">2.在每笔交易中拿3%的资金冒险</p><p id="587e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">3.在每笔交易中，相同的仓位大小为1 BTC</p><p id="bfbc" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">4.标准止损3%。</p><p id="affa" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">5.这里我们不会使用止盈，因为在这种趋势跟踪策略中，最重要的是驾驭整个趋势波，避免过早退出。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff lv"><img src="../Images/46969bb6a7d1a57978bdc2aae789463d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2WhJxKNlLwj3mRfH3C7og.png"/></div></div><figcaption class="lw lx fg fe ff ly lz bd b be z ek">For precise backtesting make sure that your Initial Capital and Order Size are in proportion with Bitcoin price in the first trade</figcaption></figure><p id="f94a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了用其他数量的初始资本测试这个策略(假设你没有1个完整的BTC)，你必须相应地改变你的初始资本值和订单大小。因此，举例来说，如果你想用0.3 BTC测试你的策略，你必须将你的初始资本设置为4365.75美元(2018/01年的值为0.3)，订单大小为0.3。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff ma"><img src="../Images/31750064e4e49ccda472527094679971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aR5FEq_rR2E36z37GnmM6w.png"/></div></div><figcaption class="lw lx fg fe ff ly lz bd b be z ek">Testing TradingView strategy with 0.3 BTC</figcaption></figure><p id="4436" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们可以返回概览，看到我们已经改变了净利润和支出数字。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff mb"><img src="../Images/d7300a54f44598036528520a2445b21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ruAZ_4wnXvoyiUk6LOyNTw.png"/></div></div></figure><p id="2836" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们选择这个特定的风险管理系统是因为它的简单性。你可以看到，这里的标准订单规模(或头寸规模)是我们初始资本的100%，但我们只承担3%的风险。这意味着我们使用x33的杠杆来交易这个头寸。</p><p id="dd89" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们是如何进行这些杠杆计算的？</p><p id="4543" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为此，我们使用了一个免费的反液化工具。</p><p id="364c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这个工具的详细指南很少，但是这里我们将简要描述它是如何工作的。</p><p id="494c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">假设我们有一个价值10000美元的BTC。我们一笔交易的分配资本是3%。所以，事实上我们只能用300美元来冒险。我们的止损也是3%。为了计算我们的头寸规模，我们必须用我们的风险金额除以止损距离(这个公式归功于<a class="mc md gr" href="https://medium.com/u/f4aaa233d678?source=post_page-----7409696b617e--------------------------------" rel="noopener" target="_blank"> CryptoCred </a>)。</p><p id="75b7" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">所以，我们的头寸将是$300/0.03 = +10，000。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff me"><img src="../Images/dd9efa9492a29101b485df44f722191c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rOV2UkdPfoG4Ue4U36dWGg.png"/></div></div></figure><p id="80bd" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果这一切听起来让你困惑，很高兴地说，你不必为每笔交易做所有这些计算，我们将在下一章的自动化服务中编写这个系统的代码。</p><p id="74da" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">但是现在，为了检查我们的计算逻辑，我们将使用反液化工具，它可以为我们计算所有的逻辑。从策略设置中输入您的风险金额和初始资本(以比特币为单位),并将“止损距离”设为BTC价格的3%——我们已将此止损点硬编码在策略中。在右边的绿色窗口中，你会看到显示你的杠杆和仓位大小的结果。</p><p id="3175" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们再计算一个例子，用0.3 BTC计算交易头寸，每次交易用3%的资金冒险。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff mf"><img src="../Images/60c51f26d353dd8c9fa1a7cf17a5a1e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUOoKC9bLdjD1UWBo-aKSg.png"/></div></div></figure><p id="c1f4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在这里，我们将比特币价格放在“比特币价格”中我们回溯测试的开始，我们的“资本”，“风险金额”为3%，停止距离为比特币价格的3%，它将是436美元。在“结果”中，我们的头寸规模和x33的杠杆是4367美元。</p><p id="67cf" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">但是还有一件事。</strong></p><p id="d82a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在BitMex或ByBit等加密交易所，没有KYC，交易所所有者不知道你是谁，所以他们不能给你钱。这意味着如果你在交易中被清算，你不能欠他们任何东西。</p><blockquote class="kt ku kv"><p id="e520" class="ji jj ks jk b jl jm iu jn jo jp ix jq kw js jt ju kx jw jx jy ky ka kb kc kd hm dt translated">相反，BitMex提出了另一件事。在每一个头寸中，他们都会保留一定比例的真实美元风险金额，以备万一他们在你破产前无法卖出你的头寸时使用。</p></blockquote><p id="258b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这意味着，当你以高杠杆和紧张的清算价格交易时，交易所必须迅速卖出你的头寸，以免你负债。由于这里的债务是不可能的，他们会在价格达到你的破产水平之前开始出售你的头寸。</p><p id="f585" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">因此，举例来说，当你用x100杠杆交易，BTC是10，000美元，你有1%或9900美元作为你的破产价格，但BitMex将在大约9950美元开始出售你的头寸，给你0.5%的交易保证金，以确保他们能够在BTC价格触及9900美元之前出售你的头寸。</p><p id="9153" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果他们在9949美元水平快速卖出你的头寸怎么办？交易所会清算你，把你的49美元存入他们的保险基金。BitMex保险基金的数量通常会增加，但在真正的大波动时期，它有助于该交易所保持流动性。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="fe ff mg"><img src="../Images/a7d55637c1009106735da01e00ac37ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nSpbrdNHVYoSNz7z88RD8g.png"/></div></div></figure><p id="481b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在这一部分，我们在计算我们的头寸和实际杠杆时要记住一件事:不要给交易所保险基金注资。如何做到这一点？在多头交易中，始终保持你的平仓价格低于你的止损，在空头交易中，保持你的平仓价格高于止损。</p><p id="39a3" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在下一章中，我们将把BitMex的杠杆率设置为x10，以保持较低的平仓价格，并根据我们自己的计算，以x33的实际杠杆率交易我们的策略。</p><p id="5462" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">然后，我会告诉你如何自动化风险管理系统，并在交易所执行，这样我们就可以包装我们的机器人，并开始<a class="ae kz" href="https://coincodecap.com/category/trading-automation" rel="noopener ugc nofollow" target="_blank">自动加密交易</a>。</p><p id="82e0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在<a class="ae kz" href="https://t.me/mocbchat" rel="noopener ugc nofollow" target="_blank">我自己的加密机器人讨论上再见</a>！</p><blockquote class="mh"><p id="b61b" class="mi mj ht bd mk ml mm mn mo mp mq kd ek translated"><a class="ae kz" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank"> <em class="mr">在您的收件箱中直接获得最佳软件交易</em> </a></p></blockquote><figure class="mt mu mv mw mx lo fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ms"><img src="../Images/0d7eaf080b123e3b4f2bab33b2f06742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*VaaD5BwAMglw_M33.png"/></div></a></figure></div></div>    
</body>
</html>