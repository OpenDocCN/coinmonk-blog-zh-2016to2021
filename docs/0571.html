<html>
<head>
<title>Your first EOS dApp — The Setup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您的第一个EOS dApp —设置</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/your-first-eos-dapp-the-setup-dde55d3dcfb7?source=collection_archive---------1-----------------------#2018-05-19">https://medium.com/coinmonks/your-first-eos-dapp-the-setup-dde55d3dcfb7?source=collection_archive---------1-----------------------#2018-05-19</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/602f820e91e4d2c23c41c320bef7db55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6YgKQnebhKaCS3_5k_bs1w.jpeg"/></div></div></figure><h2 id="4998" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">EOS简介</h2><p id="cf18" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj jm kk kl km jq kn ko kp ju kq kr ks kt hm dt translated">EOS有望成为下一个<em class="ku">以太坊杀手</em>，虽然这仍有待观察，但这款产品有一些非常棒的下一代功能。我相信您已经阅读了数千篇吹捧DPOS扩展能力的文章(授权的利益相关证明)，但是在EOS的引擎盖下还有许多其他伟大的东西。我对保管方案特别感兴趣，如果我丢失了我的私钥，我可以选择一个可信任的方来帮助恢复对我的帐户的访问。还有一个概念是一个帐户的所有者密钥和活动密钥，它允许您最小化每天交易的负债。人类可读的帐户名也是一个长期以来一直需要的特性。不过，我在东拉西扯——让我们继续吧。</p><h1 id="8e30" class="kv jc ht bd jd kw kx ky jh kz la lb jl lc ld le jp lf lg lh jt li lj lk jx ll dt translated">我们的项目</h1><p id="4af3" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj jm kk kl km jq kn ko kp ju kq kr ks kt hm dt translated">对于我们的示例契约和dApp，我们将创建一些实际上有用的东西——学校招生彩票。任何有学龄儿童的父母都知道，让你的孩子进入一所好学校可能是一件困难的事情，这取决于你住在哪里。有时候，进入一所好学校的唯一方法就是参加他们的抽奖，祈祷学校的工作人员遵守规则。希望工作人员不会偏袒和操纵系统，但除非我们有一个开放的智能合同来消除人为错误，否则谁会真正知道呢？我们将尝试创建这个智能契约和一个简单的dApp来与之交互。</p><h1 id="8b86" class="kv jc ht bd jd kw kx ky jh kz la lb jl lc ld le jp lf lg lh jt li lj lk jx ll dt translated">设置</h1><h2 id="6950" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">构建EOS</h2><p id="d194" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj jm kk kl km jq kn ko kp ju kq kr ks kt hm dt translated">我们将使用当地的EOS链，因为这是目前唯一可靠的。你需要按照这里<a class="ae lm" href="https://github.com/EOSIO/eos/wiki/Local-Environment#1-getting-the-code" rel="noopener ugc nofollow" target="_blank">的说明</a>来安装黎明4版本。</p><p id="def5" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">一旦您安装并编译了EOS，您应该能够从您的根EOS目录运行以下内容。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="f1a6" class="jb jc ht lx b fv mb mc l md me">./build/programs/nodeos/nodeos -e -p eosio --plugin eosio::wallet_api_plugin --plugin eosio::chain_api_plugin --plugin eosio::account_history_api_plugin</span></pre><p id="40a9" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">假设您安装成功，您也可以访问下面包含的实用程序</p><ul class=""><li id="8539" class="mf mg ht kb b kc ln kg lo jm mh jq mi ju mj kt mk ml mm mn dt translated"><strong class="kb hu"> cleos </strong> —一个CLI工具，用于管理账户、部署合同/与合同互动等等</li><li id="d585" class="mf mg ht kb b kc mo kg mp jm mq jq mr ju ms kt mk ml mm mn dt translated">eosiocpp  —一个eos编译器，它将生成。wast(合同web程序集)和。部署需要abi(合同接口)</li><li id="d13b" class="mf mg ht kb b kc mo kg mp jm mq jq mr ju ms kt mk ml mm mn dt translated"><strong class="kb hu"> nodeos </strong> —负责启动/停止和一般链管理命令的工具</li><li id="2758" class="mf mg ht kb b kc mo kg mp jm mq jq mr ju ms kt mk ml mm mn dt translated"><strong class="kb hu"> keosd </strong> —虽然我们使用<strong class="kb hu"> cleos </strong>来创建我们的钱包，但是在这里完成工作的底层钱包管理工具是<strong class="kb hu"> keos </strong></li></ul><h2 id="2ced" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">创建钱包</h2><p id="d0f0" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj jm kk kl km jq kn ko kp ju kq kr ks kt hm dt translated">让我们继续创建一个用于发送和接收资金的钱包。我们可以使用<strong class="kb hu"> cleos </strong>创建名为<em class="ku">彩票</em>的钱包，如下所示</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="5ecd" class="jb jc ht lx b fv mb mc l md me">cleos wallet create -n lottery</span></pre><p id="5681" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">您应该会看到这个方法输出的密码散列。保存此密码，因为这是您解锁<em class="ku">彩票</em>钱包的唯一方式。这不是你的<em class="ku">私人钥匙</em>但是应该小心处理。</p><h2 id="6583" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">创建密钥</h2><p id="918e" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj jm kk kl km jq kn ko kp ju kq kr ks kt hm dt translated">现在我们已经创建了<em class="ku">彩票</em>钱包，让我们创建一个帐户来与我们的智能合同交互。我们将再次使用<strong class="kb hu"> cleos </strong>命令如下</p><p id="cc6e" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated"><strong class="kb hu">生成所有者密钥(私有/公共)</strong></p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="4d49" class="jb jc ht lx b fv mb mc l md me">cleos create key</span></pre><p id="c52b" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">您将在上述命令的输出中获得一个公钥和一个私钥。根据您的需要，将这些值保存在安全的地方。</p><p id="0aa3" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated"><strong class="kb hu">将所有者私钥导入钱包</strong></p><p id="deb9" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">您现在可以使用下面的命令将上一步生成的私钥导入新的<em class="ku">彩票</em>钱包</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="6115" class="jb jc ht lx b fv mb mc l md me">cleos wallet import &lt;private key hash&gt; -n lottery</span></pre><p id="8cb1" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated"><strong class="kb hu">生成活动密钥(私有/公共)</strong></p><p id="1ef1" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">我们现在将做和以前一样的事情，除了这将是我们的活动钥匙。这是一个二级账户，应用于日常小额或可忽略价值的交易。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="7ac7" class="jb jc ht lx b fv mb mc l md me">cleos create key</span></pre><p id="363f" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">您将在上述命令的输出中获得一个公钥和一个私钥。根据您的需要，将这些值保存在安全的地方。</p><p id="75b0" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated"><strong class="kb hu">将活动私钥导入钱包</strong></p><p id="7ade" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">您现在可以使用下面的命令将上一步生成的私钥导入新的<em class="ku">彩票</em>钱包</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="b54d" class="jb jc ht lx b fv mb mc l md me">cleos wallet import &lt;private key hash&gt; -n lottery</span></pre><p id="a763" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated"><strong class="kb hu">创建账户</strong></p><p id="9833" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">在这里，我们将其绑定在一起，并创建一个名为<em class="ku">彩票的账户。代码</em>我们指定哪些关键帧属于所有者/活动子账户。在典型的区块链钱包中，你有一个公钥和一个私钥或一个助记符，但在EOS中，我们有一个人可读的账户名，有两个子账户(活动账户和所有者账户)。指定的<em class="ku">所有者</em>公钥被指定来处理所有者级别的账户访问，而<em class="ku">活动的</em>公钥被归入简单交易，无权进行账户级别的更改。这是一个非常有用的权力分离。运行以下命令创建您的帐户。在我们的案例中，<em class="ku">彩票. code </em>账户将拥有并管理我们的智能合同，我们将在下一篇文章中设置该账户。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="3c2f" class="jb jc ht lx b fv mb mc l md me">cleos create account eosio lottery.code &lt;owner public key&gt; &lt;active public key&gt;</span></pre><p id="12e0" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated"><em class="ku">请注意，eosio是一个系统级帐户，默认情况下会出现在我们的测试链中。我不确定它是否会在随后的版本中发布，或者替代版本会是什么。</em></p><p id="094b" class="pw-post-body-paragraph jz ka ht kb b kc ln ke kf kg lo ki kj jm lp kl km jq lq ko kp ju lr kr ks kt hm dt translated">另一个需要注意的有用的事情是，帐户只通过它们作为所有者和活动密钥链接的公钥链接到钱包。您可以使用相同的所有者/活动密钥创建多个帐户。此<a class="ae lm" href="https://github.com/EOSIO/eos/wiki/Tutorial-Comprehensive-Accounts-and-Wallets" rel="noopener ugc nofollow" target="_blank">链接</a>非常有用，详细介绍了EOS中的钱包/账户管理。</p><h2 id="088d" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">摘要</h2><p id="36a9" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj jm kk kl km jq kn ko kp ju kq kr ks kt hm dt translated">我们在这篇文章中做了很多。我们设置我们独立的EOS链和我们需要的钱包和帐户。我们还为我们的项目做好了准备，并更深入地研究了EOS的客户管理。在我们的下一篇文章中，我们将探索实际创建和部署我们的教育彩票智能合同。</p></div></div>    
</body>
</html>