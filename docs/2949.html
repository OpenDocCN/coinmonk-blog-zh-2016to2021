<html>
<head>
<title>Hyperledger Fabric v2.1 Installation Guide — Prerequisites &amp; Bring up the Test Network</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger Fabric v2.1安装指南-先决条件和启动测试网络</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/hyperledger-fabric-v2-1-installation-guide-prerequisites-bring-up-the-test-network-4ac658b0df64?source=collection_archive---------0-----------------------#2020-04-26">https://medium.com/coinmonks/hyperledger-fabric-v2-1-installation-guide-prerequisites-bring-up-the-test-network-4ac658b0df64?source=collection_archive---------0-----------------------#2020-04-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/58a1a0d7f1913df6b4cb0b01dcd2b299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6aqAGwev7mReokiasSA_aQ.png"/></div></div></figure><p id="5518" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di">在</span>这个故事中，我们将在Linux机器上安装Hyperledger Fabric v2.1。当开始新的话题时，一切都可能是艰难的，所以我试图收集这个故事中你可能需要的一切。</p><p id="7169" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们从安装Hyperledger Fabric之前的<a class="ae ki" href="https://hyperledger-fabric.readthedocs.io/en/release-2.0/prereqs.html" rel="noopener ugc nofollow" target="_blank">这里</a>中明确提到的先决条件开始；</p><ul class=""><li id="2ec3" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装Git: </strong>使用下面的命令安装最新版本的Git。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="9885" class="lb lc ht kx b fv ld le l lf lg">sudo apt-get install git</span></pre><ul class=""><li id="3ccd" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装cURL: </strong>用下面的命令安装cURL的最新版本。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="e1ff" class="lb lc ht kx b fv ld le l lf lg">sudo apt-get install curl</span></pre><ul class=""><li id="b168" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装wget: </strong>用下面的命令安装最新版本的wget。下载Fabric二进制文件需要用到它。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="8950" class="lb lc ht kx b fv ld le l lf lg">sudo apt-get install wget</span></pre><ul class=""><li id="e245" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装Docker和Docker Compose: </strong>用下面的命令安装最新版本的Docker。然后，您将当前用户添加到docker组中。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="a991" class="lb lc ht kx b fv ld le l lf lg">sudo apt-get -y install docker-compose<br/>sudo usermod -aG docker ${USER}</span><span id="0c4b" class="lb lc ht kx b fv lh le l lf lg"><em class="li">===&gt; logout and login are needed after adding docker group, check everything is ok with the command below</em></span><span id="7f38" class="lb lc ht kx b fv lh le l lf lg">id -nG</span></pre><ul class=""><li id="8637" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装Go: </strong>用下面的命令安装并解压1.14.x版本的Go。然后我们把go文件夹放到<em class="li"> /usr/local </em>目录下。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="3a67" class="lb lc ht kx b fv ld le l lf lg">wget <a class="ae ki" href="https://golang.org/dl/go1.14.2.linux-amd64.tar.gz" rel="noopener ugc nofollow" target="_blank">https://golang.org/dl/go1.14.2.linux-amd64.tar.gz</a><br/>sudo tar -xvf go1.14.2.linux-amd64.tar.gz</span><span id="8a60" class="lb lc ht kx b fv lh le l lf lg">sudo chown -R root:root ./go<br/>sudo mv go /usr/local</span></pre><p id="2edb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们需要将我们的go路径添加到<code class="eh lj lk ll kx b">$PATH</code>变量中，但是当用户登录时，我们添加的内容总是被删除。为了避免每次登录时都执行该命令，我们打开了<em class="li">。位于<em class="li"> $HOME/的配置文件</em>。profile </em>将导出命令写到<em class="li">的末尾。轮廓文件</em>。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="f356" class="lb lc ht kx b fv ld le l lf lg">sudo gedit $HOME/.profile<br/>export PATH=$PATH:/usr/local/go/bin</span></pre><ul class=""><li id="ea93" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装Node.js &amp; NPM: </strong>用下面的命令下载并安装Node.js和NPM。我们可以安装版本8(支持8.9.4及更高版本)或版本10(支持10.15.3及更高版本)。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="0f40" class="lb lc ht kx b fv ld le l lf lg">curl -sL <a class="ae ki" href="https://deb.nodesource.com/setup_8.x" rel="noopener ugc nofollow" target="_blank">https://deb.nodesource.com/setup_8.x</a> | sudo bash -<br/>sudo apt-get install nodejs</span></pre><ul class=""><li id="8174" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">安装Python: </strong>用下面的命令安装Python的2.7版本。此外，合适的版本是随node.js安装一起安装。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="4b72" class="lb lc ht kx b fv ld le l lf lg">sudo apt-get install python</span></pre><p id="e230" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这就是全部，我们最终安装了我们需要的所有东西，我们将继续安装Fabric示例、二进制文件和docker映像。</p></div><div class="ab cl lm ln hb lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hm hn ho hp hq"><h1 id="2ae9" class="lt lc ht bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp dt translated"><strong class="ak">安装示例、二进制文件和Docker映像</strong></h1><p id="1c17" class="pw-post-body-paragraph jb jc ht jd b je mq jg jh ji mr jk jl jm ms jo jp jq mt js jt ju mu jw jx jy hm dt translated">现在，我们将使用下面的命令安装Fabric示例、二进制文件和docker映像。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="c7a5" class="lb lc ht kx b fv ld le l lf lg">curl -sSL <a class="ae ki" href="http://bit.ly/2ysbOFE" rel="noopener ugc nofollow" target="_blank">http://bit.ly/2ysbOFE</a> | bash -s</span></pre><blockquote class="mv mw mx"><p id="1462" class="jb jc li jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated">要安装特定版本，我们可以将版本标识符传递给curl命令，如下所示。</p></blockquote><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="669c" class="lb lc ht kx b fv ld le l lf lg">curl -sSL <a class="ae ki" href="http://bit.ly/2ysbOFE" rel="noopener ugc nofollow" target="_blank">http://bit.ly/2ysbOFE</a> | bash -s -- &lt;fabric_version&gt; &lt;fabric-ca_version&gt; &lt;thirdparty_version&gt;</span><span id="625f" class="lb lc ht kx b fv lh le l lf lg">curl -sSL <a class="ae ki" href="http://bit.ly/2ysbOFE" rel="noopener ugc nofollow" target="_blank">http://bit.ly/2ysbOFE</a> | bash -s -- 1.4.1 1.4.1 0.4.15</span></pre><p id="06a9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="li"> fabric-samples/bin </em>文件夹保存了设置网络所需的所有特定于平台的二进制文件，并将它们放入克隆的repo中，在curl命令之后，它看起来像下图。</p><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div class="fe ff nb"><img src="../Images/bc6e4d6cdefcf9258cb26ae7b0d5bcae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*mKQ6AZkSsL8n8qcg_T2Y3g.png"/></div><figcaption class="nc nd fg fe ff ne nf bd b be z ek">fabric-samples/bin folder</figcaption></figure><p id="14bd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们可以用下面的命令检查图像。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="d961" class="lb lc ht kx b fv ld le l lf lg">docker images</span></pre></div><div class="ab cl lm ln hb lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hm hn ho hp hq"><h1 id="ddf4" class="lt lc ht bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp dt translated">测试Hyperledger结构网络</h1><p id="2947" class="pw-post-body-paragraph jb jc ht jd b je mq jg jh ji mr jk jl jm ms jo jp jq mt js jt ju mu jw jx jy hm dt translated">由于我们已经成功安装了所需的一切，我们可以使用脚本来部署和测试Hyperledger Fabric网络。</p><ul class=""><li id="a0e5" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">启动网络:</strong>我们转到<em class="li">fabric-samples/test-network</em>目录，使用脚本启动网络。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="4fe6" class="lb lc ht kx b fv ld le l lf lg">cd fabric-samples/test-network<br/>./network.sh up</span><span id="25be" class="lb lc ht kx b fv lh le l lf lg">=&gt; we need root authorization if $USER is not in Docker group:<br/>sudo ./network.sh up</span></pre><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ng"><img src="../Images/07ecf90f58e624f357a0812e7c416c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35rOeZTqViZKl-2fOFMNiA.png"/></div></div><figcaption class="nc nd fg fe ff ne nf bd b be z ek">the expected output</figcaption></figure><blockquote class="mv mw mx"><p id="ca10" class="jb jc li jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated">在这里，我们可能会面临“本地fabric二进制文件和docker映像不同步”的警告。这可能会导致问题”以及“1.4.6的结构Docker映像版本与测试网络支持的版本不匹配”的错误如下图所示。</p></blockquote><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nh"><img src="../Images/1ec7a296be3e974cd79635a8b4523502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TFE_xZAn8EN4_u3E1V8AKQ.png"/></div></div></figure><blockquote class="mv mw mx"><p id="cd36" class="jb jc li jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated">为了解决这个问题，我们首先删除docker映像，只提取映像，而不克隆repo，也不通过执行下面的命令下载二进制文件。如果一切正常，我们将不得不看到所有的hyperledger docker图像，如下所示。</p></blockquote><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="f887" class="lb lc ht kx b fv ld le l lf lg">docker rmi $(docker images | grep hyperledger)<br/>curl -sSL <a class="ae ki" href="https://bit.ly/2ysbOFE" rel="noopener ugc nofollow" target="_blank">https://bit.ly/2ysbOFE</a> | bash -s -- -s -b-</span></pre><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div class="fe ff ni"><img src="../Images/ea99290c78d23d67900af284587c312f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*5RsLO1WIGHe0-hSXcKvjhQ.png"/></div></figure><ul class=""><li id="984f" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">创建通道:</strong>我们可以使用<code class="eh lj lk ll kx b">createChannel</code>子命令在<code class="eh lj lk ll kx b">Org1</code>和<code class="eh lj lk ll kx b">Org2</code>之间创建一个通道，将他们的对等体加入到通道中。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="830d" class="lb lc ht kx b fv ld le l lf lg">./network.sh createChannel</span></pre><blockquote class="mv mw mx"><p id="df37" class="jb jc li jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated">如果我们不使用<code class="eh lj lk ll kx b">-c</code>标志，它会创建默认名称为<code class="eh lj lk ll kx b">mychannel</code>的通道，因此我们可以使用<code class="eh lj lk ll kx b">-c</code>标志更改通道名称。</p></blockquote><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="97e1" class="lb lc ht kx b fv ld le l lf lg">./network.sh createChannel -c &lt;channel_name&gt;</span></pre><p id="2819" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果命令成功，我们可以看到下面的消息。</p><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff fg"><img src="../Images/f755da7506d4ca12d53c40ad9a8c3fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TRjBl-dwJ8V2AqupVpdfIw.png"/></div></div><figcaption class="nc nd fg fe ff ne nf bd b be z ek">the expected message</figcaption></figure><ul class=""><li id="cb2b" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">部署链码:</strong>我们可以使用<code class="eh lj lk ll kx b">deployCC</code>子命令来部署链码。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="c030" class="lb lc ht kx b fv ld le l lf lg">sudo ./network.sh deployCC -l javascript</span></pre><p id="b876" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh lj lk ll kx b">deployCC</code>子命令将在<code class="eh lj lk ll kx b">peer0.org1.example.com</code>和<code class="eh lj lk ll kx b">peer0.org2.example.com</code>上安装<code class="eh lj lk ll kx b">fabcar</code>链码，然后在使用通道标志指定的通道上部署链码。因为我们用默认名称<code class="eh lj lk ll kx b">mychannel</code>创建了一个通道，所以不需要任何修改。</p><blockquote class="mv mw mx"><p id="77cf" class="jb jc li jd b je jf jg jh ji jj jk jl my jn jo jp mz jr js jt na jv jw jx jy hm dt translated">默认情况下，该脚本安装fabcar chaincode的Go版本。正如您在上面看到的，我使用了语言标志<code class="eh lj lk ll kx b">-l</code>来安装chaincode的javascript版本。所有用不同语言编写的Fabcar链码可以在<code class="eh lj lk ll kx b">fabric-samples</code>目录的<code class="eh lj lk ll kx b">chaincode</code>文件夹中找到。</p></blockquote><p id="3cc3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在Hyperledger Fabric 2.0中，chaincode的生命周期发生了变化，并且<code class="eh lj lk ll kx b">deployCC</code>子命令提供了要安装、部署和调用的chaincode，以适应新的生命周期。这个故事里，我就不细说了。如果你想了解这个新生命周期的更多细节，你可以看看这篇文章。</p><div class="nj nk fm fo nl nm"><a rel="noopener follow" target="_blank" href="/@bcekici11/the-chaincode-lifecycle-on-hyperledger-fabric-v2-72dffb7acf30"><div class="nn ab ej"><div class="no ab np cl cj nq"><h2 class="bd hu fv z el nr eo ep ns er et hs dt translated">Hyperledger Fabric v2上的链码生命周期</h2><div class="nt l"><h3 class="bd b fv z el nr eo ep ns er et ek translated">在本案例中，我们将研究如何在Hyperledger Fabric v2中运行链码生命周期流程</h3></div><div class="nu l"><p class="bd b gc z el nr eo ep ns er et ek translated">medium.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa iz nm"/></div></div></a></div><p id="10d1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">由于调用了<code class="eh lj lk ll kx b">initLedger</code>函数，chaincode将汽车的初始列表放到分类帐中。正如您在下面看到的代码，在<code class="eh lj lk ll kx b">fabcar</code> chaincode和cars JSON数组中的<code class="eh lj lk ll kx b">initLedger</code>函数被填充。然后每一个都用等待<code class="eh lj lk ll kx b">putState</code>的方法记入总账。</p><figure class="ks kt ku kv fq iu"><div class="bz el l di"><div class="ob oc l"/></div></figure><p id="a671" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果正确安装、部署和调用了chaincode，您应该会在日志中看到与上面相同的汽车列表:</p><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ng"><img src="../Images/b3ee5b003fb824e5a0291eb1f6afdf12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jG8RpQv0tD3Kqx9voopaNg.png"/></div></div><figcaption class="nc nd fg fe ff ne nf bd b be z ek">the expected output</figcaption></figure><ul class=""><li id="74c6" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated"><strong class="jd hu">与网络交互:</strong>现在我们将使用对等CLI，它允许我们从CLI调用已部署的智能合约、更新通道或安装和部署新的智能合约。在这里，我们只是专注于与我们的网络互动。要添加我们安装的二进制文件<strong class="jd hu"> <em class="li">安装示例、二进制文件和Docker镜像</em> </strong>部分，我们使用以下命令。</li></ul><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="33c3" class="lb lc ht kx b fv ld le l lf lg">export PATH=${PWD}/../bin:${PWD}:$PATH<br/>export FABRIC_CFG_PATH=$PWD/../config/<br/>export CORE_PEER_TLS_ENABLED=true<br/>export CORE_PEER_LOCALMSPID="Org1MSP"<br/>export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt<br/>export <a class="ae ki" href="mailto:CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com" rel="noopener ugc nofollow" target="_blank">CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com</a>/msp<br/>export CORE_PEER_ADDRESS=localhost:7051</span></pre><p id="5770" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">之后，我们可以从我们的CLI查询分类帐。以下命令用于查询。它接受我们想要查询的函数名作为第一个参数，所以如果我们想要查询的方法需要它，我们可以添加参数作为参数。我们通过<code class="eh lj lk ll kx b">queryCar</code>函数得到车号为<em class="li"> CAR9 </em>的汽车信息。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="7c04" class="lb lc ht kx b fv ld le l lf lg">peer chaincode query <strong class="kx hu">-</strong>C mychannel <strong class="kx hu">-</strong>n fabcar <strong class="kx hu">-</strong>c '{"Args":["queryCar", "CAR9"]}'</span></pre><p id="d9ce" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因为我们想要改变一个资产，我们调用了链码。当网络成员想要转移或改变分类帐上的资产时，就调用链码。使用下面的命令，我们通过调用<code class="eh lj lk ll kx b">changeCarOwner</code>函数来更改车号为<em class="li"> CAR9 </em>的车主。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="4cf3" class="lb lc ht kx b fv ld le l lf lg">peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls true --cafile ${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n fabcar --peerAddresses localhost:7051 --tlsRootCertFiles ${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses localhost:9051 --tlsRootCertFiles ${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '{"function":"changeCarOwner","Args":["CAR9","Dave"]}'</span></pre><p id="61dd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果命令已经成功执行，您会看到<code class="eh lj lk ll kx b">Chaincode invoke successful. result: status:200</code>消息。</p><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff od"><img src="../Images/643cdf89edd3599eca5d3b16b453ca77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nirc2Feo771vyQnj7rSiog.png"/></div></div><figcaption class="nc nd fg fe ff ne nf bd b be z ek">the expected output</figcaption></figure><p id="87c1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在一个资产上改变之后，我们将通过添加我们的二进制文件在其他对等体上检查它，就像我们对<code class="eh lj lk ll kx b">Org1</code>对等体所做的那样，并执行下面的命令来定义变量。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="dc40" class="lb lc ht kx b fv ld le l lf lg">export CORE_PEER_TLS_ENABLED=true<br/>export CORE_PEER_LOCALMSPID="Org2MSP"<br/>export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt<br/>export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp<br/>export CORE_PEER_ADDRESS=localhost:9051</span></pre><p id="bd2b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">之后，我们可以作为<code class="eh lj lk ll kx b">Org2</code>对等方从我们的CLI查询分类帐。以下命令用于查询，我们将看到<em class="li"> CAR9 </em>的所有者已经更改。</p><figure class="ks kt ku kv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oe"><img src="../Images/87cef8c444a5e87e51e7c690c973901d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DkG9n4zSD1qE0ZXO6VBIMA.png"/></div></div><figcaption class="nc nd fg fe ff ne nf bd b be z ek">the information of CAR9</figcaption></figure><p id="dd61" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当我们使用完网络后，必须通过以下命令关闭它。</p><pre class="ks kt ku kv fq kw kx ky kz aw la dt"><span id="6ffb" class="lb lc ht kx b fv ld le l lf lg">./network.sh down</span></pre><p id="973f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就是这样，我们有；</p><ul class=""><li id="6b0a" class="kj kk ht jd b je jf ji jj jm kl jq km ju kn jy ko kp kq kr dt translated">安装的先决条件</li><li id="4f2c" class="kj kk ht jd b je of ji og jm oh jq oi ju oj jy ko kp kq kr dt translated">安装的示例、二进制文件和Docker映像</li><li id="91ff" class="kj kk ht jd b je of ji og jm oh jq oi ju oj jy ko kp kq kr dt translated">调出测试网络</li><li id="2072" class="kj kk ht jd b je of ji og jm oh jq oi ju oj jy ko kp kq kr dt translated">创建了一个频道</li><li id="3d62" class="kj kk ht jd b je of ji og jm oh jq oi ju oj jy ko kp kq kr dt translated">部署了链码</li><li id="ad94" class="kj kk ht jd b je of ji og jm oh jq oi ju oj jy ko kp kq kr dt translated">互动网络</li></ul><p id="f3d6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这个故事里。</p><blockquote class="ok"><p id="2711" class="ol om ht bd on oo op oq or os ot jy ek translated"><a class="ae ki" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="ov ow ox oy oz iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ou"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><p id="2a97" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">v</p></div></div>    
</body>
</html>