<html>
<head>
<title>📡 Remotely writing and running code on a Raspberry Pi using a smartphone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">📡使用智能手机在Raspberry Pi上远程编写和运行代码</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/remotely-writing-and-running-code-on-a-raspberry-pi-using-a-smartphone-3623fa837079?source=collection_archive---------1-----------------------#2018-08-13">https://medium.com/coinmonks/remotely-writing-and-running-code-on-a-raspberry-pi-using-a-smartphone-3623fa837079?source=collection_archive---------1-----------------------#2018-08-13</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/de134f639871ee579db841cad489defd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sS5ljgndKNAi-hPGFrDTlQ.png"/></div></div></figure><p id="fe01" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt">Often I would lie in bed, either scrolling through posts on <a class="ae jz" href="http://www.wtfjapanseriously.com/2014/03/blog-post.html?m=1" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">wtf</strong></a> Japan seriously, creating ridiculously large, exorbitantly expensive shopping carts on <a class="ae jz" href="http://adafruit.com" rel="noopener ugc nofollow" target="_blank">adafruit</a>, or deceiving myself into thinking I’m improving my Japanese language abilities when I’m really just coming up with ridiculous things to say and hearing how they sound in Japanese language — <a class="ae jz" href="http://www.jisho.org" rel="noopener ugc nofollow" target="_blank">日本語です</a>。These kind of activities are great and all, but sometimes the typical quotidian fluff just doesn’t quite cut it. Sometimes, an exciting novel use of your smartphone — that “number 1 device” {一番ききです} that happens to be most comforting at times of boredom and ennui — is just what is needed to keep one from losing their mind and being destined for <a class="ae jz" href="https://en.wikipedia.org/wiki/Asphodel_Meadows" rel="noopener ugc nofollow" target="_blank">Asphodel Meadows</a>. So, after struggling in the doldrums for the last time, at least for the night anyway… and boring myself into a fugue state, my mind started to run free, and in that moment of stochastic neuronal phantasmagoria, a curiosity was found, and within a blink of my eyelids I had realized that which was found.</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="fe ff ka"><img src="../Images/75c2cb4adc1c070024d28db17a011cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/1*K3RbXtM6wOKj0CvOKrR4Zg.gif"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">source: <a class="ae jz" href="https://img.gifmagazine.net/gifmagazine/images/693268/medium.gif" rel="noopener ugc nofollow" target="_blank">gifmagazine</a></figcaption></figure><p id="7eed" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt kj translated"><span class="l kk kl km bm kn ko kp kq kr di">我</span>想要<em class="ks">从我的智能手机</em>远程操纵我的树莓派，要么通过使用远程控制命令行，要么通过使用虚拟桌面(我目前正在为<a class="ae jz" href="https://www.realvnc.com/en/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> VNC桌面</strong></a>——敬请期待)。我选择在脑海中搜索一个特定示例的解决方案:远程控制我的Raspberry Pi，以便操作一个连接有多个led的Arduino板(再次提醒，请继续关注)。对于这个特殊的例子，我最终使用了虚拟桌面，但是在我的研究中，我注意到了很多关于使用<a class="ae jz" href="https://www.ssh.com/ssh/protocol/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> SSH </strong> </a>远程连接到计算机的命令行以便在远程环境中工作的讨论。</p><p id="9696" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">鉴于我最近对bash脚本和节点的兴趣，以及我最初对直接在我的pi上编码并从远程位置(即使是我的床)执行该代码的兴趣，这个远程环境业务听起来是个好时机。快速搜索后，我找到了一个看起来很精致、免费、简单明了的应用程序→ <a class="ae jz" href="http://www.termius.com" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> Termius </strong> </a>。</p><blockquote class="kt ku kv"><p id="189b" class="jb jc ks jd b je jf jg jh ji jj jk jl kw jn jo jp kx jr js jt ky jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ht">所以，这就是我们今天要学习的内容——如何从你的智能手机上远程控制一台电脑(比如树莓派)。</em>T19】</strong></p></blockquote><p id="0199" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">更具体地说，我们将使用智能手机在Raspberry Pi上远程编码和运行文件服务器。</p><p id="1920" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">开始了。</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/7bb3b2d8e70e489deb4e6a89d08c7727.png" data-original-src="https://miro.medium.com/v2/resize:fit:32/1*pzvQplVy_nak9gmQZgQJew.gif"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek"><a class="ae jz" href="https://github.com/snipe/awesome-emoji/blob/master/mario/supermariowalkright.gif" rel="noopener ugc nofollow" target="_blank">snipe @ github</a></figcaption></figure><p id="e6cb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我讨厌这样做，但我会立即给你一个选择，一个可以被看作是你勇敢程度的启发:</p><ol class=""><li id="b0ec" class="la lb ht jd b je jf ji jj jm lc jq ld ju le jy lf lg lh li dt translated">在台式机/笔记本电脑上编写服务器代码，然后在智能手机上运行/编辑代码。</li><li id="e178" class="la lb ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">在您的智能手机上设置Termius，从您的手机上编写服务器代码，并运行/编辑服务器代码。当然，如果你愿意，你可以创建新的代码。</li></ol><p id="177b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">选项1要简单得多，因为键盘是输入设备，而不是触摸屏，并且使用触摸屏导航vim存在一些固有的困难。如果您选择此选项，请照原样遵循本文的其余部分。我必须指出:这种方法更多的是为了备份——以防在Vim上用智能手机的方法编写一个相对较长且复杂的节点脚本对于新手编程爱好者来说过于困难。</p><p id="7d62" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">选项2 ( <strong class="jd hu">推荐</strong>选项)要求您跳到🐆并按照说明设置Termius以远程连接到Pi。一旦这些步骤完成，从这一点遵循教程的其余部分👇主要用你的智能手机转发。去吧，跳到豹子上🐆，并设置Termius！我们很快会在这里见到你。</p><h1 id="5d28" class="lo lp ht bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml dt translated"><strong class="ak">将Raspberry Pi设置为文件服务器</strong></h1><p id="891b" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated">有许多方法可以做到这一点，但在这个例子中，我们通过使用易于安装和配置的Node.js/Javascript和几乎所有Linux发行版都附带的Vim来保持事情相对简单，如果您决定选择<strong class="jd hu"><em class="ks"/></strong>并从您的智能手机编写所有代码。否则，打开你选择的无聊编辑器……(我有承诺问题——MAC vim，不，VS Code，不，Atom，不VS Code……我不知道)……然后在桌面或笔记本电脑上按照下面的步骤操作。</p><p id="814e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">在您的Raspberry Pi上安装节点→ </strong></p><p id="c239" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在您的Raspberry Pi终端中运行以下命令:</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="b8e6" class="mw lp ht ms b fv mx my l mz na">$ wget -O - https://raw.githubusercontent.com/audstanley/NodeJs-Raspberry-Pi/master/Install-Node.sh | sudo bash</span><span id="01ff" class="mw lp ht ms b fv nb my l mz na">$ node -v</span></pre><p id="0abd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这将获得NodeJs的最新版本，并将其安装在您的Raspberry Pi上。</p><p id="84fa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了测试我们的成功，在终端中键入<code class="eh nc nd ne ms b">node -v</code>，然后按&lt;进入&gt;。如果节点安装成功，您应该会看到控制台输出的版本号。</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nf"><img src="../Images/3ae92817930dfe397b453af683ad82f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iwExD8UFbBJa6m25PpZZ9Q.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">node successfully installing on Raspberry Pi running <a class="ae jz" href="https://www.raspberrypi.org/downloads/raspbian/" rel="noopener ugc nofollow" target="_blank"><strong class="bd ng">Raspbian</strong></a></figcaption></figure><p id="d265" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">通过获取一些有趣的包来熟悉Node→</strong></p><p id="18fb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了让人们熟悉流行的NodeJs软件包管理器，我们应该从他们的<a class="ae jz" href="http://www.npmjs.com" rel="noopener ugc nofollow" target="_blank">网站</a>下载一个漂亮的NPM模块——我们将下载并安装的软件包是为了让我们的命令行输出更加美观。</p><p id="3ee4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">要安装Chalk，请在Raspberry Pi上的终端中键入以下命令:</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="13b9" class="mw lp ht ms b fv mx my l mz na">$ npm install chalk -g</span></pre><p id="32e1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">继续并测试所有内容:</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nh"><img src="../Images/869828fa3e8258625ed4ebd628c7a462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DsTedSPLUp-8n5eL9XP7GA.png"/></div></div></figure><ul class=""><li id="eb1c" class="la lb ht jd b je jf ji jj jm lc jq ld ju le jy ni lg lh li dt translated">在Raspberry Pi中进入命令行/bash终端(您可能已经在那里了)</li></ul><p id="b85c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在终端中输入以下命令:</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="aced" class="mw lp ht ms b fv mx my l mz na">$ node<br/>&gt; // you're now in the node repl<br/>&gt; const chalk = require('chalk');<br/>&gt; <!-- -->console.log(chalk.hex('#6ca04e')('This is a green color, invoked using a hex code'));</span></pre><ul class=""><li id="e150" class="la lb ht jd b je jf ji jj jm lc jq ld ju le jy ni lg lh li dt translated">您应该会看到以绿色打印出来的文本💚</li></ul><p id="e73d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">粉笔是一个伟大的NPM包，NPM作为一个包经理是相当令人印象深刻的，无论是在受欢迎程度和规模。如果你想要更多NPM的东西，看看我的两个NPM套餐:</p><blockquote class="kt ku kv"><p id="c6ad" class="jb jc ks jd b je jf jg jh ji jj jk jl kw jn jo jp kx jr js jt ky jv jw jx jy hm dt translated"><strong class="jd hu"> grabrandom </strong>:这是一个接受一个参数<code class="eh nc nd ne ms b">grabrandom</code>的命令行工具，简单地将一个随机的ascii art命令行打印到终端。</p></blockquote><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nj"><img src="../Images/13cbd18b06162aeebff1254f8ae521ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTMQlh9YPaAvsHSh5To-Rw.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">screenshot of grabrandom npm/node module</figcaption></figure><blockquote class="kt ku kv"><p id="44a1" class="jb jc ks jd b je jf jg jh ji jj jk jl kw jn jo jp kx jr js jt ky jv jw jx jy hm dt translated"><strong class="jd hu">弹出</strong> →一个简单的命令行工具，接受一个参数<code class="eh nc nd ne ms b">ejectall</code>，快速安全地弹出所有连接的可移动媒体设备。</p></blockquote><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nk"><img src="../Images/d8ca099e0e64ccfaa26d6ef011dc9e1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i3nJfeuS2khJ2BmpWjMRUA.png"/></div></div></figure><h2 id="464a" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated"><strong class="ak">使用Javascript编写文件服务器</strong></h2><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="707a" class="mw lp ht ms b fv mx my l mz na">/*Javascript for instantiating our server -- There's quite a bit going on, but I'll do my best to explain below<br/>*/ </span><span id="7d0d" class="mw lp ht ms b fv nb my l mz na">// here we acquire all the necessary modules to use for our Node/Javascript server <br/>// require fs module for file system tools<br/>const fs = require('fs'); <br/>// require path module for path formatting<br/>const path = require('path'); <br/>// require http module for server<br/>const http = require('http'); <br/>// require url module for url tools<br/>const url = require('url'); <br/>// declare port variable for specifying a specific port, if desired<br/>const port = process.argv[3] || 8000; <br/>// here's the module from earlier. Aesthetes rejoice, command colors!<br/>const chalk = require('chalk'); <br/>// shorten log statements in hope of more pithy/organized code<br/>const log = console.log;</span><span id="a5a2" class="mw lp ht ms b fv nb my l mz na">const makeServer = ('request', (request, response) =&gt; {<br/>  let targetPath = url.parse(request.url).pathname;<br/>  log(chalk.hex('#4268f4')(targetPath));<br/>  <br/>  if (targetPath === '/') {<br/>    file = '<strong class="ms hu"><em class="ks">&lt;path to your file goes between these single quotes</em>&gt;</strong>';<br/>  } else if (targetPath === '/file2') {<br/>      file = '<strong class="ms hu"><em class="ks">&lt;path to your file goes between these single quotes&gt;</em></strong>';<br/>  } else {<br/>      response.writeHead(404);<br/>      response.end(404 + ' error has occurred -- FILE NOT FOUND');<br/>      return;<br/>  }<br/>  const filePath = path.join(__dirname, file); <br/>  const src = fs.createReadStream(filePath); <br/>  src.pipe(response);<br/>});<br/>server = http.createServer(makeServer);<br/>server.listen(port);<br/>log(chalk.hex('#90BA3E')(`Listening on 127.0.0.1: ${port}`));</span></pre><p id="d3f0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">上面的代码是我们制作文件服务器的Javascript。<strong class="jd hu">需要注意的是:上面的代码中有两个地方需要将它们现有的内容替换为有意义的内容(找到中间有指令的&lt; &gt;符号)。</strong></p><p id="ebff" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有必要将该内容(包括<code class="eh nc nd ne ms b">&lt;&gt;</code>括号)替换为您试图提供的文件的位置路径。</p><p id="ffbc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ks">注意:这个文件服务器代码是存在于树莓派上的！！！您可以在Raspberry Pi上本地编写这些代码，或者使用连接到Raspberry Pi的智能手机远程编写这些代码，如前所述！！！</em> </strong></p><h2 id="1bb4" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">创建一个新文件夹并放入光盘</h2><p id="7b8d" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated">在您选择的位置创建一个新文件夹。姑且称之为<code class="eh nc nd ne ms b">piServer</code>。如果您决定采用选项2，那么您需要使用命令行参数创建一个文件夹。<em class="ks">如果你还在节点repl中，无法退出，可以输入</em> <code class="eh nc nd ne ms b"><em class="ks">.exit</em></code> <em class="ks">并回车退出。</em></p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="4d7e" class="mw lp ht ms b fv mx my l mz na">// after navigating to the desired location for the new folder<br/>// type the following commands</span><span id="7f2d" class="mw lp ht ms b fv nb my l mz na">$ mkdir piServer</span><span id="274f" class="mw lp ht ms b fv nb my l mz na">// now change directory into our piServer folder</span><span id="4d50" class="mw lp ht ms b fv nb my l mz na">$ cd piServer</span></pre><p id="4bb7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">既然我们已经创建了piServer文件夹并将目录更改到该文件夹，我们需要为文件服务器代码创建Javascript文件。这可以通过创建文件的典型方法以图形方式实现，否则您可以通过键入以下命令用命令行创建文件</p><p id="fb77" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh nc nd ne ms b">touch server.js</code></p><p id="31bb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在我们需要打开新创建的文件<code class="eh nc nd ne ms b">server.js</code>，它现在位于<code class="eh nc nd ne ms b">piServer</code>文件夹中。为了远程打开文件，我们将使用vim。在命令行中，我们需要给出<code class="eh nc nd ne ms b"><a class="ae jz" href="https://www.openvim.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">vim</strong></a></code>命令和一个参数——要在vim编辑器中打开的文件——与我们要打开的文件在同一个目录中(即分别是<code class="eh nc nd ne ms b">piServer</code>和<code class="eh nc nd ne ms b">server.js</code>)。从上面的步骤中，你可能已经到达了你需要的地方。如果是，请键入</p><p id="f4d6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh nc nd ne ms b">$ vim server.js</code></p><p id="fc19" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您不在<code class="eh nc nd ne ms b">piServer</code>文件夹中，通过键入<code class="eh nc nd ne ms b">cd</code>并按enter键，然后按<code class="eh nc nd ne ms b">cd locationYouChose/piServer</code>键，切换回主目录<code class="eh nc nd ne ms b">~</code>。最后，键入<code class="eh nc nd ne ms b">vim server.js</code>。</p><p id="1a38" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">或者，在<code class="eh nc nd ne ms b">piServer</code>文件夹中使用<code class="eh nc nd ne ms b">vim server.js</code>命令/参数可以跳过使用<code class="eh nc nd ne ms b">touch</code>创建文件然后在vim编辑器中打开文件的步骤——vim将创建并打开文件。</p><p id="5790" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果你使用的是图形桌面，那么你可以像平常一样打开文件。您也可以使用命令行在您选择的编辑器中打开文件→ <code class="eh nc nd ne ms b">open server.js -a atom</code></p><p id="7d9c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ks">关于Vim的快速注释:</em> </strong>一旦你习惯了，Vim真的很好用，我正在慢慢地采用它(并不是说我会永远只使用它)。对于命令行代码编写来说，vim真的很棒，在我看来，这也是我们在这里使用它的原因。要开始，按下<code class="eh nc nd ne ms b">i</code>进入-插入-模式，这允许您在文档中键入新字符。在Vimland中，鼠标是魔鬼，所以浏览一个文档只需要使用键盘(参见macVim for Desktop use)。要向左、向下、向上或向右移动光标，分别使用<code class="eh nc nd ne ms b">H</code>、<code class="eh nc nd ne ms b">J</code>、<code class="eh nc nd ne ms b">K</code>或<code class="eh nc nd ne ms b">L</code>键。一旦你写完代码，按下<code class="eh nc nd ne ms b">esc</code>并输入<code class="eh nc nd ne ms b">:x</code>然后按下回车键——这将退出并保存你的代码。</p><h2 id="9a43" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">⌨️:我们开始编码吧</h2><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ny"><img src="../Images/e6741dfba47b6f16fb5b1a001fea1776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GN3Q3D-rBeFV8tWG"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Photo by <a class="ae jz" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d365" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">既然我们的空白Javascript文档<code class="eh nc nd ne ms b">server.js</code>已经打开，我们可以开始编写上面看到的文件服务器代码了。</p><p id="9a4d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">首先要做的是<em class="ks">要求</em>在我们的Node/JS脚本中使用所有必要的模块。有几个:</p><p id="cacc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">将下面的每一行输入到<code class="eh nc nd ne ms b">server.js</code>文档中。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="9b6f" class="mw lp ht ms b fv mx my l mz na">const fs = require('fs');</span></pre><p id="6bce" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">文件系统输入和输出处理需要<code class="eh nc nd ne ms b"><a class="ae jz" href="https://node.readthedocs.io/en/latest/api/fs/" rel="noopener ugc nofollow" target="_blank">fs</a></code> <a class="ae jz" href="https://node.readthedocs.io/en/latest/api/fs/" rel="noopener ugc nofollow" target="_blank">模块</a>——您可以使用它提供的方法创建、编辑、删除目录和文件，以及读取和写入文件。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="ee42" class="mw lp ht ms b fv mx my l mz na">const path = require('path');</span></pre><p id="9268" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">需要<code class="eh nc nd ne ms b"><a class="ae jz" href="https://node.readthedocs.io/en/latest/api/path/" rel="noopener ugc nofollow" target="_blank">path</a></code> <a class="ae jz" href="https://node.readthedocs.io/en/latest/api/path/" rel="noopener ugc nofollow" target="_blank">模块</a>来处理和转换文件路径。它的方法包括许多有用的工具，比如抓取文件路径的某些部分，用单斜杠替换双斜杠，等等。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="a4a2" class="mw lp ht ms b fv mx my l mz na">const http = require('http');</span></pre><p id="16a5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh nc nd ne ms b"><a class="ae jz" href="https://node.readthedocs.io/en/latest/api/http/" rel="noopener ugc nofollow" target="_blank">http</a></code> <a class="ae jz" href="https://node.readthedocs.io/en/latest/api/http/" rel="noopener ugc nofollow" target="_blank">模块</a>允许建立和管理http服务器和客户端连接。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="88d2" class="mw lp ht ms b fv mx my l mz na">const url = require('url');</span></pre><p id="4aad" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh nc nd ne ms b"><a class="ae jz" href="https://node.readthedocs.io/en/latest/api/url/" rel="noopener ugc nofollow" target="_blank">url</a></code> <a class="ae jz" href="https://node.readthedocs.io/en/latest/api/url/" rel="noopener ugc nofollow" target="_blank">模块</a>是解析URL对象的方法所必需的。</p><p id="6182" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在调用节点和运行<code class="eh nc nd ne ms b">server.js</code>脚本时，<code class="eh nc nd ne ms b">port</code>变量允许将自定义端口指定为参数。<code class="eh nc nd ne ms b">process.argv[3]</code>表示对节点的调用命令，<code class="eh nc nd ne ms b">[3]</code>表示<code class="eh nc nd ne ms b">process.argv</code>命令调用行的索引3。这导致<code class="eh nc nd ne ms b">node server.js 8080</code>将服务器的端口设置为8080→node[1]server . js[2]8080[3]。注意<code class="eh nc nd ne ms b">||</code>垂直线，它们等于布尔值<code class="eh nc nd ne ms b">or</code>，如果在索引[3]处没有提供参数，那么<code class="eh nc nd ne ms b">port</code>默认为<code class="eh nc nd ne ms b">8000</code>。</p><p id="057c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">接下来是之前的<code class="eh nc nd ne ms b">chalk</code>模块，你应该熟悉这个。只要记住它让事情变得美好👸</p><p id="cb14" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">最后，我设置了一个变量<code class="eh nc nd ne ms b">log</code>来代替<code class="eh nc nd ne ms b">console.log</code>,试图缩短/清理代码→ <code class="eh nc nd ne ms b">console.log(chalk.hex('#cccccc')('schadenfreude'))</code>变得<code class="eh nc nd ne ms b">log(chalk.hex('#cccccc')('schadenfreude'));</code>稍微好一点。你可以效仿我的做法。</p><p id="5f02" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下是目前为止您应该有的内容:</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="3a21" class="mw lp ht ms b fv mx my l mz na">const fs = require('fs');<br/>const path = require('path');<br/>const http = require('http');<br/>const url = require('url');<br/>const port = process.argv[3] || 8000;<br/>const chalk = require('chalk');<br/>const log = console.log;</span></pre><h2 id="838d" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">服务器对象及其方法</h2><p id="3018" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated">接下来，我们需要使用一个流行的<code class="eh nc nd ne ms b"><a class="ae jz" href="https://nodejs.org/api/events.html#events_class_eventemitter" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">EventEmitte</strong></a><strong class="jd hu">r</strong></code> <strong class="jd hu"> </strong>来处理http活动<strong class="jd hu">、</strong><code class="eh nc nd ne ms b">Server</code>对象的请求和响应。直到代码的后面才调用<code class="eh nc nd ne ms b">createServer</code>方法，主要是因为文件路径处理和为导航到不同文件而设置的路由。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="6013" class="mw lp ht ms b fv mx my l mz na">const makeServer = ('request', (request, response) =&gt; {<br/>  // the next bit of code will go here<br/>  <br/>};<br/>server = http.createServer(makeServer);<br/>server.listen(port);<br/>log(chalk.hex('#90BA3E')(`Listening on 127.0.0.1: ${port}`));</span></pre><p id="b5e7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh nc nd ne ms b">makeServer</code>是一个变量，它指向创建一个<code class="eh nc nd ne ms b">Server</code>对象的简写。稍后会调用<code class="eh nc nd ne ms b">createServer</code>方法来处理每个http请求，从而为<code class="eh nc nd ne ms b"><a class="ae jz" href="https://nodejs.org/en/docs/guides/anatomy-of-an-http-transaction/" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu"><em class="ks">Server</em></strong></a></code>对象添加一个监听器——这就是EventEmitter。</p><h2 id="101c" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">路由和文件路径处理逻辑</h2><p id="0cca" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated">现在我们需要设置路由和文件路径处理逻辑。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="e1ca" class="mw lp ht ms b fv mx my l mz na">const fs = require('fs');<br/>const path = require('path');<br/>const http = require('http');<br/>const url = require('url');<br/>const port = process.argv[3] || 8000;<br/>const chalk = require('chalk');<br/>const log = console.log;</span><span id="eb8b" class="mw lp ht ms b fv nb my l mz na">const makeServer = ('request', (request, response) =&gt; {<br/>  <strong class="ms hu">let targetPath = url.parse(request.url).pathname;<br/>  log(chalk.hex('#4268f4')(targetPath));<br/>  <br/>  if (targetPath === '/') {<br/>    file = '<em class="ks">&lt;path to your file goes between these single quotes</em>&gt;';<br/>  } else if (targetPath === '/file2') {<br/>      file = '<em class="ks">&lt;path to your file goes between these single quotes&gt;</em>';<br/>  } else {<br/>      response.writeHead(404);<br/>      response.end(404 + ' error has occurred -- FILE NOT FOUND');<br/>      return;<br/>  }<br/>  const filePath = path.join(__dirname, file); <br/>  const src = fs.createReadStream(filePath); <br/>  src.pipe(response);</strong><br/>});<br/>server = http.createServer(makeServer);<br/>server.listen(port);<br/>log(chalk.hex('#90BA3E')(`Listening on 127.0.0.1: ${port}`));</span></pre><p id="867e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">一个扩展的<code class="eh nc nd ne ms b">if... else...</code>条件语句使用<code class="eh nc nd ne ms b">path</code>模块所需的方法确定与目录名连接的文件路径→以便创建一个新的变量<code class="eh nc nd ne ms b">filePath</code>，这个信息稍后将用于创建一个读流— <code class="eh nc nd ne ms b">fs.createReadStream(filePath);</code>忽略if else()语句后面的另一个文件路径……这将在后面解释(可能在下一篇博客文章中)。暂时忽略它，但是按照你看到的写代码。</p><p id="3cdb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">最后，我们需要一个文件来提供服务。该文件可以是(但不限于)纯文本、jpeg、gif等格式。为了让事情变得有趣，至少对我来说，我们将使用我最喜欢的事物之一的图片。还要注意的是，这个步骤(保存图像)<strong class="jd hu">需要</strong>物理访问Raspberry Pi，因此当执行“完全”远程方法时，这将是唯一需要在Raspberry Pi上物理完成的步骤。</p><p id="e537" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">右键单击下面的图像，然后单击“将图像另存为…”</p><p id="24e2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">先存成<code class="eh nc nd ne ms b">sansfeld</code>吧。确保将文件保存在我们的<code class="eh nc nd ne ms b">piServer</code>文件夹/目录中。</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nz"><img src="../Images/411ce82abf7d76838de8f0909b29da6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wd3nyjiTcLT9SuUqDzdSIA.jpeg"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Save this file as `sansfeld.jpg` — Seinfeld and DIY 4 LIFE * <a class="ae jz" href="https://www.gettyimages.com/event/s-seinfeld-season-5-144789963#/season-5-pictured-jason-alexander-as-george-costanza-julia-as-elaine-picture-id138407106" rel="noopener ugc nofollow" target="_blank">photo used for educational purposes only</a>*</figcaption></figure><p id="dc52" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在我们已经将一个文件(我们的图像文件— <code class="eh nc nd ne ms b">jpg</code>)保存在与<code class="eh nc nd ne ms b">server.js</code>相同的目录/文件夹中，我们可以将保存的图像的相对路径放入服务器文件代码中。</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oa"><img src="../Images/5757ac78491afd48238a2279300aab09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4S26m74TtFfngped_oDG0g.png"/></div></div></figure><p id="a9f5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这就是我们需要将<code class="eh nc nd ne ms b">&lt;path to your file goes between these single quotes&gt;</code>替换为“sansfeld.jpeg”文件的相对路径→ <code class="eh nc nd ne ms b">/sansfeld.jpg</code>的地方。</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ob"><img src="../Images/20820718bb839e868447e4f0b803ad62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fy9vg2CIPYsFBkRzTNydVA.png"/></div></div></figure><p id="2817" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下面是对完整代码的最后一次检查:</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oc"><img src="../Images/14e826202cc21017c6fefc416207a7f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFyfT01gPZg7vPvEARslPA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Using a typical editor with a graphical user interface</figcaption></figure><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff od"><img src="../Images/17b1a0bf9961b7f4057a874e8d8a5083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BGWMzjjnz0awvKry9N15lA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Screenshot of vim editor version of server.js (using iPhone 6s plus)</figcaption></figure><p id="6056" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了防止代码抛出错误，嵌套在<code class="eh nc nd ne ms b">} else if {</code>语句下的第二个<code class="eh nc nd ne ms b">file = ''</code>应该替换为指向您自己文件的路径，或者替换为<code class="eh nc nd ne ms b">null</code>或<code class="eh nc nd ne ms b">''</code>。<code class="eh nc nd ne ms b">bigFile_Dude.txt</code>文件将在未来正式推出。</p><h2 id="493b" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">🐆<strong class="ak"> <em class="oe">豹子想引起你的注意</em> </strong>👇</h2><h1 id="bb68" class="lo lp ht bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml dt translated"><strong class="ak">为智能手机设置SSH</strong></h1><p id="f0a9" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated"><em class="ks">文章/指南的这一部分将涵盖iOS/iPhone设备和Google/Android设备的使用案例，但需要注意的是，我只在iPhone 6S Plus上尝试过这种情况。</em></p><h2 id="4f13" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">安装Termius</h2><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff of"><img src="../Images/f0fe227428959332351b43bd6891bcf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wIfAMCfJIrpt6_wd4oHQg.png"/></div></div></figure><p id="b750" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">要安装Termius，只需访问<a class="ae jz" href="http://www.termius.com" rel="noopener ugc nofollow" target="_blank">www.termius.com</a>并点击右上角的“下载应用”。这将保证您获得适合您设备的正确版本。</p><p id="a808" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">一旦你安装了Termius，打开应用程序，准备下一步。</p><h2 id="d61c" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">在Termius上配置SSH</h2><p id="1da4" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated"><em class="ks">这一部分并不特别难，但是一定要注意成功ssh连接到您的Raspberry Pi所需的必要信息。</em></p><p id="c570" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">远程连接到Raspberry Pi需要3个必要的信息:</p><ul class=""><li id="9bea" class="la lb ht jd b je jf ji jj jm lc jq ld ju le jy ni lg lh li dt translated">Raspberry Pi用户名→在Raspberry Pi的终端输入<code class="eh nc nd ne ms b">whoami</code>即可找到——按&lt;输入&gt;并记下打印的名称。一个全新的Pi镜像(即Debian/Raspbian)使用<code class="eh nc nd ne ms b">pi</code>作为用户名。</li><li id="c254" class="la lb ht jd b je lj ji lk jm ll jq lm ju ln jy ni lg lh li dt translated">Raspberry Pi密码→这个你应该知道——你必须在你自己的✋上找到它如果你有一个新的Raspberry Pi，密码可能是<code class="eh nc nd ne ms b">raspberry</code></li><li id="efd5" class="la lb ht jd b je lj ji lk jm ll jq lm ju ln jy ni lg lh li dt translated">Raspberry Pi ip地址→在您的Raspberry Pi终端中键入此命令<code class="eh nc nd ne ms b">ip addr show</code>,然后按&lt; enter &gt;找到设备的ip地址。记下这个地址。</li></ul><figure class="kb kc kd ke fq iu"><div class="bz el l di"><div class="og oh l"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">gif showing how to get the ssh connection going</figcaption></figure><p id="28a5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在我们已经有了输入Termius的必要信息，并通过SSH连接到我们的Raspberry Pi，打开智能手机上的Termius应用程序。</p><p id="586e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们越来越接近互联，这允许许多有趣的事情。请留意我发布的多篇文章，这些文章涉及一些有趣的想法，可以通过远程连接到Raspberry Pi来进行尝试，Raspberry Pi本身与微控制器(如Arduino Uno)物理连接，微控制器本身可以控制多个其他设备。有很多乐趣和学习，只是说。</p><p id="41e0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">反正我跑题了——我们输入我们的树莓Pi信息吧。</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/dba115134e45cb03a0918000b65270f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IkAI3PEpdIdmOGiiPt3DMw.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">screenshot showing where to input the username and password data</figcaption></figure><p id="99ce" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">打开Termius，点击<strong class="jd hu">新主机。</strong></p><p id="83a7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这里有两件重要的事情，目前:<strong class="jd hu">主机名</strong>和<strong class="jd hu">使用SSH </strong>。</p><p id="e255" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在<strong class="jd hu">主机名</strong>字段中输入您的Raspberry Pi的ip地址——我们在上面的步骤中找到的ip地址。然后，点击<strong class="jd hu">使用SSH </strong>切换按钮展开选项，在<strong class="jd hu">用户名</strong>字段中输入Raspberry Pi用户名，在<strong class="jd hu"> Termius </strong>应用程序的<strong class="jd hu">密码</strong>字段中输入密码。</p><p id="10f7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">最后，点击<strong class="jd hu">保存。这将把您带到一个只有一个列表的列表:您新创建的SSH连接。</strong></p><p id="c7ca" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="ks">通过编辑连接参数/设置的</em> <strong class="jd hu"> <em class="ks">别名</em> </strong> <em class="ks">字段，可以更改该连接的名称/别名。</em></p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oi"><img src="../Images/16ee535a291c40f1fa352a283ab218a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ru61V20jVRrNRy4hOipdGA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">screenshot showing an established host connection with a user-set <strong class="bd ng">alias </strong>of ‘<strong class="bd ng">piSrvr’</strong></figcaption></figure><h2 id="cbaa" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">测试一下</h2><p id="0b54" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated">确保你的树莓派已经启动。然后点击Termius应用程序中的连接。如果一切顺利，您应该会从智能手机上看到您的Raspberry Pi的命令提示符！</p><p id="e77f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用您新创建并连接到Raspberry Pi命令行的远程会话(SSH ),键入<code class="eh nc nd ne ms b">node</code>并按回车键。</p><p id="3458" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，键入<code class="eh nc nd ne ms b">npm install grabrandom -g</code>并按enter——这将安装我的grabrandom npm包。</p><p id="b279" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">安装完成后——很小，很快——键入<code class="eh nc nd ne ms b">grabrandom</code>,然后按回车键。</p><p id="d58c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">您应该看到一个有趣的ascii艺术打印到终端！</p><h2 id="c8ef" class="mw lp ht bd lq nl nm nn lu no np nq ly jm nr ns mc jq nt nu mg ju nv nw mk nx dt translated">远程运行我们的服务器代码</h2><p id="afc9" class="pw-post-body-paragraph jb jc ht jd b je mm jg jh ji mn jk jl jm mo jo jp jq mp js jt ju mq jw jx jy hm dt translated"><strong class="jd hu"> <em class="ks">看这个很重要！→如果您已经跳到Termius部分(您现在正在阅读的部分)，并计划使用您的智能手机完成本文中的步骤，那么请回到您跳过的地方，享受剩下的学习，然后再回到这里！否则，继续阅读。</em>T29】</strong></p><p id="3d97" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们的服务器代码可以通过这种远程连接从您的智能手机上执行。</p><p id="f6c6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">首先，进入<code class="eh nc nd ne ms b">piServer</code>目录:</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="7c71" class="mw lp ht ms b fv mx my l mz na">$ cd ~<br/>$ cd location_of_piServer/piServer</span></pre><p id="e892" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，使用<code class="eh nc nd ne ms b">node</code>运行<code class="eh nc nd ne ms b">server.js</code>。</p><pre class="kb kc kd ke fq mr ms mt mu aw mv dt"><span id="88bf" class="mw lp ht ms b fv mx my l mz na">$ node server.js</span></pre><p id="583a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果一切顺利，您应该会看到:</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oj"><img src="../Images/19caf3b48657243e145a7d7f076235fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kBTVi0gyJoFlunPXThy0g.png"/></div></div></figure><p id="7037" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在在你最喜欢的<strong class="jd hu">桌面</strong>网络浏览器中打开一个新窗口。在地址栏中，键入正在监听的本地地址(即本地主机<code class="eh nc nd ne ms b">127.0.0.1</code>，然后是代码中指定的端口<code class="eh nc nd ne ms b">8000</code>——除非在命令行中调用node时给出了额外的参数，即<code class="eh nc nd ne ms b">node server.js 8080</code>)。点击回车键，你应该会在你的浏览器中看到上面的‘sans feld’图像！如果您愿意，您可以从奶奶家访问该文件，而不是在本地访问，尽管这将需要一些额外的设置步骤——这将在下一篇文章中介绍！如果您使用的是远程桌面，您可以在服务器运行时通过在web浏览器的地址栏中键入ip地址和端口号来访问它。请记住，Termius也可以安装在您的台式机/笔记本电脑上。这对于使用一些首选机器远程访问Raspberry Pi或其他微型计算机，或者如果您当时没有微型计算机的显示器和键盘，会很有用。</p><p id="8c23" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">从技术上讲，这篇文章不是一个系列的一部分，但仍然应该被视为我目前正在撰写的一个系列的初始起点，该系列涉及远程控制计算机的几个不同的有趣用例。</p><p id="9fa1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">希望你喜欢这篇文章。现在，不用睡觉，只要躺在床上盯着蓝光，编写一两个服务器的代码，建立一些网站…你可以做这一切，用你的智能手机在床上写，只使用树莓派上的命令行——这很有趣，这是极端爱好者nerdom的乐趣享受，并按照我的媒体页面继续关注未来涉及远程编码和微硬件项目的文章！🛰</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ok"><img src="../Images/cecfd42fdb5e0a8202156b13f2fca8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*twuBmQjkUuFFAaN_"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Photo by <a class="ae jz" href="https://unsplash.com/@_louisreed?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Louis Reed</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div></div>    
</body>
</html>