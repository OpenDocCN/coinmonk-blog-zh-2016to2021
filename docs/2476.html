<html>
<head>
<title>Make a REST API To Track Products</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作一个REST API来跟踪产品</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/make-a-rest-api-to-track-products-51fb65e4ab4d?source=collection_archive---------1-----------------------#2019-10-24">https://medium.com/coinmonks/make-a-rest-api-to-track-products-51fb65e4ab4d?source=collection_archive---------1-----------------------#2019-10-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="d012" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在本文中，我使用IOTA制作了一个简单的REST API来跟踪产品。产品所有者将使用该跟踪API来记录他们的产品和他们需要的所有相关数据(位置、所有者、修改、时间),然后API将数据推送到tangle，然后API将使用根地址进行响应，以跟踪所有产品和每个产品的地址数组。该地址阵列应作为QR码打印在每个产品上，供QR码阅读器更新/读取数据。对于复杂的部分，我使用MAM restricted进行通信，并使用它生成路由和地址。你可以在这里找到我详细做的事情。</p><p id="f5f6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">REST API的序列图:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/3d19efd45886e36e7227b572eec74c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tTZgAxiFsbVd1wKGh0pKQ.png"/></div></div></figure><h1 id="a65b" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">API端点、调用、控制器和响应</h1><h2 id="39ce" class="kz kc ht bd kd la lb lc kh ld le lf kl jb lg lh kp jf li lj kt jj lk ll kx lm dt translated">致电后创建产品</h2><p id="fbe0" class="pw-post-body-paragraph iq ir ht is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hm dt translated">客户需要在JSON数组上发送他的所有产品信息，如id、日期、详细信息等:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="6f66" class="kz kc ht lt b fv lx ly l lz ma">{[<br/>{<br/>id:”15p6013”,<br/>date:”1/11/2019”,<br/>location:”Cairo”<br/>},<br/>{<br/>id:”20p6013”,<br/>date:”1/11/2019”,</span><span id="f007" class="kz kc ht lt b fv mb ly l lz ma">location:”Cairo”</span><span id="9e11" class="kz kc ht lt b fv mb ly l lz ma">},</span><span id="686f" class="kz kc ht lt b fv mb ly l lz ma">......</span><span id="fe02" class="kz kc ht lt b fv mb ly l lz ma">]}</span></pre><p id="b844" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在邮递员上看起来会是这样</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mc"><img src="../Images/022eb4b6c1a90aa3d3bda03d31924a5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lag16nz-R1IOGyBqpJFxjw.png"/></div></div></figure><p id="6456" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">路线:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="e935" class="kz kc ht lt b fv lx ly l lz ma">app.route(‘/createproducts’)<br/>.post(tracker.create_products)</span></pre><p id="7627" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">控制器:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="1e0a" class="kz kc ht lt b fv lx ly l lz ma">const initComm = require(‘./iota_comm_modules/initComm’)<br/>exports.create_products = (req, res) =&gt; {</span><span id="ba58" class="kz kc ht lt b fv mb ly l lz ma">initComm.execute(req.body.products).then(function(tracker) {</span><span id="0565" class="kz kc ht lt b fv mb ly l lz ma">res.json(tracker)</span><span id="50f8" class="kz kc ht lt b fv mb ly l lz ma">})}</span></pre><p id="0111" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">IOTA模块。所有的IOTA模块都包含在这篇<a class="ae jo" rel="noopener" href="/@yehiatarek67/playing-with-iota-parsing-data-for-supply-chain-project-b46806170c6">文章</a>中。</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="ef2e" class="kz kc ht lt b fv lx ly l lz ma">const init = (_products)=&gt;{</span><span id="0059" class="kz kc ht lt b fv mb ly l lz ma">SendMamRestricted.execute("initialize root").then(function(result) {</span><span id="7480" class="kz kc ht lt b fv mb ly l lz ma">trackedProducts['rootAddress'] = result</span><span id="89e1" class="kz kc ht lt b fv mb ly l lz ma">SendPublicTransaction.execute(IotaGlobal.seed,IotaGlobal.address,result)</span><span id="82af" class="kz kc ht lt b fv mb ly l lz ma">})</span><span id="2adc" class="kz kc ht lt b fv mb ly l lz ma">return PublishAll.execute(_products)</span><span id="544e" class="kz kc ht lt b fv mb ly l lz ma">}</span><span id="6da1" class="kz kc ht lt b fv mb ly l lz ma">const initComm = async(_products) =&gt;{</span><span id="745d" class="kz kc ht lt b fv mb ly l lz ma">trackedProducts['addresses'] =  await init(_products)</span><span id="7d86" class="kz kc ht lt b fv mb ly l lz ma">return trackedProducts</span><span id="f63a" class="kz kc ht lt b fv mb ly l lz ma">}</span></pre><p id="a298" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后，响应将是一个JSON对象，其根地址在MAM Merkel树上，可以在GET调用中使用，以获取所有产品数据和每个产品的地址数组。</p><p id="fe25" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">回应:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="6def" class="kz kc ht lt b fv lx ly l lz ma">{</span><span id="1024" class="kz kc ht lt b fv mb ly l lz ma">"rootAddress": "NEH9MERQJWOYERNDMQJLESEUSIUMBAZ9DTFCNRVUVOGNWDNDFGERMTOTXUWICFYRJYUFRFDVMVXJTIEPG",</span><span id="c028" class="kz kc ht lt b fv mb ly l lz ma">"addresses": [</span><span id="1564" class="kz kc ht lt b fv mb ly l lz ma">"BJKXGMJLMJFXUVZNL9FJZDIESOFQZIHCEUELPFZSUYYFKYVQGSSQNONWZEKTKUIPSWVJFAZOBRQZQJVUL",</span><span id="8c0f" class="kz kc ht lt b fv mb ly l lz ma">"FMA9BONNEWBLBXLCJ9DVCFSHDSXAWDKYUTRV9DVSY99TVRCWQ9HZ9NWDIUDBWXHCTNAAZOEVYTK9TWZLP"</span><span id="93ff" class="kz kc ht lt b fv mb ly l lz ma">]</span><span id="1969" class="kz kc ht lt b fv mb ly l lz ma">}</span></pre><p id="e410" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，使用所有这些地址，您可以通过“get”调用来获取数据。</p><h2 id="033f" class="kz kc ht bd kd la lb lc kh ld le lf kl jb lg lh kp jf li lj kt jj lk ll kx lm dt translated">获取产品信息获取电话</h2><p id="ad9b" class="pw-post-body-paragraph iq ir ht is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hm dt translated">客户发送他想要跟踪的一组产品的地址。</p><p id="caed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">端点</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="337c" class="kz kc ht lt b fv lx ly l lz ma"><a class="ae jo" href="http://localhost:5200/getproducts?address=YLMBOYMLPTUFDESSIPJORHEMTVKCWRCZBYZBSDFVDPLEXPCZNHFOTFCZFJNUYYZMUDMJZNSPCUPLHBYNQ" rel="noopener ugc nofollow" target="_blank">http://localhost:5200/getproducts?address=YLMBOYMLPTUFDESSIPJORHEMTVKCWRCZBYZBSDFVDPLEXPCZNHFOTFCZFJNUYYZMUDMJZNSPCUPLHBYNQ</a> <br/>//first product address should return his data and data for all products after it.</span></pre><p id="a158" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">途径</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="375b" class="kz kc ht lt b fv lx ly l lz ma">app.route(‘/getproducts’)</span><span id="b793" class="kz kc ht lt b fv mb ly l lz ma">.get(tracker.get_products);</span></pre><p id="fb7c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">控制器</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="1b81" class="kz kc ht lt b fv lx ly l lz ma">const fetchMamRestricted= require(‘./iota_comm_modules/FetchMamRestricted’)</span><span id="aa3f" class="kz kc ht lt b fv mb ly l lz ma">exports.get_products = async (req,res) =&gt;{</span><span id="de9e" class="kz kc ht lt b fv mb ly l lz ma">const productsData = await fetchMamRestricted.execute(req.query.address)</span><span id="0f93" class="kz kc ht lt b fv mb ly l lz ma">fetchMamRestricted.cleanResp()</span><span id="04a0" class="kz kc ht lt b fv mb ly l lz ma">res.json(productsData)</span><span id="a28b" class="kz kc ht lt b fv mb ly l lz ma">}</span></pre><p id="fdb7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">IOTA模块</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="3c22" class="kz kc ht lt b fv lx ly l lz ma">let resp = []</span><span id="0c01" class="kz kc ht lt b fv mb ly l lz ma">const logData = data =&gt; {</span><span id="8c97" class="kz kc ht lt b fv mb ly l lz ma">resp.push(IotaGlobal.converter.trytesToAscii(data))</span><span id="18dc" class="kz kc ht lt b fv mb ly l lz ma">}</span><span id="7285" class="kz kc ht lt b fv mb ly l lz ma">const FetchMam = async (_root) =&gt; {</span><span id="d43b" class="kz kc ht lt b fv mb ly l lz ma">// Callback used to pass data + returns next_root</span><span id="fd9a" class="kz kc ht lt b fv mb ly l lz ma">await IotaGlobal.Mam.fetch(_root, mamType, mamSecret, logData)</span><span id="ed26" class="kz kc ht lt b fv mb ly l lz ma">return resp</span><span id="45b9" class="kz kc ht lt b fv mb ly l lz ma">}</span><span id="f055" class="kz kc ht lt b fv mb ly l lz ma">const cleanResp = ()=&gt;{</span><span id="f838" class="kz kc ht lt b fv mb ly l lz ma">resp = []</span><span id="dee8" class="kz kc ht lt b fv mb ly l lz ma">}</span></pre><p id="5f5d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">回应产品信息以及此后添加或更改的所有新产品:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="bf06" class="kz kc ht lt b fv lx ly l lz ma">[</span><span id="089c" class="kz kc ht lt b fv mb ly l lz ma">"{ "id": "15P6013","time":"2272019","location":"Cairo"}",</span><span id="4c6c" class="kz kc ht lt b fv mb ly l lz ma">"{"id":"15P66666","time":"06071997","location":"Egypt"}"</span><span id="ccb1" class="kz kc ht lt b fv mb ly l lz ma">]</span></pre><h2 id="ebf1" class="kz kc ht bd kd la lb lc kh ld le lf kl jb lg lh kp jf li lj kt jj lk ll kx lm dt translated">更新呼叫</h2><p id="09cd" class="pw-post-body-paragraph iq ir ht is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hm dt translated">假设一些产品被转移到另一个国家或进行了一些修改，物联网设备将会进行呼叫。</p><p id="9bc1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">我使用了post call，因为我无法更新已经部署在Tangle上的数据</strong></p><p id="3b2a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">端点:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="e86c" class="kz kc ht lt b fv lx ly l lz ma"><a class="ae jo" href="http://localhost:5200/updateproduct" rel="noopener ugc nofollow" target="_blank">http://localhost:5200/updateproduct</a></span></pre><p id="906e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">主体(主体可以是用户想要发送的任何形式的数据):</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="dc32" class="kz kc ht lt b fv lx ly l lz ma">{ id: ‘15p6013’,</span><span id="414f" class="kz kc ht lt b fv mb ly l lz ma">time: ‘noew now’,</span><span id="f1e0" class="kz kc ht lt b fv mb ly l lz ma">owner: ‘john’,</span><span id="4321" class="kz kc ht lt b fv mb ly l lz ma">details: ‘lorem lorem lorem’ }</span></pre><p id="9413" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">路线:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="5eaf" class="kz kc ht lt b fv lx ly l lz ma">app.route(‘/updateproduct’)</span><span id="1b10" class="kz kc ht lt b fv mb ly l lz ma">.post(tracker.update_product)</span></pre><p id="00da" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">控制器:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="39c6" class="kz kc ht lt b fv lx ly l lz ma">const sendMamRestricted = require(‘./iota_comm_modules/SendMamRestricted’)</span><span id="3b48" class="kz kc ht lt b fv mb ly l lz ma">exports.update_product = (req, res) =&gt; {</span><span id="a21b" class="kz kc ht lt b fv mb ly l lz ma">console.log(req.body.data)</span><span id="b999" class="kz kc ht lt b fv mb ly l lz ma">sendMamRestricted.execute(JSON.stringify(req.body.data)).then(function(tracker) {res.json(tracker)})}</span></pre><p id="0cbc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">IOTA模块:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="004b" class="kz kc ht lt b fv lx ly l lz ma">const Publish = async data =&gt; {</span><span id="9b40" class="kz kc ht lt b fv mb ly l lz ma">// Convert the JSON to trytes and create a MAM message</span><span id="812f" class="kz kc ht lt b fv mb ly l lz ma">const trytes = IotaGlobal.converter.asciiToTrytes(data)</span><span id="0fc8" class="kz kc ht lt b fv mb ly l lz ma">const message = IotaGlobal.Mam.create(mamState, trytes)</span><span id="949c" class="kz kc ht lt b fv mb ly l lz ma">// Update the MAM state to the state of this latest message</span><span id="5d8e" class="kz kc ht lt b fv mb ly l lz ma">mamState = message.state</span><span id="efd5" class="kz kc ht lt b fv mb ly l lz ma">// Attach the message</span><span id="2dac" class="kz kc ht lt b fv mb ly l lz ma">await IotaGlobal.Mam.attach(message.payload, message.address, 3, 9)</span><span id="5163" class="kz kc ht lt b fv mb ly l lz ma">return message.root</span><span id="f0d6" class="kz kc ht lt b fv mb ly l lz ma">}</span></pre><p id="fe97" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">回应:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="0de8" class="kz kc ht lt b fv lx ly l lz ma">“SVGLNSIUTKYDIPJQJQGFJDKGZAQIQ9BTCQJXLAUZFRDKQLOJPMLNBBIXZWBBFUPWXJFQZCODZYTKEFL9V”</span></pre><p id="0ac5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它的新地址已经生成客户端用户可以从他以前的地址。</p><p id="9041" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用GET call测试它</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="9c73" class="kz kc ht lt b fv lx ly l lz ma"><a class="ae jo" href="http://localhost:5200/getproducts?address=SVGLNSIUTKYDIPJQJQGFJDKGZAQIQ9BTCQJXLAUZFRDKQLOJPMLNBBIXZWBBFUPWXJFQZCODZYTKEFL9V" rel="noopener ugc nofollow" target="_blank">http://localhost:5200/getproducts?address=SVGLNSIUTKYDIPJQJQGFJDKGZAQIQ9BTCQJXLAUZFRDKQLOJPMLNBBIXZWBBFUPWXJFQZCODZYTKEFL9V</a> //same address returned from update call</span></pre><p id="6d54" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它会给出响应:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="5152" class="kz kc ht lt b fv lx ly l lz ma">[</span><span id="1540" class="kz kc ht lt b fv mb ly l lz ma">“{”id”:”15p6013”,”time”:”noew now”,”owner”:”john”,”details”:”lorem lorem lorem”}”</span><span id="495e" class="kz kc ht lt b fv mb ly l lz ma">]</span></pre><p id="61bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以确保一切按预期运行。我将使用带有根地址的GET调用，查看更新是否已经添加到了Merkel树中。</p><p id="dea0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">端点:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="b8a2" class="kz kc ht lt b fv lx ly l lz ma"><a class="ae jo" href="http://localhost:5200/getproducts?address=NEH9MERQJWOYERNDMQJLESEUSIUMBAZ9DTFCNRVUVOGNWDNDFGERMTOTXUWICFYRJYUFRFDVMVXJTIEPG" rel="noopener ugc nofollow" target="_blank">http://localhost:5200/getproducts?address=NEH9MERQJWOYERNDMQJLESEUSIUMBAZ9DTFCNRVUVOGNWDNDFGERMTOTXUWICFYRJYUFRFDVMVXJTIEPG</a></span></pre><p id="fd30" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">回应:</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="9872" class="kz kc ht lt b fv lx ly l lz ma">[</span><span id="e4a0" class="kz kc ht lt b fv mb ly l lz ma">“initialize root”,</span><span id="b181" class="kz kc ht lt b fv mb ly l lz ma">“{\”id\”:\”15P6013\”,\”time\”:\”2272019\”,\”location\”:\”Cairo\”}”,</span><span id="2d97" class="kz kc ht lt b fv mb ly l lz ma">“{\”id\”:\”15P66666\”,\”time\”:\”06071997\”,\”location\”:\”Yarab\”}”,</span><span id="f846" class="kz kc ht lt b fv mb ly l lz ma">“{\”id\”:\”15p6013\”,\”time\”:\”noew now\”,\”owner\”:\”john\”,\”details\”:\”lorem lorem lorem\”}”</span><span id="15a8" class="kz kc ht lt b fv mb ly l lz ma">]</span></pre><p id="0d42" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">物联网设备推送的更新已添加！</p><h2 id="8a03" class="kz kc ht bd kd la lb lc kh ld le lf kl jb lg lh kp jf li lj kt jj lk ll kx lm dt translated">下一步做什么？</h2><p id="37a4" class="pw-post-body-paragraph iq ir ht is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hm dt translated">1-需要在POST调用中获取用户公共地址，以便对每个用户更加个性化。</p><p id="4657" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2-产品创建后需要发送MAM受限密码，然后将此密码添加到IOT设备进行更新。</p><p id="a22f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是所有这些更新都很简单，我没有添加它们来关注主要问题。</p><p id="cb42" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">实际上，所有的API调用都会返回一些无组织的数据，所以我可以按时间添加一个过滤器模块。随着时间的推移，默克尔树发生了变化，例如:</p><p id="d885" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">地址1→2019年1月20日至今的所有变更。</p><p id="9114" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">地址2→2019年11月30日至今的所有变更。</p><p id="1d3f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt">……</p><p id="36e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在时间过滤器之后，我需要添加ID过滤器来获取特定产品或产品范围发生的所有更改。更有组织性，并帮助没有tangle经验的开发人员与之交互。如果我能找到一种方法来组织所有的地址，那就太棒了，所以对于地址X，使用tangle给我发生在产品X上的所有变化，而不需要任何过滤器。如果您有任何更好的解决方案或反馈，请留下评论。谢了。</p><p id="1b79" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">项目源代码</p><p id="3aac" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jo" href="https://github.com/yehia67/Tracker-api/tree/master" rel="noopener ugc nofollow" target="_blank">https://github.com/yehia67/Tracker-api/</a></p><blockquote class="md"><p id="7f4d" class="me mf ht bd mg mh mi mj mk ml mm jn ek translated"><a class="ae jo" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="mo mp mq mr ms ju fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mn"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>