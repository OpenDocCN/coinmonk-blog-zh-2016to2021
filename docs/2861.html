<html>
<head>
<title>Swap Protocol Demystified</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">去神秘化的交换协议</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/understanding-swap-protocol-92a821095d8?source=collection_archive---------2-----------------------#2020-03-23">https://medium.com/coinmonks/understanding-swap-protocol-92a821095d8?source=collection_archive---------2-----------------------#2020-03-23</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/e194947d7c64d1f8e89f8c8e41dc71c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2R2TWST9QJ8R6UO2Iucfgw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">0x | Airswap</figcaption></figure><p id="c7c6" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">本文试图简化并理解Swap协议:一个用于交易以太币的对等协议白皮书。</p><h1 id="b509" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated"><strong class="ak">什么是互换？</strong></h1><p id="b999" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">在协议中互换，以实现ERC-20令牌的对等交易。交换协议本质上有助于找到对交换2个令牌感兴趣的双方，私下获得交换值，并最终交易令牌。</p><p id="64bd" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">它与现有的解决方案有何不同？</strong></p><p id="e629" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu"> <em class="lg">现有方案</em> </strong></p><p id="e559" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">现有的解决方案适用于区块链订单簿。</p><figure class="li lj lk ll fq iu fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/d4b6ee7d22b0d8d3c597de3249791d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*MKjubmN5SFEPI5QZ_OEFaA.jpeg"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Order Books</figcaption></figure><p id="6096" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">订单簿就像交易所的分类账，假设你在交易所买了IBM的股票，当订单进来时，它就被记在这样的分类账里</p><p id="7cc0" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="lg">买入，IBM，100，极限，99.5 </em></p><p id="4c9b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">以99.5的价格买入100股IBM股票。这是对购买订单的过度简化。在区块链这样的分散系统上维护这样一个系统的成本是巨大的，并且随着订单规模的增加，成比例地增加了性能限制。这也是区块链标准做法受到影响的原因之一，但我离题了。</p><p id="c988" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu"> <em class="lg">不同的做法</em> </strong></p><p id="d440" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">与此相反，Swap协议采用的方法是纯对等系统的方法，它支持交换和协商的发现。</p><p id="578f" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="lg">分散交易方式的优点:</em></p><ul class=""><li id="a96f" class="lm ln ht jh b ji jj jm jn jq lo ju lp jy lq kc lr ls lt lu dt translated">没有人工干预，因此没有滞后和没有许可批准过程。</li><li id="d892" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc lr ls lt lu dt translated">没有控制基金的规模，即没有提款货币的限制。</li><li id="5f41" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc lr ls lt lu dt translated">开源，没有冻结资金的风险。</li></ul></div><div class="ab cl ma mb hb mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hm hn ho hp hq"><p id="8774" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在继续理解交换协议之前，我们应该先了解一下该协议中使用的一些术语。</p><h1 id="249f" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">术语</h1><p id="aa68" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated"><strong class="jh hu">制定者:</strong>提供订单的一方。</p><p id="0485" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="lg">一个例子可以是一个想购买EOS以换取TRON的同行</em></p><p id="c709" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">接受者:完成订单的一方。</p><p id="fe08" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">一个想做相反事情的人是一个接受者。</p><blockquote class="mh mi mj"><p id="980f" class="jf jg lg jh b ji jj jk jl jm jn jo jp mk jr js jt ml jv jw jx mm jz ka kb kc hm dt translated"><em class="ht">注:制定者和接受者都是同行，所以任何一方都可以担任任何角色。</em></p></blockquote><h1 id="1831" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">协议:</h1><h2 id="6830" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated"><strong class="ak">步进器</strong></h2><p id="9196" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">负责索引和匹配不同制造商和接受者的服务。</p><h2 id="e989" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated">神谕</h2><p id="8b25" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">提供订单价格的链外服务</p><p id="81e9" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">合约:</strong>以太坊上的智能合约，接受者可以使用它来处理订单。</p><h1 id="6d6c" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">使用对等协议成功交易的步骤</h1><ol class=""><li id="d290" class="lm ln ht jh b ji lb jm lc jq nb ju nc jy nd kc ne ls lt lu dt translated">对等点发现(这一步是集中进行的)</li><li id="f94a" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated">价格发现</li><li id="d120" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated">执行</li><li id="3a30" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated">清算</li><li id="1348" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated">监护</li></ol><h2 id="6421" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated">对等发现</h2><p id="8413" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">总的来说，第一步是对等点发现，其中制造者提供他们愿意进行的交易，即用令牌A交换令牌b。此时，没有公开给出关于价格的信息，从而保持了想要操纵系统来改变价格的对等点的效率。</p><p id="f43a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在这一步中，收单人可以向庄家询问具体的交易。</p><h2 id="6b8d" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated">价格发现</h2><p id="ac9f" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">这一步包括对一个或多个制造商提供的交易感兴趣的接受者。</p><blockquote class="mh mi mj"><p id="bd81" class="jf jg lg jh b ji jj jk jl jm jn jo jp mk jr js jt ml jv jw jx mm jz ka kb kc hm dt translated">这可以利用Oracle协议(可选)。其中一方可以利用链外服务(第三方)来查询与另一方交换令牌的合理价格。</p></blockquote><p id="6d1a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">制造者可以继续并向接受者提供可以交易的价格信息。</p><h2 id="b6a2" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated">执行、清算和保管</h2><p id="68fa" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">最后3个步骤实际上被合并为一个部分，因为它涉及智能合约所做的工作。</p><p id="b3c1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">一旦制造商向收货人发出订单。接受者可以使用智能合约来执行该交易，智能合约有助于交换代币。</p><p id="33ca" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">该步骤包括预备步骤中的两个部分:</p><p id="3724" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">A.通过智能合同检查制造商给出的到期日期。</p><p id="5094" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">B.检查上一步中接受者和制定者的批准。</p><blockquote class="mh mi mj"><p id="748d" class="jf jg lg jh b ji jj jk jl jm jn jo jp mk jr js jt ml jv jw jx mm jz ka kb kc hm dt translated">注:这利用了ERC-20中可用的审批规则</p></blockquote><p id="a49e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">获得批准的智能合同可以提供清算(这利用了ERC-20中可用的“转移自”。</p><p id="42f8" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这为每一方提供了各自令牌的保管。</p></div><div class="ab cl ma mb hb mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hm hn ho hp hq"><p id="38f1" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">总结一下，互换协议有许多积极的方面，其中有一些是<strong class="jh hu">隐私</strong> ( <em class="lg">价格不公开，因此不太容易受到价格变化的影响</em>)，<strong class="jh hu">低交易成本</strong> ( <em class="lg">，因为它是点对点的，并且是使用智能合同完成的</em>)和<strong class="jh hu">开源</strong> ( <em class="lg">索引器和Oracle协议，因此给最终用户和实现者带来了自由和透明</em>)。</p><h2 id="4018" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated">接下来去哪里？</h2><p id="af8e" class="pw-post-body-paragraph jf jg ht jh b ji lb jk jl jm lc jo jp jq ld js jt ju le jw jx jy lf ka kb kc hm dt translated">下一个地方将是检查<strong class="jh hu">交换协议白皮书</strong>和各种分散的交换，如<strong class="jh hu"> Airswap </strong>、<strong class="jh hu"> 0x </strong>、<strong class="jh hu"> Kyber </strong>。除此之外，请参见<strong class="jh hu"> Loopring </strong> ( <em class="lg">使用自己的协议Loopring，但仍然是分散的</em>)。</p><h2 id="2ada" class="mn ke ht bd kf mo mp mq kj mr ms mt kn jq mu mv kr ju mw mx kv jy my mz kz na dt translated">参考</h2><ol class=""><li id="f57a" class="lm ln ht jh b ji lb jm lc jq nb ju nc jy nd kc ne ls lt lu dt translated"><a class="ae nf" href="https://swap.tech/whitepaper/" rel="noopener ugc nofollow" target="_blank">https://swap.tech/whitepaper/</a></li><li id="35e2" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://www.finextra.com/blogposting/15752/what-is-the-erc-20-standard-erc-20-ethereum-tokens" rel="noopener ugc nofollow" target="_blank">https://www . fine xtra . com/blog posting/15752/what-the-ERC-20-standard-ERC-20-ether eum-tokens</a></li><li id="f218" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://www.coinbase.com/price/eos" rel="noopener ugc nofollow" target="_blank">https://www.coinbase.com/price/eos</a></li><li id="1ad6" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://www.coinbase.com/price/tron" rel="noopener ugc nofollow" target="_blank">https://www.coinbase.com/price/tron</a></li><li id="8dcb" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://www.airswap.io/" rel="noopener ugc nofollow" target="_blank">https://www.airswap.io/</a></li><li id="6d57" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://0x.org/" rel="noopener ugc nofollow" target="_blank">https://0x.org/</a></li><li id="b222" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://loopring.org/" rel="noopener ugc nofollow" target="_blank">https://loopring.org/</a></li><li id="9ae9" class="lm ln ht jh b ji lv jm lw jq lx ju ly jy lz kc ne ls lt lu dt translated"><a class="ae nf" href="https://kyber.network/" rel="noopener ugc nofollow" target="_blank"> https://kyber.network/ </a></li></ol><blockquote class="ng"><p id="b376" class="nh ni ht bd nj nk nl nm nn no np kc ek translated"><a class="ae nf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="nr ns nt nu nv iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nq"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>