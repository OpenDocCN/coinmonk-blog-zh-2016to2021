<html>
<head>
<title>Part 1: Ethereum Blockchain on IBM Cloud :- Deploying Private Ethereum Blockchain on IBM Cloud Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第1部分:IBM Cloud上的以太坊区块链:-在IBM Cloud容器上部署私有以太坊区块链</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/part-1-ethereum-blockchain-on-ibm-cloud-deploying-private-ethereum-blockchain-on-ibm-cloud-9d241afd3887?source=collection_archive---------0-----------------------#2018-01-13">https://medium.com/coinmonks/part-1-ethereum-blockchain-on-ibm-cloud-deploying-private-ethereum-blockchain-on-ibm-cloud-9d241afd3887?source=collection_archive---------0-----------------------#2018-01-13</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/e860450a507653d4779f1231516ba474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cW0vzYcCSzRJEB9x93D50w.jpeg"/></div></div></figure><h1 id="3bfc" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated"><strong class="ak">什么是IBM云？</strong></h1><p id="f00f" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">IBM Cloud是IBM开发的云平台，基于Cloud Foundry，运行SoftLayer基础设施。它支持各种编程语言、数据库、服务以及集成的DevOps，使用IBM Container service在云上构建、运行、部署和管理应用程序。</p><h1 id="bc8c" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated"><strong class="ak">先决条件</strong></h1><h2 id="9b30" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">注册IBM Cloud免费试用</h2><blockquote class="ll lm ln"><p id="7490" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated">https://console.bluemix.net/registration/</p></blockquote><h2 id="f17a" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">安装IBM Cloud cli</h2><blockquote class="ll lm ln"><p id="5837" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated"><a class="ae lx" href="https://console.bluemix.net/docs/cli/reference/bluemix_cli/get_started.html" rel="noopener ugc nofollow" target="_blank">https://console . bluemix . net/docs/CLI/reference/bluemix _ CLI/get _ started . html</a></p></blockquote><h2 id="08bd" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">安装码头工人</h2><blockquote class="ll lm ln"><p id="7059" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated"><a class="ae lx" href="https://docs.docker.com/engine/installation/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/engine/installation/</a></p></blockquote><h2 id="8e9a" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">安装和设置Kubectl</h2><blockquote class="ll lm ln"><p id="7cee" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated"><a class="ae lx" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" rel="noopener ugc nofollow" target="_blank">https://kubernetes.io/docs/tasks/tools/install-kubectl/</a></p></blockquote><h2 id="1bf3" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">建立你的码头工人形象</h2><p id="4a76" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">克隆我的Git仓库</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="7958" class="kx jc ht md b fv mh mi l mj mk">&gt; git clone <a class="ae lx" href="https://github.com/SaifRehman/IBMCLOUD-Ethereum-Blockchain.git" rel="noopener ugc nofollow" target="_blank">https://github.com/SaifRehman/IBMCLOUD-Ethereum-Blockchain.git</a><br/>&gt; cd IBMCLOUD-Ethereum-Blockchain/</span></pre><p id="d7ca" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">从Dockerfile文件构建映像</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="8ae5" class="kx jc ht md b fv mh mi l mj mk">&gt; docker build -t myimage .</span></pre><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ml"><img src="../Images/a254570744b0ac999a5d0442421fd33b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHXGwWcTsL7qFYPgaQX1Rg.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">Will take some time to build the image :)</figcaption></figure><p id="7337" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">检查您的系统中是否有该图像</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="9231" class="kx jc ht md b fv mh mi l mj mk">&gt; docker images</span></pre><h2 id="823a" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">登录IBM Cloud &amp;创建一个新容器</h2><blockquote class="ll lm ln"><p id="be7d" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated"><a class="ae lx" href="https://console.bluemix.net" rel="noopener ugc nofollow" target="_blank">https://console.bluemix.net</a></p></blockquote><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ml"><img src="../Images/7b75dd51abadd4ab5d63ab245874d2a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VvI5CV3nmnMw4-EyB-8a4w.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">IBM Cloud</figcaption></figure><p id="6965" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">通过选择容器服务，在IBM Cloud上创建一个lite容器。不要忘记给你的容器一个名字:)让我们把它命名为“以太”</p><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mq"><img src="../Images/1395dbeffea1abaaa09fa15320ad3b79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xJNGLWpQ8lNPnCbPWAYbyg.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">Create a lite container for free. Wait for for some time it will take some time to deploy</figcaption></figure><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ml"><img src="../Images/4203a2a794e77ddf78459299def923c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_MJSUWnwqwDIfncCKGWgg.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">After deploying you will see something like this</figcaption></figure><h2 id="c654" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">设置您的容器</h2><p id="09b9" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">除非您的容器已经完全部署，否则不要遵循这些步骤！</p><p id="76e2" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">安装容器服务bx插件</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="2c10" class="kx jc ht md b fv mh mi l mj mk">&gt; bx plugin install container-service -r Bluemix</span></pre><p id="dbe7" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">登录您的IBM Cloud帐户。</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="d469" class="kx jc ht md b fv mh mi l mj mk">&gt; bx login -a https://api.ng.bluemix.net</span></pre><p id="fba5" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">为您的集群设置终端上下文</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="8a16" class="kx jc ht md b fv mh mi l mj mk">&gt; bx cs cluster-config ether</span></pre><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mr"><img src="../Images/ed73d39c21b468cd1dda36663f75df25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfXjJpMdH_qlSG9heL0y9w.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">You will see something like this, and configuration will be automatically downloaded</figcaption></figure><p id="b1de" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">通过复制粘贴产生的黄色代码行，导出环境变量以开始使用Kubernetes</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="f538" class="kx jc ht md b fv mh mi l mj mk">&gt; export KUBECONFIG=/Users/saifrehman/.bluemix/plugins/container-service/clusters/ether/kube-config-dal10-ether.yml</span></pre><h2 id="1a96" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">将映像从您的机器推送到IBM Cloud Private Registery</h2><p id="1ad2" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">标记图像以指向此注册表。选择本地映像、目标名称空间和目标存储库。</p><p id="ed90" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">安装容器注册表插件。</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="3e52" class="kx jc ht md b fv mh mi l mj mk">&gt; <!-- -->bx plugin install container-registry -r Bluemix</span></pre><p id="00c2" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">为您的第一个名称空间选择一个名称，并创建该名称空间。将此命名空间用于快速入门的其余部分。</p><blockquote class="ll lm ln"><p id="96ad" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated">bx cr名称空间-添加<my_namespace/></p></blockquote><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="5db2" class="kx jc ht md b fv mh mi l mj mk">&gt; bx cr namespace-add etherprivate</span></pre><p id="ee17" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">将您的本地Docker守护进程登录到IBM Cloud Container注册表中。</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="bef3" class="kx jc ht md b fv mh mi l mj mk">&gt; <!-- -->bx cr login</span></pre><blockquote class="ll lm ln"><p id="e124" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated">码头工人标签<local_image>registry.ng.bluemix.net/<my_namespaces>/<my_repo/></my_namespaces></local_image></p></blockquote><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="768c" class="kx jc ht md b fv mh mi l mj mk">&gt; docker tag myimage registry.ng.bluemix.net/<!-- -->etherprivate<!-- -->/myimage</span></pre><blockquote class="ll lm ln"><p id="c303" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated">码头工人推registry.ng.bluemix.net/<my_namespace>/<my_repo/></my_namespace></p></blockquote><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="62dd" class="kx jc ht md b fv mh mi l mj mk">&gt; docker push registry.ng.bluemix.net/<!-- -->etherprivate<!-- -->/myimage</span></pre><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ms"><img src="../Images/5aab3ac9b3f47d8c51544f3405dc803a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1SFhBxbm5R8SDziTM2jJVQ.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">This will push the image to IBM Cloud Private image registry. This will take some time :)</figcaption></figure><h2 id="fdeb" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">将您的映像部署到IBM Cloud上的Kubernetes集群</h2><p id="5494" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">设置service.deployment.yml文件</p><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ml"><img src="../Images/7cbeae73135af7e191b8d6bcb612ce66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mr6Zg5IJ7EUzMpTAyJZOsg.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">Configure your Kubernetes Cluster</figcaption></figure><p id="49f7" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">部署:)</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="1226" class="kx jc ht md b fv mh mi l mj mk">&gt; kubectl create -f service-deployment.yml</span></pre><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ml"><img src="../Images/451087d3875cbf131e864bd65efb7b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w09wVw0KxL5ysbtNdIzzCA.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">You can now access your application through the public IP</figcaption></figure><p id="0e9a" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">测试您是否可以访问</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="8913" class="kx jc ht md b fv mh mi l mj mk">curl http://169.47.252.115:30090</span></pre><p id="1b80" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">如果您没有看到任何输出，请不要担心，它不会返回任何内容:)</p><h2 id="a505" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">访问运行在IBM容器上的私有以太坊区块链</h2><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="6be6" class="kx jc ht md b fv mh mi l mj mk">&gt; geth attach http://169.47.252.115:30090</span></pre><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mt"><img src="../Images/9c453ce8d6fb1a243ff190f4733a7679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-hOgSIL2Lx9Ls7ywxrX_iQ.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">Cooool. You now have a ethereum blockchain spinning on IBM Cloud</figcaption></figure><h2 id="6b51" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated"><strong class="ak">我们开始开采乙醚吧！</strong></h2><p id="c84e" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">创建并解锁您的新帐户，开始采矿</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="d770" class="kx jc ht md b fv mh mi l mj mk">&gt; personal.newAccount('password')<br/>&gt; personal.unlockAccount(web3.eth.coinbase, "password", 15000)</span></pre><p id="b155" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">开始挖掘，以获得足够的以太网，让我们在下一个教程中部署智能合同:-)</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="1890" class="kx jc ht md b fv mh mi l mj mk">&gt; miner.start()</span></pre><p id="cea5" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">检查你的乙醚平衡</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="d809" class="kx jc ht md b fv mh mi l mj mk">&gt; web3.fromWei(eth.getBalance(eth.coinbase), "ether")</span></pre><p id="51a1" class="pw-post-body-paragraph jz ka ht kb b kc lp ke kf kg lq ki kj kk ls km kn ko lu kq kr ks lw ku kv kw hm dt translated">停止采矿</p><pre class="ly lz ma mb fq mc md me mf aw mg dt"><span id="de9e" class="kx jc ht md b fv mh mi l mj mk">&gt; miner.stop()</span></pre><figure class="ly lz ma mb fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mu"><img src="../Images/47818acf3e5bbb681fd618b9f72fa0f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CltAgb2O45W48TY0nxPkJg.png"/></div></div></figure><blockquote class="ll lm ln"><p id="9682" class="jz ka lo kb b kc lp ke kf kg lq ki kj lr ls km kn lt lu kq kr lv lw ku kv kw hm dt translated"><strong class="kb hu">祝贺您在IBM Cloud上成功设置了您的私有以太坊区块链！</strong></p></blockquote><h1 id="091a" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">阅读更多信息:</h1><ol class=""><li id="a805" class="mv mw ht kb b kc kd kg kh kk mx ko my ks mz kw na nb nc nd dt translated">关注我更多:【https://www.engineerability.com T2】</li></ol><blockquote class="ne"><p id="a264" class="nf ng ht bd nh ni nj nk nl nm nn kw ek translated"><a class="ae lx" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="np nq nr ns nt iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff no"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><h2 id="e341" class="kx jc ht bd jd ky kz la jh lb lc ld jl kk le lf jp ko lg lh jt ks li lj jx lk dt translated">然后</h2><p id="8281" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">与solidity合作，在IBM Cloud上部署您的第一个以太坊智能合约，并在Angular 4上创建Dapp前端</p><figure class="ly lz ma mb fq iu fe ff paragraph-image"><a href="https://medium.com/coinmonks/ethereum/home"><div class="fe ff nu"><img src="../Images/751097bdbbc3df364f98a3c0491fcde8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RU43MWDx31B3pKV1fLje9g.png"/></div></a><figcaption class="mm mn fg fe ff mo mp bd b be z ek">Click to know more about ethereum</figcaption></figure></div></div>    
</body>
</html>