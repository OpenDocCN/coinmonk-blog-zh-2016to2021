<html>
<head>
<title>Solidity’s ‘using’ keyword</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Solidity的“使用”关键字</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/soliditys-using-keyword-c05c18aaa088?source=collection_archive---------3-----------------------#2017-08-22">https://medium.com/coinmonks/soliditys-using-keyword-c05c18aaa088?source=collection_archive---------3-----------------------#2017-08-22</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="6580" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">有时候，人们会想知道自己喜欢的编程语言中某些特性背后的含义。Lukas Cremer ，Gerard和我是来自德国柏林的区块链开发者，我们挑战自己是否能解释solidity的关键字<code class="eh jq jr js jt b">using</code>的用法。</p><p id="2712" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh jq jr js jt b">using</code>用于在solidity合同中包含一个库。检查以下示例:</p><pre class="ju jv jw jx fq jy jt jz ka aw kb dt"><span id="1981" class="kc kd ht jt b fv ke kf l kg kh">pragma solidity ^0.4.15;</span><span id="a116" class="kc kd ht jt b fv ki kf l kg kh">library SomeLibrary  {</span><span id="77fd" class="kc kd ht jt b fv ki kf l kg kh"> function add(uint self, uint b) returns (uint) {<br/>   return self+b;<br/> }<br/>}</span><span id="f1c2" class="kc kd ht jt b fv ki kf l kg kh">contract SomeContract {<br/>    <br/>    using SomeLibrary for uint;<br/>    <br/>    function add3(uint number) returns (uint) {<br/>        return number.add(3);    <br/>    }<br/>}</span></pre><p id="e58e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">代码<code class="eh jq jr js jt b">using SomeLibrary for uint;</code>允许我们在这个例子中在<code class="eh jq jr js jt b">function add3</code>中使用<code class="eh jq jr js jt b">return number.add(3);</code>。它基本上是以下内容的语法糖:</p><pre class="ju jv jw jx fq jy jt jz ka aw kb dt"><span id="7ae7" class="kc kd ht jt b fv ke kf l kg kh">pragma solidity ^0.4.15;</span><span id="6551" class="kc kd ht jt b fv ki kf l kg kh">library SomeLibrary  {</span><span id="bce8" class="kc kd ht jt b fv ki kf l kg kh">function add(uint self, uint b) returns (uint) {<br/>   return self+b;<br/> }<br/>}</span><span id="18eb" class="kc kd ht jt b fv ki kf l kg kh">contract SomeContract {<br/>    <br/>    function add3(uint number) returns (uint) {<br/>        return SomeLibrary.add(number, 3);    <br/>    }<br/>}</span></pre><p id="026f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">正如我们所见，通过添加关键字<code class="eh jq jr js jt b">using</code>，我们可以给<code class="eh jq jr js jt b">SomeContract</code>中的任何<code class="eh jq jr js jt b">uint</code>提供库函数，并将<code class="eh jq jr js jt b">uint</code>作为该函数的第一个参数传递。</p><p id="cb7a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在让我们看另一个例子:</p><pre class="ju jv jw jx fq jy jt jz ka aw kb dt"><span id="ec23" class="kc kd ht jt b fv ke kf l kg kh">pragma solidity ^0.4.15;</span><span id="ef19" class="kc kd ht jt b fv ki kf l kg kh">library SomeOtherLibrary  {</span><span id="1592" class="kc kd ht jt b fv ki kf l kg kh">   function add(uint self, uint b) returns (uint) {<br/>     return self+b;<br/>   }</span><span id="98d9" class="kc kd ht jt b fv ki kf l kg kh">   function checkCondition(bool value) returns (bool)  {<br/>      return value;<br/>   }</span><span id="d8f6" class="kc kd ht jt b fv ki kf l kg kh">}</span><span id="c456" class="kc kd ht jt b fv ki kf l kg kh">contract SomeContract {<br/>    using SomeOtherLibrary for *;</span><span id="6d8a" class="kc kd ht jt b fv ki kf l kg kh">function add3(uint number) returns (uint) {<br/>        return number.add(3);    <br/>    }<br/>    <br/>    function checkForTruthy(bool checker) returns (bool) {<br/>        return checker.checkCondition();    <br/>    }<br/>}</span></pre><p id="c3cd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这里的<code class="eh jq jr js jt b">*</code>允许在契约中访问来自<code class="eh jq jr js jt b">SomeOtherLibrary</code>的任何类型。</p><p id="91da" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们意识到的另一件事是，这也适用于<code class="eh jq jr js jt b">array</code>和<code class="eh jq jr js jt b">struct</code>类型，但是需要声明<code class="eh jq jr js jt b">storage</code>关键字。但这是另一篇博文的主题。</p><p id="1aa0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">感谢Lukas Cremer和Gerard Baecker对这篇博文的帮助。</p><blockquote class="kj"><p id="d961" class="kk kl ht bd km kn ko kp kq kr ks jn ek translated"><a class="ae kt" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="kv kw kx ky kz la fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ku"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="ju jv jw jx fq la fe ff paragraph-image"><a href="http://bit.ly/2G71Sp7"><div class="fe ff ld"><img src="../Images/449450761cd76f44f9ae574333f9e9af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fKX2mtg7p1lOs7JmosPLsA.png"/></div></a></figure></div></div>    
</body>
</html>