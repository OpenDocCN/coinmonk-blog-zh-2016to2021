<html>
<head>
<title>ZoKrates — zkSNARKs On Ethereum (made easy)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊上的zok rates-zkSNARKs(变得简单)</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/zokrates-zksnarks-on-ethereum-made-easy-8022300f8ba6?source=collection_archive---------1-----------------------#2019-10-03">https://medium.com/coinmonks/zokrates-zksnarks-on-ethereum-made-easy-8022300f8ba6?source=collection_archive---------1-----------------------#2019-10-03</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7200" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ZkSNARKs(零知识简洁的非交互式知识论证)或有时被一些开发人员称为“黑魔法”通常被认为很难进入。</p><p id="0e87" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果我们告诉你，有一种工具可以让这种流动像编写智能合同一样简单，会怎么样？</p><p id="e44a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">振作起来，ZoKrates作为一个混音插件来了。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/b219428e527a1f6993dce41cfa3cc6af.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/0*vkzeUiZ0L10WD5ii"/></div></figure><p id="e093" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">有关ZoKrates的文档，请打开<a class="ae jw" href="https://zokrates.github.io/" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="1ff3" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">从零到英雄(zkSNARKs版)</h1><p id="de5b" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">我们将尝试一步一步地指导您完成编译、设置、导出验证器、计算见证和生成证明的过程。</p><p id="3023" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们走吧！</p><p id="a805" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">首先，在隐身模式下打开<a class="ae jw" href="https://remix.ethereum.org" rel="noopener ugc nofollow" target="_blank">混音IDE </a>。</p><p id="88c1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">导航到插件管理器并激活以下插件:</p><ul class=""><li id="c3eb" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp dt translated">佐克拉特</li><li id="80df" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">可靠性编译器</li><li id="a6c8" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">部署和运行事务</li></ul><p id="89a9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后进入ZoKrates插件，点击<em class="lv">示例</em>超链接，接受所需的权限。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff lw"><img src="../Images/d2a2107d8172e49f2d7ca4ddd398b9fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YG8q50OUwYi7hEVb"/></div></div></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/1c0ca8c4ddf2c809627714f61589c49a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/0*Nn0MjE5j4pH_QO_P"/></div></figure><p id="1eba" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">根据自己的意愿更新代码(查看ZoKrates官方文档中关于<a class="ae jw" href="https://zokrates.github.io/" rel="noopener ugc nofollow" target="_blank">链接</a>的语言参考)。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="0b73" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">汇编</h1><p id="9927" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">一旦准备好，点击<strong class="is hu">编译</strong>编译你的程序。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mc"><img src="../Images/ddcf9c2c59b1fa7118bc4c28fa5d6949.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/0*aSroFW9iatPOzfXX"/></div></div></figure><p id="8d63" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果没有发生错误，您应该会看到一条编译成功的消息。</p><p id="5d68" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在编译面板的右侧，可以选择<em class="lv">复制字节码</em>或者<em class="lv">下载</em>编译输出。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="5165" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">设置</h1><p id="dd98" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">下一步是<strong class="is hu">设置</strong>。点击设置展开，然后点击<em class="lv">运行设置</em>。</p><p id="7547" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果安装成功，您将看到此消息。点击<em class="lv">下载密钥</em>按钮，可以下载<em class="lv">验证</em>和<em class="lv">验证</em>密钥。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff md"><img src="../Images/56e85cff55b194dbbbd97424f32ad962.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/0*FtekwO1kvDXRl-3P"/></div></figure></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="eb9d" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">出口验证器</h1><p id="b24a" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">我们现在可以进入<em class="lv">出口验证器</em>步骤。</p><p id="d1d7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">默认情况下，使用ABI的版本1。在导出验证器之前，您可以通过勾选<em class="lv">使用ABI v2 </em>复选框来使用版本2。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff me"><img src="../Images/9861e346f85ce7dc1858c4285bff214a.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/0*EflLdcVgJnSrEsVm"/></div></figure><p id="13d6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果一切顺利，你可以在<em class="lv"> Remix编辑器</em>中打开生成的验证器或者<em class="lv">下载</em>验证器。通过点击Remix编辑器中的<em class="lv">打开</em>按钮，插件将在Remix编辑器中创建并打开<em class="lv"> verifier.sol </em>文件。验证器的编译和部署将在后面进一步解释。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="2e13" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">编译并部署一个验证器</h1><p id="ba9f" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">现在让我们编译并部署一个verifier.sol。</p><p id="f5b1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">首先，进入<em class="lv"> Solidity编译器</em>插件，点击编译<em class="lv"> verifier.sol </em>。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mf"><img src="../Images/56776f787440f27a97aff80410a0e4ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*htaSaDGLXWuYPZ47"/></div></div></figure><p id="950b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">完成后，进入<em class="lv">部署&amp;运行事务</em>插件，从下拉列表中选择<em class="lv">验证器—浏览器/验证器. sol </em>，然后点击部署。(您可以将它部署在JavaScript VM内部或任何其他testnet或mainnet上。要小心，因为这些是大合同，会消耗很多汽油。)</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mf"><img src="../Images/2845a070dbda8a11bf52a43c05b96c11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9kYyVUf5U_0ybl7F"/></div></div></figure><p id="87d7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦我们完成了这个，让我们回到ZoKrates中的<em class="lv">计算见证</em>和<em class="lv">生成证明</em>部分。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="d9cf" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">计算见证</h1><p id="a857" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">一个<em class="lv">计算见证</em>会要求你输入参数。填写完字段后，点击<em class="lv">计算</em>按钮生成见证。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mg"><img src="../Images/1495836c49058e7fb51cf9fa821c77cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/0*bMxniB9_5moANQ9y"/></div></div></figure><p id="4016" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果执行时没有错误，将会出现一条成功消息。您可以通过在Remix编辑器中打开见证来检查它。如果您愿意，也可以下载见证。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="6f2c" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">生成证明</h1><p id="92ee" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">最后一步是<em class="lv">生成凭证</em>。点击<em class="lv">生成</em>。应该会显示如下所示的输出。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mh"><img src="../Images/b8da7e426f78daff3a0d03fa1e286116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TF8fIIsZc-sHwhlq"/></div></div></figure><p id="93bb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果您还记得之前的内容，根据我们在导出验证器步骤中使用的ABI版本(ABI v1与ABI v2)，验证器中预期的证明格式是不同的。为了便于使用，您可以复制<em class="lv"> remix兼容参数</em>，这是我们在下一步中使用的正确格式的证明。</p><p id="fdcb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可以<em class="lv">复制输出</em>，<em class="lv">在混音编辑器</em>中打开或者<em class="lv">下载</em>就可以了。</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="e9db" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">核实</h1><p id="9ac0" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hm dt translated">现在，要验证证据，请转到<em class="lv">部署&amp;运行事务</em>插件，并将remix兼容参数粘贴到<em class="lv"> verifyTx </em>字段中，然后单击transact按钮。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff mi"><img src="../Images/ac04911722872115dec79fe792774433.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/0*nf890g_KjIaI8U1n"/></div></figure><p id="e347" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">事务执行完成后，展开日志并检查<em class="lv">解码输出</em>部分。它应该显示<em class="lv"> "0": "bool: r true" </em>。这意味着交易被成功验证。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mj"><img src="../Images/294dab6a3ab3b04e412af6c256c92bed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xHBXu3iEpGmqiRuY"/></div></div></figure><p id="eac4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">基本就是这样。我们成功了！现在你是佐克拉特忍者了。欢迎加入俱乐部。最后看来zkSNARKs也没那么难，你不同意吗？；)</p></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="ed2e" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">后续步骤</h1><ul class=""><li id="e45f" class="lh li ht is b it lc ix ld jb mk jf ml jj mm jn lm ln lo lp dt translated">通过在浏览器外运行和/或优化和升级ZoKrates本身来提高更复杂程序的性能。</li></ul></div><div class="ab cl jx jy hb jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hm hn ho hp hq"><h1 id="bb5f" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">额外资源</h1><ul class=""><li id="27ed" class="lh li ht is b it lc ix ld jb mk jf ml jj mm jn lm ln lo lp dt translated"><a class="ae jw" href="https://zokrates.github.io/sha256example.html" rel="noopener ugc nofollow" target="_blank">https://zokrates.github.io/sha256example.html</a>(原像证明)——如果你对更深入的解释感兴趣</li><li id="b0cf" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">https://z.cash/technology/zksnarks/</li><li id="4702" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">https://www.youtube.com/results?search _ query = bar+Ilan+winter+school+cryptography+Michael+walfish+snarks(Youtube视频)</li><li id="beb7" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated"><a class="ae jw" href="http://people.csail.mit.edu/silvio/Selected%20Scientific%20Papers/Proof%20Systems/The_Knowledge_Complexity_Of_Interactive_Proof_Systems.pdf" rel="noopener ugc nofollow" target="_blank">http://people . csail . MIT . edu/Silvio/Selected % 20 scientific % 20 papers/Proof % 20 systems/The _ Knowledge _ composition _ Of _ Interactive _ Proof _ systems . pdf</a></li><li id="5eeb" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated"><a class="ae jw" href="https://eprint.iacr.org/2016/260" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2016/260</a></li></ul><p id="1063" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">感谢<a class="ae jw" href="https://github.com/dark64" rel="noopener ugc nofollow" target="_blank"> <em class="lv">玄机64</em></a><em class="lv"/><a class="ae jw" href="https://twitter.com/Yann300" rel="noopener ugc nofollow" target="_blank"><em class="lv">颜300</em></a><em class="lv"/><a class="ae jw" href="https://github.com/Schaeff" rel="noopener ugc nofollow" target="_blank">和<em class="lv">沙夫</em></a><em class="lv">T21的帮助。</em></p><figure class="jp jq jr js fq jt fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff mn"><img src="../Images/673b3528e0b341cca62769c9baa632cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcTJUjFtXf1QtlWzlS04XQ.jpeg"/></div></a></figure><blockquote class="mo"><p id="ff25" class="mp mq ht bd mr ms mt mu mv mw mx jn ek translated"><a class="ae jw" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获取最佳软件交易</a></p></blockquote><figure class="mz na nb nc nd jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff my"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>