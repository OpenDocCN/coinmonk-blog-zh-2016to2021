<html>
<head>
<title>Let’s Play — Capture the Ether : Warmup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们来玩—捕捉以太:热身</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/lets-play-capture-the-ether-warmup-68a5fc38e670?source=collection_archive---------2-----------------------#2018-04-14">https://medium.com/coinmonks/lets-play-capture-the-ether-warmup-68a5fc38e670?source=collection_archive---------2-----------------------#2018-04-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/5fd9f3d47c08ec553369c4ff56c24862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vb4OZmcEooyqvZx9NZ1fvA.png"/></div></div></figure><p id="d093" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这是我在<a class="ae jz" href="https://capturetheether.com/" rel="noopener ugc nofollow" target="_blank">捕捉以太</a>的旅程中的一系列故事，在这个游戏中，我们为了好玩而破解以太坊实体代码，并学习智能合约安全性。</p><p id="4d32" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">目录</strong></p><ul class=""><li id="0ec4" class="ka kb ht jd b je jf ji jj jm kc jq kd ju ke jy kf kg kh ki dt translated">彩票:智能合约中的随机数。<a class="ae jz" rel="noopener" href="/@saurfang/lets-play-capture-the-ether-lotteries-part-i-4e0b40687efd">第一部分</a>、<a class="ae jz" rel="noopener" href="/@saurfang/lets-play-capture-the-ether-lotteries-part-ii-478365775a34">第二部分</a></li><li id="0baf" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy kf kg kh ki dt translated">数学:如何在扎实中安全地做数学？</li><li id="16b4" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy kf kg kh ki dt translated">帐户:帐户所有权和安全性。</li><li id="5492" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy kf kg kh ki dt translated">杂:其他一切。</li></ul><h1 id="58e6" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">什么是捕捉以太？</h1><p id="66df" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">在<em class="lr">夺取以太</em>中，我们通过完成挑战赢得分数。每个挑战都有一个智能合同来部署，目标可以通过利用合同进入特定状态来完成。挑战按类别分组，集中于智能合约中安全漏洞的特定领域。</p><h1 id="3920" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">为什么是这个系列？</h1><p id="0c6c" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">我已经通过<a class="ae jz" href="https://cryptozombies.io" rel="noopener ugc nofollow" target="_blank"> CryptoZombies </a>学会了我的稳固技能，并且在几次黑客马拉松中用<a class="ae jz" href="http://truffleframework.com/" rel="noopener ugc nofollow" target="_blank"> Truffle </a>框架写了一些智能契约。在撰写本文时，我已经完成了彩票部分的一半，并发现它是一个引人入胜的教育资源。</p><p id="77f6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我还没有想出如何应对挑战的想法，但我有很多痛苦的时刻来找出实现我的方法所需的工具，并调试我的智能合同。</p><p id="c113" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这一系列文章中，我将重点关注<strong class="jd hu">实用的智能合约编程和我的艰难学习的错误</strong>。我将展示<strong class="jd hu">工具和IDE/CLI设置，</strong>解释每个问题的<strong class="jd hu"/><strong class="jd hu"/>，<strong class="jd hu"/><strong class="jd hu"/>向您展示如何在实践中<strong class="jd hu">实现它们</strong>。它假设你对以太坊的工作原理有基本的了解，我强烈建议你先通过<a class="ae jz" href="https://cryptozombies.io" rel="noopener ugc nofollow" target="_blank">隐型僵尸</a>来学习坚固的基础。出于篇幅的考虑，我不会详细解释概念，但会提供必要的链接。</p></div><div class="ab cl ls lt hb lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hm hn ho hp hq"><p id="762f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在我们开始之前，我应该提一下，<em class="lr">捕获以太</em>已经提供了一个极好的<a class="ae jz" href="https://capturetheether.com/resources" rel="noopener ugc nofollow" target="_blank">资源</a>让你开始。热身挑战也是为了让你准备好你需要的工具。我将重点关注在我的经历中给我带来麻烦的缺失细节。</p><h1 id="d503" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">部署合同</h1><p id="dd06" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">按照指示，你首先需要<a class="ae jz" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank"> Metamask </a>，一个浏览器内以太坊钱包。安装后，您可以按照提示完成安装。现在我们需要<code class="eh lz ma mb mc b">Switch to Ropsten Test Network</code>。我将在一个勇敢的浏览器中演示使用Metamask的测试版。</p><figure class="me mf mg mh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff md"><img src="../Images/4be26f4e6e1027c9c17b720f90968c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fzvOfqGdHqzrwXAQCCVROw.png"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Metamask Chrome Extension Standalone Page — Select a network</figcaption></figure><p id="1cb4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">可以通过点击右上角的网络选择器来选择网络。<code class="eh lz ma mb mc b">Main Ethereum Network</code>是生产网络，在该网络中，乙醚和(ERC20)令牌具有实际价值，可以交易并用于操作智能合约。</p><p id="f31c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">其他测试网络用于开发和测试智能合约。它们运行与主网络中相同的<a class="ae jz" href="https://github.com/pirapira/awesome-ethereum-virtual-machine" rel="noopener ugc nofollow" target="_blank"> EVM </a>，但有些使用更高效(也更不安全)的一致性算法，如<a class="ae jz" href="https://github.com/kovan-testnet/proposal" rel="noopener ugc nofollow" target="_blank"> PoA </a>。测试网络上的醚可以类似地开采，但是<strong class="jd hu">水龙头也可用于获取测试用的自由醚</strong>。在<em class="lr">夺取以太</em>中，你需要<strong class="jd hu">比两个以太</strong>多一点才能玩游戏(你需要两个以太来完成智能契约交互，然后再多一些来交气。)</p><p id="66aa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下是一些水龙头:</p><ol class=""><li id="31b3" class="ka kb ht jd b je jf ji jj jm kc jq kd ju ke jy mm kg kh ki dt translated"><a class="ae jz" href="https://faucet.metamask.io" rel="noopener ugc nofollow" target="_blank">https://水龙头. metamask.io </a>每个账户每天1乙醚</li><li id="c772" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated"><a class="ae jz" href="https://faucet.bitfwd.xyz/?ref=producthunt" rel="noopener ugc nofollow" target="_blank">https://faucet.bitfwd.xyz/</a>每天每账户1乙醚</li><li id="e1d3" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated"><a class="ae jz" href="https://faucet.kyber.network/" rel="noopener ugc nofollow" target="_blank">https://水龙头. kyber.network/ </a>每个账户1个乙醚</li><li id="d770" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated"><a class="ae jz" href="http://faucet.ropsten.be:3001/" rel="noopener ugc nofollow" target="_blank">http://faucet.ropsten.be:3001/</a>1乙醚每滴(队列基础)</li></ol><p id="1b43" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我建议你先获得3个乙醚，只有当你在挑战中出错时需要它们时再回来。</p><p id="4dee" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">测试网络中的以太没有真正的价值，所以当你玩游戏时，请确保你在测试网络上。你的私钥和所有以太坊地址在miannet和testnet中的工作是一样的。<strong class="jd hu">不要把你的主机发送到testnet账户，否则你会失去它们。</strong> <strong class="jd hu">为了万无一失，不要在mainnet和testnet之间共享私钥/种子/帐号。</strong></p><figure class="me mf mg mh fq iu fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/8478ecaf6a0f4bbc2f84eea1efc9cbc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*G7qzfZWir2SkhcqAVTvIHA.png"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Metamask Dropdown — Confirm a transaction</figcaption></figure><p id="4db4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这样，点击<code class="eh lz ma mb mc b">Begin Challenge</code>，并确认。将部署您自己的以下智能合同副本。再次单击“检查答案”完成挑战。</p><pre class="me mf mg mh fq mo mc mp mq aw mr dt"><span id="9deb" class="ms kp ht mc b fv mt mu l mv mw">pragma solidity ^0.4.21;</span><span id="3bb1" class="ms kp ht mc b fv mx mu l mv mw">contract DeployChallenge {       <br/>  // This tells the CaptureTheFlag contract that the challenge is complete.</span><span id="e725" class="ms kp ht mc b fv mx mu l mv mw">  function isComplete()<br/>  public <br/>  pure<br/>  returns (bool) {<br/>   return true;<br/>  }<br/>}</span></pre><p id="58a5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">请注意，捕获以太依赖于调用<code class="eh lz ma mb mc b">isCompelete</code>函数来确定您是否已经实现了目标。此外，<strong class="jd hu">因为你用你的以太坊账户部署了这个智能合约代码的副本，所以Capture the Ether可以不可信地将成就链接到你的以太坊地址。</strong></p><h1 id="061c" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">叫我</h1><p id="a179" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">这个问题要求我们调用已部署契约上的函数，即向智能契约地址发送一个包含函数接口和参数的事务。可以参考<a class="ae jz" href="http://ethdocs.org/en/latest/contracts-and-transactions/accessing-contracts-and-transactions.html#interacting-with-smart-contracts" rel="noopener ugc nofollow" target="_blank">与智能合约</a>互动，了解引擎盖下发生的细节。</p><p id="b0b6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">最核心的方法是我们计算出有效载荷数据，通过CLI运行，并直接与本地节点通信。在这里，我将演示两种直接与元掩码交互的最简单的方法。</p><h2 id="1e8d" class="ms kp ht bd kq my mz na ku nb nc nd ky jm ne nf lc jq ng nh lg ju ni nj lk nk dt translated">带有web3.js的Javascript控制台</h2><p id="34ff" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">Web3.js是一个Javascript库，通过JSON-RPC接口与以太坊节点通信。你可以在Github 网站上阅读更多API文档。</p><p id="be68" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Metmask将web3.js注入到浏览器中每个正在运行的网页中。这有一个很棒的效果，你可以直接与以太坊交互，而不用担心管理私钥和节点连接。事实上，让我们通过命令/Ctrl+Option+J<strong class="jd hu">打开控制台并运行下面的代码来尝试一下:</strong></p><figure class="me mf mg mh fq iu"><div class="bz el l di"><div class="nl nm l"/></div></figure><p id="a25c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">🎉您应该看到您的默认元掩码地址及其余额。您可能会发现语法相当笨拙，因为一切都是异步的和基于回调的。好消息是<strong class="jd hu"> web3.js 1.x将返回异步函数的承诺，因此您可以链接承诺或使用异步/等待语法</strong>。(我们将在下一篇文章中用Truffle编写web3.js代码时讨论这个问题。)可以在Github上跟踪web3.js 1.x支持的<a class="ae jz" href="https://github.com/MetaMask/metamask-extension/issues/3642" rel="noopener ugc nofollow" target="_blank"> Metamask进度。</a></p><p id="84e7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了与契约进行交互，web3.js依赖于<strong class="jd hu"/><a class="ae jz" href="https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">ABI</strong></a><strong class="jd hu">(应用程序二进制接口)，它指定了哪些函数可用以及每个函数接受哪些参数。</strong></p><p id="6487" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">从源代码中获取ABI最简单的方法是使用solidity编译器。如果你不关心solidity编译器和web3.js的细节，请随意跳到下一小节，它介绍了一个在线IDE Remix。</p><p id="1294" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们将使用Mac上二进制Solidity包中的<code class="eh lz ma mb mc b">solc</code>,你可以在文档中找到许多其他编译器<a class="ae jz" href="http://solidity.readthedocs.io/en/v0.4.21/installing-solidity.html" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="me mf mg mh fq iu"><div class="bz el l di"><div class="nl nm l"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Compile Solidity Contract with solc</figcaption></figure><p id="a5b3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们可以在js控制台用web3.js加载这个ABI，发出一个事务调用契约中的<code class="eh lz ma mb mc b">callme</code>函数:</p><figure class="me mf mg mh fq iu"><div class="bz el l di"><div class="nl nm l"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Get instance of deployed smart contract and send transaction to `callme`</figcaption></figure><p id="1579" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Metamask应该会弹出，要求您授权最后一行触发的事务。确认后，您可以继续检查您的解决方案。🎉+100分。</p><h2 id="5d4a" class="ms kp ht bd kq my mz na ku nb nc nd ky jm ne nf lc jq ng nh lg ju ni nj lk nk dt translated">再搅拌</h2><p id="8ee1" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">Remix 是一个可靠的浏览器内置集成开发环境。您可以使用友好的GUI编写、编译智能合约并与之交互。</p><p id="3bd8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们点击左上角的+按钮创建一个新文件，并将其命名为<code class="eh lz ma mb mc b">CallMeChallenge.sol</code>。然后，我们将合同代码放入编辑器中:</p><figure class="me mf mg mh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nn"><img src="../Images/140b1895f39a066f1dac5309ee5f8068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gb_yu4owFPxlJXgdqJ6Xng.png"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Remix in-browser Solidity IDE</figcaption></figure><ol class=""><li id="e9c3" class="ka kb ht jd b je jf ji jj jm kc jq kd ju ke jy mm kg kh ki dt translated">创建文件</li><li id="04c6" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">复制并粘贴实体代码</li><li id="5c93" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">检查<code class="eh lz ma mb mc b">Auto Compile</code>,它会在你的代码改变时编译你的代码</li><li id="af33" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">绿色框庆祝你的代码编译与检测合同名称:<code class="eh lz ma mb mc b">CallMeChallenge</code></li></ol><figure class="me mf mg mh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff no"><img src="../Images/45115050c42eb059790264445d7f1cc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nbuWmWf1xQzFiaWac0KXBQ.png"/></div></div></figure><p id="95ed" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在我们可以与以太坊区块链上的合同进行交互:</p><ol class=""><li id="7258" class="ka kb ht jd b je jf ji jj jm kc jq kd ju ke jy mm kg kh ki dt translated">点击<code class="eh lz ma mb mc b">Run</code>选项卡</li><li id="e751" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">选择<code class="eh lz ma mb mc b">Injected Web3</code>并确认您在右侧的<code class="eh lz ma mb mc b">Ropsten</code>测试网络上。还有一些其他可用的环境。简单地说，这些是你可以与之互动的可能的区块链(提供者)。<code class="eh lz ma mb mc b">Injected Web3</code>表示web3.js被注入到浏览器页面中，在本例中，是通过元掩码注入的。</li><li id="2c7f" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">验证您是否在指定的账户上，并且您的余额是否正确反映。如果您在Metamask中创建了多个帐户，您将可以从中进行选择。</li><li id="933f" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">此处将列出当前文件中定义的合同列表。在这种情况下，我们只有<code class="eh lz ma mb mc b">CallMeChallenge</code></li><li id="77f8" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">您可以选择<code class="eh lz ma mb mc b">Create</code>新合同或<code class="eh lz ma mb mc b">Load</code>已部署的现有合同。在这种情况下，<strong class="jd hu">我们在挑战</strong>中输入我们部署的契约的地址。</li><li id="e2ba" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">下面应该显示一个合同实例。这类似于我们在上面运行<code class="eh lz ma mb mc b">CallMeChallenge.at('&lt;address&gt;')</code>时发生的情况。</li><li id="b9e8" class="ka kb ht jd b je kj ji kk jm kl jq km ju kn jy mm kg kh ki dt translated">有两个按钮<code class="eh lz ma mb mc b">callme</code>和<code class="eh lz ma mb mc b">isComplete</code>，这是合同的两个公共功能。<strong class="jd hu">注意不同的颜色</strong>,因为<code class="eh lz ma mb mc b">callme</code>是一个<strong class="jd hu">状态修改函数</strong>,只能在您要支付汽油的交易中调用。另一方面，<code class="eh lz ma mb mc b">isComplete</code>是一个<strong class="jd hu">只读函数</strong>可以被调用而不需要付出任何代价。(注意，如果在事务中调用只读函数，您仍然需要支付汽油费。)</li></ol><p id="c4cc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">点击<code class="eh lz ma mb mc b">isComplete</code>，如果你已经完成了挑战，你会立即看到右边的<code class="eh lz ma mb mc b">0: bool: false</code>。现在点击<code class="eh lz ma mb mc b">callme</code>，Metamask应该要求授权一个交易。交易状态将在下面的控制台中更新。一旦事务被挖掘，您可以再次单击<code class="eh lz ma mb mc b">isComplete</code>，现在它应该显示<code class="eh lz ma mb mc b">0: bool: true</code>。恭喜你+100分！</p><h1 id="429e" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">选择昵称</h1><p id="f62e" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">这个对你来说应该很容易，因为你知道如何使用混音。唯一棘手的部分是，现在我们需要用一个参数调用函数。</p><p id="3023" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">继续将代码复制并粘贴到一个新文件中。从地址<code class="eh lz ma mb mc b">0x71c46Ed333C35e4E6c62D32dc7C8F00D125b4fee</code>加载合同。在<code class="eh lz ma mb mc b">setNickname</code>功能的右边填写您喜欢的昵称。</p><p id="da1a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">你需要用双引号把</strong> <code class="eh lz ma mb mc b"><strong class="jd hu">string/bytes</strong></code> <strong class="jd hu">的参数括起来。Remix使用空格来分隔参数。</strong></p><p id="075e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">人生最轻松的200分！😬</p><p id="52b6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了完整起见，您可以使用web3.js与此契约进行交互，如上所示:</p><figure class="me mf mg mh fq iu"><div class="bz el l di"><div class="nl nm l"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Get instance of deployed smart contract and send transaction to `setNickname`</figcaption></figure><h1 id="98d9" class="ko kp ht bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">结论</h1><p id="80a8" class="pw-post-body-paragraph jb jc ht jd b je lm jg jh ji ln jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated">在这篇文章中，你已经学会了使用Metamask在Ropsten测试网络上创建自己的Ethereum帐户，在Metamask注入的Javascript控制台中使用web3.js，并通过GUI使用代码或Remix调用使用web3.js的合同。</p><p id="3525" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下一次，我们将深入到彩票部分，在那里我们将发现智能合约中常见且有趣的安全漏洞。我们还将看看如何使用<a class="ae jz" href="http://ethfiddle.com" rel="noopener ugc nofollow" target="_blank"> EthFiddle </a>在浏览器中编写和测试Solidity代码，而无需支付任何费用。</p></div><div class="ab cl ls lt hb lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hm hn ho hp hq"><blockquote class="np nq nr"><p id="9789" class="jb jc lr jd b je jf jg jh ji jj jk jl ns jn jo jp nt jr js jt nu jv jw jx jy hm dt translated">《捕捉以太》由<a class="ae jz" href="https://twitter.com/smarx" rel="noopener ugc nofollow" target="_blank"> @smarx </a>为您带来，他在<a class="ae jz" href="https://programtheblockchain.com/" rel="noopener ugc nofollow" target="_blank">项目区块链</a>撰写了关于智能合约开发的博客。</p></blockquote><p id="9086" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我不隶属于游戏本身和背后的牛逼公司。所表达的观点仅是我个人的观点，并不代表我过去、现在和将来所隶属的任何实体的观点或意见。</p><figure class="me mf mg mh fq iu"><div class="bz el l di"><div class="nv nm l"/></div></figure></div></div>    
</body>
</html>