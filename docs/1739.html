<html>
<head>
<title>ewasm: Web Assembly for Ethereum</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ewasm:以太坊的Web程序集</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ewasm-web-assembly-for-ethereum-54719ece2042?source=collection_archive---------1-----------------------#2018-11-01">https://medium.com/coinmonks/ewasm-web-assembly-for-ethereum-54719ece2042?source=collection_archive---------1-----------------------#2018-11-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="9061" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">网络组装<em class="jo">又名</em>。wasm 在设计任何新的系统级的东西时总是优先考虑。这是为基于堆栈的虚拟机设计的二进制指令格式。或者，</p><p id="fc2c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可以把它看作一个"<em class="jo">桥梁，在这里你可以用C/C++/Rust、Go或者除了JavaScript之外的任何其他语言编写代码，然后在你的浏览器上运行它。但是它不是JavaScript" </em>(将在下一篇文章中讨论)的替代品</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/6cca83e88ac934457854db369b4e8fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YklMWS_-TQm6lD98wCuCFw.jpeg"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Imge credit: <a class="ae kf" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/</a></figcaption></figure><p id="9cc5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一般来说，整个过程分两步进行。首先，C/C++/Rust/Go的所有代码都变成了名为<code class="eh kg kh ki kj b">.wat</code>(<strong class="is hu">W</strong>EB<strong class="is hu">A</strong>assembly<strong class="is hu">T</strong>ext)的文本格式</p><p id="b070" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在下一步中，它被转换为<code class="eh kg kh ki kj b">.wasm</code>二进制格式，这是一种较低级的格式，旨在供wasm虚拟机直接使用。</p><p id="6d44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">它看起来怎么样:</p><p id="91eb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我正在写一个简单的C代码，将用于转换成。wasm文件。</p><pre class="jq jr js jt fq kk kj kl km aw kn dt"><span id="6a38" class="ko kp ht kj b fv kq kr l ks kt">int add42(int num) {<br/>  return num + 42;<br/>}</span></pre><p id="5743" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在,<code class="eh kg kh ki kj b">.wat</code>文件的下一步看起来是这样的:</p><pre class="jq jr js jt fq kk kj kl km aw kn dt"><span id="425a" class="ko kp ht kj b fv kq kr l ks kt">(module<br/> (table 0 anyfunc)<br/> (memory $0 1)<br/> (export "memory" (memory $0))<br/> (export "add42" (func $add42))<br/> (func $add42 (; 0 ;) (param $0 i32) (result i32)<br/>  (i32.add<br/>   (get_local $0)<br/>   (i32.const 42)<br/>  )<br/> )<br/>)</span></pre><p id="64b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这将给出“二进制”格式的代码，它以十六进制表示法显示，但可以很容易地转换成二进制表示法。</p><pre class="jq jr js jt fq kk kj kl km aw kn dt"><span id="0c18" class="ko kp ht kj b fv kq kr l ks kt">00 61 73 6D 0D 00 00 00 01 86 80 80 80 00 01 60<br/>01 7F 01 7F 03 82 80 80 80 00 01 00 04 84 80 80<br/>80 00 01 70 00 00 05 83 80 80 80 00 01 00 01 06<br/>81 80 80 80 00 00 07 96 80 80 80 00 02 06 6D 65<br/>6D 6F 72 79 02 00 09 5F 5A 35 61 64 64 34 32 69<br/>00 00 0A 8D 80 80 80 00 01 87 80 80 80 00 00 20<br/>00 41 2A 6A 0B</span></pre><p id="907a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">之后，这段代码将在任何类型的硬件上运行(x86、ADM或any)</p><p id="4375" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">使用Wasm的几个原因:</p><ul class=""><li id="9894" class="ku kv ht is b it iu ix iy jb kw jf kx jj ky jn kz la lb lc dt translated">性能:JS和WebAssembly之间更快的加载时间和函数调用。</li><li id="4f46" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn kz la lb lc dt translated">堆垛机；这可以解耦计量，使其更具性能，并可以转换到目标架构上的任何机器</li><li id="1b07" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn kz la lb lc dt translated">共享工具/更广泛的工具兼容性。</li><li id="8cfe" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn kz la lb lc dt translated">直接使用DOM(后MVP)。</li></ul><h1 id="7a2f" class="li kp ht bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me dt translated">为什么选择ewasm？</h1><p id="7064" class="pw-post-body-paragraph iq ir ht is b it mf iv iw ix mg iz ja jb mh jd je jf mi jh ji jj mj jl jm jn hm dt translated">截至目前，我们的智能合约运行在虚拟机上。通过以确定的方式使它成为Wasm的子集，它可以具有如下优点。</p><ol class=""><li id="a4c7" class="ku kv ht is b it iu ix iy jb kw jf kx jj ky jn mk la lb lc dt translated">智能合约开发可以在C/C++/Rust/Go中完成。这将给生态系统带来巨大的好处。</li><li id="5acf" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn mk la lb lc dt translated">智能合同执行将更加快速。</li><li id="63f2" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn mk la lb lc dt translated">访问大量Wasm社区和工具。</li><li id="579c" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn mk la lb lc dt translated">它将具有<em class="jo"> ewasm契约</em>语义和<em class="jo">以太坊接口的规范。</em></li><li id="7e6a" class="ku kv ht is b it ld ix le jb lf jf lg jj lh jn mk la lb lc dt translated">灵活的计量注射器。计量是计算一些特定的操作集并执行它们所需的气体量。</li></ol><p id="33cf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">EF目前的开发可以在<a class="ae kf" href="https://github.com/ewasm" rel="noopener ugc nofollow" target="_blank"> Github </a>找到。</p><p id="8e25" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">参考资料:<a class="ae kf" href="https://webassembly.github.io/spec/core/_download/WebAssembly.pdf" rel="noopener ugc nofollow" target="_blank">https://web assembly . github . io/spec/core/_ download/web assembly . pdf</a></p><p id="6d9a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">干杯，</p><p id="ec56" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae kf" href="https://twitter.com/a4nkit" rel="noopener ugc nofollow" target="_blank"> Ankit Raj </a></p><blockquote class="ml"><p id="cf18" class="mm mn ht bd mo mp mq mr ms mt mu jn ek translated"><a class="ae kf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mw mx my mz na ju fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mv"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>