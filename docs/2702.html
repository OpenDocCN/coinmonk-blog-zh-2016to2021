<html>
<head>
<title>The Account Nonce in Ethereum Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊的账号Nonce解释</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/the-account-nonce-in-ethereum-explained-c087bd4a3c29?source=collection_archive---------1-----------------------#2020-01-30">https://medium.com/coinmonks/the-account-nonce-in-ethereum-explained-c087bd4a3c29?source=collection_archive---------1-----------------------#2020-01-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7250" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我知道这令人困惑，但以太坊中有两种随机数。矿工试图找到的工作随机数的证明，以解决哈希难题和<br/> 2。账户现时作为每个账户中的交易计数器</p><p id="b2c9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这篇文章中，我将解释什么是账户随机数。</p><p id="f7ee" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当你发送一个交易，一旦它被挖掘出来，你的账户就会增加一个名为nonce的值。nonce跟踪发送方在一段时间内发送了多少交易。</p><p id="e443" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">注意，nonce是发送地址的事务计数器。它不包括该地址收到的交易。</p><p id="cef8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">假设你拥有这个地址<code class="eh jo jp jq jr b"><a class="ae js" href="https://etherscan.io/address/0x1b24d15c365428e562c95962a9de4e486cf9ca26" rel="noopener ugc nofollow" target="_blank"> 0x1b24d15c365428e562c95962a9de4e486cf9ca26</a></code>。您可以在这里看到与此地址<a class="ae js" href="https://ropsten.etherscan.io/txs?a=0x1b24d15c365428e562c95962a9de4e486cf9ca26&amp;ps=100&amp;p=1" rel="noopener ugc nofollow" target="_blank">相关的交易列表。</a></p><p id="c342" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在下面的<a class="ae js" href="https://ropsten.etherscan.io/tx/0x0aba1bad9524a118bb9e69997c32d751e384de44ce2eb995e0fd72b59f9c1d2e" rel="noopener ugc nofollow" target="_blank">交易</a>中，随机数是<code class="eh jo jp jq jr b">89</code>。你可以看到它是从你的地址发出的。因此，这意味着您的地址至此已经发送了<code class="eh jo jp jq jr b">90</code>笔交易(从<code class="eh jo jp jq jr b">0</code>开始)。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff jt"><img src="../Images/5e75fe9addd24b22594e55cb0bfe517b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zxvVQg2WDFn2K2o_LjLgLQ.png"/></div></div></figure><p id="ca77" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下面我们来看看<a class="ae js" href="https://ropsten.etherscan.io/tx/0x3353a920eded418db1c5f0decad4c0ef3e12a80f129476ed815040489952e1e5" rel="noopener ugc nofollow" target="_blank">另一笔交易</a>。该交易的随机数为<code class="eh jo jp jq jr b">119</code>。这是否意味着到目前为止您的地址已经发送了<code class="eh jo jp jq jr b">120</code>笔交易？不可以。因为交易是从<code class="eh jo jp jq jr b"> 0xa7d41f49dadca972958487391d4461a5d0e1c3e9</code>发送的，nonce是这个地址的计数器，不是你的。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff kf"><img src="../Images/765138d046b36fa7d09613338d5ce6c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RPv6Ezc1bfAUFuShlXzAmw.png"/></div></div></figure><p id="2620" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以看到进出您地址的交易都有帐户nonce，但不要混淆。只有外发交易影响你的现时。你可以在新交易中看到的随机数是针对其他账户的。</p><p id="4788" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">有一些原因可以解释为什么帐号随机数是有用的。首先，它允许我们按顺序发送事务。</p><p id="c021" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果没有nonce，您发送事务的顺序可能会被忽略。假设您在10秒钟内发送了两个事务。你可能会认为矿工按顺序加工它们。但是在一个分布式系统中，不能保证他们首先收集你的第一个事务，然后第二个一秒钟。然而，如果您有帐户nonce，矿工需要按顺序处理它们。随机数为<code class="eh jo jp jq jr b">1</code>的第二个交易不能被处理，直到随机数为<code class="eh jo jp jq jr b">0</code>的第一个交易被处理。</p><p id="ac6d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第二，它保护我们免受重放攻击。如果没有nonce，发送方可能会通过两次发送相同的交易来重复花费。假设Alice签署了一项交易，向Bob发送了一些以太网。如果没有随机数，Bob可以复制这个签名的交易，并继续传播它，直到Alice失去所有的钱。由于事务在没有nonce的情况下不是唯一的，Bob可以复制事务。他甚至不必签名，因为他已经可以在网络中找到签名的交易。</p><p id="3821" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当事务包含随机数时，每个事务都是唯一的。也就是说，即使有相同的金额和相同的收件人地址。以太坊网络不会接受具有相同nonce的新的传出交易。这保护我们免受重放攻击。如果Bob复制一个事务并再次传播它，它将被拒绝。</p><p id="fe3d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你想了解更多，你可以在这里了解规格<a class="ae js" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-155.md" rel="noopener ugc nofollow" target="_blank">。</a></p><blockquote class="kg"><p id="8249" class="kh ki ht bd kj kk kl km kn ko kp jn ek translated"><a class="ae js" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="kr ks kt ku kv jy fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff kq"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>