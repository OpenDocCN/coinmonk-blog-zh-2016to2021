<html>
<head>
<title>Ethereum under the hood- Part 8( Blocks -2 )</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">引擎盖下的以太坊-第八部分(街区-2)</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ethereum-under-the-hood-part-8-blocks-2-5fba93293213?source=collection_archive---------1-----------------------#2021-03-03">https://medium.com/coinmonks/ethereum-under-the-hood-part-8-blocks-2-5fba93293213?source=collection_archive---------1-----------------------#2021-03-03</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/80f2979f0fd22f0cabb51dff78ec755e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ZSZQAzhzPw31Fb8l0IYaQ.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><strong class="bd jf">Black Lives Matter</strong></figcaption></figure><p id="c60d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">欢迎回来，我们从上次离开的地方开始，更深入地探讨块，对于那些关注以太坊2.0的人，我建议阅读<a class="ae ke" href="https://ethos.dev/beacon-chain/" rel="noopener ugc nofollow" target="_blank"><strong class="ji hu"/></a>，对于关于<strong class="ji hu">块的这一部分，我们将介绍第2部分、</strong>:</p><ol class=""><li id="f191" class="kf kg ht ji b jj jk jn jo jr kh jv ki jz kj kd kk kl km kn dt translated">快速回顾</li><li id="4a7c" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">Bloom过滤器/LogsBloom字段</li><li id="917d" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">创世街区</li><li id="2319" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">摘要</li><li id="e0fb" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">然后</li></ol><h1 id="708e" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">快速回顾:</h1><p id="7179" class="pw-post-body-paragraph jg jh ht ji b jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd hm dt translated">作为本系列的常规练习，快速概述一下<a class="ae ke" rel="noopener" href="/@derao512/ethereum-under-the-hood-part-7-blocks-7f223510ba10"> <strong class="ji hu"> Part-7 </strong> </a>:</p><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lw"><img src="../Images/62444a28955a5468d272c3221c6da62b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nf0Xg9_s7SdDJOOlI_MLcg.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><a class="ae ke" href="https://gist.github.com/deepakraous/d35635acc6d645494dba7203f1b525b5" rel="noopener ugc nofollow" target="_blank"><strong class="bd jf">Section [6–7] recap</strong></a></figcaption></figure><h1 id="f0f7" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">BloomFilters和LogsBloom字段:</h1><p id="6b30" class="pw-post-body-paragraph jg jh ht ji b jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd hm dt translated">在第7章，我们讨论了以太坊块头域；其中一个是<a class="ae ke" href="https://docs.google.com/spreadsheets/d/11keOrrjzdTiII0zL4TrGA0r7yZGQEzR3gdD74rFHdJg/edit#gid=0" rel="noopener ugc nofollow" target="_blank"> <strong class="ji hu">字段-8</strong></a><strong class="ji hu">:logs bloom</strong>。我们将尝试回答两个问题，并为Bloom Filters提供一些帮助。让我们关注两个问题。为什么需要这个字段？2.什么是布鲁姆过滤器？</p><ol class=""><li id="dc1b" class="kf kg ht ji b jj jk jn jo jr kh jv ki jz kj kd kk kl km kn dt translated"><strong class="ji hu">为什么需要这个字段？:</strong>以太坊是一个只转发的全局状态机，在中央数据库上进行金融和非金融交易。这些交易需要用一些标签记录下来，以便快速有效地查找。这些事件可以尽快搜索到结果。每个Blockheader包含logsBloom字段，该字段仅在一个字段中包含整组事件/日志的完整信息。下面是对这一领域的需求的极好描述。</li></ol><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mb"><img src="../Images/64f0d1a12e6d6010ba1bcaa203ecf1ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2feSHp33qxVE8BnIutTNYQ.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><a class="ae ke" href="https://ethereum.stackexchange.com/questions/3418/how-does-ethereum-make-use-of-bloom-filters" rel="noopener ugc nofollow" target="_blank"><strong class="bd jf">Stackoverflow: Events in Ethereum quickly searched, for audit purposes</strong></a></figcaption></figure><p id="ecca" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">以太坊块中的LogsBloom字段[ <strong class="ji hu"> 2048 </strong>字节]，注意"<strong class="ji hu"> 1" </strong>位于<strong class="ji hu">位置:212，</strong>，" 2 "位于<strong class="ji hu">位置</strong> : <strong class="ji hu"> 233，</strong>我们将在BloomFilter中重新讨论这个主题。</p><pre class="lx ly lz ma fq mc md me mf aw mg dt"><span id="2f28" class="mh ku ht md b fv mi mj l mk ml"><strong class="md hu">logsBloom[2048]</strong>:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000<strong class="md hu">1</strong>00000000000000000000<strong class="md hu">2</strong>000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000........0"</span></pre><p id="6783" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">2.<strong class="ji hu">什么是布鲁姆滤镜？:</strong>现在我们对logsBloom领域有了一个概念，让我们来探索一下<a class="ae ke" href="https://odino.org/bloom-filters-when-data-structures-get-smart/" rel="noopener ugc nofollow" target="_blank"> Bloom过滤器</a>。以太坊选择布隆过滤器算法是因为它的速度和概率数据结构的有效性。在一个街区中可以有成千上万的事件，按照我们的常规主题，需要速度来寻找速度；看来布鲁姆过滤器是一个合适的选择。以太坊实现了黄皮书中定义的自定义布隆过滤器:</p><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mm"><img src="../Images/12279937e3afcb3eb17cafb58d2f219f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WfiFVGE5x_p4xnymNPuQzQ.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><strong class="bd jf">Source: Yellow Paper</strong></figcaption></figure><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mn"><img src="../Images/089106641a449701d6cfd0a79359b230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qqzdt3hZMD_WdNF12TmAVA.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><strong class="bd jf">Source: Yellow Paper</strong></figcaption></figure><p id="d25f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们通过下面的例子来了解一下这些规格。</p><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mo"><img src="../Images/d2902476b5b4b1a8e686ed2a4b25ecd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2uZchW-gAhpLmNjnx3a9A.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><strong class="bd jf">Ethereum Bloom Filter</strong></figcaption></figure><p id="185b" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu"> <em class="mp">深挖:</em> </strong></p><div class="mq mr fm fo ms mt"><a href="https://ethereum.stackexchange.com/questions/6009/is-the-logsbloom-in-the-block-header-the-same-as-the-bloom-filter-in-the-transac" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">块头中的LogsBloom是否与交易收据Trie中的Bloom过滤器相同？</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">感谢为以太坊栈交换贡献一个答案！请务必回答问题。提供详细信息…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">ethereum.stackexchange.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh iz mt"/></div></div></a></div><h1 id="e3cc" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">创世纪街区:</h1><p id="fc6f" class="pw-post-body-paragraph jg jh ht ji b jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd hm dt translated">现在我们对什么是积木有了一点了解，我们现在可以探索创世纪积木了。几乎所有的加密货币项目一开始都有一个“起源”的同义词，让我们回忆一下，以太坊是一个<a class="ae ke" rel="noopener" href="/coinmonks/ethereum-under-the-hood-part-i-ver-0-1-4f2fb24b3d68">世界状态+虚拟机</a>，状态0是起源状态，它有一组由以太坊生态系统内所有参与者商定的预定义值。以太坊黄皮书定义了创世纪区块的预设值。</p><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ni"><img src="../Images/7974b99d04555b4389ae778c4cedb9ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpLnyM9jsr1Dw5ihRuKR8w.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><a class="ae ke" href="https://ethereum.github.io/yellowpaper/paper.pdf" rel="noopener ugc nofollow" target="_blank"><strong class="bd jf">Yellow Paper( Apdx-1: Genesis Block )</strong></a></figcaption></figure><p id="b8e9" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">一个使用带有一些随机值的Elixir的Genesis块，注意字段的名称及其相应的值(图1)</p><p id="2ee9" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">创世纪街区</strong></p><p id="c0e3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">看一眼创世纪区块，看看这是否符合黄皮书的规格</p><figure class="lx ly lz ma fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nj"><img src="../Images/c08a5a41dcd456201ee295394f02a629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*18hACy8rQSrk_g_tZFUu1w.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><a class="ae ke" href="https://etherscan.io/block/0" rel="noopener ugc nofollow" target="_blank"><strong class="bd jf">Genesis Block</strong></a></figcaption></figure><p id="e841" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">花些时间去探索创世块的规格转化为药剂的私人功能；我们将在接下来的小节中更深入地研究这段代码。</p><p id="6cc5" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">仙丹中创世纪区块定义</strong></p><figure class="lx ly lz ma fq iu"><div class="bz el l di"><div class="nk nl l"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek"><strong class="ak">Genesis Block in Elixir</strong></figcaption></figure><h1 id="d0bc" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">总结:</h1><ul class=""><li id="d7d7" class="kf kg ht ji b jj lr jn ls jr nm jv nn jz no kd np kl km kn dt translated">LogsBloom是块头字段。</li><li id="fe3f" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd np kl km kn dt translated">LogsBloom字段是块头的全局事件指示器。</li><li id="5a25" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd np kl km kn dt translated">Bloom Filter算法是LogsBloom领域的机制。</li><li id="fc09" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd np kl km kn dt translated">以太坊指定了专门的布隆过滤器算法。</li><li id="4871" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd np kl km kn dt translated">一个起源块是块链的块0状态。</li><li id="bcbb" class="kf kg ht ji b jj ko jn kp jr kq jv kr jz ks kd np kl km kn dt translated">Genesis Block具有生态系统认可的预定义值。</li></ul><h1 id="8699" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">接下来:</h1><p id="5ee8" class="pw-post-body-paragraph jg jh ht ji b jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz lv kb kc kd hm dt translated">在接下来的<strong class="ji hu"> </strong> <a class="ae ke" href="https://derao.medium.com/ethereum-under-the-hood-part-9-blocks-3-490103a2f197" rel="noopener"> <strong class="ji hu"> <em class="mp">章节</em> </strong> </a>中，我们将深入挖掘街区，保持安全，学习，继续前进。</p><h1 id="f6a4" class="kt ku ht bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq dt translated">参考资料:</h1><div class="mq mr fm fo ms mt"><a href="https://ethereum.stackexchange.com/questions/59203/what-exactly-does-the-m-function-in-the-formal-bloom-filter-specifications-do" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">正式的Bloom filter规范中的“m”函数到底是做什么的？</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">感谢为以太坊栈交换贡献一个答案！请务必回答问题。提供详细信息…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">ethereum.stackexchange.com</p></div></div><div class="nc l"><div class="nq l ne nf ng nc nh iz mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://github.com/ethereum/go-ethereum/blob/master/core/types/block.go" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">以太坊/围棋以太坊</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">github.com</p></div></div><div class="nc l"><div class="nr l ne nf ng nc nh iz mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://ethereum.stackexchange.com/questions/59203/what-exactly-does-the-m-function-in-the-formal-bloom-filter-specifications-do" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">正式的Bloom filter规范中的“m”函数到底是做什么的？</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">感谢为以太坊栈交换贡献一个答案！请务必回答问题。提供详细信息…</h3></div></div><div class="nc l"><div class="ns l ne nf ng nc nh iz mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/mycrypto/understanding-event-logs-on-the-ethereum-blockchain-f4ae7ba50378"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">了解以太坊区块链上的事件日志</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">每个事务都有一个事件日志，但是这些事件日志可能很难阅读。</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="nt l ne nf ng nc nh iz mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://www.asynclabs.co/blog/params-in-ethereum-genesis-block-explained/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">以太坊创世区块中的参数说明—异步实验室|软件开发和营销机构</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">全世界的开发者都在试验以太坊区块链，他们中的许多人发现以太坊测试网很难…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">www.asynclabs.co</p></div></div><div class="nc l"><div class="nu l ne nf ng nc nh iz mt"/></div></div></a></div></div></div>    
</body>
</html>