<html>
<head>
<title>Is storing encrypted files on IPFS good enough?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在IPFS上存储加密文件够好吗？</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/is-storing-encrypted-files-on-ipfs-good-enough-21e050d9de0?source=collection_archive---------0-----------------------#2019-08-12">https://medium.com/coinmonks/is-storing-encrypted-files-on-ipfs-good-enough-21e050d9de0?source=collection_archive---------0-----------------------#2019-08-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="b82a" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">智能保险箱，存储机密DApp文件的替代方案。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/0d34eeee3741e0cfad23ee2c764275fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*owrBvzJAdP1MzxqZI8vkgw.png"/></div></figure><p id="b9ae" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">区块链透明度很大，但是对于很多涉及用户数据的用例来说，<a class="ae km" rel="noopener" href="/lightstreams/smart-contracts-privacy-vs-confidentiality-6fb90c731fde">隐私和保密</a>是必不可少的。</p><p id="2a08" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">当构建任何应用程序时，不管它是集中的还是分散的，迟早都需要持久化用户数据。</p></div><div class="ab cl kn ko hb kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="hm hn ho hp hq"><p id="6325" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">在IPFS公开加密和存储敏感数据<strong class="js hu"/>已经成为项目的一种流行方法——实质上是让每个人都能获得加密的数据！不要误会，<strong class="js hu">加密绝对重要。</strong>然而，如果<strong class="js hu">加密的</strong>数据只<strong class="js hu">被授权方</strong>访问，不是更安全吗？</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="ku kv l"/></div></figure><p id="c373" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">还有别的办法吗？</p><h1 id="6c71" class="kw kx ht bd ky kz la lb lc ld le lf lg iz lh ja li jc lj jd lk jf ll jg lm ln dt translated">智能保险库</h1><blockquote class="lo lp lq"><p id="ed56" class="jq jr lr js b jt ju iu jv jw jx ix jy ls ka kb kc lt ke kf kg lu ki kj kk kl hm dt translated">与区块链有关的IPFS协议。</p></blockquote><p id="e4a1" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">数据是在需要知道的基础上被访问的，并且可以被永久擦除。<strong class="js hu">访问由包含访问控制列表(ACL)的可编程智能合约控制。</strong>这提供了透明、公开和可验证的访问，无需中央控制器。<strong class="js hu">控制权始终掌握在数据所有者</strong>、智能合约作者手中，这意味着默认情况下它符合<a class="ae km" rel="noopener" href="/lightstreams/gdpr-for-companies-in-2019-163b338b62cd"> GDPR </a>。</p><h2 id="cbb1" class="lv kx ht bd ky lw lx ly lc lz ma mb lg jz mc md li kd me mf lk kh mg mh lm mi dt translated">它是如何工作的？</h2><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff mj"><img src="../Images/f2afa1c2abbb42afe13cdd1c00cc4d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NTxAf2JQvkGipBiFxmCNAQ.jpeg"/></div></div></figure><p id="0c3c" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">让我带你看一个潜在的<strong class="js hu">去中心化Google Drive应用</strong>的例子，其中两个用户(对等体)在彼此之间共享一个机密文档。</p><p id="47fa" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">第一，爱丽丝在她的智能保险箱里储存了一份机密文件</p><ul class=""><li id="a7ba" class="mo mp ht js b jt ju jw jx jz mq kd mr kh ms kl mt mu mv mw dt translated">一个ACL智能合同部署在区块链上</li><li id="3585" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">文档被添加到权限增强的<strong class="js hu"> IPFS存储器</strong></li><li id="611a" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated"><a class="ae km" href="https://github.com/ipfs/specs/tree/master/merkledag" rel="noopener ugc nofollow" target="_blank"> <strong class="js hu"> IPFS默克DAGs </strong> </a> <strong class="js hu">链接到ACL </strong>智能合约</li><li id="95bc" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">生成公共可共享文档引用<strong class="js hu">元数据文件及其散列</strong></li></ul><p id="fb1a" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><strong class="js hu"> #2，Alice </strong>想要与她的同事Bob共享该文档，因此<strong class="js hu">她使用ACL智能合约授予他读取权限</strong></p><ul class=""><li id="1509" class="mo mp ht js b jt ju jw jx jz mq kd mr kh ms kl mt mu mv mw dt translated">Alice与Bob共享文档引用(元数据的散列)</li></ul><p id="6970" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><strong class="js hu"> #3，Bob试图获取并打开</strong>文档</p><ul class=""><li id="f597" class="mo mp ht js b jt ju jw jx jz mq kd mr kh ms kl mt mu mv mw dt translated">Bob的智能保险库向所有对等方执行<strong class="js hu">读取请求</strong></li><li id="02be" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">IPFS协议解析持有文档的对等方，即Alice的节点</li><li id="4197" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">在分发内容之前，Alice的Smart Vault会根据机密文档的ACL执行授权检查</li><li id="1c60" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">Bob已被授予访问权限，因此授权成功</li><li id="8af0" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">Alice的智能保险库将文档发送给Bob</li><li id="1b96" class="mo mp ht js b jt mx jw my jz mz kd na kh nb kl mt mu mv mw dt translated">鲍勃打开文档</li></ul><p id="b2a3" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><strong class="js hu"> #4，</strong>文件现在存储在<strong class="js hu">两个分散的智能保管库</strong>，用同一个ACL保护</p><h2 id="4701" class="lv kx ht bd ky lw lx ly lc lz ma mb lg jz mc md li kd me mf lk kh mg mh lm mi dt translated">添加文件</h2><p id="58ba" class="pw-post-body-paragraph jq jr ht js b jt nc iu jv jw nd ix jy jz ne kb kc kd nf kf kg kh ng kj kk kl hm dt translated">对于代码爱好者来说，这是内部的实际情况:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff nh"><img src="../Images/9ef8a519fe79aecf214cd541413097a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*80uQcLdXYjHQlBFNZYYPTQ.png"/></div></div><figcaption class="ni nj fg fe ff nk nl bd b be z ek">Adding a file to Smart Vault</figcaption></figure><h1 id="1484" class="kw kx ht bd ky kz la lb lc ld le lf lg iz lh ja li jc lj jd lk jf ll jg lm ln dt translated">您的项目现在如何开始使用Smart Vault？</h1><p id="f927" class="pw-post-body-paragraph jq jr ht js b jt nc iu jv jw nd ix jy jz ne kb kc kd nf kf kg kh ng kj kk kl hm dt translated">为了让开发人员只关注真正重要的东西，<strong class="js hu">DApp业务逻辑</strong>，我们将所有技术存储细节抽象成一个开发人员友好的SDK，<strong class="js hu"> Leth </strong>。</p><p id="52b6" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">根据您的项目需求，<strong class="js hu"> Leth </strong>允许您以多种方式与Smart Vault进行交互。将Leth作为Go库导入。执行CLI命令或执行HTTP通信。</p><p id="d183" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">需要一个前端集成？使用<strong class="js hu"> Leth JS SDK </strong>包装HTTP调用，在客户端(浏览器/手机)直接签署ACL事务，并使用智能合约<strong class="js hu"> ABI </strong>和<strong class="js hu"> web3.js </strong>库广播到区块链。</p><h2 id="5083" class="lv kx ht bd ky lw lx ly lc lz ma mb lg jz mc md li kd me mf lk kh mg mh lm mi dt translated">HTTP用法示例</h2><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="9779" class="lv kx ht nn b fv nr ns l nt nu">curl -X POST \<br/>  http://localhost:9091/storage/add \<br/>  -H 'Content-Type: multipart/form-data' \<br/>  -F owner=0xa92e3705e6d70cb45782bf055e41813060e4ce07 \<br/>  -F password=$PWD \<br/>  -F file="@/tmp/secret_file.txt"<br/><br/>{<br/>"meta":"QmZYSewpHNvdW1TTgska792QAT7Yd6yxZAoybpYFskTZSf",<br/>"acl":"0xc2DBC8CdAba2df432C821639B80302f0675D6f74"<br/>}</span></pre><h2 id="c394" class="lv kx ht bd ky lw lx ly lc lz ma mb lg jz mc md li kd me mf lk kh mg mh lm mi dt translated">CLI使用示例</h2><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="6eec" class="lv kx ht nn b fv nr ns l nt nu">leth storage add --nodeid=1 --network=mainnet --owner=0xa92e3705e6d70cb45782bf055e41813060e4ce07 \<br/>--file=/tmp/secret_file.txt</span></pre><h2 id="2b96" class="lv kx ht bd ky lw lx ly lc lz ma mb lg jz mc md li kd me mf lk kh mg mh lm mi dt translated">可用命令的完整列表</h2><div class="jj jk jl jm fq ab cb"><figure class="nv jn nw nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/dcb682361d93d84220ac3b690109a580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*wa-XettoloJuabCjDMzUuQ.png"/></div></figure><figure class="nv jn ob nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/f6f5d15a13262e536ccb785a069041bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*TQBc4kPm17A_7EqzumoXfQ.png"/></div><figcaption class="ni nj fg fe ff nk nl bd b be z ek oc di od oe">Leth CLI Docs</figcaption></figure></div><p id="20f9" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">Smart Vault目前处于alpha阶段，更多要求的功能正在开发中！</p><h1 id="f7bd" class="kw kx ht bd ky kz la lb lc ld le lf lg iz lh ja li jc lj jd lk jf ll jg lm ln dt translated">让我总结一下</h1><p id="be29" class="pw-post-body-paragraph jq jr ht js b jt nc iu jv jw nd ix jy jz ne kb kc kd nf kf kg kh ng kj kk kl hm dt translated"><strong class="js hu">要使用Smart Vault，我必须使用Lightstreams区块链吗？</strong></p><p id="6770" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">也可以用以太坊连接。</p><p id="d667" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><strong class="js hu">智能金库是云存储吗？<br/> </strong>正如IFPS所说，智能金库不是云存储。<strong class="js hu">它是点对点存储。</strong>文件在被请求时被分发到其他设备。使用我们修改版的IPFS，文件只能与授权的计算机共享。在理想的分散世界中，每个用户都运行自己的Smart Vault节点。</p><p id="a9aa" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><strong class="js hu">原所有者离线后，新的授权用户可以访问文件吗？</strong></p><p id="b92a" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">是的，只要至少有一个已经拥有该内容的授权用户在线。如果多个内容持有者在线，内容将同时从所有对等体中播种，以便在由IPFS比特交换协议支持的类似种子的风格中获得最佳性能。</p><p id="461f" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><strong class="js hu">我还可以用Smart Vault做什么？</strong></p><p id="ec8c" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">电子商务。几周前，我们发布了关于项目如何构建销售数字内容的应用程序以及用户如何无需任何中介即可购买内容的文档！<a class="ae km" href="https://docs.lightstreams.network/products/smart-vault/guides/ecommerce" rel="noopener ugc nofollow" target="_blank">点对点电子商务教程</a>。</p><p id="3a99" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">我还有几个问题，可以问谁，在哪里问？</p><p id="59b0" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">首先感谢大家的关注！在下面留言，加入我们的<a class="ae km" href="https://t.me/LightstreamsDevelopers" rel="noopener ugc nofollow" target="_blank">电报</a>群或者在LinkedIn 上<a class="ae km" href="https://www.linkedin.com/in/llukac/" rel="noopener ugc nofollow" target="_blank"> DM我。</a></p><h1 id="f003" class="kw kx ht bd ky kz la lb lc ld le lf lg iz lh ja li jc lj jd lk jf ll jg lm ln dt translated">结论</h1><p id="9acc" class="pw-post-body-paragraph jq jr ht js b jt nc iu jv jw nd ix jy jz ne kb kc kd nf kf kg kh ng kj kk kl hm dt translated">Smart Vault是开发人员友好的可编程存储，适用于分散式应用程序。<strong class="js hu">让你的用户拥有并控制他们的数据。</strong></p><p id="efc8" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><a class="ae km" href="https://docs.lightstreams.network/" rel="noopener ugc nofollow" target="_blank">https://docs . light streams . network</a></p><blockquote class="of"><p id="d73c" class="og oh ht bd oi oj ok ol om on oo kl ek translated"><a class="ae km" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="oq or os ot ou jn fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff op"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>