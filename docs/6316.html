<html>
<head>
<title>Project Setup Using Hardhat &amp; Truffle — part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Hardhat &amp; Truffle的项目设置—第3部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/project-setup-using-hardhat-truffle-part-3-724ab0d2a1fe?source=collection_archive---------2-----------------------#2021-12-03">https://medium.com/coinmonks/project-setup-using-hardhat-truffle-part-3-724ab0d2a1fe?source=collection_archive---------2-----------------------#2021-12-03</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/a46857fbcc24f3f64a30c061a023ea6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*TPR5JP0_hjyGvfVXrSmuWw.jpeg"/></div></figure><p id="6755" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">现在，我们将编写一个简单的智能合约，并将其部署到我们本地的区块链</p></div><div class="ab cl jv jw hb jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hm hn ho hp hq"><h1 id="61c4" class="kc kd ht bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated"><strong class="ak">撰写智能合同</strong></h1><blockquote class="la lb lc"><p id="2f9b" class="ix iy ld iz b ja jb jc jd je jf jg jh le jj jk jl lf jn jo jp lg jr js jt ju hm dt translated">我们可以暂时忽略现有的合同，但可以自由探索它们</p></blockquote><p id="1b3b" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">对于Truffle和Hardhat，我们可以在合同文件夹中创建一个新文件</p><blockquote class="la lb lc"><p id="53f4" class="ix iy ld iz b ja jb jc jd je jf jg jh le jj jk jl lf jn jo jp lg jr js jt ju hm dt translated">在我们的例子中，我们将使用可靠的语言。更多信息可以在<a class="ae lh" href="https://docs.soliditylang.org/en/v0.8.7/" rel="noopener ugc nofollow" target="_blank">这里</a>找到</p></blockquote><ul class=""><li id="28cf" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">将其命名</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="feee" class="ma kd ht lw b fv mb mc l md me">NumberChanger.sol</span></pre><ul class=""><li id="b37d" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">声明SPDX-License，并将其注释掉</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="8510" class="ma kd ht lw b fv mb mc l md me">// SPDX-License-Identifier: MIT</span></pre><ul class=""><li id="d33e" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">定义合同将遵守的Solidity版本，我们将把它设置为与我们的配置文件中相同的版本</li></ul><blockquote class="la lb lc"><p id="6f7a" class="ix iy ld iz b ja jb jc jd je jf jg jh le jj jk jl lf jn jo jp lg jr js jt ju hm dt translated">这使得它可以用0.8.6或更高版本进行编译</p></blockquote><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="6578" class="ma kd ht lw b fv mb mc l md me">pragma solidity ^0.8.6;</span></pre><ul class=""><li id="cf3a" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">编写我们的契约，首先声明它，并赋予它与我们的文件名相同的名称</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="635d" class="ma kd ht lw b fv mb mc l md me">/ SPDX-License-Identifier: MIT</span><span id="67b1" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;<br/></span><span id="9347" class="ma kd ht lw b fv mf mc l md me">contract NumberChanger {</span><span id="07c0" class="ma kd ht lw b fv mf mc l md me">}</span></pre><ul class=""><li id="056a" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">声明一个名为number的状态变量</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="57af" class="ma kd ht lw b fv mb mc l md me">// SPDX-License-Identifier: MIT</span><span id="73b8" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;<br/></span><span id="c124" class="ma kd ht lw b fv mf mc l md me">contract NumberChanger {</span><span id="1016" class="ma kd ht lw b fv mf mc l md me">uint256 number;</span><span id="299b" class="ma kd ht lw b fv mf mc l md me">}</span></pre><ul class=""><li id="a9c2" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">创建一个函数来检索存储在状态变量中的数字</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="0e02" class="ma kd ht lw b fv mb mc l md me">// SPDX-License-Identifier: MIT</span><span id="6d3a" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;</span><span id="d68d" class="ma kd ht lw b fv mf mc l md me">contract NumberChanger {</span><span id="ecc6" class="ma kd ht lw b fv mf mc l md me">uint256 number;</span><span id="12c1" class="ma kd ht lw b fv mf mc l md me">function getNumber() public views returns(uint256) {</span><span id="b97c" class="ma kd ht lw b fv mf mc l md me">return number;</span><span id="70f3" class="ma kd ht lw b fv mf mc l md me">  }</span><span id="3381" class="ma kd ht lw b fv mf mc l md me">}</span></pre><ul class=""><li id="1ccb" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">创建一个函数来更新状态变量中的数字</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="fbcc" class="ma kd ht lw b fv mb mc l md me">// SPDX-License-Identifier: MIT</span><span id="bcd1" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;</span><span id="9f92" class="ma kd ht lw b fv mf mc l md me">contract NumberChanger {</span><span id="c603" class="ma kd ht lw b fv mf mc l md me">uint256 number;</span><span id="2798" class="ma kd ht lw b fv mf mc l md me">function getNumber() public views returns(uint256) {</span><span id="5208" class="ma kd ht lw b fv mf mc l md me">return number;</span><span id="70dd" class="ma kd ht lw b fv mf mc l md me">}</span><span id="0c54" class="ma kd ht lw b fv mf mc l md me">function setNumber(uint256 _number) public {</span><span id="4840" class="ma kd ht lw b fv mf mc l md me">number = _number;</span><span id="b7be" class="ma kd ht lw b fv mf mc l md me"> }</span><span id="5282" class="ma kd ht lw b fv mf mc l md me">}</span></pre><p id="1800" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们现在已经编写了一个智能合同，允许在区块链上存储和更新号码</p></div><div class="ab cl jv jw hb jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hm hn ho hp hq"><h1 id="1bed" class="kc kd ht bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated"><strong class="ak">安全帽</strong></h1><p id="8811" class="pw-post-body-paragraph ix iy ht iz b ja mg jc jd je mh jg jh ji mi jk jl jm mj jo jp jq mk js jt ju hm dt translated">为了做到这一点，Hardhat允许控制台登录选项</p><ul class=""><li id="280f" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">声明Solidity版本后，导入hardhat/console.sol</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="8309" class="ma kd ht lw b fv mb mc l md me">import "hardhat/console.sol"</span><span id="9c24" class="ma kd ht lw b fv mf mc l md me">// SPDX-License-Identifier: MIT</span><span id="8844" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;</span><span id="81db" class="ma kd ht lw b fv mf mc l md me">import "hardhat/console.sol"</span></pre><ul class=""><li id="f3ab" class="li lj ht iz b ja jb je jf ji lk jm ll jq lm ju ln lo lp lq dt translated">将它添加到您希望看到输出的位置</li></ul><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="cbc2" class="ma kd ht lw b fv mb mc l md me">// SPDX-License-Identifier: MIT</span><span id="7cfd" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;</span><span id="f607" class="ma kd ht lw b fv mf mc l md me">import "hardhat/console.sol";</span><span id="5a19" class="ma kd ht lw b fv mf mc l md me">contract NumberChanger {</span><span id="90d1" class="ma kd ht lw b fv mf mc l md me">uint256 number;</span><span id="3d1b" class="ma kd ht lw b fv mf mc l md me">function getNumber() public view returns(uint256) {</span><span id="2032" class="ma kd ht lw b fv mf mc l md me">return number;</span><span id="618c" class="ma kd ht lw b fv mf mc l md me">}</span><span id="4749" class="ma kd ht lw b fv mf mc l md me">function setNumber(uint256 _number) public {</span><span id="a749" class="ma kd ht lw b fv mf mc l md me">number = _number;</span><span id="0ffe" class="ma kd ht lw b fv mf mc l md me">console.log(number)</span><span id="d377" class="ma kd ht lw b fv mf mc l md me"> }</span><span id="7805" class="ma kd ht lw b fv mf mc l md me">}</span></pre><blockquote class="la lb lc"><p id="8832" class="ix iy ld iz b ja jb jc jd je jf jg jh le jj jk jl lf jn jo jp lg jr js jt ju hm dt translated">只有在使用hardhat时，hardhat/console.sol的导入和console.log的使用才是可选的</p></blockquote><p id="f504" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">完成的合同应该是这样的</p><pre class="lr ls lt lu fq lv lw lx ly aw lz dt"><span id="bd12" class="ma kd ht lw b fv mb mc l md me">// SPDX-License-Identifier: MIT</span><span id="c3d8" class="ma kd ht lw b fv mf mc l md me">pragma solidity ^0.8.6;</span><span id="f9af" class="ma kd ht lw b fv mf mc l md me">contract NumberChanger {</span><span id="56f6" class="ma kd ht lw b fv mf mc l md me">uint256 number;</span><span id="0dcd" class="ma kd ht lw b fv mf mc l md me">function getNumber() public view returns(uint256) {</span><span id="6f3f" class="ma kd ht lw b fv mf mc l md me">return number;</span><span id="cc10" class="ma kd ht lw b fv mf mc l md me">}</span><span id="2ad5" class="ma kd ht lw b fv mf mc l md me">function setNumber(uint256 _number) public {</span><span id="c7c4" class="ma kd ht lw b fv mf mc l md me">number = _number;</span><span id="a8b9" class="ma kd ht lw b fv mf mc l md me"> }</span><span id="1ea0" class="ma kd ht lw b fv mf mc l md me">}</span></pre><h2 id="0fc4" class="ma kd ht bd ke ml mm mn ki mo mp mq km ji mr ms kq jm mt mu ku jq mv mw ky mx dt translated">在第4部分中，我们将把我们的合同部署到当地的区块链。 <a class="ae lh" rel="noopener" href="/@shihyuhwang/9d2f55842be2"> <strong class="ak">点击此处查看第四部分</strong> </a> <strong class="ak">。</strong></h2><blockquote class="my"><p id="499a" class="mz na ht bd nb nc nd ne nf ng nh ju ek translated">加入Coinmonks <a class="ae lh" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae lh" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="bd97" class="ma kd ht bd ke ml ni mn ki mo nj mq km ji nk ms kq jm nl mu ku jq nm mw ky mx dt translated">另外，阅读</h2><ul class=""><li id="9601" class="li lj ht iz b ja mg je mh ji nn jm no jq np ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/crypto-exchange-africa" rel="noopener ugc nofollow" target="_blank">非洲最佳加密交易所</a> | <a class="ae lh" href="https://blog.coincodecap.com/hoo-exchange-review" rel="noopener ugc nofollow" target="_blank">胡交易所评论</a></li><li id="fb50" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/etoro-robinhood" rel="noopener ugc nofollow" target="_blank">eToro vs robin hood</a>|<a class="ae lh" href="https://blog.coincodecap.com/bybit-bityard-moonxbt" rel="noopener ugc nofollow" target="_blank">MoonXBT vs by bit vs Bityard</a></li><li id="2bfe" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/trading-signal" rel="noopener ugc nofollow" target="_blank">有哪些交易信号？</a> | <a class="ae lh" href="https://blog.coincodecap.com/bitstamp-coinbase" rel="noopener ugc nofollow" target="_blank">比特斯坦普vs比特币基地</a></li><li id="869e" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/profitfarmers-review" rel="noopener ugc nofollow" target="_blank"> ProfitFarmers回顾</a> | <a class="ae lh" href="https://blog.coincodecap.com/cornix-trading-bot" rel="noopener ugc nofollow" target="_blank">如何使用Cornix交易机器人</a></li><li id="1786" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/buy-domain-on-unstoppable-domains" rel="noopener ugc nofollow" target="_blank">如何在势不可挡的域名上购买域名？</a></li><li id="d346" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/crypto-tax-india" rel="noopener ugc nofollow" target="_blank">印度的加密税</a> | <a class="ae lh" href="https://blog.coincodecap.com/altfins-review" rel="noopener ugc nofollow" target="_blank"> altFINS审查</a> | <a class="ae lh" rel="noopener" href="/coinmonks/prokey-review-26611173c13c"> Prokey审查</a></li><li id="01d4" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/blockfi-vs-coinbase" rel="noopener ugc nofollow" target="_blank"> Blockfi vs比特币基地</a> | <a class="ae lh" href="https://blog.coincodecap.com/bitkan-review" rel="noopener ugc nofollow" target="_blank"> BitKan点评</a> | <a class="ae lh" href="https://blog.coincodecap.com/bexplus-review" rel="noopener ugc nofollow" target="_blank"> Bexplus点评</a></li><li id="3a70" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/crypto-exchanges-in-south-africa" rel="noopener ugc nofollow" target="_blank">南非的加密交易所</a> | <a class="ae lh" href="https://blog.coincodecap.com/bitmex-crypto-signals" rel="noopener ugc nofollow" target="_blank"> BitMEX加密信号</a></li><li id="ca9a" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/moonxbt-copy-trading" rel="noopener ugc nofollow" target="_blank"> MoonXBT副本交易</a> | <a class="ae lh" href="https://blog.coincodecap.com/crypto-wallets-in-uae" rel="noopener ugc nofollow" target="_blank">阿联酋的加密钱包</a></li><li id="f06f" class="li lj ht iz b ja nq je nr ji ns jm nt jq nu ju ln lo lp lq dt translated"><a class="ae lh" href="https://blog.coincodecap.com/remitano-review" rel="noopener ugc nofollow" target="_blank">雷米塔诺审查</a>|<a class="ae lh" href="https://blog.coincodecap.com/1inch" rel="noopener ugc nofollow" target="_blank">1英寸协议指南</a></li></ul></div></div>    
</body>
</html>