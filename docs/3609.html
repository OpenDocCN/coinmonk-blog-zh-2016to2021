<html>
<head>
<title>What is a shadowchain?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是暗影锁链？</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/what-is-a-shadowchain-d24e2912a935?source=collection_archive---------2-----------------------#2020-11-17">https://medium.com/coinmonks/what-is-a-shadowchain-d24e2912a935?source=collection_archive---------2-----------------------#2020-11-17</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/b2e97d6071157670b2b6b4d98bbb4140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rwimB-jeBoYMzz_uPSzllw.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Are your bitcoins locked for ever in the shade?</figcaption></figure><p id="74cc" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">最近发表的一篇论文描述了闪电池的概念<a class="ae kd" href="https://github.com/lightninglabs/pool-paper/blob/main/liquidity.pdf" rel="noopener ugc nofollow" target="_blank">https://github . com/lightning labs/pool-paper/blob/main/liquidity . pdf</a></p><p id="4781" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">在本文中，介绍了用于构建该技术的shadowchain，但根据作者的说法，它可以用作通用的链外智能合同执行。这篇文章旨在用通俗易懂的语言解释它的内容。</p></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><h1 id="2685" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">为什么是闪电池？</h1><p id="f706" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">在目前扩大比特币规模的过程中，有两个主要活动正在得到改进，以使它们更安全，减轻区块链的负担:<strong class="jh hu">支付</strong>和<strong class="jh hu">交易</strong>。这两个用例在技术上不可能在链上发生。Lightning Network (LN)已被用于支付，但作为交易平台表现不佳。进入闪电池(LP)。有趣的是，作者将LP描述为一个市场驱动的平台，为LN提供流动性，但我将简化并提出一个交换的概念，因为本文不是关于解释LP的。</p><h1 id="678d" class="kl km ht bd kn ko lo kq kr ks lp ku kv kw lq ky kz la lr lc ld le ls lg lh li dt translated">LP的机制</h1><p id="9d90" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">基本上，这个概念是提供一个平台，人们可以在一个2–2多签名HTLC上存放一些比特币。该平台将这些锁定的交易视为输入(“提升的UTXOs”)，这些输入被吸收到使用比特币脚本编写的智能合同中。由于这种智能合约正在管理与用户交互的池，它将产生新的输出，这些输出将在某个时候作为比特币交易在链上发布，以解锁结算交易所的比特币。</p><p id="e07e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">为了与LP交互，用户向LP平台广播内部事务。此外，在“信任，不验证”的世界中，用户是共享智能契约状态的LP平台的节点。</p><p id="7ac5" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">然而，由于所有这些用户和反对者，很难就智能合同的状态达成一致。这将是有趣的东西，使国家同质et简单比较。你预见到了吗？</p><p id="54c4" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">进入影(块)链。</strong></p><h1 id="e682" class="kl km ht bd kn ko lo kq kr ks lp ku kv kw lq ky kz la lr lc ld le ls lg lh li dt translated">阴影链，管弦乐队</h1><p id="0d98" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">我们都知道，区块链不足以确保智能合同的运作，自从中本聪会议以来，我们知道我们还需要一个共识和一个有激励作用的有价值的象征。但与此相反，作者们正朝着一种更集中的方式努力，用一个指挥者。</p><figure class="lu lv lw lx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lt"><img src="../Images/948ab6a376472032a5e79609c93c1fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gzzTwN7kmjR1Q-imys4q8A.png"/></div></div></figure><p id="d132" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">简而言之，orchestrator是被提议的签名块之一。在我看来，“不可信实体”是误导。它事实上是可信的，除非背后有共识，但这在论文中没有描述。目前，实际的实现是一个可信的orchestrator。不幸的是，没有更多的话要说——根据2020年11月17日——位于这里的源代码<a class="ae kd" href="https://github.com/lightninglabs/pool" rel="noopener ugc nofollow" target="_blank">https://github.com/lightninglabs/pool</a>还没有包含shadowchain实现。</p><figure class="lu lv lw lx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ly"><img src="../Images/f9463b57491be4cc3326b9176bed7292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMxTRbyh0HOeNyKLyaoCkw.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Does it means you don’t need a blockchain for that?</figcaption></figure><h1 id="e54b" class="kl km ht bd kn ko lo kq kr ks lp ku kv kw lq ky kz la lr lc ld le ls lg lh li dt translated">验证机制</h1><p id="50ff" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">在影子链中创建和验证新块的方法如下:</p><ul class=""><li id="beae" class="lz ma ht jh b ji jj jm jn jq mb ju mc jy md kc me mf mg mh dt translated"><strong class="jh hu">proposed block</strong>:Orchestrator向那些被要求“接受”块的事务的作者(用户)提议一个包含事务的新块，没有说太多，但猜测Orchestrator基本上是在接收签名。但是，没有太多关于块如何传播的描述:</li></ul><figure class="lu lv lw lx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mi"><img src="../Images/be122a8aa544b277585e2fe89d665312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w8dVWbxHK73GlPTZlNviPA.png"/></div></div></figure><ul class=""><li id="1bde" class="lz ma ht jh b ji jj jm jn jq mb ju mc jy md kc me mf mg mh dt translated"><strong class="jh hu"> CommitBlock </strong>:一旦区块被接受，它就被‘执行’，即编排者将区块内容压缩成一个比特币交易，解锁被解除的UTXOs。稍后将详细介绍挤压机制。一旦脚本编写完成，它将被发送给链上的比特币所有者(记住一组2–2多重签名HTLC)。然而，该交易不会发送到比特币。与LN类似，除非有争议或关闭通道，否则保留交易。</li><li id="d684" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><strong class="jh hu">直通</strong>:挤压的方式可以将几个shadowchain块挤压成一个单独的比特币交易。</li><li id="4258" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><strong class="jh hu">链升级</strong>:更新管理LP的池脚本的机制。这使得LP的集中方面更加清晰，因为升级是分布式的，并且不涉及共识。</li></ul><figure class="lu lv lw lx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mo"><img src="../Images/f07551e2828c6e5a19b4a9eec4bb8158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2RfpS-F6Lnqfztl-M9Kdg.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">This is what I call a fork</figcaption></figure><h1 id="5180" class="kl km ht bd kn ko lo kq kr ks lp ku kv kw lq ky kz la lr lc ld le ls lg lh li dt translated">挤压阴影块</h1><p id="25ae" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">现在是重要和有趣的部分。shadowchain中智能合约架构的一个特性是可以将区块压缩到一个比特币交易中。我相信这不是默认的任何脚本，最困难的部分将是能够编写兼容<strong class="jh hu"> squashing的</strong> smartcontracts。</p><p id="e878" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">幸运的是，我们有一个例子，因为LP是实现Shadowchain的一个例子。如果我们查看白皮书中关于LP部分的描述，我们会了解到<strong class="jh hu">批处理关键参数</strong>或<strong class="jh hu"> batchId </strong>的概念。这基本上是椭圆曲线上的加密操作(非常类似于<a class="ae kd" href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki" rel="noopener ugc nofollow" target="_blank"> BIP32 </a>中描述的推导路径是HDwallets)。每次进行新的交易时，batchId都会以与派生路径类似的方式递增。但是有了差异，就很容易计算从一个batchId到另一个batch id(函数incrementKey和decrementKey)。这里的要点是能够知道执行操作的顺序并标记脚本的状态。这样，知道了batchId和脚本的状态，我们就知道要应用什么事务，而不需要知道历史记录，甚至是之前发生的事务数量(增加了隐私)。</p><p id="6fe3" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">因此，挤压块基本上能够通过重放历史中的交易来防止双重花费。这显然在应该是双重花费证明的shadowchain脚本上提出了安全问题。在我看来，batchId概念是一种非常有趣的方法，可以确定性地创建一个防止欺诈的随机数，而不会泄露太多的历史信息。</p><h1 id="4def" class="kl km ht bd kn ko lo kq kr ks lp ku kv kw lq ky kz la lr lc ld le ls lg lh li dt translated">你需要一条暗影锁链吗？</h1><p id="214c" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">有趣的是，本文将LP和影子链这两个概念分开，然后在最后一章描述了LP <strong class="jh hu">如何可以被实现为影子链。</strong></p><p id="6e3a" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">除此之外，shadowchain中的一些概念显然没有很好地解决去中心化的问题，尤其是不可信的协调器。在LP实施提案中，编排者是拍卖者，在我看来，拍卖者是一个值得信赖的第三方。</p><p id="5465" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">另一方面，比特币是以非托管的方式使用的，即每次修改比特币的状态时，Orchestrator都需要收集您的签名，您可以通过运行Orchestrator分发的(受信任的)智能合同来提供签名，Orchestrator可能会决定升级签名。不要相信，验证！</p></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><h1 id="1514" class="kl km ht bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">结论</h1><p id="2b78" class="pw-post-body-paragraph jf jg ht jh b ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy ln ka kb kc hm dt translated">shadowchain是一个区块链，它能够与智能合同的所有者迭代升级您的2–2多签名HTLC。由于智能合约提供“历史性双重消费”保护的必要属性，您的智能合约的状态会定期以块的形式被清除，然后被压缩到比特币交易中。最终，最后一个被压扁的交易在双方签字后在比特币上提交，关闭了通道。</p><h2 id="b0bf" class="mp km ht bd kn mq mr ms kr mt mu mv kv jq mw mx kz ju my mz ld jy na nb lh nc dt translated">另外，阅读</h2><ul class=""><li id="6ed0" class="lz ma ht jh b ji lj jm lk jq nd ju ne jy nf kc me mf mg mh dt translated">什么是<a class="ae kd" href="https://blog.coincodecap.com/what-are-flash-loans-on-ethereum" rel="noopener ugc nofollow" target="_blank">闪贷</a>？</li><li id="259b" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">最好的<a class="ae kd" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="5241" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a> | <a class="ae kd" rel="noopener" href="/coinmonks/pionex-review-exchange-with-crypto-trading-bot-1e459d0191ea"> Pionex评论</a> | <a class="ae kd" href="https://blog.coincodecap.com/coinrule-review-a-perfect-trading-bot" rel="noopener ugc nofollow" target="_blank"> Coinrule评论</a></li><li id="25b2" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/aax-exchange-review-2021-67c5ea09330c"> AAX交易所评论</a> | <a class="ae kd" rel="noopener" href="/coinmonks/deribit-review-options-fees-apis-and-testnet-2ca16c4bbdb2">德里比特评论</a> | <a class="ae kd" rel="noopener" href="/coinmonks/ftx-crypto-exchange-review-53664ac1198f"> FTX密码交易所评论</a></li><li id="1a62" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/ngrave-zero-review-c465cf8307fc">n零审核</a></li><li id="a108" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit Exchange审查</a> | <a class="ae kd" href="https://blog.coincodecap.com/bityard-reivew" rel="noopener ugc nofollow" target="_blank"> Bityard审查</a></li><li id="cfc6" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">3Commas vs Cryptohopper </li><li id="51e2" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">最好的比特币<a class="ae kd" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&amp;sk=324dd9ff8556ab578d71e7ad7658ad7c">硬件钱包</a></li><li id="7b5d" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" href="https://blog.coincodecap.com/ngrave-vs-ledger" rel="noopener ugc nofollow" target="_blank">总账vs平均</a></li><li id="4268" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">密码本交易平台</a></li><li id="8fd1" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" href="https://blog.coincodecap.com/ledger-nano-s-vs-x" rel="noopener ugc nofollow" target="_blank">莱杰纳米s vs x </a></li><li id="2237" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" href="https://blog.coincodecap.com/vauld-review" rel="noopener ugc nofollow" target="_blank">Vauld Review</a>|<a class="ae kd" rel="noopener" href="/coinmonks/youhodler-4-easy-ways-to-make-money-98969b9689f2">you hodler Review</a></li><li id="5243" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">最好的<a class="ae kd" rel="noopener" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b">加密税务软件</a> | <a class="ae kd" rel="noopener" href="/coinmonks/cointracking-review-a-reliable-cryptocurrency-tax-software-5114e3eb5737">硬币追踪评论</a></li><li id="7c4f" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">最佳<a class="ae kd" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">加密借贷平台</a></li><li id="ab33" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" href="https://blog.coincodecap.com/ledger-nano-s-vs-trezor-one-ledger-nano-x-trezor-t" rel="noopener ugc nofollow" target="_blank">莱杰Nano S vs Trezor one vs Trezor T vs莱杰Nano X </a></li><li id="9efe" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/blockfi-vs-celsius-vs-hodlnaut-8a1cc8c26630">block fi vs Celsius</a>vs Hodlnaut</li><li id="1dc3" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/bitsgap-review-a-crypto-trading-bot-that-makes-easy-money-a5d88a336df2"> Bitsgap审核</a> | <a class="ae kd" rel="noopener" href="/coinmonks/quadency-review-a-crypto-trading-automation-platform-3068eaa374e1"> Quadency审核</a></li><li id="d689" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/ellipal-titan-review-85e9071dd029">埃利帕尔泰坦评论</a> | <a class="ae kd" href="https://blog.coincodecap.com/secux-stone-hardware-wallet-review" rel="noopener ugc nofollow" target="_blank">赛克斯斯通评论</a></li><li id="5279" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/blockfi-review-53096053c097"> BlockFi评论</a> |在您的密码中赚取高达8.6%的利息</li><li id="6a8a" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" href="https://explorer.bitquery.io/ethereum/dex" rel="noopener ugc nofollow" target="_blank"> DEX Explorer </a>和<a class="ae kd" href="https://explorer.bitquery.io/graphql" rel="noopener ugc nofollow" target="_blank">区块链API</a></li><li id="b037" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated"><a class="ae kd" rel="noopener" href="/coinmonks/crypto-arbitrage-guide-how-to-make-money-as-a-beginner-62bfe5c868f6">加密套利</a>指南:新手如何赚钱</li><li id="b46f" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">最佳<a class="ae kd" rel="noopener" href="/coinmonks/what-are-the-best-charting-platforms-for-cryptocurrency-trading-85aade584d80">加密制图工具</a></li><li id="ef45" class="lz ma ht jh b ji mj jm mk jq ml ju mm jy mn kc me mf mg mh dt translated">了解比特币的<a class="ae kd" rel="noopener" href="/coinmonks/what-are-the-best-books-to-learn-bitcoin-409aeb9aff4b">最佳书籍有哪些？</a></li></ul><blockquote class="ng"><p id="b751" class="nh ni ht bd nj nk nl nm nn no np kc ek translated"><a class="ae kd" rel="noopener" href="/coinmonks/newsletters/coinmonks">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nr ns nt nu nv iu fe ff paragraph-image"><a href="https://medium.com/coinmonks/newsletters/coinmonks"><div class="fe ff nq"><img src="../Images/160ce73bd06d46c2250251e7d5969f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*BoDnKUyK8p4hitHAJZ5Pdw.png"/></div></a></figure></div></div>    
</body>
</html>