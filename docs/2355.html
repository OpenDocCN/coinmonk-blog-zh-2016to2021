<html>
<head>
<title>How To Test Your Blockchain On Google Cloud Using Hyperledger Caliper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Hyperledger Caliper在Google Cloud上测试您的区块链</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-test-your-blockchain-on-google-cloud-using-hyperledger-caliper-1b1b3713d057?source=collection_archive---------0-----------------------#2019-08-15">https://medium.com/coinmonks/how-to-test-your-blockchain-on-google-cloud-using-hyperledger-caliper-1b1b3713d057?source=collection_archive---------0-----------------------#2019-08-15</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/ec9d63c7e625672046190b384aec8ad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CJK5fZFWtGexShmCOAy1RA.png"/></div></div></figure><p id="3053" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">测试⛓️的区块链应用程序可能会很麻烦，主要是因为它们是复杂的、需要大量资源的分布式系统。在云上测试你的区块链应用程序可能会提高测试过程的效率，以及实现更真实的测试环境。</p><p id="b9fd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="jz">这篇文章提供了如何使用Hyperledger Caliper的101指南(commit</em>302665)<em class="jz">on</em><a class="ka kb gr" href="https://medium.com/u/4f3f4ee0f977?source=post_page-----1b1b3713d057--------------------------------" rel="noopener" target="_blank"><em class="jz">Google Cloud</em></a><em class="jz">，解决了测试一个</em><a class="ae kc" href="https://hyperledger.github.io/composer/latest/" rel="noopener ugc nofollow" target="_blank"><em class="jz">Hyperledger Composer</em></a><em class="jz">应用程序的场景，这是一个区块链框架，它促进了</em><a class="ae kc" href="https://www.hyperledger.org/projects/fabric" rel="noopener ugc nofollow" target="_blank"><em class="jz">Hyperledger Fabric</em></a><em class="jz">应用程序的开发。尽管如此，这个测试过程</em>将<em class="jz">应用于所有由</em> <a class="ae kc" href="https://hyperledger.github.io/caliper/" rel="noopener ugc nofollow" target="_blank"> <em class="jz"> Hyperledger卡钳</em></a><em class="jz">(</em><a class="ae kc" href="https://github.com/hyperledger/burrow" rel="noopener ugc nofollow" target="_blank">Hyperledger钻地</a>，<a class="ae kc" href="https://github.com/hyperledger/fabric" rel="noopener ugc nofollow" target="_blank"> Hyperledger Fabric </a>，<a class="ae kc" href="https://github.com/hyperledger/iroha" rel="noopener ugc nofollow" target="_blank"> Hyperledger Iroha </a>，<a class="ae kc" href="https://github.com/hyperledger/sawtooth-core" rel="noopener ugc nofollow" target="_blank"> Hyperledger锯齿</a>以及更多<em class="jz">)支持的区块链。</em></p><h1 id="29ea" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">设置测试环境</h1><ol class=""><li id="f11d" class="lb lc ht jd b je ld ji le jm lf jq lg ju lh jy li lj lk ll dt translated">创建一个私有存储库(例如在Github上)。</li><li id="9308" class="lb lc ht jd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated">将Hyperledger Caliper项目转移到您的私人回购中:</li></ol><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="a49e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3.克隆您的私人回购:</p><pre class="lr ls lt lu fq lx ly lz ma aw mb dt"><span id="9e19" class="mc ke ht ly b fv md me l mf mg">git clone https://github.com/USERNAME/CALIPER-PRIVATE-REPO.git</span></pre><p id="d701" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">4.在<em class="jz">CALIPER-PRIVATE-REPO/packages/CALIPER-samples/benchmark/composer</em>上，用您的应用程序的名称创建一个文件夹，例如<strong class="jd hu"> my-network </strong>。</p><p id="2559" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">5.在<strong class="jd hu"> my-network </strong>文件夹中，粘贴来自该库的<a class="ae kc" href="https://github.com/BlockChain4Students/hyperledger_caliper-google_cloud" rel="noopener ugc nofollow" target="_blank">配置和测试文件的内容。在以后的文章中，我将解释如何编写测试(<em class="jz"> my-network.js </em>)和基准配置(<em class="jz"> config.yaml </em>)。</a></p><p id="e1ba" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">6.你应该有一个发达的商业网络使用作曲家(BNA档案馆)。如果您没有开发业务网络，您仍然可以配置Caliper来测试默认的业务网络。</p><p id="441b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在<em class="jz">CALIPER-PRIVATE-REPO-justice chain/packages/CALIPER-samples/src/contract/composer</em>上，创建一个名为<strong class="jd hu"> my-network </strong>的文件夹。将您的业务网络存档文件(<strong class="jd hu">解压后的</strong> BNA文件)粘贴到文件夹内。您应该有一个lib文件夹、一个models文件夹和package.json、permission.acl文件，还可以有一个README.md文件。</p><p id="29fc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">请注意，在package.json上，网络的名称和版本必须与composer.json上的名称和版本一致。例如package.json:</p><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="5695" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">7.你有必要的文件来测试你的应用程序。将它们推送到您的存储库:</p><pre class="lr ls lt lu fq lx ly lz ma aw mb dt"><span id="35a4" class="mc ke ht ly b fv md me l mf mg">git add *<br/>git commit -m"add benchmark files"<br/>git push origin master</span></pre><h1 id="4966" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">设置谷歌云</h1><ol class=""><li id="e8df" class="lb lc ht jd b je ld ji le jm lf jq lg ju lh jy li lj lk ll dt translated">在Google Cloud上创建一个帐户。新账户可以申请免费试用。创建一个项目，并激活计算实例API。</li><li id="7fae" class="lb lc ht jd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated">在计算引擎-&gt;虚拟机实例，点击<strong class="jd hu">创建一个新实例</strong>。</li></ol><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mh"><img src="../Images/1dee8cf5bada11eabd9d9f334a9ad8e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ksIorR03LO13lrF7kGIZ_Q.png"/></div></div></figure><p id="cb1d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3.启动您的实例。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mi"><img src="../Images/550919f3239a36f153d53feb347db546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*spWuQdYO_PZY2RDfQEpkrw.png"/></div></div></figure><p id="4bc9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">4.单击连接— SSH。</p><p id="4aaf" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">5.安装Hyperledger卡尺的先决条件(感谢<a class="ka kb gr" href="https://medium.com/u/5e4c7deea497?source=post_page-----1b1b3713d057--------------------------------" rel="noopener" target="_blank"> Daz Wilkin </a>):</p><p id="7a67" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> Docker-CE </strong></p><pre class="lr ls lt lu fq lx ly lz ma aw mb dt"><span id="999a" class="mc ke ht ly b fv md me l mf mg">sudo apt-get update</span><span id="30d7" class="mc ke ht ly b fv mj me l mf mg">sudo apt-get install \<br/>    linux-image-extra-$(uname -r) \<br/>    linux-image-extra-virtual</span><span id="9b78" class="mc ke ht ly b fv mj me l mf mg">sudo apt-get update</span><span id="2e74" class="mc ke ht ly b fv mj me l mf mg">sudo apt-get install \<br/>    apt-transport-https \<br/>    ca-certificates \<br/>    curl \<br/>    software-properties-common</span><span id="bd4d" class="mc ke ht ly b fv mj me l mf mg">curl -fsSL <a class="ae kc" href="https://download.docker.com/linux/ubuntu/gpg" rel="noopener ugc nofollow" target="_blank">https://download.docker.com/linux/ubuntu/gpg</a> | sudo apt-key add -</span><span id="0e62" class="mc ke ht ly b fv mj me l mf mg">sudo add-apt-repository \<br/>   "deb [arch=amd64] <a class="ae kc" href="https://download.docker.com/linux/ubuntu" rel="noopener ugc nofollow" target="_blank">https://download.docker.com/linux/ubuntu</a> \<br/>   $(lsb_release -cs) \<br/>   stable"</span><span id="facb" class="mc ke ht ly b fv mj me l mf mg">sudo apt-get update</span><span id="1c61" class="mc ke ht ly b fv mj me l mf mg">sudo apt-get install docker-ce</span><span id="6f0b" class="mc ke ht ly b fv mj me l mf mg">sudo usermod -aG docker $USER</span><span id="009c" class="mc ke ht ly b fv mj me l mf mg">sudo systemctl enable docker</span><span id="ad13" class="mc ke ht ly b fv mj me l mf mg">docker --version</span></pre><p id="5401" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> docker-compose </strong></p><pre class="lr ls lt lu fq lx ly lz ma aw mb dt"><span id="20b9" class="mc ke ht ly b fv md me l mf mg">sudo curl -L <a class="ae kc" href="https://github.com/docker/compose/releases/download/1.16.1/docker-compose-%60uname" rel="noopener ugc nofollow" target="_blank">https://github.com/docker/compose/releases/download/1.16.1/docker-compose-`uname</a> -s`-`uname -m` -o /usr/local/bin/docker-compose</span><span id="d53e" class="mc ke ht ly b fv mj me l mf mg">sudo chmod +x /usr/local/bin/docker-compose</span><span id="0cb2" class="mc ke ht ly b fv mj me l mf mg"><strong class="ly hu">Golang (optional)</strong></span><span id="409f" class="mc ke ht ly b fv mj me l mf mg">VERSION=1.9.1<br/>OS=linux<br/>ARCH=amd64<br/>sudo curl \<br/>--location <a class="ae kc" href="https://golang.org/dl/go$VERSION.$OS-$ARCH.tar.gz" rel="noopener ugc nofollow" target="_blank">https://golang.org/dl/go$VERSION.$OS-$ARCH.tar.gz</a> \<br/>--output go$VERSION.$OS-$ARCH.tar.gz</span><span id="a89f" class="mc ke ht ly b fv mj me l mf mg">sudo tar -C /usr/local -xzf go$VERSION.$OS-$ARCH.tar.gz</span><span id="fe00" class="mc ke ht ly b fv mj me l mf mg">export PATH=$PATH:/usr/local/go/bin</span><span id="06a8" class="mc ke ht ly b fv mj me l mf mg">go version</span></pre><p id="f534" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">6.用Caliper克隆你的私有库，将你的区块链应用程序克隆到你的谷歌计算实例中。</p><h1 id="163c" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">测试应用程序</h1><p id="1e4f" class="pw-post-body-paragraph jb jc ht jd b je ld jg jh ji le jk jl jm mk jo jp jq ml js jt ju mm jw jx jy hm dt translated">要运行您的基准测试，请导航至<em class="jz">卡尺/封装/卡尺-样本。</em></p><p id="473c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用<strong class="jd hu"> CouchDB </strong> run对您的应用进行基准测试:<br/>caliper benchmark run-w ./-c benchmark/composer/justice/config . YAML-n benchmark/composer/justice/composer . JSON</p><p id="d0ee" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用<strong class="jd hu"> LevelDB </strong> run对您的应用进行基准测试:<br/>caliper benchmark run-w ./-c benchmark/composer/justice/config . YAML-n benchmark/composer/justice/composer-level . JSON</p><p id="704d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">基准测试的结果将在终端上报告。</p><p id="2c6d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">完成实验后，不要忘记在谷歌云中停止你的机器，否则💸。</p></div><div class="ab cl mn mo hb mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hm hn ho hp hq"><h1 id="61d2" class="kd ke ht bd kf kg mu ki kj kk mv km kn ko mw kq kr ks mx ku kv kw my ky kz la dt translated">后续步骤:</h1><p id="2494" class="pw-post-body-paragraph jb jc ht jd b je ld jg jh ji le jk jl jm mk jo jp jq ml js jt ju mm jw jx jy hm dt translated">如果你对学习区块链技术充满热情，欢迎加入我正在启动的项目😃我们的目标是教授学生区块链技术。</p><p id="b035" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果有任何不清楚的地方，欢迎在评论区留下你的评论。</p><p id="7773" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">就这样，恭喜你！干杯，继续摇摆💪</strong></p><blockquote class="mz"><p id="b150" class="na nb ht bd nc nd ne nf ng nh ni jy ek translated"><a class="ae kc" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nk nl nm nn no iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nj"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>