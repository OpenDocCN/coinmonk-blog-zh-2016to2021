<html>
<head>
<title>C++ Guide for EOS Development — Header files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">for EOS开发指南-头文件</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/c-guide-for-eos-development-header-files-9e01e1fb3b51?source=collection_archive---------2-----------------------#2018-10-21">https://medium.com/coinmonks/c-guide-for-eos-development-header-files-9e01e1fb3b51?source=collection_archive---------2-----------------------#2018-10-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/3706911541d06eb9dfaa36c81cd41d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HRQqJYtWLqDnphPS.png"/></div></div></figure><div class=""/><blockquote class="jb jc jd"><p id="7d1d" class="je jf jg jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这篇文章是我为EOS开发人员编写的<a class="ae kd" href="https://cmichel.io/categories/learneos" rel="noopener ugc nofollow" target="_blank"> C++指南</a>的一部分</p></blockquote><ol class=""><li id="531a" class="ke kf ie jh b ji jj jm jn kg kh ki kj kk kl kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-basics/" rel="noopener ugc nofollow" target="_blank">基础</a></li><li id="4cf7" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-call-by-value-reference/" rel="noopener ugc nofollow" target="_blank">通过值/引用调用&amp;指针</a></li><li id="0f48" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-classes-and-structs/" rel="noopener ugc nofollow" target="_blank">类和结构</a></li><li id="f84c" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-templates" rel="noopener ugc nofollow" target="_blank">模板</a></li><li id="94be" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-iterators-lambda-expressions" rel="noopener ugc nofollow" target="_blank">迭代器&amp;λ表达式</a></li><li id="70e4" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-multi-index" rel="noopener ugc nofollow" target="_blank">多指标</a></li><li id="a7b7" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc km kn ko kp dt translated"><a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-header-files" rel="noopener ugc nofollow" target="_blank">头文件</a></li></ol><h2 id="18a2" class="kv kw ie bd kx ky kz la lb lc ld le lf kg lg lh li ki lj lk ll kk lm ln lo lp dt translated">头文件</h2><p id="6aac" class="pw-post-body-paragraph je jf ie jh b ji lq jk jl jm lr jo jp kg ls js jt ki lt jw jx kk lu ka kb kc hm dt translated">在C++中有两种主要的文件类型。源文件(<code class="eh lv lw lx ly b">.cpp</code>)和头文件(<code class="eh lv lw lx ly b">.hpp</code>或<code class="eh lv lw lx ly b">.h</code>)。头文件是您<em class="jg">在编写<code class="eh lv lw lx ly b">#include &lt;vector&gt;</code>或<code class="eh lv lw lx ly b">#include "./Game.hpp"</code>时所包含的文件</em>。</p><p id="600b" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">如果你来自Java、C#等语言。，对您来说<em class="jg">头文件</em>的概念可能会出现怪异和不必要的情况。但是让我试着激发一下为什么C++会这样做。</p><p id="cab5" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">C++将<strong class="jh if">声明</strong>与<strong class="jh if">定义</strong>分开。声明<em class="jg">引入</em>一个标识符并描述其类型。它使标识符为<em class="jg">编译器</em>所知。</p><p id="ea4b" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">示例有:</p><pre class="lz ma mb mc fq md ly me mf aw mg dt"><span id="0ed3" class="kv kw ie ly b fv mh mi l mj mk">// extern means exactly this, that the definition is in another file<br/>extern int a;<br/><br/>double square(double d);<br/><br/>class Currency<br/>{<br/>    string name;<br/>    double priceInUSD;<br/><br/>    public:<br/>    Currency(const string &amp;_name, const double price);<br/><br/>    void setName(const string &amp;dogsName);<br/>    void setPrice(double price);<br/>    void print() const;<br/>};</span></pre><blockquote class="jb jc jd"><p id="92c2" class="je jf jg jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">这个类声明实际上也作为一个定义，但是让我们保持它的简单，以表明这一点。</p></blockquote><p id="3c61" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">定义<em class="jg">实例化</em>标识符。这是<em class="jg">链接器</em>在编译步骤后组装二进制文件所需要的。示例有初始化变量或<em class="jg">实现</em>功能:</p><pre class="lz ma mb mc fq md ly me mf aw mg dt"><span id="14ec" class="kv kw ie ly b fv mh mi l mj mk">int a;<br/>int b = 5;<br/>void Currency::setPrice(double price)<br/>{<br/>    priceInUSD = price;<br/>}<br/><br/>void Currency::print() const<br/>{<br/>    cout &lt;&lt; name &lt;&lt; " is at a price of " &lt;&lt; priceInUSD &lt;&lt; "USD\n";<br/>}<br/><br/>// ...</span></pre><blockquote class="jb jc jd"><p id="e6c0" class="je jf jg jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">C++有一个<em class="ie">一个定义规则</em>:虽然你可以想声明多少次就声明多少次，但是你只能有一个定义。</p></blockquote><p id="0d9f" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">简单地说:声明说某个标识符存在于某个地方，这个定义给了这个标识符一张脸。</p><p id="02e2" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">通常，您将<strong class="jh if">声明放在头文件</strong>中，将<strong class="jh if">定义放在源文件</strong>中。</p><p id="aeae" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">为什么C++将定义和声明分开，而不是像大多数现代语言那样从源文件中自动识别符号，这是因为~~它已经有30年的历史了~ ~将声明放在头文件中有几个好处:</p><ul class=""><li id="d9f1" class="ke kf ie jh b ji jj jm jn kg kh ki kj kk kl kc ml kn ko kp dt translated">它提高了编译时间，因为编译器只需要头文件中的<em class="jg">声明</em>。因此，减少了实现变化的不必要的重新编译。(然而，C++是编译速度最慢的语言之一。)</li><li id="96f7" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc ml kn ko kp dt translated">它在结构上将类的接口与实现分开。</li><li id="46a3" class="ke kf ie jh b ji kq jm kr kg ks ki kt kk ku kc ml kn ko kp dt translated">您可以只通过头文件来构建代码，而不需要访问定义/实现的源代码</li></ul><p id="e385" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">你的项目越大，像这样组织你的代码就越好，否则，你的代码可能会变得难以理解。一开始，一个头文件和一个源文件(或者甚至一个既有声明又有定义的源文件)就足够了。</p><figure class="lz ma mb mc fq hv fe ff paragraph-image"><a href="https://learneos.one#modal"><div class="fe ff mm"><img src="../Images/2c780d1432fb374fae03122d7de92273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g37pgrVQzJ6uIGuL.png"/></div></a></figure></div><div class="ab cl mn mo hb mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hm hn ho hp hq"><p id="23c2" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp kg jr js jt ki jv jw jx kk jz ka kb kc hm dt translated">最初发表于<a class="ae kd" href="https://cmichel.io/cpp-guide-for-eos-development-header-files/" rel="noopener ugc nofollow" target="_blank"> cmichel.io </a></p><blockquote class="mu"><p id="4756" class="mv mw ie bd mx my mz na nb nc nd kc ek translated"><a class="ae kd" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nf ng nh ni nj hv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ne"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>