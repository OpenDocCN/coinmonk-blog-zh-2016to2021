# 两种定价方案的故事

> 原文：<https://medium.com/coinmonks/a-tale-of-two-pricing-schemes-dc9c8717906?source=collection_archive---------1----------------------->

![](img/c1ee154bd54761aedcd4ee893351aa80.png)

Photo by [Artem Beliaikin](https://unsplash.com/@belart84?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# TL；速度三角形定位法(dead reckoning)

*   如果您高估了区块基本费用，无论您高估了多少，您仍将只支付您所在区块的基本费用。
*   **以太坊燃气价格的这一微小而微妙的变化使得以太坊新用户最常见的一个不满点几乎完全消失了。**

# 一个用户故事

想象你是一个新手以太坊用户。您刚刚安装了比特币基地钱包，并提交了您的第一笔 Uniswap 交易。比特币基地钱包告诉你，你的交易应该在几分钟内确认，你耐心等待。几分钟过去了，什么也没有发生，您认为一定是出错了，所以您关闭了所有的程序并重试，但是您遇到了类似的问题，您的事务只是等待。

沮丧之余，您认为这一定是您正在使用的应用程序的问题，因此您转向另一个以太坊应用程序并尝试发送一个事务。不幸的是，这导致了同样的问题。然后，你有一个好主意，通过给自己发送一些 ETH 来测试比特币基地钱包是否有问题，但可惜这也卡住了。

最后你到了山穷水尽的地步，所以你去寻找支持。你首先尝试联系比特币基地，但他们的支持回复需要很长时间，所以你决定去你最初尝试使用的应用程序的 Discord 服务器。在描述了你的问题并与他人分享了你的以太坊地址后，他们向你解释说你有半打未完成的交易，在第一笔交易通过之前，它们都不会通过。他们告诉你这是一个可以解决的问题，并问你用的是什么钱包。

当告诉支持代表您正在使用比特币基地钱包时，他们会回复😢并告诉你，不幸的是，比特币基地钱包没有提供必要的工具来纠正这种情况，你唯一的选择是等待和希望油价下跌，或改用另一种更先进的钱包，如 MetaMask。这是你第一次听说“汽油价格”，你问这是什么，这导致了一个 10 分钟的对话，你真的不明白。

然后你去安装 MetaMask，它会问你你的恢复词。支持代表告诉你把恢复词从你的比特币基地钱包，但比特币基地钱包给你非常明确的指示，永远不要把你的恢复词给任何人！你接触你的信任网络，几个小时后能够验证元掩码是合法的，并且将你的恢复单词放入元掩码是相当安全的，但是一旦整个事情结束，你可能应该创建一个新的钱包。

设置 MetaMask 后，你被告知发送 0 ETH 给你自己，进入高级气体设置(一个你并不真正理解的术语)并将其设置为 70。支持人员会向您发送一个网站链接，该网站显示一些每 15 秒左右变化一次的数字，他们会告诉您在提交交易之前，将 MetaMask 中的天然气价格设置为网站上的第一个数字。

您努力遵循这些指示，您的交易就成功了！然后你查看你的账户余额，看看是否一切都好，你发现你比你预期的少了很多，你还注意到你想做的事情没有一件真正发生。支持代表耐心地解释说，在清除阻塞后，您的所有其他事务会立即通过，但您尝试执行的特定事务都有时间过期，而且过期很久了。他们告诉你，每一次失败的交易都让你损失了一些汽油(同样，这个术语你并不真正理解！这就是为什么你的平衡下降了。

你被告知，你的帐户现在工作正常，你可以再次尝试你的交易，但显然你应该看这个网站，并设置“天然气价格”以匹配它显示的数字，任何时候你想做任何事情。

# 就一次吗？

不幸的是，以上是用户非常普遍的情况，虽然指责比特币基地很容易，但几乎每个钱包的用户都会出现同样的问题，包括像 MetaMask 这样的高级钱包。这个问题在日益拥挤的时候(当钱包估计汽油价格错误时)最常见，尽管由于汽油价格估计软件中的错误或古怪，类似的问题在非拥挤的时候也会发生。

# 幸福的结局

现在想象一下，我们生活在一个工具不需要成为预测未来以太坊区块空间需求的专家的世界。用户只需要设置他们愿意支付的**最大值**就可以获得交易，而不必担心支付过多。用户不会跌跌撞撞地掉进这个等待交易的无尽的绝望深渊，他们只是表明他们愿意为包容性支付的最大值，他们可以相信他们永远不会支付更多。没必要谈判。不用估计。无需了解/预测天然气价格市场。

这就是 EIP-1559 所提供的。这使得比特币基地钱包可以可靠地确保其用户的所有交易都被纳入区块链，而他们的客户不必支付过多的费用，也不必开发先进的交易和预测算法来准确估计费用。

它使得 MetaMask 可以让用户指定他们愿意支付的最高费用，而不是要求他们预测未来。

它使用户不再陷入需要专家帮助才能摆脱的境地。

它使得用户不会在过多的汽油费用上浪费大量的钱。

它使得用户界面不再需要一个简单的打字错误就能烧掉他们所有钱的区域。

注意:从这里开始，事情变得有点技术性，如果你只是想要感觉部分，这是一个很好的地方。

# 哪里出了问题？

在上面的用户故事中，比特币基地试图对用户隐瞒天然气价格，因为这是一个非常复杂的话题，绝大多数用户都不理解。取而代之的是，他们代表用户估算天然气价格，而且大多数情况下，这种方法效果不错。然而，当汽油价格波动很大时，他们的算法有时会猜错(虽然不是他们的错)，用户现在在哪个点上有一个停滞的交易。一旦交易被卡住，它将阻止所有未来的交易，直到它通过，无论那些未来交易的天然气价格是多少。这导致用户试图自己解决问题，从而让自己越陷越深。

不幸的是，一旦这个洞被挖好了，就没有走出去的灵丹妙药了。您可以使用一个高级工具，使用 MetaMask 之类的自定义随机数(假设您的钱包支持恢复字)来清除一个交易，但随后您的所有其他交易(可能包括重复交易、过期交易等。)会不必要地淹没燃烧的气体。相反，您可以按相反的顺序完成和取消所有交易，但对于最终用户来说，这是一个非常复杂的过程，需要一名专门的支持人员陪您坐 10-15 分钟，引导您完成整个过程。即使在这种情况下，你仍然燃烧天然气，只是比你在取消其他一切之前清除堵塞要少一些。

# 过去的表现并不能保证未来的结果

这里问题的根源在于，气价估计真的是**硬**。有许多工具试图管理它，但最终这是一个不能轻易解决的问题，因为未来的天然气价格是区块空间需求的函数，并且区块空间需求随着成千上万的人每天做他们的事情而时刻变化。有些事件可以预测需求的增长，如 ICO 发布、新的热门项目发布、oracle 价格反馈更新等。但几乎不可能跟踪所有这些情况，即使你做到了，也不可能对任何特定事件带来的需求数量有强有力的保证。

最后，天然气价格估算者通常会参考历史，并在此基础上对未来的天然气价格进行猜测。这在某些时候相当有效，但在油价上涨或下跌的任何时候都不起作用。更糟糕的是，你总是支付你估计的全部汽油价格，即使你高估了！这意味着每个人都有强烈的愿望试图压低油价，希望达成交易。即使你不想低球，你往往希望至少不要多付了一大笔钱，所以你选择一个中间路线的号码，你怀疑会让你相对较快地被列入一个区块。

# 解决方法是什么？

EIP 1559 年。大多数人知道这个 EIP 是因为以太网供应减少，因为这是一个很好的迷因，但我认为 1559 的真正价值在于以太坊可用性的提高。在以太坊包括 EIP-1559 的世界里，这一整类问题将几乎完全消失。虽然仍有可能让自己陷入这样的困境，但钱包会变得更容易帮助你从一开始就避免陷入困境。

有了 EIP-1559，而不是比特币基地和其他钱包需要以很高的准确度准确猜测未来以太坊的需求，并在他们猜测错误的情况下导致用户支付不必要的费用，而是他们可以包括大多数矿工接受的固定矿工贿赂(可能在 1 纳米的数量级)，并设置费用上限，即当前基本费用的 2 倍加上矿工贿赂。有了这些设置，用户的事务不会被包括在接下来的 6 个块中的唯一方法是，如果块空间**的需求比现在的所有 6 个块的需求增加一倍**！

EIP-1559 的巨大胜利是微妙的，人们经常错过它，但它是至关重要的。**如果您高估了区块基本费用，无论您高估了多少，您仍将只支付您所在区块的基本费用！**这意味着，如果您将费用上限设置为 1000 英镑，将矿工贿赂设置为 1 英镑，但您被包含在基本费用为 10 英镑的区块中，那么您将只需为每份汽油支付 11 英镑。这与今天的以太坊形成了鲜明的对比，在以太坊，如果你设定 1000 英镑的油价，你就要为每笔油价支付 1000 英镑，即使 11 英镑已经把你算在内了！

可用性难题的另一部分是，平均而言，块将是半满的，这意味着块中几乎总是有空间用于支付基本费用的任何交易。这意味着块空间上的竞争很少，理论上，甚至挂起池在大多数时间都应该是空的。

这意味着，希望从最终用户那里获取油价的钱包(这是一个勇敢的目标)可以做到，而不必成为猜测油价的专家(即使是最熟练的以太坊专家有时也会失败)。以太坊天然气价格的这一微小而微妙的变化使得以太坊新用户最常见的一个不满点几乎完全消失了。我们终于可以实现以太坊的梦想，最终用户无需担心或考虑天然气价格。