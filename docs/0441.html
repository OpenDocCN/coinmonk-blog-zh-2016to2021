<html>
<head>
<title>Developing Ethereum Dapps with Truffle, Ganache and MetaMask</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用松露、Ganache和MetaMask开发以太坊Dapps</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/developing-ethereum-dapps-with-truffle-ganache-and-metamask-31bc5023ce91?source=collection_archive---------0-----------------------#2018-05-06">https://medium.com/coinmonks/developing-ethereum-dapps-with-truffle-ganache-and-metamask-31bc5023ce91?source=collection_archive---------0-----------------------#2018-05-06</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/dd730408957084b38a36936771672ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pC2oiZ-7eZV1R9awbPO7eQ.png"/></div></div></figure><ul class=""><li id="abd2" class="jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js dt translated">插件:元遮罩</li><li id="ff37" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">框架:松露</li><li id="9043" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">服务器环境:节点JS</li><li id="08eb" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">智能合同语言:Solidty</li><li id="5955" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">库:Web3.js</li><li id="07f6" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">以太坊区块链模拟器:Ganach-cli</li></ul><blockquote class="jy"><p id="0c60" class="jz ka ht bd kb kc kd ke kf kg kh jo ek translated">交易新手？尝试<a class="ae ki" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a>或<a class="ae ki" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a></p></blockquote><h2 id="af0a" class="kj kk ht bd kl km kn ko kp kq kr ks kt ji ku kv kw jk kx ky kz jm la lb lc ld dt translated">源代码</h2><ul class=""><li id="35a8" class="jb jc ht jd b je le jg lf ji lg jk lh jm li jo jp jq jr js dt translated"><a class="ae ki" href="https://github.com/kennethhutw/MetaCoinWebSite" rel="noopener ugc nofollow" target="_blank">网站</a></li><li id="88b0" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">完整代码(即将发布)</li></ul><h1 id="b4b7" class="lj kk ht bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz dt translated">Dapps架构</h1><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ma"><img src="../Images/17edbaa85fa3e86d35518157b1599190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7VYq1n8vlxcQIPhgOsx6Mw.png"/></div></div></figure><p id="9b2d" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">如果你对用以太坊区块链构建网络应用感兴趣，你可能会发现松露网络框架非常适合你的需求。</p><p id="3a0a" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">对于许多类型的dapp(分布式应用程序)，Truffle可以做你想做的一切:它编译你的区块链契约，将它们注入你的web应用程序，甚至可以针对它们运行一个测试套件！</p><p id="c1b4" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">有了Metamask，你的用户所需要做的就是<a class="ae ki" href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?authuser=2" rel="noopener ugc nofollow" target="_blank">安装我们的Chrome插件</a>，他们就可以在浏览器中方便地拥有自己的安全区块链账户。</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div class="fe ff mu"><img src="../Images/0277f1af33edf73372366cc75d1bc403.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*YSBsoEYkMy2iMNPZ2wIgiA.png"/></div></figure><h1 id="603f" class="lj kk ht bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz dt translated">安装Truffle依赖项</h1><p id="d9b2" class="pw-post-body-paragraph mf mg ht jd b je le mh mi jg lf mj mk ji mv mm mn jk mw mp mq jm mx ms mt jo hm dt translated">你需要安装<a class="ae ki" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> node.js </a>。</p><p id="50ed" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">从那里，你需要安装松露(<code class="eh my mz na nb b">npm install -g truffle</code>)。</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nc"><img src="../Images/a06336e61dbc2107c7b5a7e9a878bf65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qgtfztimvi5HF5ulfnDPlg.png"/></div></div></figure><p id="ec55" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">此外，您将需要运行一个本地区块链RPC服务器来进行测试和开发。我推荐用<a class="ae ki" href="https://github.com/trufflesuite/ganache-cli" rel="noopener ugc nofollow" target="_blank"> Ganache </a>，你运行<code class="eh my mz na nb b">npm install -g ganache-cli</code>安装。</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nc"><img src="../Images/83e9b3184d44a8a9063f5458c5beb73e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6nltUvQpm3PyUBBGUaWLDA.png"/></div></div></figure><p id="b2b7" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">工作中心(190 clemen ceau Ave # 06–01，Singapore 239924)接下来让我们确保我们的<code class="eh my mz na nb b">ganache</code>在后台运行。打开您的终端并运行命令<code class="eh my mz na nb b">ganache-cli</code>。仅此而已！默认情况下，它运行在<code class="eh my mz na nb b">8545</code>端口上，就像大多数以太坊RPC一样，松露也是如此。</p><p id="3c2c" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">还要注意的是，当<code class="eh my mz na nb b">ganache</code>第一次启动时，它会打印出一个用ether预注资的账户列表，以及一个12个字的种子短语，用于重新生成这些账户。您可以使用这个种子短语用相同的帐户初始化您的元掩码客户端，当您开始时，您将有很多以太网！(以太用于支付以太坊网络的网络使用费或燃气费)</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nd"><img src="../Images/fae2fff247b2fafbf203e0310413149f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fhOZn5otNjg31jsp4GF9vg.png"/></div></div></figure><p id="907a" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">如果你想用你已经在MetaMask中的账户启动<code class="eh my mz na nb b">ganache</code>，你可以告诉<code class="eh my mz na nb b">ganache</code>使用什么种子短语和<code class="eh my mz na nb b">-m</code>标志。例如:</p><pre class="mb mc md me fq ne nb nf ng aw nh dt"><span id="c15f" class="kj kk ht nb b fv ni nj l nk nl">$ ganache-cli -m "concert load couple harbor equip island argue ramp clarify fence smart topic"</span></pre><h1 id="ce3d" class="lj kk ht bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz dt translated">建立一个简单的松露Dapp</h1><p id="34d4" class="pw-post-body-paragraph mf mg ht jd b je le mh mi jg lf mj mk ji mv mm mn jk mw mp mq jm mx ms mt jo hm dt translated">接下来，让我们生成一个基本的松露dapp。<code class="eh my mz na nb b">truffle init</code>的默认结果是一个简单的示例货币。</p><p id="3b33" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">要启动并运行它，请运行以下命令:</p><pre class="mb mc md me fq ne nb nf ng aw nh dt"><span id="8a43" class="kj kk ht nb b fv ni nj l nk nl">mkdir metacoin# Create a folder for your new dapp</span><span id="f746" class="kj kk ht nb b fv nm nj l nk nl">cd metacoin# Move into that folder</span><span id="11aa" class="kj kk ht nb b fv nm nj l nk nl">truffle init # Initialize a default truffle project in that folder</span><span id="d0c6" class="kj kk ht nb b fv nm nj l nk nl">truffle compiler</span><span id="b6f2" class="kj kk ht nb b fv nm nj l nk nl">truffle migrate # Build, compile, &amp; deploy the dapp</span><span id="710c" class="kj kk ht nb b fv nm nj l nk nl">truffle test test/metacoin.js</span></pre><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nd"><img src="../Images/f8641eb8b9453cc6e19a141bcc41aba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bvzomU3-yn1qk8LxWC_pMA.png"/></div></div></figure><figure class="mb mc md me fq iu fe ff paragraph-image"><div class="ab fr cl nn"><img src="../Images/aa458e05c29312f738e9d14d25f448f0.png" data-original-src="https://miro.medium.com/v2/format:webp/0*xS2S2w3A6_O4TQwS.png"/></div></figure><h1 id="c88b" class="lj kk ht bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz dt translated">设置元掩码</h1><p id="c8aa" class="pw-post-body-paragraph mf mg ht jd b je le mh mi jg lf mj mk ji mv mm mn jk mw mp mq jm mx ms mt jo hm dt translated">如果你访问它，你会看到默认情况下这个新的Dapp模板用你的<code class="eh my mz na nb b">ganache-cli</code>账户列表上的第一个账户登录你，这个账户恰好是预先填充了10k闪亮的新元硬币的账户！那是因为你跑<code class="eh my mz na nb b">truffle migrate</code>的时候，松露用你的第一个账号作为合约发布者，合约上说用10k币资助创作者的账号。</p><p id="e453" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">您现在可以将这些硬币发送到任何您想要的帐户，例如，您的<code class="eh my mz na nb b">ganache-cli</code>列表中的第二个帐户！如果你输入一个地址和一个值，然后点击发送，你会看到你的余额下降！</p><p id="4310" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">如果这看起来有点太简单，我同意你的观点！这就是为什么Metamask给用户一个机会来批准Dapp尝试的每一个交易，这样更安全！</p><p id="082b" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">让我们尝试通过Metamask连接到同一个帐户，看看有多简单！</p><h1 id="b88e" class="lj kk ht bd kl lk ll lm kp ln lo lp kt lq lr ls kw lt lu lv kz lw lx ly lc lz dt translated">设置元掩码</h1><p id="da42" class="pw-post-body-paragraph mf mg ht jd b je le mh mi jg lf mj mk ji mv mm mn jk mw mp mq jm mx ms mt jo hm dt translated">现在你需要从Chrome商店安装<a class="ae ki" href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?authuser=2" rel="noopener ugc nofollow" target="_blank"> Metamask。</a></p><p id="30fd" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">请参见如何<a class="ae ki" rel="noopener" href="/singapore-blockchain-dapps/metamask-metamask-installation-a62865a69d35">安装元掩码</a></p><ol class=""><li id="3e7c" class="jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo no jq jr js dt translated">打开元蒙版</li><li id="b5a5" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo no jq jr js dt translated">单击右上角的当前网络名称。</li><li id="d6fd" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo no jq jr js dt translated">选择<code class="eh my mz na nb b">Custom RPC</code></li><li id="fbfd" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo no jq jr js dt translated">设置当前RPC <code class="eh my mz na nb b">Localhost:8545</code>地址<a class="ae ki" href="http://localhost:9545." rel="noopener ugc nofollow" target="_blank">。</a></li></ol><figure class="mb mc md me fq iu fe ff paragraph-image"><div class="fe ff np"><img src="../Images/d09c5c4948d92f00ac53919903067538.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*9aJ-UTAah-oj-CfFIghpiQ.png"/></div></figure><p id="f815" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">5.填写第二个帐户(0x 035 b 9094158 fc 6 af 051242 b 6 c 04444 c 017 b 7 e 17 c)和金额3</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nq"><img src="../Images/a92d5309a1b9dda1812af98b977b3c0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oIiDOjeD_Oq3iOHd5gXYtg.png"/></div></div></figure><p id="5d24" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">6.你会看到交易的结果。</p><figure class="mb mc md me fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nr"><img src="../Images/9e79289c73540772ef9221dcd076ae44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HVb2i_B4R3QUktRRQdDKGw.png"/></div></div></figure><p id="3f3e" class="pw-post-body-paragraph mf mg ht jd b je jf mh mi jg jh mj mk ji ml mm mn jk mo mp mq jm mr ms mt jo hm dt translated">这是一个简单的例子，但有望展示松露和元掩模是如何协同工作的。他们几乎可以开箱即用！那是因为Truffle帮助你编写符合web3的dapps。Web3是核心以太坊团队声明的Javascript API，Metamask直接注入到Dapp的上下文中！</p><blockquote class="jy"><p id="5674" class="jz ka ht bd kb kc ns nt nu nv nw jo ek translated">加入Coinmonks <a class="ae ki" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ki" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae ki" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="kj kk ht bd kl km kn ko kp kq kr ks kt ji ku kv kw jk kx ky kz jm la lb lc ld dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="jb jc ht jd b je le jg lf ji lg jk lh jm li jo jp jq jr js dt translated"><a class="ae ki" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae ki" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae ki" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="874f" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae ki" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="f33b" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳加密交易所</a> | <a class="ae ki" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度最佳加密交易所</a></li><li id="47a8" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">开发人员的最佳加密API</li><li id="dbe4" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" href="https://coincodecap.com/blockfi-vs-coinbase" rel="noopener ugc nofollow" target="_blank"> Blockfi vs比特币基地</a> | <a class="ae ki" href="https://coincodecap.com/bitkan-review" rel="noopener ugc nofollow" target="_blank"> BitKan评论</a> | <a class="ae ki" href="https://coincodecap.com/bexplus-review" rel="noopener ugc nofollow" target="_blank"> Bexplus评论</a></li><li id="55e4" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" href="https://coincodecap.com/crypto-exchanges-in-south-africa" rel="noopener ugc nofollow" target="_blank">南非的加密交易所</a> | <a class="ae ki" href="https://coincodecap.com/bitmex-crypto-signals" rel="noopener ugc nofollow" target="_blank"> BitMEX加密信号</a></li><li id="1d5b" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" href="https://coincodecap.com/moonxbt-copy-trading" rel="noopener ugc nofollow" target="_blank"> MoonXBT副本交易</a> | <a class="ae ki" href="https://coincodecap.com/crypto-wallets-in-uae" rel="noopener ugc nofollow" target="_blank">阿联酋的加密钱包</a></li><li id="3ad8" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a> | <a class="ae ki" href="https://coincodecap.com/bexplus-review" rel="noopener ugc nofollow" target="_blank"> Bexplus审查</a></li><li id="8509" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" href="https://coincodecap.com/remitano-review" rel="noopener ugc nofollow" target="_blank">雷米塔诺评论</a>|<a class="ae ki" href="https://coincodecap.com/1inch" rel="noopener ugc nofollow" target="_blank">1英寸协议指南</a></li><li id="b359" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">最佳<a class="ae ki" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">密码借贷平台</a></li><li id="3c98" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated"><a class="ae ki" rel="noopener" href="/coinmonks/free-crypto-signals-48b25e61a8da">免费加密信号</a> | <a class="ae ki" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a></li><li id="9487" class="jb jc ht jd b je jt jg ju ji jv jk jw jm jx jo jp jq jr js dt translated">杠杆代币的终极指南</li></ul></div></div>    
</body>
</html>