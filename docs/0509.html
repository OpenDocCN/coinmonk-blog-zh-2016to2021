<html>
<head>
<title>Neo Smart Contract Development -Part 9</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Neo智能合同开发-第9部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/neo-smart-contract-development-part-9-5c36b765014d?source=collection_archive---------4-----------------------#2018-05-14">https://medium.com/coinmonks/neo-smart-contract-development-part-9-5c36b765014d?source=collection_archive---------4-----------------------#2018-05-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="2723" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">部署和测试HelloWorld智能合约</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><a href="https://cryptofi.co/"><div class="fe ff ji"><img src="../Images/8eb99069c498a3c388e6b629c28eb400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*48iQrDOfp0En9N1bYAgW7g.png"/></div></a><figcaption class="jq jr fg fe ff js jt bd b be z ek"><strong class="bd ju">Create Crypto Invoices</strong></figcaption></figure><p id="29be" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><a class="ae kr" href="https://cryptofi.co/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hu"> Cryptofi —创建加密发票，跟踪您的加密支付</strong> </a></p><p id="8897" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><a class="ae kr" href="https://coinmonks.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hu">使用Coinmonks作业门户</strong> </a>查找加密作业</p><p id="a566" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><a class="ae kr" rel="noopener" href="/coinmonks/monks-need-your-help-7440418d67ec"> <strong class="jx hu"> <em class="ks">捐投投僧</em> </strong> </a></p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><a href="https://coinmonks.com"><div class="fe ff kt"><img src="../Images/24325228c537a09e28d6e4d8a7d100b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*2rvJnCn8s5msnFHnqh1LMw.png"/></div></a><figcaption class="jq jr fg fe ff js jt bd b be z ek"><strong class="bd ju">Click to find blockchain Jobs</strong></figcaption></figure><h1 id="4f1a" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">目的</h1><p id="734a" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">本活动的目的是使用部署和测试在上一个活动中创建的HelloWorld智能合约。它使用在之前的活动中构建的新gui开发工具。本练习还使用了NEO Docker容器，该容器也是在之前的练习中安装和配置的。</p><h1 id="5411" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">目标、非目标和假设</h1><ul class=""><li id="f695" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq lw lx ly lz dt translated">确保您有一套正常工作且配置正确的NEO开发人员工具，用于在Visual Studio中使用C#编程语言创建和构建智能合约</li></ul><h1 id="67f8" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">原则</h1><ul class=""><li id="4f83" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq lw lx ly lz dt translated">提供可靠的文档:及时、准确、直观、完整</li><li id="a342" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">尽可能节省一个人的时间</li><li id="23c1" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">尽可能使用开源软件</li></ul><h1 id="5d0b" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">司机</h1><ul class=""><li id="b95b" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq lw lx ly lz dt translated">NEO中的需求。NET开发人员社区拥有简明易懂的文档，使人们能够在尽可能短的时间内快速开发NEO智能合同</li></ul><h1 id="4940" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">启动(重置)NEO privatenet Docker容器</h1><ol class=""><li id="8e0d" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq mf lx ly lz dt translated">通过打开PowerShell并运行以下命令来启动NEO privatenet Docker容器:</li></ol><pre class="jj jk jl jm fq mg mh mi mj aw mk dt"><span id="b74a" class="ml kv ht mh b fv mm mn l mo mp">docker container list<br/>docker stop neo-privnet-with-gas<br/>docker container list<br/>docker rm neo-privnet-with-gas<br/>docker container list<br/>docker run -d --name neo-privnet-with-gas -p 20333-20336:20333-20336/tcp -p 30333-30336:30333-30336/tcp metachris/neo-privnet-with-gas<br/>docker container list<br/>pause</span></pre><p id="b944" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">脚本:NEO Docker重置(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerreset.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerreset . bat . txt</a></p><p id="4b46" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">该脚本产生以下输出:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mq"><img src="../Images/1a54d5241fa1aede464e4cc2bfdcebaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vfW7QA7Evrw4L-pu.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.1. NEO Docker Reset</figcaption></figure><h1 id="228e" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">测试NEO privatenet Docker容器</h1><p id="0e36" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">2.要测试NEO Docker容器，请运行以下脚本:</p><pre class="jj jk jl jm fq mg mh mi mj aw mk dt"><span id="1348" class="ml kv ht mh b fv mm mn l mo mp">REM cd opt/neo-python<br/>REM python3 prompt.py -p<br/>REM block 0<br/>docker exec -it neo-privnet-with-gas /bin/bash<br/>pause</span></pre><p id="d3a6" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">脚本:NEO Docker Python CLI/Shell ( <a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerpshell.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodecrpshell . bat . txt</a></p><p id="b47e" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">当bash shell启动时，输入以下命令:</p><pre class="jj jk jl jm fq mg mh mi mj aw mk dt"><span id="a48c" class="ml kv ht mh b fv mm mn l mo mp">cd opt/neo-python<br/>python3 prompt.py -p<br/>block 0</span></pre><h1 id="7e10" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">配置<code class="eh mv mw mx mh b">neo-gui (developer)</code>以使用NEO privatenet Docker容器</h1><p id="b203" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">3.打开Windows资源管理器，导航到<code class="eh mv mw mx mh b">C:\NEO\neo-gui-developer\neo-gui\bin</code>，右键单击<code class="eh mv mw mx mh b">Debug</code>文件夹并删除它(以及文件夹中的所有内容)。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff my"><img src="../Images/548141cd196a114bb264556ae2127cb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qiWG3KgXvX1GBSlB.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.2. C:\NEO\neo-gui-developer\neo-gui\bin</figcaption></figure><p id="33a5" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">4.导航至<code class="eh mv mw mx mh b">C:\NEO\neo-gui-developer</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff my"><img src="../Images/067fe99e6e3f9fa79d6fe995dc4413c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FoANz2sswbZtUpmQ.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.3. C:\NEO\neo-gui-developer</figcaption></figure><p id="8bb3" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">5.双击<code class="eh mv mw mx mh b">neo-gui.sln</code>在Visual Studio中打开<code class="eh mv mw mx mh b">neo-gui-developer</code>项目。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mz"><img src="../Images/7a8693477ba170f00f3b6c1ee9d05dec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5R72DKgyMzSGvPXO.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.4. Visual Studio: neo-gui project</figcaption></figure><p id="822a" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">6.在Visual Studio中，用<code class="eh mv mw mx mh b">config.neodocker.json</code>的内容替换<code class="eh mv mw mx mh b">config.json</code>的内容。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mz"><img src="../Images/0526cbad6975ffec818039be2041ac76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QzXeIQaE_BcwYwM2.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.5. Visual Studio: config.json</figcaption></figure><p id="fa37" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果<code class="eh mv mw mx mh b">config.neodocker.json</code>不是你项目的一部分，你可以从<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/json/config.neodocker.json" rel="noopener ugc nofollow" target="_blank">这里</a> ( <a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/json/config.neodocker.json" rel="noopener ugc nofollow" target="_blank">)下载。/JSON/config . neo docker . JSON</a>)并放在<code class="eh mv mw mx mh b">C:\NEO\neo-gui-developer\neo-gui</code>文件夹中。在Visual Studio中右击<code class="eh mv mw mx mh b">neo-gui</code>项目文件夹，选择<code class="eh mv mw mx mh b">Add</code> &gt; <code class="eh mv mw mx mh b">Existing Item...</code> &gt; <code class="eh mv mw mx mh b">*.*</code>。选择<code class="eh mv mw mx mh b">config.neodocker.json</code>并点击<code class="eh mv mw mx mh b">Add</code>。</p><p id="5238" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">7.同样，用<code class="eh mv mw mx mh b">protocol.neodocker.json</code>的内容替换<code class="eh mv mw mx mh b">protocol.json</code>的内容。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mz"><img src="../Images/47f31ead46cbf6648d0d0c92b779572a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*srx3PcNZOCuaWItu.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.6. Visual Studio: protocol.json</figcaption></figure><p id="e5f7" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果<code class="eh mv mw mx mh b">protocol.neodocker.json</code>不是你项目的一部分，你可以从<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/json/protocol.neodocker.json" rel="noopener ugc nofollow" target="_blank">这里</a> ( <a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/json/protocl.neodocker.json" rel="noopener ugc nofollow" target="_blank">)下载。/JSON/protocol . neo docker . JSON</a>)并将其放在<code class="eh mv mw mx mh b">C:\NEO\neo-gui-developer\neo-gui</code>文件夹中。在Visual Studio中右击<code class="eh mv mw mx mh b">neo-gui</code>项目文件夹，选择<code class="eh mv mw mx mh b">Add</code> &gt; <code class="eh mv mw mx mh b">Existing Item...</code> &gt; <code class="eh mv mw mx mh b">*.*</code>。选择<code class="eh mv mw mx mh b">protocol.neodocker.json</code>并点击<code class="eh mv mw mx mh b">Add</code>。</p><p id="fb09" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">8.在Visual Studio中，点击<code class="eh mv mw mx mh b">Start</code>重建并启动<code class="eh mv mw mx mh b">neo-gui</code>。它应该开始与NEO privatenet Docker容器同步。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/9b55ee0885003265871b7ef6df0b3816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5LHd6PzkdlIACJ9X.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.7. neo-gui: Running against the NEO privatenet Docker container</figcaption></figure><p id="f509" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注</strong>:如果您在活动5——构建和测试近地天体开发工具项目(来自源代码)中更改了可选代码，您将在标题栏中看到您的近地天体区块链文件夹的名称(例如DockerChainTestNet)。</p><h1 id="28d9" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">创建新的发展钱包</h1><p id="01be" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">9.从<code class="eh mv mw mx mh b">neo-gui</code>菜单栏中，点击<code class="eh mv mw mx mh b">Wallet</code> &gt; <code class="eh mv mw mx mh b">New Wallet Database...</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/a03907111a6649b648721cb6ece396d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g0d1tSR4gCOvCqy5.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.8. <code class="eh mv mw mx mh b">neo-gui</code>: <code class="eh mv mw mx mh b">Wallet</code> &gt; <code class="eh mv mw mx mh b">New Wallet Database...</code></figcaption></figure><p id="a741" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">10.但是会出现下面的<code class="eh mv mw mx mh b">New Wallet</code>对话框。点击<code class="eh mv mw mx mh b">browse</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/d485ebdcf2ab507b72d935ed89eeaa56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KInqZ56BaKbsM--I.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.9. <code class="eh mv mw mx mh b">neo-gui</code>: <code class="eh mv mw mx mh b">New Wallet</code> dialog</figcaption></figure><p id="fa4a" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">11.选择要创建钱包的文件夹，输入钱包数据库的文件名，然后点击<code class="eh mv mw mx mh b">Save</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/38a3bca00dfe1e5c4db45e85d034d21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mvEPfUDpCDEDgBLP.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.10. <code class="eh mv mw mx mh b">neo-gui</code>: Wallet Location</figcaption></figure><p id="25fa" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:把这些想象成临时的开发钱包，你每次重置NEO privatenet Docker容器时都需要重新创建。不需要备份它们。</p><p id="2ff5" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:一个好的建议是将出现在<code class="eh mv mw mx mh b">neo-gui</code>标题栏中的区块链数据库文件夹的名称(假设您在活动5中修改了源代码)包含在您的wallet文件的名称中。</p><p id="83e8" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:<code class="eh mv mw mx mh b">neo-gui-developer</code>项目仅使用<code class="eh mv mw mx mh b">.db3</code>格式文件(SQLLite数据库文件)创建钱包数据库。其他版本的<code class="eh mv mw mx mh b">neo-gui</code>使用JSON文件。请注意不同之处。</p><p id="05a2" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">12。输入密码保护你的钱包。通过在第二个字段中重新输入来确认您的密码。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/9770ab6bef2db41cbafecca825f07dee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LdBD_7kdc67gozM1.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.11. <code class="eh mv mw mx mh b">neo-gui</code>: Wallet Password</figcaption></figure><p id="ce32" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">13.您的钱包创建完成。已经创建了一个默认帐户地址。</p><p id="cea5" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:每次创建新的钱包，这个地址都会不一样。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/4d21f050d4fbb4c73927d187a4a4f097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SSWo3cSI4vUOqiFi.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.12. <code class="eh mv mw mx mh b">neo-gui</code>: Wallet Created</figcaption></figure><h1 id="b898" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">从NEO privatenet Docker容器中导入现有的开发人员帐户</h1><p id="8635" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">14.为了获得一些NEO/Gas，在NEO private Docker容器中配置了一个预配置的开发人员帐户。要导入该帐户，右键单击新创建的帐户，然后选择<code class="eh mv mw mx mh b">Import</code> &gt; <code class="eh mv mw mx mh b">Import from WIF...</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/baea9881dd2b65c88dc818b0432fc239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_6IZkX51zQX9joH8.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.13. <code class="eh mv mw mx mh b">neo-gui</code>: <code class="eh mv mw mx mh b">Import</code> &gt; <code class="eh mv mw mx mh b">Import from WIF...</code></figcaption></figure><p id="9c45" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">15.将显示以下<code class="eh mv mw mx mh b">Import Private Key</code>对话框。输入NEO Docker容器文档[ <a class="ae kr" href="https://hub.docker.com/r/metachris/neo-privnet-with-gas/#Wallet" rel="noopener ugc nofollow" target="_blank"> NEODOCKER1 </a> ]中提供的WIF密钥，然后单击<code class="eh mv mw mx mh b">OK</code>。</p><pre class="jj jk jl jm fq mg mh mi mj aw mk dt"><span id="9bf8" class="ml kv ht mh b fv mm mn l mo mp">WIF key: KxDgvEKzgSBPPfuVfw67oPQBSjidEiqTHURKSDL1R7yGaGYAeYnr</span></pre><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/0c0074e59218700245d95e103770b7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pjRsi5IFQvfkziua.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.14. <code class="eh mv mw mx mh b">neo-gui</code>: <code class="eh mv mw mx mh b">Import Private Key</code></figcaption></figure><p id="9bfe" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">16.结果应该是您已经在地址创建了以下第二个帐户:</p><pre class="jj jk jl jm fq mg mh mi mj aw mk dt"><span id="7fa7" class="ml kv ht mh b fv mm mn l mo mp">Address: AK2nJJpJr6o664CWJKi1QRXjqeic2zRp8y</span></pre><p id="331d" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意:</strong>您可能需要选择<code class="eh mv mw mx mh b">Wallet</code> &gt; <code class="eh mv mw mx mh b">Rebuild Index</code>，以便非零NEO/Gas出现在新账户地址旁边。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/c749ccd3ada7b86e2811e85cc76197a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pLYo8pK0BtGdPpuh.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.15. <code class="eh mv mw mx mh b">neo-gui</code>: Second Address with NEO/Gas</figcaption></figure><h1 id="902e" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">部署您的智能合约(HelloWorld 1.0)</h1><ol class=""><li id="9ef5" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq mf lx ly lz dt translated">打开Visual Studio 2017创建一个新的NEO智能合约项目。</li></ol><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nb"><img src="../Images/38c4c08f6691c53b6c2e655962d41bd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VxTdxOPdSPMcf8gL.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.16. Visual Studio 2017</figcaption></figure><p id="c011" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">18.选择<code class="eh mv mw mx mh b">File</code> &gt; <code class="eh mv mw mx mh b">New</code> &gt; <code class="eh mv mw mx mh b">Project...</code>打开新建项目对话框。选择<code class="eh mv mw mx mh b">Visual C#</code>。选择<code class="eh mv mw mx mh b">NeoContract</code>。单击<code class="eh mv mw mx mh b">OK</code>关闭此对话框，并在Visual Studio中创建新的NeoContract解决方案和项目。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nb"><img src="../Images/2fc94db64683a983d684ed33d5dba443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YgGoSQtqwKbrVpgS.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.17. Visual Studio: Create a New NeoContract Project</figcaption></figure><p id="be9b" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果您已经创建了以前的NeoContract项目，您的项目可能会被称为<code class="eh mv mw mx mh b">NeoContract2</code>、<code class="eh mv mw mx mh b">NeoContract3</code>，或者您选择的任何项目名称。记住项目名称和路径，因为您将需要在本练习的后面找到AVM文件。</p><p id="3dce" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">19.Visual Studio可能需要几分钟时间来创建NeoContract项目。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nc"><img src="../Images/85288fe53909fde67c66ae3ec555ec26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2C0aePZMSVwB3x4d.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.18. Visual Studio: Creating the NeoContract Project</figcaption></figure><p id="c625" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">20.右键单击NeoContract项目文件夹并选择<code class="eh mv mw mx mh b">Build</code>。请注意“输出”面板的“构建”部分中突出显示的消息。这两条消息表明Visual Studio能够创建NEO虚拟机字节代码文件以及应用程序二进制接口(ABI)文件(JSON格式)。</p><p id="3ac8" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意:</strong>如果您没有看到这两条消息，最有可能的情况是:</p><ul class=""><li id="b320" class="lr ls ht jx b jy jz kb kc ke nd ki ne km nf kq lw lx ly lz dt translated">没有正确出版。回到本练习的任务6。</li><li id="0ac7" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">环境变量<code class="eh mv mw mx mh b">Path</code>设置不正确。回到本练习的任务16。</li><li id="3a51" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">在设置<code class="eh mv mw mx mh b">Path</code>环境变量之前，您已经打开了Visual Studio。关闭Visual Studio，然后返回任务20。</li></ul><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nb"><img src="../Images/46dd6963cbccad65a6802cfac348e3f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BeubUStvZTpag8gY.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.19. Visual Studio: Building the NeoContract Project</figcaption></figure><h1 id="cad1" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">部署您的第一份智能合同</h1><p id="5237" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">21.从<code class="eh mv mw mx mh b">neo-gui</code>菜单栏中选择<code class="eh mv mw mx mh b">Advanced</code> &gt; <code class="eh mv mw mx mh b">Deploy Contract...</code>显示<code class="eh mv mw mx mh b">Deploy Contact</code>对话框。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/523b1b33081a11488ec2cc43d383620e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mbcXicFkNO55zGQA.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.20. <code class="eh mv mw mx mh b">neo-gui</code>: Deploy Contract Dialog Box</figcaption></figure><p id="ea74" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">22.在<code class="eh mv mw mx mh b">Deploy Contract</code>对话框中输入以下信息。</p><ul class=""><li id="fcf1" class="lr ls ht jx b jy jz kb kc ke nd ki ne km nf kq lw lx ly lz dt translated">在<code class="eh mv mw mx mh b">Information</code>部分，为每个字段输入适当的内容。这些字段不得为空。</li><li id="a3c5" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">在<code class="eh mv mw mx mh b">Return Type</code>部分，将这些字段留空(对于这个特定的智能合同)。</li><li id="6e2a" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">点击<code class="eh mv mw mx mh b">Need Storage</code>复选框，显示复选标记。</li><li id="8e13" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">点击<code class="eh mv mw mx mh b">Load</code>到你的Visual Studio项目创建的AVM文件(例如<code class="eh mv mw mx mh b">C:\NEO\repos\NeoContract1\NeoContract1\bin\Debug\NeoContract1.avm</code>)。。</li></ul><p id="b871" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">23.以上信息完成后，点击<code class="eh mv mw mx mh b">Deploy Contract</code>对话框上的<code class="eh mv mw mx mh b">Deploy</code>，完成<code class="eh mv mw mx mh b">neo-gui</code>为您的合同部署虚拟机字节码的准备步骤。</p><p id="297a" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">脚本哈希将显示在脚本哈希对话框中。点击<code class="eh mv mw mx mh b">copy</code>将脚本哈希放到剪贴板上。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/bd9826c1c4821bb9406da9ad7f38f856.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DXjSQjQu-uzsm8c3.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.21. <code class="eh mv mw mx mh b">neo-gui</code>: Script Hash</figcaption></figure><p id="9a6c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:脚本散列是从你的AVM读入的VM字节码的散列。avm)字节码文件。这与你加载AVM文件后出现在<code class="eh mv mw mx mh b">Deploy Contract</code>对话框底部的脚本哈希值相同。</p><p id="be9f" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果您忘记点击<code class="eh mv mw mx mh b">copy</code>将脚本散列的副本保存到剪贴板，您可以通过重新选择<code class="eh mv mw mx mh b">Advanced</code> &gt; <code class="eh mv mw mx mh b">Deploy Contract...</code>显示<code class="eh mv mw mx mh b">Deploy Contact</code>对话框并重新加载您的AVM文件来检索脚本散列值。脚本散列将出现在<code class="eh mv mw mx mh b">Deploy Contract</code>对话框的底部附近。如果您需要的只是脚本散列，那么您不需要完成信息或返回类型部分中的字段。这次点击<code class="eh mv mw mx mh b">Cancel</code>而不是部署。</p><p id="b2aa" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果您没有更改智能合约的代码(因此，由Visual Studio/neon创建的AVM文件将是相同的)，它将具有相同的脚本哈希值。<code class="eh mv mw mx mh b">neo-gui</code>不会在每次部署智能合约时创建新的脚本哈希值。仅当智能合约的代码发生更改时，它才会计算新的哈希值。</p><p id="08f2" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">24.在上一个任务中复制脚本哈希后，立即点击脚本哈希对话框上的<code class="eh mv mw mx mh b">close</code>显示以下<code class="eh mv mw mx mh b">Invoke Contract</code>对话框。</p><p id="a8ed" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">点击<code class="eh mv mw mx mh b">Test</code>然后点击<code class="eh mv mw mx mh b">Invoke</code>。通过这两个动作，您的智能合约将被部署到NEO privatenet。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/1f9cd43d65ff72e9eb85a829adcd7b1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pN0w-TWEcYkJtfSI.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.22. <code class="eh mv mw mx mh b">neo-gui</code>: Invoke Contract Dialog Box</figcaption></figure><p id="b38c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">25.当<code class="eh mv mw mx mh b">Transaction successful</code>对话框出现时，点击<code class="eh mv mw mx mh b">close</code>。不需要复制事务哈希(TXID)。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/fdd8f86eab277fb7455145830da6b114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_7cbAgMNkV2IM2S5.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.23. <code class="eh mv mw mx mh b">neo-gui</code>: Transaction Successful Dialog Box</figcaption></figure><p id="22f3" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">26.在<code class="eh mv mw mx mh b">neo-gui</code>中，点击<code class="eh mv mw mx mh b">Transaction History</code>选项卡，查看NEO privaenet上已执行的交易列表。</p><p id="a266" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:第一笔交易处于未确认状态；这还没有得到区块链节点的证实。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/ffe79827cbc68189f7f1cfc4b010b49c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*e0-7z4fc6eHBDBmp.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.24. <code class="eh mv mw mx mh b">neo-gui</code>: Transaction History</figcaption></figure><p id="c6d3" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">26.您需要等待，直到“未确认”状态变为一个数字(例如1)。在这种情况下，已经过了一段时间，3个区块已经确认了您最近的交易。</p><p id="73c4" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:然后您可以点击事件日志选项卡，查看您的智能合约是否调用了<code class="eh mv mw mx mh b">Runtime.Notify()</code>或<code class="eh mv mw mx mh b">Runtime.Log()</code>向NEO事件日志发布消息。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/2ac2489462eeff3ff72ac7819dfddf3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DNUAUyQo0ARV_nwG.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.24. <code class="eh mv mw mx mh b">neo-gui</code>: Transaction History</figcaption></figure><h1 id="c360" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">调用您的第一个智能合同</h1><p id="81ea" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">27.从<code class="eh mv mw mx mh b">neo-gui</code>菜单栏选择<code class="eh mv mw mx mh b">Advanced</code> &gt; <code class="eh mv mw mx mh b">Invoke Contract...</code>显示<code class="eh mv mw mx mh b">Invoke Contact</code>对话框。</p><p id="a175" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">将部署任务中的脚本散列粘贴到<code class="eh mv mw mx mh b">ScriptHash</code>字段中。如果部署成功，表格上的其余字段应填入您在<code class="eh mv mw mx mh b">Deploy Contract</code>对话框中输入的值。</p><p id="6123" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果字段为空，返回任务21并重新开始。特别注意任务23中的说明。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/df263524c64e5771f7f31e7626a302c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RRNdda_9klPEygC_.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.25. <code class="eh mv mw mx mh b">neo-gui</code>: Invoke Contract Dialog Box</figcaption></figure><p id="b41f" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">28.点击<code class="eh mv mw mx mh b">Test</code>调用您的合同。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/dce316658b99430b9fe03584d3e422a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0A4wFWeE2YRTsw8J.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.26. <code class="eh mv mw mx mh b">neo-gui</code>: Invoke Contract Dialog Box: Test</figcaption></figure><p id="80ad" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">29.结果(返回值)将出现在对话框底部的文本框中。</p><p id="0571" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:你可能要点击它两次。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/2c1ca21c1f8b684618719154f22d28ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Av6RS7zA71E4ai6I.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.27. <code class="eh mv mw mx mh b">neo-gui</code>: Invoke Contract Dialog Box: Results</figcaption></figure><p id="7a6c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">30.回到<code class="eh mv mw mx mh b">neo-gui</code>账户标签，你会发现你的NEO/Gas已经减少。</p><p id="f9d2" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注</strong> : 490气用于调配合同。1 Gas用于调用一个事务。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/c42388f1c62f5baff131e2e369b55b38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*furuh_dE3LNPkA6z.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.28. <code class="eh mv mw mx mh b">neo-gui</code> Account Tab</figcaption></figure><h1 id="2ff3" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">创建您的第二个智能合同(HelloWorld 2.0)</h1><p id="6069" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">31.按照前面任务中设置的模式创建一个新的NeonContract项目(例如，NeoContract2)。</p><p id="f3d5" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注意</strong>:如果您已经创建了以前的NeoContract项目，您的项目可能会被称为<code class="eh mv mw mx mh b">NeoContract3</code>、<code class="eh mv mw mx mh b">NeoContract4</code>或您选择的任何项目名称。记住项目名称和路径，因为您将需要在本练习的后面找到AVM文件。</p><p id="a008" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">32.对默认智能合约进行一些更改:</p><ul class=""><li id="6450" class="lr ls ht jx b jy jz kb kc ke nd ki ne km nf kq lw lx ly lz dt translated">将<code class="eh mv mw mx mh b">Main()</code>改为接受一个名为<code class="eh mv mw mx mh b">value</code>的单一整数参数。</li><li id="edf7" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">在<code class="eh mv mw mx mh b">Main()</code>的末尾增加一条<code class="eh mv mw mx mh b">return value * 100;</code>语句。</li></ul><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mz"><img src="../Images/da6b21fbaccb5001a50b8836a55e142f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wKi9iuSez-RJNJHM.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.29. HelloWorld 2.0 Smart Contract</figcaption></figure><p id="db77" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">您的代码不应类似于以下内容:</p><pre class="jj jk jl jm fq mg mh mi mj aw mk dt"><span id="0f12" class="ml kv ht mh b fv mm mn l mo mp">using System;<br/>using System.Numerics;<br/>using Neo.SmartContract.Framework;<br/>using Neo.SmartContract.Framework.Services.Neo;<br/><br/>namespace NeoContract2<br/>{<br/>    public class HelloWorld : SmartContract<br/>    {<br/>        public static int Main(int value)<br/>        {<br/>            Storage.Put(Storage.CurrentContext, "Hello", "World!");<br/><br/>            return value * 100;<br/>        }<br/>    }<br/>}</span></pre><p id="df27" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">代码9.1: HelloWorld 2.0</p><h1 id="b987" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">部署您的第二份智能合同</h1><p id="f751" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">33.按照前面任务中设置的模式部署HelloWorld 2.0智能契约。填写“部署合同”对话框中的字段。</p><p id="d869" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated"><strong class="jx hu">注</strong>:在<code class="eh mv mw mx mh b">Deploy Contract</code>对话框的<code class="eh mv mw mx mh b">Return Type</code>部分，需要提供一串2位数的代码，表示数据类型:</p><ul class=""><li id="fb19" class="lr ls ht jx b jy jz kb kc ke nd ki ne km nf kq lw lx ly lz dt translated">入站参数</li><li id="1ad1" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">返回值</li></ul><p id="2c39" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">参数和返回值的数据类型代码可在下表中找到。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ng"><img src="../Images/3b2cbd3ae4dc85eb26c462b294f4cdc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*ThZDE7Gd_ClaUfjgHmwOxA.png"/></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">9.1: NEO Smart Contract Parameter/Return Types [<a class="ae kr" href="http://docs.neo.org/en-us/sc/tutorial/Parameter.html" rel="noopener ugc nofollow" target="_blank">NEOPARMTYPES</a>]</figcaption></figure><p id="c211" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">对于HelloWorld 2.0，需要为单个整数入站参数和整数返回值指定<code class="eh mv mw mx mh b">02</code>和<code class="eh mv mw mx mh b">02</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nh"><img src="../Images/16383ceae82ccd2c542a024dcb2d5c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/0*T0r_JqrHP3lstPCd.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.30. HelloWorld 2.0: Deploy Contract</figcaption></figure><p id="2893" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">34.加载HelloWorld 2.0的AVM文件，点击<code class="eh mv mw mx mh b">Deploy Contract</code>对话框上的<code class="eh mv mw mx mh b">Deploy</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff ni"><img src="../Images/70f653af6d5f246f1450c28d1cf502ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BloNCdL5inMlXF6F.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.31. HelloWorld 2.0: Load Contract</figcaption></figure><p id="b88c" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">35.复制脚本哈希值，点击<code class="eh mv mw mx mh b">Script Hash</code>对话框上的<code class="eh mv mw mx mh b">close</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff nj"><img src="../Images/be5f4923a4a9b0cadfd538212d0610c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/0*R0MsssNjbIxiakVM.png"/></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.32. HelloWorld 2.0: Script Hash</figcaption></figure><p id="496b" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">36.要完成部署，单击<code class="eh mv mw mx mh b">Test</code>，然后在<code class="eh mv mw mx mh b">Invoke Contract</code>对话框中单击<code class="eh mv mw mx mh b">Invoke</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nk"><img src="../Images/678f49c4067e48dfe3a32a7b05f76a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AKphPxYLHT_gdk_i.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.33. HelloWorld 2.0: Complete Deployment</figcaption></figure><p id="0c82" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">37.部署完成。点击<code class="eh mv mw mx mh b">close</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff nj"><img src="../Images/94632f08af2a05a632379218f44572ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/0*Mh_7zSpjhjqyQRxq.png"/></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.34. HelloWorld 2.0: Deployment Complete</figcaption></figure><h1 id="ee69" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">调用您的第二个智能合同</h1><p id="c364" class="pw-post-body-paragraph jv jw ht jx b jy lm iu ka kb ln ix kd ke lo kg kh ki lp kk kl km lq ko kp kq hm dt translated">38.在<code class="eh mv mw mx mh b">Invoke Contract</code>对话框右侧的<code class="eh mv mw mx mh b">Contract Parameters</code>部分，点击<code class="eh mv mw mx mh b">Integer=(null)</code>显示<code class="eh mv mw mx mh b">Parameter Editor</code>对话框。进入<code class="eh mv mw mx mh b">123</code>，点击<code class="eh mv mw mx mh b">Add</code>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff na"><img src="../Images/ea9d9cf84dbc00671e16100ba1f10951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*myQKB-idRvpXdkRx.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.35. HelloWorld 2.0: Parameters</figcaption></figure><p id="e73d" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">39.点击<code class="eh mv mw mx mh b">Test</code>调用您的智能合约。结果(返回值)将出现在对话框底部的文本框中。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nk"><img src="../Images/3c9d967379663f0e9f549a61b829ca9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4hYeTE2idm4eamxt.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.36. HelloWorld 2.0: Test</figcaption></figure><p id="1abb" class="pw-post-body-paragraph jv jw ht jx b jy jz iu ka kb kc ix kd ke kf kg kh ki kj kk kl km kn ko kp kq hm dt translated">40.要查看您已经部署的合同列表，从<code class="eh mv mw mx mh b">neo-gui</code>菜单栏选择<code class="eh mv mw mx mh b">Advanced</code> &gt; <code class="eh mv mw mx mh b">List Contracts</code>显示<code class="eh mv mw mx mh b">Smart Contract Monitor</code>对话框。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff nl"><img src="../Images/624374bee9347d9d5ebf4473664d16c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M_v-Rb2Cl6a-jeeY.png"/></div></div><figcaption class="jq jr fg fe ff js jt bd b be z ek">Figure 9.37. <code class="eh mv mw mx mh b">neo-gui</code>: Smart Contract Monitor</figcaption></figure><h1 id="ddf1" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">脚本库</h1><ul class=""><li id="bcd5" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq lw lx ly lz dt translated">NEO Docker下载/安装/运行(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerinstall.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodeckerinstall . bat . txt</a></li><li id="2e18" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">新对接器停止/移除(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockeruninstall.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodecruninstall . bat . txt</a></li><li id="ff14" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">NEO Docker启动(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerstart.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerstart . bat . txt</a>)</li><li id="2b4e" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">新停靠站(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerstop.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerstop . bat . txt</a></li><li id="5d81" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">NEO Docker重启(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerrestart.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerrestart . bat . txt</a></li><li id="f115" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">NEO Docker重置(<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerreset.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerreset . bat . txt</a></li><li id="112c" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">NEO Docker Python CLI/Shell ( <a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerpshell.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodecrpshell . bat . txt</a></li></ul><h1 id="ce98" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">参考</h1><ul class=""><li id="04d7" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq lw lx ly lz dt translated">【快速入门】neo-csharpcoe，<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/README.md" rel="noopener ugc nofollow" target="_blank"> NEO区块链快速入门指南。来自<a class="ae kr" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">的. NET开发者</a>https://github . com/mwherman 2000/neo-dotnetquickstart/blob/master/readme . MD</a></li><li id="f187" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">来自[<a class="ae kr" href="https://hub.docker.com/r/metachris/neo-privnet-with-gas/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/r/metachris/neo-privnet-with-gas/</a>]<a class="ae kr" href="https://hub.docker.com/r/metachris/neo-privnet-with-gas/()" rel="noopener ugc nofollow" target="_blank">https://hub . docker . com/r/metachris/neo-priv net-with-gas/()</a></li><li id="4359" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">[NEOPARMTYPES] Neo项目，<a class="ae kr" href="http://docs.neo.org/en-us/sc/tutorial/Parameter.html" rel="noopener ugc nofollow" target="_blank">智能合同参数和返回值</a>来自<a class="ae kr" href="http://docs.neo.org/en-us/sc/tutorial/Parameter.html" rel="noopener ugc nofollow" target="_blank">http://docs.neo.org/en-us/sc/tutorial/Parameter.html</a></li></ul><h1 id="d798" class="ku kv ht bd kw kx ky kz la lb lc ld le iz lf ja lg jc lh jd li jf lj jg lk ll dt translated">其他好资源</h1><ul class=""><li id="c8ee" class="lr ls ht jx b jy lm kb ln ke lt ki lu km lv kq lw lx ly lz dt translated">【neopython Tutorial】Nick Fujita，<a class="ae kr" href="https://steemit.com/neo/@z0yo/neo-smart-contracts-tutorial-helloworld" rel="noopener ugc nofollow" target="_blank"> NEO智能合约教程:helloWorld (Python) </a>来自<a class="ae kr" href="https://steemit.com/neo/@z0yo/neo-smart-contracts-tutorial-helloworld" rel="noopener ugc nofollow" target="_blank">https://steemit . com/NEO/@ z0yo/NEO-Smart-Contracts-Tutorial-hello world</a></li><li id="c3fc" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">【NEOPYTHONTUTORIALVIDEO】Nick Fujita，<a class="ae kr" href="https://www.youtube.com/watch?v=9Ha_5RdOQrA" rel="noopener ugc nofollow" target="_blank"> NEO智能合约教程——Hello World(Python)</a>来自<a class="ae kr" href="https://www.youtube.com/watch?v=9Ha_5RdOQrA" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=9Ha_5RdOQrA</a></li><li id="9f91" class="lr ls ht jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz dt translated">迈克尔·赫尔曼。<a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">拉动请求#38将</a> <code class="eh mv mw mx mh b"><a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">config.neodocker.json</a></code> <a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">和</a> <code class="eh mv mw mx mh b"><a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">protocol.neodocker.json</a></code> <a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">文件从<a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">https://github.com/CityOfZion/neo-gui-developer/pull/38</a>添加到</a> <code class="eh mv mw mx mh b"><a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">neo-gui-developer</a></code> <a class="ae kr" href="https://github.com/CityOfZion/neo-gui-developer/pull/38" rel="noopener ugc nofollow" target="_blank">项目</a></li></ul></div></div>    
</body>
</html>