<html>
<head>
<title>Flip-Dot Display with Arduino and RS485 Shield</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Arduino和RS485屏蔽的翻点显示器</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/flip-dot-display-with-arduino-and-rs485-shield-ca2cec1b971a?source=collection_archive---------3-----------------------#2018-06-25">https://medium.com/coinmonks/flip-dot-display-with-arduino-and-rs485-shield-ca2cec1b971a?source=collection_archive---------3-----------------------#2018-06-25</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/0995fcbe7b81121a15e5b4ae47f66758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ztc2bnX6jsY4AL292sqH8A.png"/></div></div></figure><div class=""/><p id="687a" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们有两块阿尔法·泽塔的<a class="ae jz" href="https://flipdots.com/en/products-services/flip-dot-boards-xy5/" rel="noopener ugc nofollow" target="_blank">翻转点板xy5和一个与之相连的Arduino uno。</a></p><blockquote class="ka"><p id="d0d9" class="kb kc ie bd kd ke kf kg kh ki kj jy ek translated">声明:自从我最后一次使用Arduino以来，已经有5年了，而且很少经历过教程阶段。</p></blockquote><figure class="kk kl km kn ko hv"><div class="bz el l di"><div class="kp kq l"/></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">Hi there</figcaption></figure><p id="2483" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">首先，flip dot板上有一堆Dip开关。从阿尔法·泽塔提供的文件中，我们得到了土地的布局。<br/>起初，我从下面的翻转板开始，将引脚设置为</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="fe84" class="le lf ie la b fv lg lh l li lj">speed setting: 1-OFF 2-ON 3 — ON<br/>address : 1 (8 pos dip switch: 1:on 2 -8: off)</span></pre><p id="f527" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这相当于大约57600英镑的汇率</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="5364" class="le lf ie la b fv lg lh l li lj">void setup() <br/>{<br/> Serial.begin(57600); <br/>}</span></pre><p id="1eb8" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因此，对于地址字节，我们有<em class="lk"> 0xFF </em>。我将进一步发挥这一点，当连接第二个翻转点板。</p><p id="94d0" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">向电路板发送串行消息时，我们需要发送以下字节:</p><p id="ebaf" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">As头<em class="lk">0x 80</em>；作为即时命令，我们用的是，<em class="lk">0x 85</em>；其次是地址；要显示的消息；以及结束字节<em class="lk"> 0x8F </em>。</p><p id="2ca4" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对于我们的信息，我们有一个简单的28 x 7点阵。每列由一个字节表示。</p><p id="1d74" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">例如，黑白条纹交替出现的消息如下所示:</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="891c" class="le lf ie la b fv lg lh l li lj">byte black_stripes[] = {0x80, 0x85, 0xFF, <br/>0x00, 0x7F, 0x00, 0x7F, 0x00, 0x7F, 0x00, <br/>0x7F, 0x00, 0x7F, 0x00, 0x7F, 0x00, 0x7F, <br/>0x00, 0x7F, 0x00, 0x7F, 0x00, 0x7F, 0x00, <br/>0x7F, 0x00, 0x7F, 0x00, 0x7F, 0x00, 0x7F, <br/>0x8F};</span></pre><figure class="kv kw kx ky fq hv fe ff paragraph-image"><div class="fe ff ll"><img src="../Images/d4703b566c1c2ae9ce5802e7a1c35cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*kbonLSwe3WCP5HkyETJJLA.png"/></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">Table as seen on wikipedia</figcaption></figure><p id="0263" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我不得不再次用十六进制符号<a class="ae jz" href="https://en.wikipedia.org/wiki/Hexadecimal" rel="noopener ugc nofollow" target="_blank">来描述我的大脑，但后来又回到了0和1，因为这样更容易将图像从视觉网格转换成数组——至少对我的大脑来说是这样。</a></p><p id="d3d9" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当发送消息时，必须指定要通过的数组的长度。根据需要翻转的点的数量，不同信息的帧速率会有所不同。</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="c5ce" class="le lf ie la b fv lg lh l li lj">void loop() { <br/>Serial.write(black_stripes, 32);<br/>delay(25);<br/>Serial.write(white_stripes, 32);<br/>delay(150);<br/>}</span></pre></div><div class="ab cl lm ln hb lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hm hn ho hp hq"><p id="84b5" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当玩一个基本的均衡器时，速度变化很大。为了获得一致的刷新率，我不得不把它设置得很慢。最令人信服的视觉体验是我给均衡器一个随机的取值范围，除了我们从消息点接收到的变化来刷新。</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="33e0" class="le lf ie la b fv lg lh l li lj">byte equalizer_values[] {<br/> B0000001, // 01<br/> B0000011, // 02<br/> B0000111, // 03<br/> B0001111, // 04<br/> B0011111, // 05<br/> B0111111, // 06<br/> B1111111, // 07<br/>};</span></pre><p id="fe05" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这里，我努力摆脱十六进制，在代码中使用更形象的表示法。</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="9f07" class="le lf ie la b fv lg lh l li lj">void loop(){</span><span id="0b1f" class="le lf ie la b fv lt lh l li lj">Serial.write(header);<br/>Serial.write(instant_command);<br/>Serial.write(address);<br/> <br/> for (int i = 0; i &lt; rows; i++) {<br/> <br/> int n = random(0,7);<br/> Serial.write(equalizer_values[n]);<br/> <br/> };<br/> <br/> Serial.write(end);<br/> rows ++;<br/> delay(random(50,150));</span><span id="b3f4" class="le lf ie la b fv lt lh l li lj">}</span></pre><figure class="kv kw kx ky fq hv"><div class="bz el l di"><div class="kp kq l"/></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">Where is the music ;)</figcaption></figure></div><div class="ab cl lm ln hb lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hm hn ho hp hq"><p id="7f1b" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">通向图形的桥梁。直接从我的头脑中构建它们似乎有点麻烦，所以我只是在转换成字节值之前建立了一个小的电子表格作为可视化的指导。</p><figure class="kv kw kx ky fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff lu"><img src="../Images/a242addef5f8ad33e256be70031c63c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dVsPTzgUML8Karnz2x-8Bg.png"/></div></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">basic car setup</figcaption></figure><p id="ba87" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这就转化为:</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="9370" class="le lf ie la b fv lg lh l li lj">byte car[] = {<br/> B0000001, // 01<br/> B0001101, // 02<br/> B0011111, // 03<br/> B1111111, // 04<br/> B1001101, // 05<br/> B1001101, // 06<br/> B1001101, // 07<br/> B0111101, // 08<br/> B0011111, // 09<br/> B0001111, // 10<br/> B0000101, // 11<br/> B0000001, // 12<br/>};</span><span id="0e09" class="le lf ie la b fv lt lh l li lj">byte road[] = {<br/> B0000001, // 01<br/>};</span></pre><p id="fa40" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我只是画了更多的路来让车过马路。</p><pre class="kv kw kx ky fq kz la lb lc aw ld dt"><span id="bfcb" class="le lf ie la b fv lg lh l li lj">delay(200);<br/> Serial.write(header);<br/> Serial.write(instant_command);<br/> Serial.write(display_address);<br/> <br/> for (int i = count; i &lt; 27; i++) {<br/> Serial.write(road, 1);<br/> };<br/> <br/> Serial.write(car, 12);<br/> Serial.write(end);<br/> count ++;</span></pre><figure class="kv kw kx ky fq hv"><div class="bz el l di"><div class="kp kq l"/></div><figcaption class="kr ks fg fe ff kt ku bd b be z ek">The car going :D</figcaption></figure></div><div class="ab cl lm ln hb lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hm hn ho hp hq"><p id="b173" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">接下来会有很多事情。我试着写点东西，把信息传递出去，但最终只是定义字母和排列它们的单调乏味的工作。但最有可能的是，我将深入研究Arduino通过firmata 与<a class="ae jz" href="https://vvvv.org/documentation/firmata-protocol" rel="noopener ugc nofollow" target="_blank"> vvvv的连接。但那是以后的事了。</a></p></div><div class="ab cl lm ln hb lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="hm hn ho hp hq"><p id="8b49" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下链接帮助了我:</p><h2 id="f5ae" class="le lf ie bd lv lw lx ly lz ma mb mc md jm me mf mg jq mh mi mj ju mk ml mm mn dt translated">扎克/ <a class="ae jz" href="https://community.particle.io/t/controlling-an-electromagnetic-flip-disc-display-alfa-zeta-flip-dots/28200" rel="noopener ugc nofollow" target="_blank">控制电磁翻盘显示器</a></h2><div class="hs ht fm fo hu mo"><a href="https://community.particle.io/t/controlling-an-electromagnetic-flip-disc-display-alfa-zeta-flip-dots/28200" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab ej"><div class="mq ab mr cl cj ms"><h2 class="bd if fv z el mt eo ep mu er et id dt translated">控制电磁翻转盘显示器(阿尔法-泽塔翻转点)</h2><div class="mv l"><h3 class="bd b fv z el mt eo ep mu er et ek translated">大家好，我有一个兼职项目，我终于找到了一些时间来工作，我想分享我的初步进展…</h3></div><div class="mw l"><p class="bd b gc z el mt eo ep mu er et ek translated">community.particle.io</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ia mo"/></div></div></a></div><h2 id="82df" class="le lf ie bd lv lw lx ly lz ma mb mc md jm me mf mg jq mh mi mj ju mk ml mm mn dt translated"><a class="ae jz" href="https://gist.github.com/iizukak" rel="noopener ugc nofollow" target="_blank">iizukak</a>/<a class="ae jz" href="https://gist.github.com/iizukak/b30992dcd80a1d2ddb77b1b5e79ed480" rel="noopener ugc nofollow" target="_blank">flip _ dot _ clock . ino</a></h2><figure class="kv kw kx ky fq hv"><div class="bz el l di"><div class="nd kq l"/></div></figure></div></div>    
</body>
</html>