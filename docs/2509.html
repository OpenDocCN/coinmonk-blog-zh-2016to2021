<html>
<head>
<title>Integrating physical devices with IOTA — The IOTA LED Cube</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将物理设备与IOTA集成IOTA LED立方体</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/integrating-physical-devices-with-iota-the-iota-led-cube-a5ff33c0894f?source=collection_archive---------0-----------------------#2019-11-12">https://medium.com/coinmonks/integrating-physical-devices-with-iota-the-iota-led-cube-a5ff33c0894f?source=collection_archive---------0-----------------------#2019-11-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="a125" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">关于将物理设备与IOTA协议集成的初学者教程系列的第11部分。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/7360c4f8ab5d9248b39addb8fabd03d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uUh54V5Cb9p8aL1VOHIg-Q.jpeg"/></div></div></figure></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="da9a" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">介绍</h1><p id="24f9" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">这是初学者教程系列的第11部分，我们将探索如何将物理设备与IOTA协议相集成。自从我发表了这个系列的最后一篇教程以来，我已经有一段时间不得不做一些其他的事情了。这将在接下来的几个月中改变，因为我现在已经收到了IOTA发展基金的捐款，这将允许我继续制作这些教程。</p><p id="33d4" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">说到这个话题，我想向所有向IOTA发展基金捐款的人表示我的荣幸和感谢。在一个大多数行为都是由短视的投机和贪婪所驱动的空间里，IOTA发展基金是一个真正的独一无二的结构，它将IOTA与其他项目区分开来。</p><p id="20d6" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">我在想，我们可以从一个更小的项目开始，这个项目有更多的“有趣”因素，而不是实际的实际用例。除了是一个很酷很有趣的项目之外，本教程仍然很重要，因为它将向您介绍IOTA tangle的一个有用特性，即Zero Message Que，简称ZMQ。</p><p id="b6d5" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">本教程的主要目标是使用一个LED立方体来可视化IOTA tangle的事务吞吐量。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="9b13" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">使用案例</h1><p id="d854" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">如前一节所述，为这个特定的教程寻找一个实际的用例可能有些牵强。然而，学习ZMQ和ZMQ流总是有用的，因为它可以应用于许多其他真实生活用例。一个例子是tanglemonitor.com流行的<a class="ae lp" href="https://tanglemonitor.com/" rel="noopener ugc nofollow" target="_blank"/></p><p id="083c" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">为了将本教程与本系列中的其他教程联系起来。我猜你可以想象酒店老板在酒店接待处放置一个LED立方体作为有趣的视觉装饰品。同时，在可视化IOTA缠结的当前健康和事务吞吐量方面，立方体将具有实用功能。</p><p id="fabd" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><em class="lv">注意！<br/>在本教程中，我们将监控通过IOTA网络传播的所有事务。为了监控混乱的状况，只关注已确认的事务可能更合适。这完全取决于您，因为IOTA ZMQ流提供了这两者。</em></p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="8cbf" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">什么是ZMQ(零消息Que)？</h1><p id="f6f0" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">ZMQ或ZMQ流是由IOTA IRI节点发布的事件或消息，如果被激活的话。使用ZMQ监听器，您可以监视这些事件，并根据事件发生的时间、事件的类型等执行操作。</p><p id="5a28" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">在我们的项目中，我们将监视ZMQ流中附加到tangle的新事务，每当这个特定事件发生时，我们的LED立方体上会闪烁一个随机LED。</p><p id="ea09" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">参见<a class="ae lp" href="https://docs.iota.org/docs/node-software/0.1/iri/references/zmq-events" rel="noopener ugc nofollow" target="_blank">此处</a>了解更多关于IRI节点发布的不同ZMQ消息和事件消息结构的信息。</p><p id="10b5" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><em class="lv">注意！<br/>注意，在IRI配置文件中有一个配置设置(ZMQ_ENABLED ),它定义了ZMQ消息是否由节点发布。默认情况下，ZMQ_ENABLED设置被设置为False，必须将其更改为True，节点才能开始发布ZMQ消息。您还可以在这里设置ZMQ消息发布的端口。还要注意，大多数公共IRI节点没有启用ZMQ。如果您没有运行自己的IOTA节点，您可以在fullnode Discord通道上向IOTA社区请求一个启用了ZMQ的公共节点。或者，您可以使用IOTA基金会当前托管的以下启用了zmq的devnet节点:</em><strong class="kv hu"><em class="lv">TCP://ZMQ . devnet . IOTA . org</em></strong><em class="lv">该节点正在端口</em> <strong class="kv hu"> <em class="lv"> 5556 </em> </strong>上发布ZMQ消息</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="c187" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">什么是LED立方体？</h1><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff lw"><img src="../Images/a84bf9b01cec99641d9e545c4205eb29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6xpTFe5suMODWYlZSSnNg.jpeg"/></div></div></figure><p id="acfd" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">LED立方体基本上是使用电源导线连接在一起的发光二极管(或简称为LED)的三维矩阵(结构)。使用Arduino或Raspberry PI等微控制器，您可以编写一个程序，随意打开和关闭各个LED，制作各种有趣的灯光图案。如果你想做的话，有成百上千的教程教你如何制作自己的LED立方体。您还可以获得完整的工具包，其中包含构建多维数据集所需的所有组件，包括如何构建多维数据集的详细说明。你需要的只是一个烙铁和大量的时间和耐心。</p><p id="b28b" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">如果你想全身心投入构建和编程你自己的LED立方体，你应该看看这个<a class="ae lp" href="https://www.youtube.com/watch?v=dVHP7Nhsn4E" rel="noopener ugc nofollow" target="_blank">视频</a>寻找灵感。</p><p id="dd38" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">由于我个人没有时间或耐心从头开始建造自己的LED立方体，我决定从易趣上花25美元买一个。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="07c5" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">PiCube</h1><p id="5df0" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">PiCube是kickstarter项目<a class="ae lp" href="https://www.kickstarter.com/projects/127134527/picube-4x4x4-led-cube-for-raspberry-pi-32-zero-and" rel="noopener ugc nofollow" target="_blank">,它制作了一个预制的LED立方体，可以直接安装在Raspberry PI的顶部，无需任何布线或焊接。PiCube项目还有一个github页面</a>,您可以在那里获得文档和示例代码。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/477432e3336b766a4fb9581cb0b56c65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ras1seTAnSDOflOPoeTH3Q.jpeg"/></div></figure></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="9341" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">所需的软件和库</h1><p id="a8a6" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">在我们开始为这个项目编写Python代码之前，我们需要确保我们已经在Raspberry PI上安装了所有需要的软件和库。对于本教程，唯一需要的额外库是PyZMQ库。要了解更多关于PyZMQ库以及如何安装它的信息，请访问下面的链接:<a class="ae lp" href="https://zeromq.org/languages/python/" rel="noopener ugc nofollow" target="_blank">https://zeromq.org/languages/python/</a></p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="152d" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">Python代码</h1><p id="f0b6" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">这个项目的Python代码非常简单，所以我不会详细介绍，只是简单介绍一下如何处理立方体中的单个LED。在我的例子中，我只是为附加到tangle的每个新IOTA事务选择一个随机的LED来闪烁。在您的项目版本中，您可能希望LED以特定的顺序闪烁，如果是这样，您需要知道如何寻址立方体中的各个LED。</p><p id="e40b" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">LED立方体背后的基本概念是将LED连接在由垂直和水平层表示的隔离电路中。关于PiCube，LED连接在16个隔离的垂直层和4个单独的水平层中，总共构成64个LED。要打开/关闭立方体中的特定LED，您只需打开/关闭各层交汇处(以及LED所在位置)的垂直层和水平层。由于每个层都连接到PI上的一个特定GPIO引脚，我现在可以使用PI的GPOI.output()函数来打开/关闭各个LED的电源</p><p id="08d5" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">经过一些测试后，我发现PiCube上的LED连接到PI的GPIO引脚，如下图所示。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ly"><img src="../Images/27f5684b6b0c3814282020c257e0b2d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQnzIpo4gZqyMn0p0cOPrg.png"/></div></div></figure><p id="0634" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">这是这个项目的Python代码。</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="lz ma l"/></div></figure><p id="bf05" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">这个python脚本的源代码可以从<a class="ae lp" href="https://gist.github.com/huggre/6d88d83256b41a8b9f6190b796ec7c9d" rel="noopener ugc nofollow" target="_blank">这里</a>下载</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="3b05" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">运行项目</h1><p id="f980" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">要运行这个项目，首先需要将前一节中的脚本作为文本文件保存在您的计算机上。</p><p id="fad2" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">注意Python程序文件使用。py扩展名，所以在你的树莓PI上保存文件为<strong class="kv hu"> <em class="lv"> zmq_cube.py </em> </strong></p><p id="6be7" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">要执行脚本，只需启动一个新的终端窗口，导航到保存脚本的文件夹，然后键入:</p><p id="0d97" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><strong class="kv hu">python<em class="lv">zmq _ cube . py</em>T11】</strong></p><p id="bf3e" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">现在，您应该看到PiCube上的随机LED开始闪烁，每个闪烁代表一个新的事务被添加到IOTA tangle中。</p><p id="faed" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">在您的终端窗口中，您还应该看到各个事务的一些基本数据，如地址、事务散列、值和标签。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="7dd5" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">贡献</h1><p id="7846" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">如果你想对本教程有所贡献，你可以在这里找到一个Github库<a class="ae lp" href="https://github.com/huggre/the_iota_led_cube" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="b746" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">捐款</h1><p id="70bd" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">如果你喜欢这个教程，并希望我继续制作其他教程，请随时向下面显示的IOTA地址捐款。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/f898855aa9f02c497078a9bdbee25534.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*j2ENIzmDzXcGSgAdY4w-Jw.png"/></div></figure><p id="9166" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">nyzbhovsmdwabxsacajttwjoqrvvawlbsfqvsjswwbjjlsqknzfc 9 xcrpqsvfqzpbjcjrannpvmmezqjrqsvvgz</p><blockquote class="mc"><p id="5805" class="md me ht bd mf mg mh mi mj mk ml lo ek translated"><a class="ae lp" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="mn mo mp mq mr jn fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mm"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="jj jk jl jm fq jn fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff ms"><img src="../Images/dcfc0bc32043d35290390279d463406f.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*SuL8WJtFzCO1LzOFQn0JEA.png"/></div></a></figure></div></div>    
</body>
</html>