<html>
<head>
<title>BigchainDB, a database on blockchain steroids</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">大链数据库，一个关于区块链类固醇的数据库</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/bigchaindb-a-database-on-blockchain-steroids-fb52f3cd0d56?source=collection_archive---------1-----------------------#2018-12-07">https://medium.com/coinmonks/bigchaindb-a-database-on-blockchain-steroids-fb52f3cd0d56?source=collection_archive---------1-----------------------#2018-12-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk iq ir is it fe ff paragraph-image"><div class="ab fr cl iu"><img src="../Images/db342cbe5917baae6096dab672e55032.png" data-original-src="https://miro.medium.com/v2/format:webp/1*H7YOhsWKV8Joik0Kzld1pw.png"/></div></figure><p id="b115" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">区块链生态系统中的许多人可能会批评，甚至讨厌BigchainDB声称<em class="jv">“它不是一个真正的区块链”</em>，他们可能是对的，但Hyperledger Fabric也不是。从我诚实的观点来看，BigchainDB这是一项值得了解的技术，特别是如果您是<strong class="iz hu">计划在企业环境中部署分散或分布式系统的话。</strong></p><p id="1de9" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">BigchainDB是一个开源分布式存储系统，其目标是<strong class="iz hu">将“传统”NoSQL数据库的主要优势与区块链技术的优势</strong>(有点像AWS最近宣布的<a class="ae jw" href="https://aws.amazon.com/qldb/" rel="noopener ugc nofollow" target="_blank">QLDB—quantity Ledger Database)</a>。我在BignchianDB看到的主要好处之一是能够使用生产就绪型技术部署类似区块链的分散系统。让我解释一下，在企业环境中部署区块链系统的主要问题之一是当前技术的不成熟。但是等等，我们已经在现有系统中部署了NoSQL数据库，对吗？BigchainDB基于生产就绪型数据库，这一事实使得它在生产中的部署非常有吸引力，而不必等待区块链平台的其余部分赶上来并被企业大量采用。</p><figure class="jy jz ka kb fq it fe ff paragraph-image"><div class="fe ff jx"><img src="../Images/563fbf4d7de2d1610043f13e8aae5014.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*oXIrXk78UyHMjCk7ywH6Ow.jpeg"/></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">BigchainDB shares the main benefits of blockchain technology and distributed databases.</figcaption></figure><p id="0b9e" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">BigchainDB是从企业就绪型数据库节点的联合构建的，比如MongoDB实例，它们以同步的方式存储关于资产的各种信息。<strong class="iz hu">通过执行嫩薄荷的BFT共识算法</strong>，存储在网络中的数据在所有节点之间传播和同步，确保其完整性。简而言之，<strong class="iz hu"> BigchainDB是一个MongoDB数据库，它使用嫩薄荷来获得其区块链特征。</strong></p><p id="5f61" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">根据实体对系统的访问权限，BigchainDB网络可以是公共的、私有的或许可的。在公共BigchainDB中，任何参与者都应该能够访问网络或部署他们自己的MongoDB+嫩薄荷节点，并将其连接到数据库联盟；虽然许可的BigchainDB可以由一个联盟或一个管理实体来管理，其中该联盟的每个成员都管理着自己在网络中的节点，没有许可任何人都不能加入(类似于其他许可的区块链技术)。</p><p id="0a86" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">BigchainDB中的基本信息结构是资产。<strong class="iz hu">资产在MobgoDB </strong>中被“物理地”表示为JSON文档。这些资产由系统中的用户拥有，他是唯一有权对其进行更改的人。为了创建、转移或修改资产，必须向BigchainDB网络发送一个事务。这将触发Tendermint的共识算法，负责处理交易，验证交易，同步所有节点，并将资产的相应更改存储在网络的每个MongoDB节点中。</p><p id="78f2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">BigchainDB的交易模型类似于一个比特币，在某种意义上，资产交易接收<em class="jv">资产输入</em>，然后将其转换为<em class="jv">输出</em>，该输出可在未来用作新交易的<em class="jv">输入</em>。资产输出只能作为交易的输入使用一次。BigchainDB中有两种类型的事务:</p><ul class=""><li id="8612" class="kg kh ht iz b ja jb je jf ji ki jm kj jq kk ju kl km kn ko dt translated"><strong class="iz hu">创建事务</strong>在系统中生成一个新的资产(在MongoDB中为JSON文档)，里面有两类信息:<strong class="iz hu">资产信息</strong>，资产一旦创建就不可修改；<strong class="iz hu">元数据</strong>，可以通过后续转账交易修改。</li><li id="2bba" class="kg kh ht iz b ja kp je kq ji kr jm ks jq kt ju kl km kn ko dt translated"><strong class="iz hu">转移交易</strong>允许资产所有权的转移，或者元数据的修改。唯一有权对资产进行交易的是其所有者。这些事务使用资产的一个未使用的<em class="jv">输出</em>作为<em class="jv">输入</em>，结果生成一个新的<em class="jv">输出</em>，并进行相应的修改(所有权或元数据的变化)。如上所述，资产输出不能两次用作转移交易的<em class="jv">输入</em>。</li></ul><p id="21b7" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated"><strong class="iz hu"> BigchainDB资产可能代表任何东西</strong>。从自行车到汽车、政府债券、代币、知识产权或不可替代的资产。</p><p id="cee6" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">在这个简短的概述之后，你可能想知道，<em class="jv">我如何开始使用BigchainDB？我想检查它是否值得我关注，或者它只是一个在区块链生态系统中没有价值的无用的新项目。最简单的方法是去BigchainDB的官方网站尝试入门部分。这将通过BigchainDB的testnet直接发布一条消息。</em></p><p id="4cbc" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">对于更有经验和冒险精神的人(那些真正想了解技术的人)<strong class="iz hu">我会建议他们在本地部署自己的BigchainDB网络。</strong>如果你安装了Docker和Docker Compose，这可以通过克隆BigchainDB的github并执行<code class="eh ku kv kw kx b">make run</code>命令来轻松完成。(如果您更喜欢在后台运行它，请尝试<code class="eh ku kv kw kx b">make start</code>)。</p><pre class="jy jz ka kb fq ky kx kz la aw lb dt"><span id="991e" class="lc ld ht kx b fv le lf l lg lh">git clone <a class="ae jw" href="https://github.com/bigchaindb/bigchaindb.git" rel="noopener ugc nofollow" target="_blank">https://github.com/bigchaindb/bigchaindb.git</a><br/>cd bigchaindb<br/>make run</span></pre><p id="089d" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们已经准备好了BigchainDB，我们如何创建我们的第一个资产呢？我将向您展示如何使用Nodejs(Java和Python中也有官方驱动程序)来做到这一点。首先，<strong class="iz hu">让我们下载JS-driver </strong> <code class="eh ku kv kw kx b">npm install bigchaindb-driver.</code></p><p id="3bc2" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">一旦我们的基础设施和JS驱动程序准备就绪，就应该在系统中创建一个新的身份，并连接到相应的BigchainDB端点:</p><pre class="jy jz ka kb fq ky kx kz la aw lb dt"><span id="79fb" class="lc ld ht kx b fv le lf l lg lh"><strong class="kx hu">// Require JS driver<br/>const</strong> <!-- -->driver<!-- --> <!-- -->=<!-- --> <!-- -->require('bigchaindb-driver')</span><span id="c413" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">// Create an identity key pair<br/>const</strong> <!-- -->myIdentity<!-- --> <!-- -->=<!-- --> <strong class="kx hu">new</strong> <!-- -->driver.Ed25519Keypair()</span><span id="4bf0" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Connect to the BigchainDB test network<br/>const</strong> <!-- -->conn<!-- --> <!-- -->=<!-- --> <strong class="kx hu">new </strong>driver.Connection('https://test.bigchaindb.com/api/v1/')</span><span id="ff30" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Connect or our local infrastructure<br/>const</strong> <!-- -->conn<!-- --> <!-- -->=<!-- --> <strong class="kx hu">new </strong>driver.Connection('http://localhost:9984/api/v1/')</span></pre><p id="2d1a" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">我们在系统中的身份通过非对称密钥对来表示。作为资产的所有者，我们将使用我们的私钥签署所有资产交易。为了创建一个新的资产，我们需要构建一个新的事务，用我们的私钥对其进行签名，并将其发送到网络，以便<strong class="iz hu"> Tendermint可以为我们完成剩余的工作并创建资产</strong>:</p><pre class="jy jz ka kb fq ky kx kz la aw lb dt"><span id="3ea4" class="lc ld ht kx b fv le lf l lg lh"><strong class="kx hu">// Create a new CREATE transaction (new output)<br/>const</strong> <!-- -->tx<!-- --> <!-- -->=<!-- --> <!-- -->driver.Transaction.makeCreateTransaction(</span><span id="e64e" class="lc ld ht kx b fv li lf l lg lh">{<!-- --> name<!-- -->:<!-- --> <!-- -->'My Asset', immutable_attr1: "bla bla"<!-- --> <!-- -->},</span><span id="9803" class="lc ld ht kx b fv li lf l lg lh">{ metadata1: "here goes", metadata2: "my metadata attributes"},</span><span id="6858" class="lc ld ht kx b fv li lf l lg lh">[<!-- --> <!-- -->driver.Transaction.makeOutput(</span><span id="fb4c" class="lc ld ht kx b fv li lf l lg lh">driver.Transaction.makeEd25519Condition(myIdentity.publicKey))],</span><span id="da13" class="lc ld ht kx b fv li lf l lg lh">alice.publicKey)</span><span id="78ee" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Sign the transaction<br/>const</strong> <!-- -->txSigned<!-- --> <!-- -->=<!-- --> <!-- -->driver.Transaction.signTransaction(tx,<!-- --> myIdentity<!-- -->.privateKey)</span><span id="74ac" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Send it to the network<br/></strong>conn.postTransactionCommit(txSigned)</span></pre><p id="0684" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">一旦交易被验证，并且Tendermint回合已经完成，我们应该在网络中看到新的资产。如果我们使用我们的个人BigchainDB网络，<strong class="iz hu">我们将看到在我们的MongoDB节点中，一个新的资产是如何神奇地出现的。</strong>此外，如果我们的网络中有不止一个BigchainDB实例(即MongoDB联盟中的不止一个节点)，我们应该看到我们的新资产是如何在网络的每个节点中同时创建和存储的。</p><p id="2592" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">另一方面，如果我们使用BigchainDB的测试网络，我们可以使用驱动程序来查询基础设施，以查看我们的资产是否已经成功创建，如下所示:</p><pre class="jy jz ka kb fq ky kx kz la aw lb dt"><span id="4f46" class="lc ld ht kx b fv le lf l lg lh"><strong class="kx hu">//Search asset<br/></strong>conn.searchAssets('My Asset').then(assets =&gt; console.log('Found assets with name My asset:', assets))</span><span id="fe2f" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Search metadata<br/></strong>conn.searchMetadata('here goes').then(metadata =&gt; console.log('Found asset metadata with metadata1 here goes:', metadata))</span></pre><p id="47a0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">最后，这里是创建资产的所有代码(只是为了复制粘贴的目的)。</p><pre class="jy jz ka kb fq ky kx kz la aw lb dt"><span id="27c2" class="lc ld ht kx b fv le lf l lg lh"><strong class="kx hu">// Require JS driver<br/>const</strong> <!-- -->driver<!-- --> <!-- -->=<!-- --> <!-- -->require('bigchaindb-driver')</span><span id="7e8c" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">// Create an identity key pair<br/>const</strong> <!-- -->myIdentity<!-- --> <!-- -->=<!-- --> <strong class="kx hu">new</strong> <!-- -->driver.Ed25519Keypair()</span><span id="c8c3" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Connect to the BigchainDB test network<br/>const</strong> <!-- -->conn<!-- --> <!-- -->=<!-- --> <strong class="kx hu">new</strong> <!-- -->driver.Connection('https://test.bigchaindb.com/api/v1/')<br/></span><span id="3ca2" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">// Create a new transaction<br/>const</strong> <!-- -->tx<!-- --> <!-- -->=<!-- --> <!-- -->driver.Transaction.makeCreateTransaction(</span><span id="9dbf" class="lc ld ht kx b fv li lf l lg lh">{<!-- --> name<!-- -->:<!-- --> <!-- -->'My Asset', immutable_attr1: "bla bla"<!-- --> <!-- -->},</span><span id="dfb8" class="lc ld ht kx b fv li lf l lg lh">{ metadata1: "here goes", metadata2: "my metadata attributes"},</span><span id="45ea" class="lc ld ht kx b fv li lf l lg lh">[<!-- --> <!-- -->driver.Transaction.makeOutput(</span><span id="ce98" class="lc ld ht kx b fv li lf l lg lh">driver.Transaction.makeEd25519Condition(myIdentity.publicKey))],</span><span id="8438" class="lc ld ht kx b fv li lf l lg lh">alice.publicKey)</span><span id="532f" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Sign the transaction<br/>const</strong> <!-- -->txSigned<!-- --> <!-- -->=<!-- --> <!-- -->driver.Transaction.signTransaction(tx,<!-- --> myIdentity<!-- -->.privateKey)<br/></span><span id="6a6f" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Send it to the network<br/></strong>conn.postTransactionCommit(txSigned)</span><span id="3336" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Search asset<br/></strong>conn.searchAssets('My Asset').then(assets =&gt; console.log('Found assets with name My asset:', assets))</span><span id="322e" class="lc ld ht kx b fv li lf l lg lh"><strong class="kx hu">//Search metadata<br/></strong>conn.searchMetadata('here goes').then(metadata =&gt; console.log('Found asset metadata with metadata1 here goes:', metadata))</span></pre><p id="a3a0" class="pw-post-body-paragraph ix iy ht iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hm dt translated">很简单，对吧？这是一个介绍性的帖子，这就是为什么我只指导你完成一个非常简单的创建事务(我讨厌帖子太多)。在下面的文章中，我们将介绍BigchainDB的传输事务和更复杂的功能。尽管如此，<strong class="iz hu">如果你只是喜欢这项技术，并且可以等待那一刻的到来，你可以直接进入</strong> <a class="ae jw" href="https://docs.bigchaindb.com/en/latest/" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hu"> BigchainDB的文档页面</strong> </a> <strong class="iz hu">了解更多细节。</strong>最后一件事，你是否很想知道BigchainDB在企业界正在做什么样的项目？随时关注我的<a class="ae jw" href="https://twitter.com/adlrocha" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hu"> Twitter </strong> </a>或<a class="ae jw" href="https://www.linkedin.com/in/adlrocha/" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hu"> Linkedin </strong> </a>保持更新。</p><blockquote class="lj"><p id="190c" class="lk ll ht bd lm ln lo lp lq lr ls ju ek translated"><a class="ae jw" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="lu lv lw lx ly it fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff lt"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="jy jz ka kb fq it fe ff paragraph-image"><a href="http://bit.ly/2G71Sp7"><div class="fe ff lz"><img src="../Images/449450761cd76f44f9ae574333f9e9af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fKX2mtg7p1lOs7JmosPLsA.png"/></div></a><figcaption class="kc kd fg fe ff ke kf bd b be z ek"><a class="ae jw" href="http://bit.ly/2G71Sp7" rel="noopener ugc nofollow" target="_blank"><strong class="bd ma">Click to read today’s top story</strong></a></figcaption></figure></div></div>    
</body>
</html>