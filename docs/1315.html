<html>
<head>
<title>"OK Google, scroll down." How we integrated Google Assistant VUI with a website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“好的谷歌，向下滚动。”我们如何将谷歌助手VUI与网站整合</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ok-google-scroll-down-how-we-integrated-google-assistant-vui-with-a-website-eb5dfe6ac7b?source=collection_archive---------3-----------------------#2018-08-14">https://medium.com/coinmonks/ok-google-scroll-down-how-we-integrated-google-assistant-vui-with-a-website-eb5dfe6ac7b?source=collection_archive---------3-----------------------#2018-08-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk iv iw ix iy fe ff paragraph-image"><div role="button" tabindex="0" class="iz ja di jb bf jc"><div class="fe ff iu"><img src="../Images/6178235863de1fa1f1ef7e99126188d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QnLqcMMupFi4iKI80Hj50g.jpeg"/></div></div></figure><p id="6ded" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">有了这么多关于语音用户界面(VUI)的讨论，我决定尝试一下，围绕它做一点实验。这个想法是使用语音用户界面来完成一些不寻常的事情，但同时可以被广泛的观众所接受。因此，尽管我喜欢所有的物联网实验(如<a class="ae kd" href="https://www.youtube.com/watch?v=X9inuvuyzHQ" rel="noopener ugc nofollow" target="_blank">这个</a>)，但我不得不放弃它们，因为它们需要硬件来玩。</p><p id="f116" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">它必须是<strong class="jh hu">网上可以买到的东西</strong>，于是我们决定把我们公司的网站作为一个游乐场。</p><p id="e532" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="ke">如果你只是想玩玩它，而不想了解它是如何制作的，现在就跳到这篇文章的底部。</em></p><h1 id="b126" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">如果你能用语音浏览网站会怎么样？</h1><p id="3478" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">哦是的。坐下来对着你的屏幕说话。这是展示VUI所能做的多么奇妙的方式啊！噱头？是的。但作为一家数字机构，我们有权利(如果不是义务的话)玩最新技术——谁知道它会在什么时候繁荣起来，把我们的努力货币化。</p><p id="d402" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">是的，类似的东西已经存在了——使用SpeechAPI，你只需要HTML和JS技能就可以构建它。但事实很快证明，目前斯佩查皮的支持率非常低:</p><figure class="lj lk ll lm fq iy fe ff paragraph-image"><div role="button" tabindex="0" class="iz ja di jb bf jc"><div class="fe ff li"><img src="../Images/019e470d45232b32b1bcad57a9ab2f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_4uBOaRHFz_-mu11eH1tw.png"/></div></div></figure><h1 id="2e74" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">谷歌助手出手相救</strong></h1><p id="acec" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">不得不寻找替代解决方案，我将研究转向智能音箱。最近在我们的机构，我们一直在尝试很多对话界面(聊天机器人)，以及语音助手(谷歌助手，Alexa，Siri)。没过多久，谷歌助手就被选为该项目的主要语音平台——它可以在每一款Android设备上使用，允许同时通过语音和视觉界面建立对话，附带很棒的SDK和文档——玩起来真的很有趣。</p><h1 id="cc41" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">这个计划</h1><p id="2296" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">那么，我们想要实现什么呢？首先，让我们考虑一个企业网站上的经典用户之旅:</p><ol class=""><li id="0d2e" class="ln lo ht jh b ji jj jm jn jq lp ju lq jy lr kc ls lt lu lv dt translated">用户登陆主页</li><li id="f81b" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated">向下滚动一点，看看发生了什么</li><li id="4619" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated">开始浏览感兴趣的区域。点击导航项目。</li><li id="0cf2" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated">用户阅读更多关于感兴趣的特定领域的内容，可能会播放一些视频。</li><li id="e3a4" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated">最后，想取得联系并填写联系表。</li></ol><p id="a230" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">太棒了，让我们用声音来做这些。</p><h1 id="2a0e" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">工具</h1><p id="abee" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">现在越来越科技化了。以下是我们使用的方法:</p><ol class=""><li id="65cc" class="ln lo ht jh b ji jj jm jn jq lp ju lq jy lr kc ls lt lu lv dt translated"><a class="ae kd" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank">dialog flow</a>——在谷歌上创建对话入口、意图和管理一切美好而简单的活动。</li><li id="3241" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated"><a class="ae kd" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">NodeJS</a>app——创建自定义函数并允许处理复杂的查询，否则在Dialogflow中是不可能做到的。</li><li id="81ef" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated">Heroku  —托管我们的nodejs应用程序。为了不让我们的应用程序睡着，需要一个付费计划</li><li id="3f5a" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated"><a class="ae kd" href="https://www.greenwoodcampbell.com/" rel="noopener ugc nofollow" target="_blank">网站</a>——理想情况下以单页应用的方式构建——允许平滑的页面转换，并使处理会话更容易</li><li id="4823" class="ln lo ht jh b ji lw jm lx jq ly ju lz jy ma kc ls lt lu lv dt translated"><a class="ae kd" href="https://socket.io/" rel="noopener ugc nofollow" target="_blank"> Socket.io </a> —连接VUI客户端和网站，允许实时通信</li></ol><p id="bdd2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">没多久就把所有东西组合在一起，创建了第一个功能，用语音触发。最耗时的事情是测试和错误处理。仅仅通过观察人们使用你的应用程序，你就能创造出令人难以置信的新功能、旅程、意图和流程。</p><p id="fe2f" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">其中一个挑战是引入同步机制将两个设备耦合在一起，并防止向其他客户端广播事件。令人欣慰的是，stack overflow中有很多优秀的人给出了几乎所有用例的代码片段。随机生成的数字(服务器端)检查占用的组合，并送达回网站前端做的把戏。然后语音代理要求提供这个唯一的号码来同步设备，一旦操作成功，socket.io就会在<a class="ae kd" href="https://socket.io/docs/rooms-and-namespaces/#Rooms" rel="noopener ugc nofollow" target="_blank">同一个房间</a>中欢迎代理和网站。</p><figure class="lj lk ll lm fq iy fe ff paragraph-image"><div role="button" tabindex="0" class="iz ja di jb bf jc"><div class="fe ff mb"><img src="../Images/9ba520366c0a0f1deec1e8e345928549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCO87MACnHbe115sL9Dd0w.png"/></div></div></figure><h1 id="1678" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">发布您的操作</h1><p id="fa5a" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">为了让我们的行为被发现，我们必须通过批准过程。谷歌需要大约1-2天的时间来完成这项工作。<br/> <strong class="jh hu">注意！</strong>每次您想要发布在Dialogflow中完成的哪怕是最小的更改，您都必须再次通过审批流程。说实话挺烦的，不过哎，质量第一。</p><p id="971e" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">最大的技巧是通过说“好吧，谷歌，请格林伍德·坎贝尔做一些令人惊讶的事情”来让一个意图被发现。这样，我们可以带用户进行我们的特殊旅程，并在Dialogflow设置中使用它作为上下文。上下文也是语音代理的一种记忆。</p><p id="7676" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="ke">后来发现，谷歌还用隐式调用索引了我们的意图:“好吧，谷歌，用语音控制一个网站”。你根本不用提我们的机构名称Greenwood Campbell(这几乎就像免费获得一个网站域名！)更多关于动作发现和调用类型</em> <a class="ae kd" href="https://developers.google.com/actions/discovery/" rel="noopener ugc nofollow" target="_blank"> <em class="ke">这里</em> </a> <em class="ke">。</em></p><p id="53c2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">你仍然可以通过说“好的，谷歌，和格林伍德·坎贝尔谈谈”来触发格林伍德·坎贝尔行动，但是这样你就永远找不到网站控制者了。我们的实验计划首先从与网站互动开始。</p><h1 id="5953" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">米，不是米嘘</h1><p id="f12d" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">最有趣的(当我说有趣的时候，我的意思是我们挣扎得很厉害……)是我们接触的形式。</p><figure class="lj lk ll lm fq iy fe ff paragraph-image"><div role="button" tabindex="0" class="iz ja di jb bf jc"><div class="fe ff mc"><img src="../Images/80ea8adb1e4f46954af810a73d62cff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLUo5snQU_LDioueDgtZrg.png"/></div></div></figure><p id="9fc3" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">首先，我们允许用户说出他们的名字来填写表单上的字段。但是——如果你的名字不是英文，或者不太常见，谷歌助手要么没得到，要么拼错得很惨。我的姓是米——波兰语是“泰迪熊”的意思，但是谷歌从来没有弄对过。我不满意通过联系表发送错误的数据。</p><p id="d1b5" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">但是——每一个谷歌助手的用户都会在谷歌的数据库中以某种方式被识别。从你的账户中可能有各种各样的数据要检索，对吗？嗯，不是所有种类的数据。而且你必须允许谷歌助手使用它。但是它有效，并且提供准确的结果。<a class="ae kd" href="https://developers.google.com/actions/assistant/helpers" rel="noopener ugc nofollow" target="_blank">在这里查看</a>当你构建你的行动时，你能得到什么。联系方式问题解决。</p><h1 id="ebb1" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">外卖食品</h1><p id="96c9" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">现场启动这个实验使我们网站的流量增加了几倍，跳出率大幅下降，平均停留时间也有了很大改善。它也给我们带来了一些网站画廊的认可(和<a class="ae kd" href="https://www.awwwards.com/sites/greenwood-campbell" rel="noopener ugc nofollow" target="_blank">奖项</a>！)我们有一个很棒的VUI功能演示，即使它只是一个小游戏。不过，最好的收获是对各种系统的学习，以及在谷歌上向我们的客户交付行动的信心。</p><h1 id="01e8" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">让我们来玩吧！</h1><p id="f6c1" class="pw-post-body-paragraph jf jg ht jh b ji ld jk jl jm le jo jp jq lf js jt ju lg jw jx jy lh ka kb kc hm dt translated">这就是:<a class="ae kd" href="https://www.greenwoodcampbell.com/" rel="noopener ugc nofollow" target="_blank">https://www.greenwoodcampbell.com/</a></p><p id="b6fd" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">使用合适的浏览器和笔记本电脑/台式机屏幕启动VUI控制器。你需要在你的手机上安装谷歌助手或谷歌主页来与之互动。玩得开心:)</p><p id="3f35" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">如果你也在尝试VUI和集成，请在评论中告诉我。我总是很高兴听到令人兴奋的想法。干杯！</p></div><div class="ab cl md me hb mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hm hn ho hp hq"><p id="f7bb" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">编辑:由于这种整合不再是greenwoodcampbell.com网站的一部分，我认为它是如何工作的视频会很有用。在这里(声音不是很大，抱歉！)</p><figure class="lj lk ll lm fq iy"><div class="bz el l di"><div class="mk ml l"/></div></figure><blockquote class="mm"><p id="c18b" class="mn mo ht bd mp mq mr ms mt mu mv kc ek translated"><a class="ae kd" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mx my mz na nb iy fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mw"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>