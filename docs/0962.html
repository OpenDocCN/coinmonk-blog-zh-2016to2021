<html>
<head>
<title>Create token contract and time-limited Crowdsale contract with whitelisting in solidity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可靠地创建带有白名单的令牌合同和限时众筹合同</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/create-token-contract-and-time-limited-crowdsale-contract-with-whitelisting-in-solidity-1eb979d206f6?source=collection_archive---------0-----------------------#2018-07-06">https://medium.com/coinmonks/create-token-contract-and-time-limited-crowdsale-contract-with-whitelisting-in-solidity-1eb979d206f6?source=collection_archive---------0-----------------------#2018-07-06</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="1693" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如何使用open zeppelin创建不同费率的白名单众筹？我们将使用开放的zeppelin模板，并添加/修改一些功能和合同，以实现我们的目标。</p><p id="17bb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在本文中，我们将使用以下依赖项和工具:</p><ul class=""><li id="efea" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw dt translated">结节</li><li id="2851" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">松露</li><li id="1163" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">齐柏林飞艇-坚固性</li><li id="37df" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">元掩码</li><li id="531a" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">神谕-结合-坚固</li></ul><p id="e339" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要安装这些依赖项和工具，请点击以下链接</p><p id="64fa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们将从<strong class="is hu">开始，创建我们的合同目录</strong>并初始化我们的依赖关系:</p><figure class="kc kd ke kf fq kg"><div class="bz el l di"><div class="kh ki l"/></div></figure><h1 id="38c3" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">现在我们将开始创建我们的合同</h1><h2 id="97e8" class="lh kk ht bd kl li lj lk kp ll lm ln kt jb lo lp kx jf lq lr lb jj ls lt lf lu dt translated">创建令牌合同</h2><p id="5a78" class="pw-post-body-paragraph iq ir ht is b it lv iv iw ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn hm dt translated">首先，我们将创建一个令牌契约。在本例中，我们将使用MintableToken，它允许我们在有人购买/我们需要时创建令牌。</p><p id="6a27" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">打开编辑器(我使用Atom)并创建一个名为exampleToken.sol的文件</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="c6e3" class="lh kk ht mb b fv mf mg l mh mi">pragma solidity 0.4.23;</span><span id="ac7c" class="lh kk ht mb b fv mj mg l mh mi">import 'zeppelin-solidity/contracts/token/ERC20/MintableToken.sol';</span><span id="0272" class="lh kk ht mb b fv mj mg l mh mi">contract exampleToken is MintableToken {<br/>    string public name;<br/>    string public symbol; <br/>    uint8 public decimals; <br/>  constructor(string _name, string _symbol, uint8 _decimals)<br/>  MintableToken() public {<br/>      name = _name; <br/>      symbol = _symbol; <br/>      decimals = _decimals; <br/>      owner = msg.sender; <br/>  }<br/>}</span></pre><h2 id="b3c4" class="lh kk ht bd kl li lj lk kp ll lm ln kt jb lo lp kx jf lq lr lb jj ls lt lf lu dt translated">创建众筹合同</h2><p id="6105" class="pw-post-body-paragraph iq ir ht is b it lv iv iw ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn hm dt translated">对于这个例子，我们将使用来自open-zeepelin的MintedCrowdsale和TimedCrowdsale合同模板。</p><p id="7503" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">包含此模板并使用单词<strong class="is hu">“是”，</strong>我们将基本上继承合同代码:</p><p id="90fd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">node _ modules/zeppelin-solidity/contracts/crowd sale/emission/<strong class="is hu">minted crowd sale . sol</strong>和</p><p id="d8a4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">node _ modules/zeppelin-solidity/contracts/crowdsale/validation/<strong class="is hu">timedcrowdsale . sol</strong>和</p><p id="aa74" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">node _ modules/zeppelin-solidity/contracts/crowd sale/validation/<strong class="is hu">whitelied crowd sale . sol</strong></p><p id="aadf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果我们看一下mintedcrowdsale . sol(<a class="ae mk" href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/crowdsale/emission/MintedCrowdsale.sol" rel="noopener ugc nofollow" target="_blank">https://github . com/open zeppelin/zeppelin-solidity/blob/master/contracts/crowdsale/emission/mintedcrowdsale . sol</a>)</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="6c37" class="lh kk ht mb b fv mf mg l mh mi">pragma solidity ^0.4.24;<br/><br/>import "../Crowdsale.sol";<br/>import "../../token/ERC20/MintableToken.sol";<br/><br/><br/>/**<br/> * @title MintedCrowdsale<br/> * @dev Extension of Crowdsale contract whose tokens are minted in each purchase.<br/> * Token ownership should be transferred to MintedCrowdsale for minting.<br/> */<br/>contract MintedCrowdsale is Crowdsale {<br/><br/>  /**<br/>   * @dev Overrides delivery by minting tokens upon purchase.<br/>   * @param _beneficiary Token purchaser<br/>   * @param _tokenAmount Number of tokens to be minted<br/>   */<br/>  function _deliverTokens(<br/>    address _beneficiary,<br/>    uint256 _tokenAmount<br/>  )<br/>    internal<br/>  {<br/>    require(MintableToken(token).mint(_beneficiary, _tokenAmount));<br/>  }<br/>}</span></pre><p id="17b4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以看到没有包含构造函数，因此我们必须查看<strong class="is hu">继承的契约Crowdsale.sol </strong>以了解初始化契约需要哪些参数(<a class="ae mk" href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/crowdsale/Crowdsale.sol" rel="noopener ugc nofollow" target="_blank">https://github . com/open zeppelin/zeppelin-solidity/blob/master/contracts/crowd sale/crowd sale . sol</a>)。</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="be1c" class="lh kk ht mb b fv mf mg l mh mi">pragma solidity ^0.4.24;<br/><br/>import "../token/ERC20/ERC20.sol";<br/>import "../math/SafeMath.sol";<br/>import "../token/ERC20/SafeERC20.sol";<br/><br/><br/>/**<br/> * @title Crowdsale<br/> * @dev Crowdsale is a base contract for managing a token crowdsale,<br/> * allowing investors to purchase tokens with ether. This contract implements<br/> * such functionality in its most fundamental form and can be extended to provide additional<br/> * functionality and/or custom behavior.<br/> * The external interface represents the basic interface for purchasing tokens, and conform<br/> * the base architecture for crowdsales. They are *not* intended to be modified / overriden.<br/> * The internal interface conforms the extensible and modifiable surface of crowdsales. Override<br/> * the methods to add functionality. Consider using 'super' where appropiate to concatenate<br/> * behavior.<br/> */<br/>contract Crowdsale {<br/>  using SafeMath for uint256;<br/>  using SafeERC20 for ERC20;<br/><br/>  // The token being sold<br/>  ERC20 public token;<br/><br/>  // Address where funds are collected<br/>  address public wallet;<br/><br/>  // How many token units a buyer gets per wei.<br/>  // The rate is the conversion between wei and the smallest and indivisible token unit.<br/>  // So, if you are using a rate of 1 with a DetailedERC20 token with 3 decimals called TOK<br/>  // 1 wei will give you 1 unit, or 0.001 TOK.<br/>  uint256 public rate;<br/><br/>  // Amount of wei raised<br/>  uint256 public weiRaised;<br/><br/>  /**<br/>   * Event for token purchase logging<br/>   * @param purchaser who paid for the tokens<br/>   * @param beneficiary who got the tokens<br/>   * @param value weis paid for purchase<br/>   * @param amount amount of tokens purchased<br/>   */<br/>  event TokenPurchase(<br/>    address indexed purchaser,<br/>    address indexed beneficiary,<br/>    uint256 value,<br/>    uint256 amount<br/>  );<br/><br/>  /**<br/>   * @param _rate Number of token units a buyer gets per wei<br/>   * @param _wallet Address where collected funds will be forwarded to<br/>   * @param _token Address of the token being sold<br/>   */<br/>  <strong class="mb hu">constructor(uint256 _rate, address _wallet, ERC20 _token) public</strong> {<br/>    require(_rate &gt; 0);<br/>    require(_wallet != address(0));<br/>    require(_token != address(0));<br/><br/>    rate = _rate;<br/>    wallet = _wallet;<br/>    token = _token;<br/>  }<br/>...</span></pre><p id="707a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以看到，契约<strong class="is hu">众筹</strong> <strong class="is hu">的<strong class="is hu">构造函数</strong>需要</strong>跟随<strong class="is hu">参数</strong>:</p><ul class=""><li id="1340" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw dt translated">uint256 _rate</li><li id="b389" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">地址_钱包</li><li id="cd2c" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">ERC20 _令牌</li></ul><p id="6a52" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">由于我们也继承了timedcrowdsale . sol，我们还必须查看一下该契约，看看需要哪些参数来初始化该契约(<a class="ae mk" href="https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/crowdsale/validation/TimedCrowdsale.sol" rel="noopener ugc nofollow" target="_blank">https://github . com/open zeppelin/zeppelin-solidity/blob/master/contracts/crowdsale/validation/timedcrowdsale . sol</a>)。</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="3681" class="lh kk ht mb b fv mf mg l mh mi">pragma solidity ^0.4.24;<br/><br/>import "../../math/SafeMath.sol";<br/>import "../Crowdsale.sol";<br/><br/><br/>/**<br/> * @title TimedCrowdsale<br/> * @dev Crowdsale accepting contributions only within a time frame.<br/> */<br/>contract TimedCrowdsale is Crowdsale {<br/>  using SafeMath for uint256;<br/><br/>  uint256 public openingTime;<br/>  uint256 public closingTime;<br/><br/>  /**<br/>   * @dev Reverts if not in crowdsale time range.<br/>   */<br/>  modifier onlyWhileOpen {<br/>    // solium-disable-next-line security/no-block-members<br/>    require(block.timestamp &gt;= openingTime &amp;&amp; block.timestamp &lt;= closingTime);<br/>    _;<br/>  }<br/><br/>  /**<br/>   * @dev Constructor, takes crowdsale opening and closing times.<br/>   * @param _openingTime Crowdsale opening time<br/>   * @param _closingTime Crowdsale closing time<br/>   */<br/>  <strong class="mb hu">constructor(uint256 _openingTime, uint256 _closingTime) public</strong> {<br/>    // solium-disable-next-line security/no-block-members<br/>    require(_openingTime &gt;= block.timestamp);<br/>    require(_closingTime &gt;= _openingTime);<br/><br/>    openingTime = _openingTime;<br/>    closingTime = _closingTime;<br/>  }</span></pre><p id="a31f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们可以看到TimedCrowdsale接受以下输入参数:</p><ul class=""><li id="c5d6" class="jo jp ht is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw dt translated">uint256打开时间</li><li id="e0b7" class="jo jp ht is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw dt translated">uint256关闭时间</li></ul><p id="bf1f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果我们在(<a class="ae mk" href="https://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/contracts/crowdsale/validation/WhitelistedCrowdsale.sol" rel="noopener ugc nofollow" target="_blank">https://github . com/open zeppelin/open zeppelin-solidity/blob/master/contracts/crowd sale/validation/whitelisted crowd sale . sol</a>)上查看一下<strong class="is hu">的WhitelistedCrowdsale </strong>契约，我们可以看到它没有构造函数参数。</p><p id="a1b7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，我们已经获得了关于需要哪些参数来部署契约的所有信息。为了更容易理解，我将列出以下论点:</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="4124" class="lh kk ht mb b fv mf mg l mh mi">uint256 _openingTime<br/>uint256 _closingTime<br/>uint256 _rate<br/>address _wallet<br/>MintableToken _token</span></pre><p id="758b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们可以<strong class="is hu">创建我们的众筹合同</strong>:</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="a4e4" class="lh kk ht mb b fv mf mg l mh mi">import './exampleToken.sol';<br/>import 'zeppelin-solidity/contracts/crowdsale/emission/MintedCrowdsale.sol';<br/>import 'zeppelin-solidity/contracts/crowdsale/validation/TimedCrowdsale.sol';<br/>import 'zeppelin-solidity/contracts/crowdsale/validation/WhitelistedCrowdsale.sol';<br/>import 'zeppelin-solidity/contracts/ownership/Ownable.sol';</span><span id="6dd6" class="lh kk ht mb b fv mj mg l mh mi">contract exampleCrowdsale is  TimedCrowdsale, MintedCrowdsale, WhitelistedCrowdsale  {</span><span id="6ffe" class="lh kk ht mb b fv mj mg l mh mi">function exampleCrowdsale<br/>             (<br/>                 uint256 _openingTime,<br/>                 uint256 _closingTime,<br/>                 uint256 _rate,<br/>                 address _wallet,<br/>                 MintableToken _token<br/>             )<br/>             public<br/>             Crowdsale(_rate, _wallet, _token)<br/>             TimedCrowdsale(_openingTime, _closingTime)<br/>             WhitelistedCrowdsale() {<br/>             }</span><span id="921f" class="lh kk ht mb b fv mj mg l mh mi">}</span></pre><h2 id="58fb" class="lh kk ht bd kl li lj lk kp ll lm ln kt jb lo lp kx jf lq lr lb jj ls lt lf lu dt translated">编译代码</h2><p id="17f6" class="pw-post-body-paragraph iq ir ht is b it lv iv iw ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn hm dt translated">我们现在可以编译代码，看看是否有错误。我们将使用truffle编译器(我们在项目目录的根目录下运行这个命令):</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="32f5" class="lh kk ht mb b fv mf mg l mh mi">$truffle compile</span></pre><p id="9cad" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">目前一切正常。</p><p id="c96c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果我们想使用remix IDE部署我们的契约，我们需要组合所有的契约。为此，我们将运行“solidity-flattener ”,我们将把exampleCrowdsale.sol的路径作为参数传递给它。</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="df70" class="lh kk ht mb b fv mf mg l mh mi">$ npm start ../article/contracts/exampleCrowdsale.sol</span></pre><p id="a362" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">平面文件将在<strong class="is hu">目录下</strong>目录下生成。如果我们在remix IDE中复制并粘贴代码，我们将得到一个错误消息:</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="622e" class="lh kk ht mb b fv mf mg l mh mi">browser/ballot.sol:106:27: TypeError: Definition of base has to precede definition of derived contract<br/>contract StandardToken is ERC20, BasicToken</span></pre><p id="e939" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这只是因为“solidity-flattener”在代码中把契约ERC20定位得太低，所以我们必须复制它，并把它放在ERC 20基本契约之下。错误将会消失。</p><p id="acc6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">好了，我们现在准备测试我们的合同。</p><p id="19dd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在本教程中，我们将使用Rinkeby testnet和remix IDE来部署我们的合同并与之通信。</p><p id="2b5a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在remix IDE中，我们选择“运行”选项卡，然后选择“环境注入Web3”。重要提示:你必须安装<strong class="is hu">元掩码</strong>和<strong class="is hu">选择Rinkeby testnet </strong>并且你必须有一些测试ETH。</p><p id="f7f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果没有可用的帐户，只需刷新页面。</p><p id="9fbf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">第一件事是部署exampleToken合同</strong>，因为<strong class="is hu">部署exampleCrowdsale </strong>合同<strong class="is hu">需要</strong>其地址。</p><p id="ee8e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对于<strong class="is hu">部署示例令牌契约</strong>，我们必须<strong class="is hu">提供3个参数</strong>:</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="fe ff ml"><img src="../Images/a261cf12cd41f916472553d4f14c9571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XPUCDoDROHCdNR0MWgE1bQ.png"/></div></div></figure><p id="5371" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在我们按下deploy后，MetaMask将请求批准，在我们确认并挖掘事务后，我们将看到如下内容:</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="fe ff ml"><img src="../Images/b5d6892597a825dcf72b158f630ed3cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R-xGltqqdUugRpB5Yt758Q.png"/></div></div></figure><h2 id="1c40" class="lh kk ht bd kl li lj lk kp ll lm ln kt jb lo lp kx jf lq lr lb jj ls lt lf lu dt translated">好吧！我们已经发布了我们的象征性合同，所以我们现在需要做的就是发布我们的众筹合同。</h2><p id="4b5f" class="pw-post-body-paragraph iq ir ht is b it lv iv iw ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn hm dt translated">对于我们的示例Crowdsale，我们必须提供以下参数:</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="19b3" class="lh kk ht mb b fv mf mg l mh mi">uint256 _openingTime, Timestamp in epoch format (online calculator: <a class="ae mk" href="https://www.unixtimestamp.com/index.php" rel="noopener ugc nofollow" target="_blank">https://www.unixtimestamp.com/index.php</a>) <br/>uint256 _closingTime,<br/>uint256 _rate,   //in this example is 1000 (1000 EXP for 1 ETH)<br/>address _wallet, //address of the wallet that receives funds<br/>MintableToken _token //address of token that we created earlier</span></pre><p id="da4a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">例如，部署exampleCrowdsale的输入参数可能是这样的:</p><pre class="kc kd ke kf fq ma mb mc md aw me dt"><span id="ff55" class="lh kk ht mb b fv mf mg l mh mi">"1530915909", "1540915909", "1000", "0x350be6a66145036dce4367e99b1f9f893ad4aa1a", "0xc693703cc36602cd5fc4d2bacfc42eb8ec866b44"</span></pre><p id="070b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">部署exampleCrowdsale后，我们现在必须更改令牌的所有者，因此exampleCrowdsale契约将控制EXT令牌。</p><p id="db56" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在remix中，我们在exampleToken契约中调用函数transferOwnership:</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="fe ff ms"><img src="../Images/cbf279456e59854e404e4abb594dc9d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s3X7yOQ8NtpPOfThOjLMYQ.png"/></div></div></figure><h1 id="64f7" class="kj kk ht bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">就是这样！</h1><p id="5159" class="pw-post-body-paragraph iq ir ht is b it lv iv iw ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn hm dt translated">请注意，您将想要投资的地址列入了白名单。你可以通过调用函数<strong class="is hu"> addToWhitelist(地址投资者)</strong>来实现</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="fe ff mt"><img src="../Images/2a625d07e5b7056e04912ca3f8e4a0fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rONYrMBiE8NT95cOnNVwvA.png"/></div></div></figure><p id="d0e4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你有任何问题，我很乐意帮忙。</p></div></div>    
</body>
</html>