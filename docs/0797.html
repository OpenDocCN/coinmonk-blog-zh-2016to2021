<html>
<head>
<title>Setup Nebulas Development Environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置Nebulas开发环境</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/setup-nebulas-development-environment-b8f8f022b170?source=collection_archive---------5-----------------------#2018-06-19">https://medium.com/coinmonks/setup-nebulas-development-environment-b8f8f022b170?source=collection_archive---------5-----------------------#2018-06-19</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/1a5bd6d612b9389cdaf9dab6b7805cb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyxRWp6oZRgXf7csRFbCKg.png"/></div></div></figure><h1 id="6e66" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">第一次部署dApp的演练</h1><p id="0fba" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">我最近发现了Nebulas，这是第三代区块链，已经成为一个功能性的mainnet，以及世界各地数量惊人的代码/应用程序/dapp和开发者。</p><p id="27e5" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">撰写本文时，<a class="ae lc" href="https://nebulas.io/incentive.html" rel="noopener ugc nofollow" target="_blank"> Nebulas激励计划</a>仍在进行中。虽然距离我最后一次开发代码已经过去了一段时间，但是我想我应该试一试。成功提交一个dApp给程序将会得到至少100个NAS的奖励(现在大约550美元)。所以，值得一试。</p><p id="7e4d" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">Nebulas位于中国，所以很多文档还没有翻译。我花了很长时间才真正开始编写代码。因此，我将为你在星云上部署的第一个dApp提供详细的指南。</p><p id="1d96" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">我在一台Windows 10电脑上，但是Nebulas-Node的Windows代码还没有发布，所以我们需要覆盖它。我想做快速开发/测试，所以在本地文件上工作会很棒。</p><p id="9188" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">本指南将涵盖以下几点:</p><ol class=""><li id="62ea" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw li lj lk ll dt translated">指出信息/代码的重要来源</li><li id="e0d1" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">设置虚拟机，运行“私有网络”</li><li id="d542" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">设置“私人网络”的地址</li><li id="9865" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">为开发设置您的电脑</li><li id="57e7" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">将一个简单的dApp部署到“Privatenet”</li><li id="76af" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">编辑部署的dApp的前端</li></ol><h1 id="6c4d" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">1.信息/代码的重要来源</h1><p id="a743" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">目前，有大量的资源可以了解星云。但是它们分布在整个网络中。</p><p id="ecdb" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">以下是我发现的最重要的几个:</p><ul class=""><li id="9900" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw lr lj lk ll dt translated"><a class="ae lc" href="https://github.com/nebulasio" rel="noopener ugc nofollow" target="_blank">星云Github</a>::D所有代码的来源</li><li id="dd1f" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" href="https://github.com/nebulasio/wiki" rel="noopener ugc nofollow" target="_blank"> Nebulas Github Wiki </a>:这份文档已经比大多数其他区块链项目都要好。特别是<a class="ae lc" href="https://github.com/nebulasio/wiki/blob/master/FAQ_nebulas_development_en.md" rel="noopener ugc nofollow" target="_blank"> FAQ </a>解决了很多问题。</li><li id="6591" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">这里有非常好的解释和样本代码。</li><li id="c4c6" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" href="https://www.youtube.com/watch?v=cQBM4xwcGZw&amp;t=1095s" rel="noopener ugc nofollow" target="_blank">视频教程#1 </a>:这个由<a class="ae lc" href="https://www.youtube.com/channel/UC3bHnBF2Q-u-1NEYG0Xwgeg" rel="noopener ugc nofollow" target="_blank">提供的视频几乎不难</a>展示了一个dApp在Mainnet上的完整部署。事实上，我们将部署相同的<a class="ae lc" href="https://github.com/hardlydifficult/DecentralizedRNG" rel="noopener ugc nofollow" target="_blank"> dApp </a>！</li><li id="8d23" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">如何在星云上建造DApp(第一部分)</li><li id="9edd" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" rel="noopener" href="/nebulasio/how-to-build-a-dapp-on-nebulas-part-2-5424789f7417">星云Howto第二部分</a>:如何在星云上建造DApp(第三部分)</li><li id="8e50" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" rel="noopener" href="/nebulasio/how-to-build-a-dapp-on-nebulas-part3-3586126aa124">星云Howto第三部分</a>:如何在星云上建造DApp(第三部分)</li><li id="1377" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">如何在你的Dapp中使用NebPay</li><li id="2501" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">Nebulas Reddit部分:适合一般信息和新闻</li><li id="69a3" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" href="https://www.reddit.com/r/nasdev/" rel="noopener ugc nofollow" target="_blank"> Nebulas Dev Reddit </a>:询问开发问题</li><li id="6557" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" href="https://t.me/nebulasio" rel="noopener ugc nofollow" target="_blank">星云电报群</a>:大聊天群</li><li id="4886" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated"><a class="ae lc" href="https://area51.stackexchange.com/proposals/117966/nebulas/118001" rel="noopener ugc nofollow" target="_blank">stack exchange上的Nebulas</a>:面向开发者的Q &amp; A</li></ul><h1 id="5004" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">2.设置虚拟机，运行“私有网络”</h1><p id="b316" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">最初，我想在Testnet上测试，但后来我认为在pricatechain上开始测试会很好。这样，我就可以拥有一个快速的专用网络，并能够在区块链上看到控制台输出，并在以后将其部署到testnet。所以我设置了一个虚拟机来运行priave和testnet。</p><p id="bb62" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">最简单的方法是在本地或VPS上安装一个运行Ubuntu 16.04的虚拟机。我选择Vultr.com<a class="ae lc" href="https://www.vultr.com/?ref=7097618" rel="noopener ugc nofollow" target="_blank">进行测试。一个10美元/月的计划可以为节点做到这一点，但blockexplorer是在java中，它需要20美元以上的计划。</a></p><p id="b6d9" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">为此，我设置了两个安装脚本。</p><ul class=""><li id="4e63" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw lr lj lk ll dt translated"><a class="ae lc" href="https://github.com/mirei83/NebNode" rel="noopener ugc nofollow" target="_blank">只安装Nebulas Node</a>:如果你已经有了Ubuntu系统就可以用这个。它将安装一个全功能Nebulas节点所需的所有软件包，如果手动启动，它将作为“Privatenet”或Testnet/Mainnet的一个实例运行Nebulas的两个实例(私有链所需的)。</li><li id="2884" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装一个“完整的”开发节点:这是一个为星云开发提供更完整环境的尝试。它还会启动一个“Privatenet ”,并为你的Privatenet安装Nebulas wallet、Webfronend和Blockexplorer。<br/>要让它运行，通过SSH连接到你的VPS，让脚本运行:</li></ul><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="5555" class="mb jc ht lx b fv mc md l me mf">curl -sSL <a class="ae lc" href="https://raw.githubusercontent.com/mirei83/NebuEnv/master/SetupEnvironment.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/mirei83/NebuEnv/master/SetupEnvironment.sh</a> | bash</span></pre><p id="b1c2" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">这将基本上做所有的工作。在双核机器上大约需要15分钟。您可以简单地检查脚本。目前包括以下任务:</p><ul class=""><li id="69c2" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw lr lj lk ll dt translated">安装所有需要的软件包</li><li id="5ec7" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装GO</li><li id="4056" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装RocksDB</li><li id="8b55" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装dep</li><li id="b733" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装星云</li><li id="03c8" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">修改星云，使其能够在单个VPS上运行Privatenet</li><li id="b1d9" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装Nebulas网络钱包</li><li id="b0cc" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">为Privatenet准备WebWallet</li><li id="923e" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">安装Blockexplorer</li><li id="fb8e" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">为Privatenet准备Blockexplorer</li><li id="9bcb" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw lr lj lk ll dt translated">将Nebulas + Blockexplorer置于自动启动模式</li></ul><p id="4251" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">这是第一次发布。总有一天会更大。脚本完成后，您可以重启VPS或键入</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="0ef7" class="mb jc ht lx b fv mc md l me mf">./start-nebulas-privatenet.sh<br/>./explorer-privatenet.sh</span></pre><p id="67f9" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">现在，您应该可以通过“ps aux | grep neb”和log/neb.log中的条目看到一些“neb”进程</p><p id="d37b" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">设置完成后，您可以访问<a class="ae lc" href="http://YOUR.NODE.IP.ADD" rel="noopener ugc nofollow" target="_blank"> http://YOUR。NODE.IP.ADD </a></p><h1 id="1ee5" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">3.设置“私人网络”的地址</h1><p id="0426" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">现在我们有了我们的私人网络，我们需要钱包来发送一些私人网络。Privatenet配置为最初向地址n1 ff 1 NZ 6 tarkdvwwqkmnnwfpupkuaktpte提供5.000.000个硬币。此外，所有blockrewards都将发送到这个地址。该地址的私钥已经在节点上。我们可以从这里分发硬币。但是要做到这一点，我们需要测试地址。</p><p id="59d5" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">因此，让我们与我们的新区块链互动吧！</p><p id="f08b" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">去星云目录。这最大限度地减少了未解决的变量问题。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="ff31" class="mb jc ht lx b fv mc md l me mf">cd $GOPATH/src/github.com/nebulasio/go-nebulas</span></pre><p id="f350" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">从这里，我们可以创建一些测试网地址:</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="860b" class="mb jc ht lx b fv mc md l me mf">./neb account new</span></pre><p id="7992" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">输入密码并记下新地址。输出应该如下所示:</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="235e" class="mb jc ht lx b fv mc md l me mf">root@Nebulas_Autoinstall:~/go/src/github.com/nebulasio/go-nebulas# ./neb account new<br/>Your new account is locked with a passphrase. Please give a passphrase. Do not forget this passphrase.<br/>Passphrase:<br/>Repeat passphrase:<br/>Address: n1LEHMKzsDHgyi7wsXB7QSTgtHv712Dj2da</span></pre><p id="2af4" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">根据需要经常重复这个动作。</p><p id="440d" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">密钥库文件(和一些预设文件)存储在keydir文件夹中。在本地复制新创建的钱包(使用WinSCP)。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="7958" class="mb jc ht lx b fv mc md l me mf">$GOPATH/src/github.com/nebulasio/go-nebulas/keydir</span></pre><p id="b816" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">让我们用这个命令检查新钱包的余额:</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="d462" class="mb jc ht lx b fv mc md l me mf">curl -i -H Accept:application/json -X POST http://localhost:8685/v1/user/accountstate -d '{"address":"<!-- -->n1LEHMKzsDHgyi7wsXB7QSTgtHv712Dj2da<!-- -->"}'</span></pre><p id="b4ed" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">答案是:</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="eff2" class="mb jc ht lx b fv mc md l me mf">{<br/>    "result": {<br/>        "balance": "0<!-- -->"<!-- -->,<br/>        "nonce": "0",<br/>        "type": 87<br/>    }<br/>}</span></pre><p id="27bc" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">现在让我们进行第一笔<a class="ae lc" href="http://nebulearn.com/official-docs/transactions" rel="noopener ugc nofollow" target="_blank">交易</a>！我们将从主钱包中发送1NAS到新创建的钱包n1 lehmkzsdhgyi 7 wsxb 7 qstgthv 712 DJ 2 da。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="06a2" class="mb jc ht lx b fv mc md l me mf">curl -i -H 'Content-Type: application/json' -X POST http://localhost:8685/v1/admin/transactionWithPassphrase -d '{"transaction":{"from":"n1FF1nz6tarkDVwWQkMnnwFPuPKUaQTdptE","to":"<!-- -->n1LEHMKzsDHgyi7wsXB7QSTgtHv712Dj2da<!-- -->", "value":"1000000000000000000","nonce":1,"gasPrice":"1000000","gasLimit":"2000000"},"passphrase":"passphrase"}'</span></pre><p id="026a" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">现在再次检查余额。</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="1c7a" class="mb jc ht lx b fv mc md l me mf">curl -i -H Accept:application/json -X POST http://localhost:8685/v1/user/accountstate -d '{"address":"<!-- -->n1LEHMKzsDHgyi7wsXB7QSTgtHv712Dj2da<!-- -->"}'</span></pre><p id="63d3" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">答案是:</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="a530" class="mb jc ht lx b fv mc md l me mf">{<br/>    "result": {<br/>        "balance": <!-- -->"1000000000000000000"<!-- -->,<br/>        "nonce": "0",<br/>        "type": 87<br/>    }<br/>}</span></pre><p id="c605" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">叶哈！区块链起作用了！</p><h1 id="3390" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">4.为开发设置您的电脑</h1><p id="7ecf" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">现在我们需要一些颜色。我说过了，我在Windows上。要开始，需要做一些技巧。所以我会让你免受发现自己的痛苦。</p><ol class=""><li id="b306" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw li lj lk ll dt translated">安装<a class="ae lc" href="https://www.google.de/chrome/index.html" rel="noopener ugc nofollow" target="_blank"> Chrome浏览器</a></li><li id="4edb" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">在Chrome上安装<a class="ae lc" href="https://chrome.google.com/webstore/detail/nasextwallet/gehjkhmhclgnkkhpfamakecfgakkfkco" rel="noopener ugc nofollow" target="_blank"> NebulasExtensionWallet </a>(不是网络钱包)</li><li id="ccb2" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">允许访问NebulasExtensionWallet的本地文件，如此处的<a class="ae lc" href="https://github.com/nebulasio/WebExtensionWallet" rel="noopener ugc nofollow" target="_blank">所示</a>。否则，NebExtWallet无法正确访问本地前端文件。</li><li id="c8aa" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">在Chrome启动时添加“— allow-file-access-from-files”，如图<a class="ae lc" href="https://stackoverflow.com/questions/18586921/how-to-launch-html-using-chrome-at-allow-file-access-from-files-mode" rel="noopener ugc nofollow" target="_blank">此处</a>。您需要添加这个属性来打开本地Javascipt文件。</li><li id="2df0" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">安装一个代码编辑器(<a class="ae lc" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Code Studio </a>不错)</li><li id="eb73" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">连接到我们的节点:</li></ol><p id="9f93" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">为了能够在我们的Privatenet中与WebExtensionWallet和NebPay进行交互，我们需要一个小技巧。<br/>WebExtensionWallet只能连接到Mainnet、Testnet和localhost。但是我们没有在本地主机上运行的节点，但是我们有一个远程节点。因此，我们需要设置一个端口，通过SSH隧道将端口8685转发到我们的节点。你可以用<a class="ae lc" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" rel="noopener ugc nofollow" target="_blank">油灰</a>轻松做到这一点，只要保持连接打开:</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/bc78d43717977f04e3326b791f8164a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*-Dzj8kPe5Cvy669vVGM_Ew.png"/></div><figcaption class="mh mi fg fe ff mj mk bd b be z ek">Putty Portforwarding of port 8685</figcaption></figure><p id="6562" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">激活后，WebExtensionWallet将连接到本地主机，本地主机连接到我们的Privatenet。酷！</p><p id="2998" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">现在，您应该能够在WebExtensionWallet中选择“localhost:8685 ”,并打开privatenet的Keystorefile，这是前面复制的。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/32345ebe4a5ab3eb42b22ab26eecdd9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*q61RyGncbuPdlCsSmRv_hw.png"/></div><figcaption class="mh mi fg fe ff mj mk bd b be z ek">WebExtensionWallet connects to Privatenet</figcaption></figure><h1 id="de6d" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">5.将一个简单的dApp部署到“Privatenet”</h1><p id="85ae" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">首先:看HardlyDifficult的<a class="ae lc" href="https://www.youtube.com/watch?v=cQBM4xwcGZw&amp;t=1095s" rel="noopener ugc nofollow" target="_blank"> Youtube视频</a>！这是一个很好的视频。我们将把“<a class="ae lc" href="https://hardlydifficult.github.io/DecentralizedRNG/" rel="noopener ugc nofollow" target="_blank">去中心化的”</a>”dApp(它也已经在mainnet上)部署到您的私有网络上。</p><ol class=""><li id="a464" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw li lj lk ll dt translated">从<a class="ae lc" href="https://codeload.github.com/hardlydifficult/DecentralizedRNG/zip/master" rel="noopener ugc nofollow" target="_blank">这里</a>下载源代码，解压到某处。</li><li id="68c0" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">有一个文件叫“分散dRNGContract.js”。该文件包含区块链的智能合约。在编辑器中打开该文件并复制其内容。</li><li id="b44c" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">签订合同最简单的方式是通过网络钱包，可以从我们在http://IP.TO.YOUR.VPS/web-wallet的副总裁那里获得。节点上的Web-Wallet将只连接到节点上的privatenet。</li><li id="e2d5" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">转到合同-&gt;部署，并选择一个装有NAS的钱包。现在将智能合约粘贴到“代码”中。</li><li id="4439" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">单击Test，结果应该如下所示:</li></ol><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="fa98" class="mb jc ht lx b fv mc md l me mf">{"result":"\"\"","execute_err":"","estimate_gas":"21566"}</span></pre><p id="b2a9" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">6.现在按Submit，合同已经部署好了！</p><p id="81e2" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">7.记下“合同地址”，我们在本地文件中需要它。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mm"><img src="../Images/1dde9de105ab451f06c98f0f00e429af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlTLIKy8b91xzjCr4Vy9Iw.png"/></div></div><figcaption class="mh mi fg fe ff mj mk bd b be z ek">Submitted SmartContract</figcaption></figure><h1 id="e9d0" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">6.编辑部署的dApp的前端</h1><p id="f478" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">现在，我们需要编辑前端，以与我们的智能合同进行交互。</p><ol class=""><li id="f714" class="ld le ht kb b kc kx kg ky kk lf ko lg ks lh kw li lj lk ll dt translated">打开文件“分散dRNG.js”，将合同地址更改为我们刚刚创建的新地址。</li><li id="f2ce" class="ld le ht kb b kc lm kg ln kk lo ko lp ks lq kw li lj lk ll dt translated">打开results.html，改变</li></ol><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="d5c9" class="mb jc ht lx b fv mc md l me mf">var is_mainnet = true;<br/>        var nebulas_chain_id, nebulas_domain; <br/>        var gas_price = 1000000;<br/>        var gas_limit = 200000;</span><span id="b7b4" class="mb jc ht lx b fv mn md l me mf">if(is_mainnet) {<br/>            nebulas_chain_id = 1;<br/>            nebulas_domain = "<a class="ae lc" href="https://mainnet.nebulas.io" rel="noopener ugc nofollow" target="_blank">https://mainnet.nebulas.io</a>";<br/>        } else {<br/>            nebulas_chain_id = 1001;<br/>            nebulas_domain = "<a class="ae lc" href="https://testnet.nebulas.io" rel="noopener ugc nofollow" target="_blank">https://testnet.nebulas.io</a>";<br/>        }</span></pre><p id="7c38" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">到</p><pre class="ls lt lu lv fq lw lx ly lz aw ma dt"><span id="c8c6" class="mb jc ht lx b fv mc md l me mf">var is_mainnet = false;<br/>        var nebulas_chain_id, nebulas_domain; <br/>        var gas_price = 1000000;<br/>        var gas_limit = 200000;</span><span id="8260" class="mb jc ht lx b fv mn md l me mf">if(is_mainnet) {<br/>            nebulas_chain_id = 1;<br/>            nebulas_domain = "<a class="ae lc" href="https://mainnet.nebulas.io" rel="noopener ugc nofollow" target="_blank">https://mainnet.nebulas.io</a>";<br/>        } else {<br/>            nebulas_chain_id = 100;<br/>            nebulas_domain = "<a class="ae lc" href="https://testnet.nebulas.io" rel="noopener ugc nofollow" target="_blank">http://localhost:8</a>685";<br/>        }</span></pre><p id="2e50" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">就是这样！我们现在有了与NebPay的本地html/JavaScript文件交互，以及与我们自己的privatenet交互的NebPay。</p><h1 id="ea89" class="jb jc ht bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy dt translated">7.测试dApp</h1><p id="f311" class="pw-post-body-paragraph jz ka ht kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hm dt translated">现在在chrome中打开index.html，与NebExtentsionWallet进行交互。</p><p id="8b9d" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">确保Chrome以前面提到的属性启动！</p><p id="27bf" class="pw-post-body-paragraph jz ka ht kb b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hm dt translated">如果这篇文章对你有帮助，可以考虑一个小捐赠:n 1 hlsuo 2h 689 wshknwuneamhqixq 7 eeqbek</p></div></div>    
</body>
</html>