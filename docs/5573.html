<html>
<head>
<title>Getting started with StarkNet using Nile (for beginners)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Nile开始StarkNet(适用于初学者)</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/starknet-tutorial-for-beginners-using-nile-6af9c2270c15?source=collection_archive---------3-----------------------#2021-10-03">https://medium.com/coinmonks/starknet-tutorial-for-beginners-using-nile-6af9c2270c15?source=collection_archive---------3-----------------------#2021-10-03</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/425897b48c455b2ffe614bfe6878b86a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7mzufBIcGAmx0ZLplKSRQ.jpeg"/></div></div></figure><div class=""/><p id="c669" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在<a class="ae jz" href="https://ethereum.org" rel="noopener ugc nofollow" target="_blank">以太坊</a> L2可伸缩性解决方案中，最有前途的方法之一无疑是<strong class="jd if">有效性汇总</strong>，也称为<a class="ae jz" href="https://ethereum.org/en/developers/docs/scaling/layer-2-rollups/#zk-rollups" rel="noopener ugc nofollow" target="_blank">零知识汇总</a>。StarkNet 是实现ZK汇总的主要项目之一。</p><p id="a1a1" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在本教程中，我们将使用<a class="ae jz" href="https://github.com/martriay/nile" rel="noopener ugc nofollow" target="_blank"> Nile </a>为<a class="ae jz" href="https://www.cairo-lang.org/" rel="noopener ugc nofollow" target="_blank"> Cairo </a>建立一个开发环境，该语言用于为StarkNet编写智能合同。</p><p id="37cc" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果你想更多地了解Cairo，我真的推荐你阅读StarkNet背后的公司StarkWare发布的<a class="ae jz" href="https://www.cairo-lang.org/docs/hello_cairo/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>和<a class="ae jz" href="https://www.youtube.com/playlist?list=PLcIyXLwiPilV5RBZj43AX1FY4FJMWHFTY" rel="noopener ugc nofollow" target="_blank"> Cairo 101 </a>系列视频。</p><h1 id="0fd0" class="ka kb ie bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">入门指南</h1><p id="e8de" class="pw-post-body-paragraph jb jc ie jd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hm dt translated">如果是第一次在机器上安装Cairo，请先安装<code class="eh ld le lf lg b">gmp</code>:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="dbfe" class="lp kb ie lg b fv lq lr l ls lt">sudo apt install -y libgmp3-dev # linux</span><span id="c723" class="lp kb ie lg b fv lu lr l ls lt">brew install gmp # mac</span></pre><blockquote class="lv lw lx"><p id="7399" class="jb jc ly jd b je jf jg jh ji jj jk jl lz jn jo jp ma jr js jt mb jv jw jx jy hm dt translated">如果你在苹果M1电脑上安装<code class="eh ld le lf lg b">gmp</code>有任何问题，<a class="ae jz" href="https://github.com/OpenZeppelin/nile/issues/22" rel="noopener ugc nofollow" target="_blank">这里有一个潜在解决方案的列表</a>。</p></blockquote></div><div class="ab cl mc md hb me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hm hn ho hp hq"><p id="bcc8" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们将开始为我们的项目创建一个文件夹，并将<code class="eh ld le lf lg b">cd</code>放入其中:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="5ddb" class="lp kb ie lg b fv lq lr l ls lt">mkdir myproject<br/>cd myproject</span></pre><p id="39a6" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">目前，Cairo需要一个python环境，所以我们将创建一个<code class="eh ld le lf lg b"><a class="ae jz" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank">virtualenv</a></code>并激活它:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="a453" class="lp kb ie lg b fv lq lr l ls lt">python3 -m venv env<br/>source env/bin/activate</span></pre><p id="363c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在我们有了自己的工作环境，可以安装<code class="eh ld le lf lg b">nile</code>:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="760b" class="lp kb ie lg b fv lq lr l ls lt">pip install cairo-nile</span></pre><p id="a42d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">快到了！因为<code class="eh ld le lf lg b">nile</code>会帮我们处理剩下的事情。只需执行:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="e582" class="lp kb ie lg b fv lq lr l ls lt">nile init</span><span id="3154" class="lp kb ie lg b fv lu lr l ls lt">...<br/>✨  Cairo successfully installed!<br/>...<br/>✅ Dependencies successfully installed<br/>🗄 Creating project directory tree<br/>⛵️ Nile project ready! ...</span></pre><p id="4458" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就是这样！Nile为我们创建了项目目录结构并安装了Cairo，以及其他依赖项(<code class="eh ld le lf lg b">ecdsa</code>、<code class="eh ld le lf lg b">pytest</code>等)。</p><p id="919d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">您会看到类似这样的内容:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="08d0" class="lp kb ie lg b fv lq lr l ls lt">.<br/>├── contracts<br/>│   └── contract.cairo<br/>├── tests<br/>│   └── test_contract.py<br/>└── Makefile</span></pre><h1 id="4c2f" class="ka kb ie bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">收集</h1><p id="390d" class="pw-post-body-paragraph jb jc ie jd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hm dt translated">Nile附带了<code class="eh ld le lf lg b">contracts/contract.cairo</code>，一个智能合约示例:</p><figure class="lh li lj lk fq hv"><div class="bz el l di"><div class="mj mk l"/></div></figure><p id="77d2" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们试着编写我们的合同:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="e525" class="lp kb ie lg b fv lq lr l ls lt">nile compile</span><span id="b01b" class="lp kb ie lg b fv lu lr l ls lt">📁 Creating artifacts/abis/ to store compilation artifacts<br/>🤖 Compiling all Cairo contracts in the contracts/ directory<br/>🔨 Compiling contracts/contract.cairo<br/>✅ Done</span></pre><p id="896f" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您阅读输出的第一行，您会注意到该命令创建了一个包含编译输出的<code class="eh ld le lf lg b">artifacts/</code>文件夹，其中包括<a class="ae jz" href="https://www.cairo-lang.org/docs/hello_starknet/intro.html?highlight=abi#the-contract-s-abi" rel="noopener ugc nofollow" target="_blank">ABI</a>:一个包含我们与<a class="ae jz" href="https://www.cairo-lang.org/docs/hello_starknet/index.html" rel="noopener ugc nofollow" target="_blank"> StarkNet </a>智能合约交互所需的所有信息的文件。</p><p id="1a56" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">注意，默认情况下，<code class="eh ld le lf lg b">nile compile</code>编译<code class="eh ld le lf lg b">contract/</code>下的所有内容，但是您可以将任何文件作为参数传递:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="0564" class="lp kb ie lg b fv lq lr l ls lt">nile compile contracts/contract.cairo contracts/other_contract.cairo</span></pre><h1 id="dfea" class="ka kb ie bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">测试</h1><p id="b2eb" class="pw-post-body-paragraph jb jc ie jd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hm dt translated">Nile还为我们的<code class="eh ld le lf lg b">contract.cairo</code>合同提供了一个样本测试文件:</p><figure class="lh li lj lk fq hv"><div class="bz el l di"><div class="mj mk l"/></div></figure><p id="352f" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">由于Nile还为我们安装了<code class="eh ld le lf lg b">pytest</code>和<code class="eh ld le lf lg b">pystest-asyncio</code>，我们可以开箱执行它，它将运行它在<code class="eh ld le lf lg b">tests/</code>下找到的任何测试:</p><pre class="lh li lj lk fq ll lg lm ln aw lo dt"><span id="2d55" class="lp kb ie lg b fv lq lr l ls lt">pytest</span><span id="2be4" class="lp kb ie lg b fv lu lr l ls lt">======================= test session starts ========================<br/>...</span><span id="7e39" class="lp kb ie lg b fv lu lr l ls lt">tests/test_contract.py .                                      [100%]</span><span id="1af6" class="lp kb ie lg b fv lu lr l ls lt">...</span><span id="d43c" class="lp kb ie lg b fv lu lr l ls lt">====================1 passed, 2 warnings in 2.07s===================</span></pre><h1 id="d9f8" class="ka kb ie bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">结论</h1><p id="9abf" class="pw-post-body-paragraph jb jc ie jd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hm dt translated">就是这样！没那么难吧。我们已经能够:</p><ul class=""><li id="142a" class="ml mm ie jd b je jf ji jj jm mn jq mo ju mp jy mq mr ms mt dt translated">安装开罗+尼罗河</li><li id="a3f1" class="ml mm ie jd b je mu ji mv jm mw jq mx ju my jy mq mr ms mt dt translated">设置开发环境</li><li id="6bff" class="ml mm ie jd b je mu ji mv jm mw jq mx ju my jy mq mr ms mt dt translated">汇编合同</li><li id="294f" class="ml mm ie jd b je mu ji mv jm mw jq mx ju my jy mq mr ms mt dt translated">测试合同</li></ul><p id="9f7d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当然，Cairo和StarkNet仍然处于劣势，这使得掌握它们成为一个真正的挑战，但是Nile让整个交易变得容易多了。此外，StarkWare团队正全力以赴，所以我预计这一切将在✨很快改善100倍</p><p id="8edd" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">接下来，学习如何部署和管理您与Nile的合同。</p><p id="cf0d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="ly">(2021年11月3日)已更新，可与最新的Nile和Cairo v0.5.0一起使用。</em></p></div><div class="ab cl mc md hb me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hm hn ho hp hq"><p id="b060" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我是<a class="ae jz" href="https://twitter.com/martriay/" rel="noopener ugc nofollow" target="_blank"> @martriay </a>，是<a class="ae jz" href="https://openzeppelin.com/" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin </a>的产品开发人员，也是<a class="ae jz" href="https://github.com/OpenZeppelin/cairo-contracts" rel="noopener ugc nofollow" target="_blank">open zeppelin Cairo Contracts</a>的首席开发人员，这是一个用Cairo编写的用于安全智能合约开发的库。(🧑‍💻嘘，我们要招聘！)</p><blockquote class="mz"><p id="aa94" class="na nb ie bd nc nd ne nf ng nh ni jy ek translated">加入Coinmonks <a class="ae jz" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jz" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="6048" class="lp kb ie bd kc nj nk nl kg nm nn no kk jm np nq ko jq nr ns ks ju nt nu kw nv dt translated">另外，阅读</h2><div class="hs ht fm fo hu nw"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">ICON _ PLACEHOLDEREstimated预计阅读时间:28分钟加密货币交易所的加密交易需要知识…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">blog.coincodecap.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a href="https://blog.coincodecap.com/crypto-lending" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">2021年10大最佳加密贷款平台| CoinCodeCap</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">当谈到加密货币贷款时，大量因素等同于良好的收入状况。此外，借款的一部分…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">blog.coincodecap.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">2021年最佳免费加密交易机器人</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">medium.com</p></div></div><div class="of l"><div class="om l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">最佳4个加密交易信号电报通道</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">这是乏味的找到正确的加密交易信号提供商。因此，在本文中，我们将讨论最好的…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">medium.com</p></div></div><div class="of l"><div class="on l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a href="https://blog.coincodecap.com/blockfi-review" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">BlockFi评论2021:利弊和利率| CoinCodeCap</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">今天，我们提出了一个全面的BlockFi评论，这是一个成立于2017年的加密贷款平台，拥有其…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">blog.coincodecap.com</p></div></div><div class="of l"><div class="oo l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a rel="noopener follow" target="_blank" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">如何在印度购买比特币？2021年购买比特币的7款最佳应用[手机版]</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">如何使用移动应用程序购买比特币印度</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">medium.com</p></div></div><div class="of l"><div class="op l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">加密税务软件——五大最佳比特币税务计算器[2021]</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">medium.com</p></div></div><div class="of l"><div class="oq l oh oi oj of ok ia nw"/></div></div></a></div><div class="hs ht fm fo hu nw"><a href="https://blog.coincodecap.com/best-hardware-wallet-bitcoin" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd if fv z el ob eo ep oc er et id dt translated">存储比特币的最佳加密硬件钱包[2021] | CoinCodeCap</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">保管您的数字资产很容易，但找到正确的存储方式却是一项繁琐的任务。在线钱包有一个风险…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">blog.coincodecap.com</p></div></div><div class="of l"><div class="or l oh oi oj of ok ia nw"/></div></div></a></div></div></div>    
</body>
</html>