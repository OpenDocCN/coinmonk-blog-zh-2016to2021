<html>
<head>
<title>Updating Smart Contract Data in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更新Unity中的智能合同数据</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/updating-smart-contract-data-in-unity-419473bafb03?source=collection_archive---------1-----------------------#2020-10-14">https://medium.com/coinmonks/updating-smart-contract-data-in-unity-419473bafb03?source=collection_archive---------1-----------------------#2020-10-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="2795" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">更新Unity中的区块链数据</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/193c6b60c508a74a6acfbe2aa8ef9829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHnC_uMlk1Rjf1wGVXp7iw.png"/></div></figure><h1 id="b437" class="jq jr ht bd js jt ju jv jw jx jy jz ka iz kb ja kc jc kd jd ke jf kf jg kg kh dt translated">概观</h1><p id="c7dd" class="pw-post-body-paragraph ki kj ht kk b kl km iu kn ko kp ix kq kr ks kt ku kv kw kx ky kz la lb lc ld hm dt translated">本文将介绍如何在Unity中更新/更改以太坊智能合约中的数据。</p><p id="5c76" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated"><strong class="kk hu">先决条件</strong></p><ul class=""><li id="d9ea" class="lj lk ht kk b kl le ko lf kr ll kv lm kz ln ld lo lp lq lr dt translated">创建了一个Unity项目</li><li id="b838" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated">进口尼瑟姆图书馆</li><li id="5459" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated">部署了智能协定:带有协定地址的代码</li><li id="2c26" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated">下载了<a class="ae lx" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>和<a class="ae lx" href="https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity" rel="noopener ugc nofollow" target="_blank"> Solidity插件</a></li></ul><p id="49e7" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">如果您还没有完成先决条件，请查看<a class="ae lx" rel="noopener" href="/coinmonks/part-1-using-nethereum-in-unity-54e62f7e65d5">第1部分:在Unity中使用以太坊</a>和<a class="ae lx" rel="noopener" href="/coinmonks/create-and-deploy-an-ethereum-leaderboard-1ba60dba1495">创建和部署以及以太坊排行榜</a>。</p><h1 id="8c25" class="jq jr ht bd js jt ju jv jw jx jy jz ka iz kb ja kc jc kd jd ke jf kf jg kg kh dt translated">创建C#定义</h1><p id="aae5" class="pw-post-body-paragraph ki kj ht kk b kl km iu kn ko kp ix kq kr ks kt ku kv kw kx ky kz la lb lc ld hm dt translated">(这些指令类似于<a class="ae lx" rel="noopener" href="/coinmonks/part-2-using-nethereum-in-unity-5b09f2d8c718">从ETH </a>获取数据)</p><p id="4de7" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">在VS代码中打开<a class="ae lx" href="https://gist.github.com/leon-do/d5850bf39fd7710bc365764d1c0d1c8d" rel="noopener ugc nofollow" target="_blank">坚固性代码</a>。确保<a class="ae lx" href="https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity" rel="noopener ugc nofollow" target="_blank">坚固性插件</a>已安装。右键单击合同并选择<code class="eh ly lz ma mb b">Solidity Compile and Code generate CSharp contract definition</code>下面是一个<a class="ae lx" href="https://github.com/IPFS-FPS/leaderboard-solidity-contract" rel="noopener ugc nofollow" target="_blank">排行榜</a>合同的示例。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/b310a802bd6ae29c95b6b0d58ddf7e63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XIVJ5waQpbhF16H3ZrIpFQ.png"/></div></figure><p id="4c56" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">它应该在<code class="eh ly lz ma mb b">/CONTRACT_NAME/ContractDefinition/CONTRACT_NAME_Definition.cs</code>下生成一个合同定义</p><p id="8ba6" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">这里有一个<code class="eh ly lz ma mb b">LeaderboardDefinition.cs</code>的例子</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="mc md l"/></div></figure><p id="ce6f" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">注意<code class="eh ly lz ma mb b">AddScoreFunction</code>用于更新排行榜。它接受两个参数</p><ol class=""><li id="c0ed" class="lj lk ht kk b kl le ko lf kr ll kv lm kz ln ld me lp lq lr dt translated">用户</li><li id="a50a" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld me lp lq lr dt translated">得分</li></ol><p id="7ac7" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">这个文件应该被复制到Unity项目中。</p><h1 id="1eed" class="jq jr ht bd js jt ju jv jw jx jy jz ka iz kb ja kc jc kd jd ke jf kf jg kg kh dt translated">向Unity添加C#定义</h1><p id="8343" class="pw-post-body-paragraph ki kj ht kk b kl km iu kn ko kp ix kq kr ks kt ku kv kw kx ky kz la lb lc ld hm dt translated">打开你的Unity项目，确保尼瑟姆<code class="eh ly lz ma mb b">.dll</code>文件已经被添加。如果未完成，检查<a class="ae lx" rel="noopener" href="/coinmonks/part-1-using-nethereum-in-unity-54e62f7e65d5">第1部分</a>。</p><p id="d988" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">接下来，通过拖动文件将合同定义添加到unity项目中。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/9d3299dac59784121cfd38ebe22ca4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E65UkKp1X5hE6UD0XowMUw.png"/></div></figure><h1 id="1777" class="jq jr ht bd js jt ju jv jw jx jy jz ka iz kb ja kc jc kd jd ke jf kf jg kg kh dt translated">更新以太坊合同中的数据</h1><p id="6e0f" class="pw-post-body-paragraph ki kj ht kk b kl km iu kn ko kp ix kq kr ks kt ku kv kw kx ky kz la lb lc ld hm dt translated">现在一切都设置好了，创建一个脚本来从智能合约中获取数据。</p><p id="5209" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">出于演示目的，在<code class="eh ly lz ma mb b">Main Camera</code>中创建一个脚本</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/522f5ea9f11ca72ca04c926f85299a87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wbzw3klS4t2Gdx1J5lp12Q.png"/></div></figure><p id="4502" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">命名为<code class="eh ly lz ma mb b">UpdateLeaderboard</code></p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff mf"><img src="../Images/64a5f54d139c8d688d47c8ff5d4c11a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*YH84iQcm057ojg52B7HhWw.png"/></div></figure><p id="f3da" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">打开<code class="eh ly lz ma mb b">UpdateLeaderboard.cs</code>并更新脚本。</p><p id="951c" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">注意:<a class="ae lx" href="https://metamask.zendesk.com/hc/en-us/articles/360015289632-How-to-Export-an-Account-Private-Key" rel="noopener ugc nofollow" target="_blank">在下面的代码中添加您的私钥</a>。</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="mc md l"/></div></figure><p id="3405" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">更多信息:<a class="ae lx" href="https://github.com/Nethereum/Unity3dSimpleSample#transfer-transaction" rel="noopener ugc nofollow" target="_blank">https://github . com/nether eum/unity 3d simple sample # transfer-transaction</a></p><p id="b1dc" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">运行您的项目并检查控制台</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="fe ff mg"><img src="../Images/0671d4242c94107d0a17942050be208d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NkMxO4OKtySZPOTJVcTeCA.png"/></div></div></figure><p id="8b14" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">复制事务ID并检查块浏览器。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="fe ff ml"><img src="../Images/91a74d0e9969837317c99b5bc1cd83d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMhr7R2vSWCoVjDGZtY5Tw.png"/></div></div></figure><p id="11e5" class="pw-post-body-paragraph ki kj ht kk b kl le iu kn ko lf ix kq kr lg kt ku kv lh kx ky kz li lb lc ld hm dt translated">恭喜你！您可以从分散的来源更新数据。</p><h2 id="8013" class="mm jr ht bd js mn mo mp jw mq mr ms ka kr mt mu kc kv mv mw ke kz mx my kg mz dt translated"><strong class="ak">还有，读</strong></h2><ul class=""><li id="f48c" class="lj lk ht kk b kl km ko kp kr na kv nb kz nc ld lo lp lq lr dt translated"><a class="ae lx" rel="noopener" href="/coinmonks/defi-future-10-promising-projects-in-the-defi-world-ff2b697ab006">顶级DeFi项目</a></li><li id="51e2" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated">最好的<a class="ae lx" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&amp;sk=324dd9ff8556ab578d71e7ad7658ad7c">硬件钱包</a></li><li id="3524" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated"><a class="ae lx" rel="noopener" href="/coinmonks/best-wallets-to-use-uniswap-e91a6385d9e8">unis WAP最佳钱包</a></li><li id="6e2e" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated"><a class="ae lx" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">面向开发人员的最佳加密API</a></li><li id="b037" class="lj lk ht kk b kl ls ko lt kr lu kv lv kz lw ld lo lp lq lr dt translated">顶级<a class="ae lx" href="https://blog.coincodecap.com/bitcoin-node-solutions" rel="noopener ugc nofollow" target="_blank">比特币节点</a>提供商</li></ul></div></div>    
</body>
</html>