<html>
<head>
<title>Hyperledger Fabric: Use JavaScript libraries on transaction processor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger结构:在事务处理器上使用JavaScript库</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/hyperledger-fabric-use-javascript-libraires-on-transaction-processor-33e13b8c020d?source=collection_archive---------5-----------------------#2019-01-10">https://medium.com/coinmonks/hyperledger-fabric-use-javascript-libraires-on-transaction-processor-33e13b8c020d?source=collection_archive---------5-----------------------#2019-01-10</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="e1f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当在业务网络模型中编码业务逻辑时，开发人员可能不得不编写Javascript库中已经存在的函数或代码。比如像' digital . js '和' moment.js '这样的库，还有很多其他的库可能会对开发者有很大的帮助。</p><p id="d206" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是，由于脚本中不支持import和require。似乎不可能包含任何库。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/d06e64876464e34dd7df28331e3126c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*Urzk0ZboV5VuY1dx.png"/></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek">Js file in lib folder</figcaption></figure><p id="1fbc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">后来，我意识到lib文件夹中的所有javascript文件都包含在应用程序中。</p><p id="4475" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">所以我决定将moment.js和digital . js包含到BNM的lib文件夹中，并检查它们是否会被添加到运行时。结果是它们在控制台中被识别。</p><div class="jp jq jr js fq ab cb"><figure class="ka jt kb kc kd ke kf paragraph-image"><img src="../Images/941b9f9fa764cc9be5221ecb37e2a87c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*iB2qBNBa83yltGjPclds-Q.png"/></figure><figure class="ka jt kg kc kd ke kf paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><img src="../Images/775da218791171e95c6663f212af18dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*RxysEOXgxJ_ADSt-yNvmtQ.png"/></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek kl di km kn">momentjs and numeraljs are identified in “Javascript Runtime”</figcaption></figure></div><blockquote class="ko kp kq"><p id="314e" class="iq ir kr is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hm dt translated">这里，我决定在我的事务处理器‘logic . js’中使用它们，而不导入或需要它们，因为它们将在应用程序中注入，并且我禁用了eslint undefined。其中，我的模型中参与者的两个字段将具有由moment和numeral生成的值。使用RequestUser Transaction时为" proof . others proof s and a dress . stressaddressoptional"。</p></blockquote><pre class="jp jq jr js fq kv kw kx ky aw kz dt"><span id="e98f" class="la lb ht kw b fv lc ld l le lf">// eslint-disable-next-line no-undef</span></pre><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff lg"><img src="../Images/13b7d6bf8a31a31242821681d5792f11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/0*olvcfSiPipnmYqut.png"/></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek">Screenshot from user.js : Transaction</figcaption></figure><p id="1478" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这里是提交事务后操场和composer-rest-server中的结果。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/bd42e97086fa708637fde716c3648e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/0*T6FPSvPrgHWdqmbh.png"/></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek">Composer Playground</figcaption></figure><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff li"><img src="../Images/0e28312567afdf16ec8328ea31c226ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/0*UFuqRtCugb-TMQFb.png"/></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek">Composer-reset-server explorer</figcaption></figure><p id="d6c4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是，在添加一些库时，您必须要注意，因为它们可能是某些异常的原因。你可能会在Playground v0.19.5遇到问题，而你在Playground v0.20.6找不到问题，其他人两者都有。因此，每次向lib文件添加新的库时，都要尝试逐个添加它们并检查结果，因为它们中的一些具有依赖性，而另一些可能使用composer中定义的某些全局变量或函数的名称。</p><p id="a490" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">快乐编码…</p><h1 id="d4ae" class="lj lb ht bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf dt translated">WWOLF第一单元</h1></div></div>    
</body>
</html>