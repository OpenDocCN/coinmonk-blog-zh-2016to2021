<html>
<head>
<title>NEO Smart Contracts Tutorial: helloWorld</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NEO智能合约教程:helloWorld</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/neo-smart-contracts-tutorial-helloworld-13ecc19b31fe?source=collection_archive---------0-----------------------#2018-03-04">https://medium.com/coinmonks/neo-smart-contracts-tutorial-helloworld-13ecc19b31fe?source=collection_archive---------0-----------------------#2018-03-04</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk iq ir is it"><div class="bz el l di"><div class="iu iv l"/></div></figure><p id="e5b5" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">这是一个关于在NEO上创建、部署和运行您的第一个智能合同的教程。</p><p id="bbb9" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">如果你还没有在一个带有gas的docker容器中设置你的开发环境和一个私有的neo网络，请在继续之前先运行这个教程。</p><p id="041a" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated"><a class="ae ju" rel="noopener" href="/@nickfujita/neo-dev-environment-setup-tutorial-e495f5364ada">快速设置:NEO专用网络</a></p><h1 id="d894" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">启动docker容器</h1><p id="c25a" class="pw-post-body-paragraph iw ix ht iy b iz kt jb jc jd ku jf jg jh kv jj jk jl kw jn jo jp kx jr js jt hm dt translated">如果您已经在终端上启动并运行了docker实例，请跳过这一步。</p><p id="97ca" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">检查您的neo privnet docker容器是否正在运行</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="45e6" class="lh jw ht ld b fv li lj l lk ll">docker ps</span></pre><figure class="ky kz la lb fq it fe ff paragraph-image"><div class="fe ff lm"><img src="../Images/69f21d09e39d29584351bb95d349f675.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*4Adip3YbQcVGdlBhQ0FMQQ.png"/></div></figure><p id="3c92" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">如果容器没有运行</p><figure class="ky kz la lb fq it fe ff paragraph-image"><div class="fe ff lp"><img src="../Images/8e76a5a7820c5b970fc8153615662dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/0*uhueY9Uaq2ypJqQn.png"/></div></figure><p id="b19f" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">但是你已经创造了它。检查容器id，并启动容器。</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="0cc4" class="lh jw ht ld b fv li lj l lk ll">docker ps -a</span></pre><figure class="ky kz la lb fq it fe ff paragraph-image"><div class="fe ff lq"><img src="../Images/e45d8c68815745ad0fc35bc273ab94ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*UHbeM9m1efokrUleXWQnXg.png"/></div></figure><p id="cafd" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">复制<code class="eh lr ls lt ld b">CONTAINER ID</code>并运行</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="a99f" class="lh jw ht ld b fv li lj l lk ll">docker start CONTAINER_ID</span></pre><p id="3199" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">SSH到docker容器中</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="d4a3" class="lh jw ht ld b fv li lj l lk ll">docker exec -it neo-privatenet /bin/bash</span></pre><h1 id="f76f" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">撰写您的第一份智能合同</h1><ul class=""><li id="77b6" class="lu lv ht iy b iz kt jd ku jh lw jl lx jp ly jt lz ma mb mc dt translated">打开您最喜欢的文本编辑器</li><li id="3fb4" class="lu lv ht iy b iz md jd me jh mf jl mg jp mh jt lz ma mb mc dt translated">创建一个新文件，并将其保存到您在安装教程中创建的目录中(在标记为“非常重要”的步骤中)。这是与docker映像共享的文件夹。因此它允许您从docker容器中访问主机上的文件。</li><li id="df4a" class="lu lv ht iy b iz md jd me jh mf jl mg jp mh jt lz ma mb mc dt translated">在这个文件中，我们将创建一个非常简单的函数，记录一个字符串并返回一个布尔值</li></ul><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="dfe9" class="lh jw ht ld b fv li lj l lk ll">def Main():</span><span id="7ef9" class="lh jw ht ld b fv mi lj l lk ll">  print("hello world");</span><span id="417c" class="lh jw ht ld b fv mi lj l lk ll">  return True</span></pre><p id="4355" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated"><a class="ae ju" href="https://github.com/nickfujita/neo-smart-contracts/blob/master/intro/01-helloWorld.py" rel="noopener ugc nofollow" target="_blank">这段代码也可以在这里找到。</a></p><ul class=""><li id="a6ae" class="lu lv ht iy b iz ja jd je jh mj jl mk jp ml jt lz ma mb mc dt translated">保存文件</li></ul><h1 id="a30b" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">编译python智能合约文件</h1><p id="bfbc" class="pw-post-body-paragraph iw ix ht iy b iz kt jb jc jd ku jf jg jh kv jj jk jl kw jn jo jp kx jr js jt hm dt translated">回到装载了docker容器SSH会话的终端，假设您仍然在<code class="eh lr ls lt ld b">neo-python</code>目录中，打开neo cli</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="876a" class="lh jw ht ld b fv li lj l lk ll">np-prompt -p -v</span><span id="cb0c" class="lh jw ht ld b fv mi lj l lk ll">config sc-events on</span></pre><p id="6a31" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">或者</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="67cd" class="lh jw ht ld b fv li lj l lk ll">neopy</span></pre><p id="1038" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">运行编译命令</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="fcdb" class="lh jw ht ld b fv li lj l lk ll">build smartContracts/helloWorld.py</span></pre><p id="286a" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">注意:这也假设你已经创建了名为<code class="eh lr ls lt ld b">smartContracts</code>的共享文件夹，如<a class="ae ju" href="https://steemit.com/neo/@z0yo/quick-setup-neo-private-net-w-gas." rel="noopener ugc nofollow" target="_blank">安装教程中所述。</a>如果不是，请将文件夹名称更改为您指定的名称。</p><p id="fb2b" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">现在您应该在您的<code class="eh lr ls lt ld b">smartContracts</code>文件夹中有一个编译好的<code class="eh lr ls lt ld b">helloWorld.avm</code>，正如成功确认消息中所指示的。</p><figure class="ky kz la lb fq it fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/ce6786ce16580fd2ecdaddebacfae364.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/0*R1UeTYSraZtDkQ-n.png"/></div></figure><h1 id="6d69" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">导入合同</h1><p id="cfcb" class="pw-post-body-paragraph iw ix ht iy b iz kt jb jc jd ku jf jg jh kv jj jk jl kw jn jo jp kx jr js jt hm dt translated">用NEO/GAS打开您的钱包</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="2172" class="lh jw ht ld b fv li lj l lk ll">open wallet neo-privnet.wallet</span></pre><p id="0f92" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">输入钱包密码</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="026d" class="lh jw ht ld b fv li lj l lk ll">coz</span></pre><p id="7989" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">使用以下命令导入智能合约</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="bd29" class="lh jw ht ld b fv li lj l lk ll">import contract CONTRACT_FILE INPUT_TYPES OUTPUT_TYPES NEEDS_STORAGE NEEDS_DYNAMIC_INVOKE</span></pre><p id="ec7a" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">我将在以后的文章中讨论这些选项，但是目前，我们的命令应该类似于下面这样</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="68ed" class="lh jw ht ld b fv li lj l lk ll">import contract ./smartContracts/helloWorld.avm "" 01 False False</span></pre><p id="c947" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">然后会提示您填写此合同的详细信息。现在只需输入一个名字，其余的留空。</p><figure class="ky kz la lb fq it fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/619958998e2bb9a63b8caeb105f6962f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*_Icb-NvDBpsdWMxS.png"/></div></figure><p id="af99" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">输入钱包密码(<code class="eh lr ls lt ld b">coz</code>)确认部署该合同，并等待部署成功的反馈信息。</p><figure class="ky kz la lb fq it fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mo"><img src="../Images/1d7e0bacee45b7035a3ae64db1b487bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*85BXx2TTL8yuQtwv.png"/></div></div></figure><h1 id="fd5d" class="jv jw ht bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dt translated">援引合同</h1><p id="c642" class="pw-post-body-paragraph iw ix ht iy b iz kt jb jc jd ku jf jg jh kv jj jk jl kw jn jo jp kx jr js jt hm dt translated">确认合同已部署</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="4139" class="lh jw ht ld b fv li lj l lk ll">contract search CONTRACT_NAME</span></pre><p id="1d25" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">在我们的情况下</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="1708" class="lh jw ht ld b fv li lj l lk ll">contract search helloWorld</span></pre><figure class="ky kz la lb fq it fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/602e4f51bc96b77deeb025b2528c043d.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/0*KnRV_84uYKMQ_il1.png"/></div></figure><p id="b0d1" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">复制合同哈希值。在这种情况下是<code class="eh lr ls lt ld b">a89e1bc8437cfce24a523829a71a35d73fc18bb2</code>，但在您的情况下会有所不同。</p><p id="b422" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">在合同上运行一个<code class="eh lr ls lt ld b">testinvoke</code></p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="2b3b" class="lh jw ht ld b fv li lj l lk ll">testinvoke CONTRACT_HASH</span></pre><figure class="ky kz la lb fq it fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mu"><img src="../Images/b2b39eaa587808393add91892ce7ffc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C99Sj_bjrYrPkT7v.png"/></div></div></figure><p id="5421" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">正如您所看到的，测试调用是成功的，有一个日志记录了我们的字符串“hello world”，以及结果“1”(相当于<code class="eh lr ls lt ld b">True</code>)</p><p id="6f95" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">点击返回，而不是输入钱包密码，因为这样做将实际运行合同，并将交易过帐到新区块链。</p><p id="8951" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">恭喜你。您已经编写、部署并运行了与NEO的第一份智能合同！</p><blockquote class="mv"><p id="6a1b" class="mw mx ht bd my mz na nb nc nd ne jt ek translated"><a class="ae ju" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="ng nh ni nj nk it fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nf"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><p id="3b2d" class="pw-post-body-paragraph iw ix ht iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hm dt translated">如果你觉得这个教程有帮助，请在:</p><pre class="ky kz la lb fq lc ld le lf aw lg dt"><span id="8683" class="lh jw ht ld b fv li lj l lk ll">NEO/GAS/NEP5 tokens: AR8rRBxgWw5siKsp1dUmfTLy6QQTjcqoqB</span><span id="9701" class="lh jw ht ld b fv mi lj l lk ll">ETH/ERC20 tokens: 0x575970777095575fDd12d9cD3B105b41D8DD1344</span><span id="1533" class="lh jw ht ld b fv mi lj l lk ll">NANO/XRB: xrb_3rpmim57tqbrb8hhjfzm1x5uk135yhmgqoj7j7wsufpo53e3ad5k93ggy1cd</span><span id="40b8" class="lh jw ht ld b fv mi lj l lk ll">LTC: M8nZ7FwJXSMAkAfiGmTKjbB7MWpdwsp52d</span><span id="8a34" class="lh jw ht ld b fv mi lj l lk ll">BTC: 3LcA1ztxFjghexRNWPyGXA59VFU3gF4PTz</span><span id="2212" class="lh jw ht ld b fv mi lj l lk ll">BCH: 1LXLiF7SjWGday6gm61hzbYHKbSAMevwXo</span></pre><figure class="ky kz la lb fq it fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff nl"><img src="../Images/65e257ad118c7069fc1a9bd427efa020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Y1U77xY8Ml_U_pybkU6BA.png"/></div></div></figure></div></div>    
</body>
</html>