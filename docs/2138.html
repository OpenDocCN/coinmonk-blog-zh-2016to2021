<html>
<head>
<title>[CouchDB] Hyperledger Fabric Account-based Wallet Java Chaincode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[CouchDB]基于Hyperledger结构帐户的钱包Java链代码</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/couchdb-hyperledger-fabric-account-based-wallet-java-chaincode-82166c165266?source=collection_archive---------0-----------------------#2019-03-21">https://medium.com/coinmonks/couchdb-hyperledger-fabric-account-based-wallet-java-chaincode-82166c165266?source=collection_archive---------0-----------------------#2019-03-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="6fdc" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">CouchDB版本—交易系统中基于账户的钱包模型</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/37c8daabf57252995bc0b9b5c287aeb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z2REkO4RIp73p4wESu_0IA.png"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek"><a class="ae jy" href="https://www.hyperledger.org/blog/2018/11/28/conducting-data-with-concerto-and-hyperledger-fabric" rel="noopener ugc nofollow" target="_blank">Hyperledger Fabric Image</a></figcaption></figure><p id="26c2" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">这是Hyperledger Fabric<strong class="kb hu"><em class="kv">Java</em></strong><strong class="kb hu"><em class="kv">chain code with couch db</em></strong>的教程。</p><p id="04ae" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">基本上，本教程是我之前的故事<a class="ae jy" rel="noopener" href="/coinmonks/hyperledger-fabric-account-based-wallet-java-chaincode-8cbf80a6fb82">Hyperledger Fabric Account-based Wallet Java chain code</a>的<strong class="kb hu"> <em class="kv"> CouchDB版本</em>，但是添加了一些新的功能来演示CouchDB可以为我们提供什么— <strong class="kb hu"> <em class="kv"> Rich Query </em> </strong>，这使我们能够以更灵活的方式<strong class="kb hu"> <em class="kv">查询我们的区块链数据</em> </strong>，例如查询“所有余额大于$10的钱包”。而在LevelDB中，数据被简单地存储为一个键值对。</strong></p><blockquote class="kw kx ky"><p id="2baa" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">注意，一般来说，LevelDB比CouchDB有更好的性能，而CouchDB可以为我们提供丰富的查询。选项取决于用例。</p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="e96b" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">开始之前</h2><p id="a9f6" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">我们将使用Hyperledger Fabric“构建您的第一个网络(BYFN)”作为我们的测试环境(1.4版网络)</p><blockquote class="kw kx ky"><p id="21ea" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">如果你不知道如何开始一个“BYFN”网络，我也会提供步骤，不用担心。但是如果你想了解“BYFN”是如何工作的，你可以参考:</p><p id="2c4c" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">(1) <a class="ae jy" href="https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html" rel="noopener ugc nofollow" target="_blank"> Hyperledger Fabric官方“BYFN”教程</a></p><p id="6ce2" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">(2) <a class="ae jy" rel="noopener" href="/@reasdom/hyperledger-fabric-building-your-first-network-tutorial-part-1-2d3b32213529">我之前关于“BYFN”的故事</a></p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="4392" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">基于账户的钱包模型基本上是什么</h2><p id="08f0" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">基于账户的钱包模型是<strong class="kb hu"> <em class="kv">交易系统</em> </strong>的实现之一，一般来说<strong class="kb hu"> <em class="kv">都有钱包，每个钱包都包含一些价值或代币，可以用来转移</em> </strong>。当然，在实现的细节上有很多变化，比如令牌交换和多令牌特性。</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="661e" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">特征</h2><p id="b109" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">在Java链代码中，我们将实现:</p><ol class=""><li id="78ad" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku mo mp mq mr dt translated">用户钱包创建</li><li id="30ce" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">带有walletId的用户钱包查询</li><li id="f090" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">钱包代币转账(即从一个钱包向另一个钱包汇款或代币)</li><li id="490a" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated"><strong class="kb hu"> <em class="kv">以令牌金额需要大于某个值为条件的用户钱包查询(本次CouchDB版本教程新增功能！)</em> </strong></li></ol></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="d76c" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">Java链代码开发工具IDE</h2><p id="2c8e" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">我们用<a class="ae jy" href="https://www.jetbrains.com/idea/download/#section=mac" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hu"> <em class="kv"> IntelliJ IDEA社区</em> </strong> </a>。还有，你需要有<a class="ae jy" href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" rel="noopener ugc nofollow" target="_blank"><strong class="kb hu"><em class="kv"/></strong></a>。请安装它们。</p><p id="1f35" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">当然，如果你有自己的Java IDE，你也可以使用它。但是在本教程中，我使用IntelliJ。</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="efcc" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">步骤1 —开发准备</h2><p id="bef8" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">让我们打开IntelliJ。</p><p id="30c1" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated"><strong class="kb hu"> <em class="kv">在IntelliJ中创建新项目</em> </strong>:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/e0ea7adf7d2c5f9abfca6ec2c48516bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*BeK_U3DaLdND6tg3dlkz2Q.png"/></div></figure><p id="63e2" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">选择左边的<strong class="kb hu"><em class="kv"/></strong>，然后下一步:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff my"><img src="../Images/f6dbc5c16729e3b1ae090dfcdd0701ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C5RaZu6XsNLL4kF_Mfvr4A.png"/></div></div></figure><p id="b8fb" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">键入您的<strong class="kb hu"> <em class="kv"> GroupId </em> </strong>和<strong class="kb hu"> <em class="kv"> ArtifactId </em> </strong>。在我的例子中，我用<strong class="kb hu"><em class="kv">“Java _ account _ model _ cc”</em></strong>来表示两者。接下来:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff mz"><img src="../Images/a9d2d30af9216ed818564dfe75665906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHYV97VEABixSrahqGrHiw.png"/></div></div></figure><p id="c8bd" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">然后，就下一个。现在，你应该配置你自己的<strong class="kb hu"> <em class="kv">项目位置</em> </strong>。我的情况是用<strong class="kb hu"><em class="kv">" ~/Desktop/Java _ account _ model _ cc "</em></strong>。点击<strong class="kb hu"> <em class="kv">完成</em> </strong>。</p><h2 id="f761" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">1.1设置</h2><p id="5290" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">在左边的项目文件中，你应该有<strong class="kb hu"><em class="kv">【settings . gradle】</em></strong>。让我们双击打开它:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff na"><img src="../Images/8f1b21086cd0b53f63944bbcdbf05f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*idCn-3hO7VCuxwkria1YlQ.png"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Project files on the left panel</figcaption></figure><p id="cf95" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">键入以下内容:</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">settings.gradle</figcaption></figure><h2 id="710c" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">1.2 build.gradle</h2><p id="2e94" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">在左边的项目文件面板中，你应该有<strong class="kb hu"><em class="kv">【build . gradle】</em></strong>。让我们双击打开它。</p><p id="9c06" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">然后，键入以下内容:</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">build.gradle</figcaption></figure><p id="dcf5" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">*如果您的IntelliJ右下方有一个<strong class="kb hu"><em class="kv">【grad le项目需要导入】</em> </strong>弹出，让我们选择<strong class="kb hu"> <em class="kv">【导入修改】</em> </strong>。</p><h2 id="202c" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">1.3链码文件</h2><p id="4736" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">在左边的项目文件面板中，在<strong class="kb hu"><em class="kv">src&gt;main&gt;Java</em></strong>下，点击右键，选择<strong class="kb hu"><em class="kv">New&gt;Java Class</em></strong>:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff nd"><img src="../Images/b599b59abb68292497386ce1e3949b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cw5t6UGDlc2oFAVFwpacsA.png"/></div></div></figure><p id="248b" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">在<strong class="kb hu"><em class="kv"/></strong>字段中输入<strong class="kb hu"><em class="kv">" org . hyperledger . fabric . chain code . accountbasedchaincode "</em></strong>:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ne"><img src="../Images/2bd73dd2028846fc5f6c1b0299484083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*afNlb8jtwSzNSQ1J3rA14g.png"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">org.hyperledger.fabric.chaincode.AccountBasedChaincode</figcaption></figure><p id="769c" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">然后，您应该有以下内容:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff nf"><img src="../Images/5415ec3408774552ca8ad8b2709dbf12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4dqv_ou4Kx3oXVoBfFaOWA.png"/></div></div></figure><p id="9761" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated"><strong class="kb hu"><em class="kv">AccountBasedChaincode</em></strong>(。java)上面是我们用Java写Chaincode的地方。</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="7950" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">步骤2 —需求分析</h2><p id="6ad1" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">在开始编码之前，我们先整理一下需要编码的内容。</p><p id="7b95" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">如“特性”一节所述，在Java链代码中，我们将实现:</p><ol class=""><li id="9846" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku mo mp mq mr dt translated">用户钱包创建</li><li id="4e1f" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">带有walletId的用户钱包查询</li><li id="99a7" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">钱包令牌转移(即从一个钱包向另一个钱包汇款)</li><li id="99b5" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated"><strong class="kb hu"> <em class="kv">令牌金额需要大于某个值的用户钱包查询</em> </strong></li></ol><p id="c008" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">根据上面这个简单的要求，我们需要下面的类:</p><ol class=""><li id="3128" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku mo mp mq mr dt translated">钱包类</li><li id="bb1a" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">链码类——保存链码</li></ol><p id="1a04" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">我们的链码应该提供这些功能:</p><ol class=""><li id="2d63" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku mo mp mq mr dt translated">创建钱包</li><li id="4a80" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">将代币从一个钱包转移到另一个钱包</li><li id="c102" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">获取(查询)带有walletId的钱包</li><li id="f68b" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated"><strong class="kb hu"> <em class="kv">获取(查询)一些钱包，条件是令牌金额需要大于某个值</em> </strong></li><li id="a488" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">Init函数—当链码为<strong class="kb hu"> <em class="kv">实例化</em> </strong>时调用</li><li id="7704" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated">调用函数—当用户想要调用函数(1)、(2)、(3)或<strong class="kb hu">、<em class="kv">、</em>、</strong>时调用</li></ol><blockquote class="kw kx ky"><p id="2697" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated"><strong class="kb hu"> Init </strong>函数必须在Chaincode中实现，每当我们<strong class="kb hu">实例化<em class="ht"> </em> </strong>或<strong class="kb hu"> <em class="ht"> </em>升级<em class="ht"/></strong>chain code时，该函数将被自动调用。通常用于初始化区块链中的一些数据。</p><p id="c8c6" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated"><strong class="kb hu"> Invoke </strong>函数用于接收<strong class="kb hu">所有</strong>用户函数调用，然后根据调用调用(调用)相应的函数— (1)、(2)、(3)或<strong class="kb hu"> (4) </strong>。它就像一个路由器——将传入的请求路由到不同的路径。</p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="92c6" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">步骤3 —钱包类</h2><p id="8c64" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">现在，我们创建并编码Wallet类。</p><p id="b7a6" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">在<strong class="kb hu"><em class="kv">“org . hyperledger . fabric . chain code”下新建一个包:</em> </strong></p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ng"><img src="../Images/132365a967c4f311825b831d1f833eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m1d9U__dRWFOttVm7rdCSg.png"/></div></div></figure><p id="e433" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">调用<strong class="kb hu">包<em class="kv">型号</em>包</strong>，然后OK:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff nh"><img src="../Images/9b09318bfa477cebd1eac975eb1aef0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wit7083YVAh3NBkkaGLc7w.png"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Package “Models”</figcaption></figure><p id="186b" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在您应该有以下内容:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ni"><img src="../Images/9cd741ed7a0094b89bcbfd48130bf049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*qTlLZ34iSi7TJVG-gyj6_A.png"/></div></figure><p id="3f6e" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">在<strong class="kb hu"> <em class="kv"> Models </em> </strong>包下，新建一个Java类，命名为<strong class="kb hu"> <em class="kv"> Wallet </em> </strong>。(这次不展示详细步骤，大家自己试试)</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff nj"><img src="../Images/6685db6116f429e53d5f3c91bcd6caac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRGRjQiWn8d3k-dqYLs-pg.png"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Creating <strong class="bd nk"><em class="nl">Wallet </em></strong><em class="nl">class under </em><strong class="bd nk">Models</strong> package</figcaption></figure><p id="4e6d" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在我们代码为<strong class="kb hu"> <em class="kv">钱包</em> </strong>类，让我们键入:</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Wallet.java</figcaption></figure><p id="f6b7" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">钱包有一个<strong class="kb hu"> <em class="kv">钱包id </em> </strong>来标识某个钱包，还有一个<strong class="kb hu"> <em class="kv">代币金额</em> </strong>来指定钱包拥有多少代币。</p><blockquote class="kw kx ky"><p id="939d" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">注意，在生产情况下，Wallet类应该(远)更复杂。例如，对于tokenAmount，您可能使用“BigDecimal”数据类型而不是“Double”。此外，在我们的案例中，我们在整个交易系统中仅支持一种令牌类型(即，仅一种货币)。</p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="8e55" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">步骤4 —链码类</h2><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div></figure><blockquote class="kw kx ky"><p id="003c" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated"><strong class="kb hu">请注意，与上一个教程相比，本教程中有两个新函数——query()和getWalletsWithTokenAmountGreaterThan()。我在上面放了一些评论。</strong></p><p id="1916" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">请注意，在生产情况下，代码应该与我的不同。这些代码主要用于演示或教程目的。</p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="98cb" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">步骤5 —在BYFN中运行链代码</h2><h2 id="6aee" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">5.1安装先决条件</h2><p id="5343" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">在本教程中，我们使用Hyperledger Fabric v1.4版。</p><p id="40c0" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">首先，您可以按照官方说明安装先决条件:</p><ol class=""><li id="f620" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku mo mp mq mr dt translated"><a class="ae jy" href="https://hyperledger-fabric.readthedocs.io/en/release-1.4/prereqs.html#prerequisites" rel="noopener ugc nofollow" target="_blank">安装先决条件</a></li><li id="eb7f" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt translated"><a class="ae jy" href="https://hyperledger-fabric.readthedocs.io/en/release-1.4/install.html" rel="noopener ugc nofollow" target="_blank">从Hyperledger Fabric安装示例、程序和docker映像</a></li></ol><h2 id="1228" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">5.2链码准备</h2><p id="9cee" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">然后，让我们切换到这个目录(*假设您完成了先决条件部分，您应该有所有需要的文件和目录):</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="c777" class="lj lk ht nn b fv nr ns l nt nu">cd fabric-samples/chaincode/chaincode_example02/<br/>mv java java_01<br/>mkdir java</span></pre><p id="a94b" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在，将项目目录中下面的<strong class="kb hu"> <em class="kv">高亮显示的</em> </strong>文件复制到<strong class="kb hu"><em class="kv">" fabric-samples/chain code/chain code _ example 02/Java/"</em></strong>:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff nv"><img src="../Images/81c64719dbbfb2049be35bc399cdc39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*rTQG3Dw879v25ofUobCqww.png"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Copy the highlighted files to <strong class="bd nk"><em class="nl">”fabric-samples/chaincode/chaincode_example02/java/”</em></strong></figcaption></figure><h2 id="0eac" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">5.3调出网络</h2><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="7ab0" class="lj lk ht nn b fv nr ns l nt nu">cd ../..<strong class="nn hu">/</strong>first<strong class="nn hu">-</strong>network<br/>./byfn.sh up -l java <strong class="nn hu">-s couchdb</strong></span></pre><blockquote class="kw kx ky"><p id="92d1" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated"><strong class="kb hu">注意，这一次，有一个“-s couchdb”来启用couchdb。</strong></p><p id="8311" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">运行此脚本后，您可能需要等待一会儿…</p><p id="1f47" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated"><strong class="kb hu"> ***如果您看到以下错误(而不是其他错误)，没关系，只需继续下一步*** </strong></p></blockquote><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek"><strong class="ak">Allowable</strong> error in our tutorial</figcaption></figure><blockquote class="kw kx ky"><p id="c02b" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">另外，在运行上面的命令之前，记得启动Docker。</p><p id="6168" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">*万一你做错了什么，你可以运行下面的命令来关闭网络，并重新启动:</p><p id="aea2" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">。/byfn.sh向下<br/>。/byfn.sh up -l java -s couchdb</p></blockquote></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><p id="e6ca" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在，我们测试我们的链码是否工作。</p><h2 id="78d9" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">5.4访问Cli</h2><p id="71ec" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">有一个cli Docker容器是自动创建的，它是一个命令行界面<strong class="kb hu"> <em class="kv">控制节点</em> </strong>。</p><p id="6fef" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">让我们进入命令行界面:</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="069e" class="lj lk ht nn b fv nr ns l nt nu">docker exec -it cli bash</span></pre><p id="e9db" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">然后，设置一些程序使用的<strong class="kb hu"> <em class="kv">环境变量</em> </strong>:</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="c531" class="lj lk ht nn b fv nr ns l nt nu">export CHANNEL_NAME=mychannel<br/>export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp<br/>export CORE_PEER_ADDRESS=peer0.org1.example.com:7051<br/>export CORE_PEER_LOCALMSPID="Org1MSP"<br/>export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</span></pre><blockquote class="kw kx ky"><p id="5185" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">你可以把它们都复制下来，然后粘贴到你的终端上，按下“回车”键。</p><p id="013c" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">这些环境变量用于让一些Hyperledger结构程序知道我们需要使用<strong class="kb hu">peer0.org1.example.com:7051</strong>来调用链码函数。</p></blockquote><p id="c9b8" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在，我们用钱包id<strong class="kb hu"><em class="kv">【Tom】</em></strong>和<strong class="kb hu"><em class="kv">【Sam】</em></strong>创建两个钱包 :</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="ef77" class="lj lk ht nn b fv nr ns l nt nu">peer chaincode invoke -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C $CHANNEL_NAME -n mycc --peerAddresses peer0.org1.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses peer0.org2.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '{"Args":["createWallet","tom","<strong class="nn hu">100</strong>"]}'</span><span id="8a86" class="lj lk ht nn b fv nw ns l nt nu">peer chaincode invoke -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C $CHANNEL_NAME -n mycc --peerAddresses peer0.org1.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses peer0.org2.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '{"Args":["createWallet","sam","<strong class="nn hu">200</strong>"]}'</span></pre><blockquote class="kw kx ky"><p id="d2e4" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">注意，汤姆有100美元，萨姆有200美元。</p><p id="f5ea" class="jz ka kv kb b kc kd iu ke kf kg ix kh kz kj kk kl la kn ko kp lb kr ks kt ku hm dt translated">更新:请注意，我们有两个<code class="eh nx ny nz nn b"><em class="ht">--peerAddresses</em></code>来发送给两个对等方以签署交易，因为构建您的第一个网络(BYFN)中的默认签署策略是一个<strong class="kb hu">和</strong>策略，它要求组织Org1和Org2签署每个交易。更多解释，请参考<a class="ae jy" rel="noopener" href="/@reasdom/hello-tommaso-7d10c5f48c9f">这里的</a>。</p></blockquote><p id="5c3b" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">运行上面的每个命令后，您应该会在终端中看到类似这样的内容:</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Success message from Chaincode</figcaption></figure></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><p id="8367" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在，我们<strong class="kb hu"> <em class="kv">得到上面创建的两个钱包</em> </strong>来验证它们是否存在于区块链中:</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="145f" class="lj lk ht nn b fv nr ns l nt nu">peer chaincode query -C $CHANNEL_NAME -n mycc -c '{"Args":["getWallet","tom"]}'</span><span id="bea4" class="lj lk ht nn b fv nw ns l nt nu">peer chaincode query -C $CHANNEL_NAME -n mycc -c '{"Args":["getWallet","sam"]}'</span></pre><p id="8726" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">运行上面的每个命令后，您应该会在终端中看到类似这样的内容:</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div></figure><p id="493a" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">上面我们可以看到，之前创建的两个钱包都是可以查询的。还有，汤姆有<strong class="kb hu"> <em class="kv"> 100代币</em> </strong>，山姆有<strong class="kb hu"> <em class="kv"> 200代币</em> </strong>。</p><p id="1d5d" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">接下来，我们进行一个<strong class="kb hu"> <em class="kv">转账</em> </strong>交易——让我们从“汤姆”的钱包<strong class="kb hu"> <em class="kv">转账50个代币到“山姆”的钱包</em> </strong>:</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="dfbb" class="lj lk ht nn b fv nr ns l nt nu">peer chaincode invoke -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C $CHANNEL_NAME -n mycc --peerAddresses peer0.org1.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses peer0.org2.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '{"Args":["transfer","tom","sam","<strong class="nn hu">50</strong>"]}'</span></pre><p id="7d82" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">最后，我们再来验证两个钱包:</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="7626" class="lj lk ht nn b fv nr ns l nt nu">peer chaincode query -C $CHANNEL_NAME -n mycc -c '{"Args":["getWallet","tom"]}'</span><span id="6eb3" class="lj lk ht nn b fv nw ns l nt nu">peer chaincode query -C $CHANNEL_NAME -n mycc -c '{"Args":["getWallet","sam"]}'</span></pre><p id="1dc4" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">会有以下结果吗？</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div></figure><p id="3a4c" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">注意，现在<strong class="kb hu"> <em class="kv">汤姆的钱包还剩50个代币，山姆的钱包有250个代币</em> </strong>，<strong class="kb hu"> <em class="kv">交易完成</em> </strong>并写入区块链账本。</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="6476" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">测试CouchDB的新函数</h2><p id="f57c" class="pw-post-body-paragraph jz ka ht kb b kc me iu ke kf mf ix kh ki mg kk kl km mh ko kp kq mi ks kt ku hm dt translated">现在，我们为这个CouchDB版本教程尝试我们的新函数。</p><p id="8ecd" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">请记住:</p><ul class=""><li id="8a4a" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku oa mp mq mr dt translated">汤姆现在有50美元</li><li id="8be3" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku oa mp mq mr dt translated">萨姆现在有250美元</li></ul><p id="134d" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">我们将尝试使用代币金额查询所有钱包:</p><ol class=""><li id="474c" class="mj mk ht kb b kc kd kf kg ki ml km mm kq mn ku mo mp mq mr dt">&gt; $40</li><li id="8d10" class="mj mk ht kb b kc ms kf mt ki mu km mv kq mw ku mo mp mq mr dt">&gt; 200</li></ol><p id="0a8d" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">在(1)中，我们应该能够得到汤姆和山姆的钱包。</p><p id="301f" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">在(2)中，我们应该只能获得Sam的钱包。</p><p id="1f89" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">现在，让我们查询:</p><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="1a1b" class="lj lk ht nn b fv nr ns l nt nu">peer chaincode query -C $CHANNEL_NAME -n mycc -c '{"Args":["getWalletsWithTokenAmountGreaterThan","40"]}'</span><span id="8c1b" class="lj lk ht nn b fv nw ns l nt nu">peer chaincode query -C $CHANNEL_NAME -n mycc -c '{"Args":["getWalletsWithTokenAmountGreaterThan","200"]}'</span></pre><p id="d319" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">会有以下结果吗？</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nb nc l"/></div></figure></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="07d6" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">第六步——清理</h2><pre class="jj jk jl jm fq nm nn no np aw nq dt"><span id="91c2" class="lj lk ht nn b fv nr ns l nt nu">exit<br/>./byfn.sh down</span></pre><p id="a9b6" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">然后，删除目录<strong class="kb hu"><em class="kv">“fabric-samples/chain code/chain code _ example 02/Java”</em></strong>并将目录<strong class="kb hu"><em class="kv">【Java _ 01】</em></strong>重命名回<strong class="kb hu"><em class="kv">【Java】</em></strong>。</p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><p id="05fb" class="pw-post-body-paragraph jz ka ht kb b kc kd iu ke kf kg ix kh ki kj kk kl km kn ko kp kq kr ks kt ku hm dt translated">谢谢！如果你喜欢我的故事， <a class="ae jy" rel="noopener" href="/@reasdom"> <strong class="kb hu">请关注我</strong> </a> <strong class="kb hu">的新更新！</strong></p></div><div class="ab cl lc ld hb le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="hm hn ho hp hq"><h2 id="3225" class="lj lk ht bd ll lm ln lo lp lq lr ls lt ki lu lv lw km lx ly lz kq ma mb mc md dt translated">参考</h2><div class="ob oc fm fo od oe"><a href="https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html" rel="noopener  ugc nofollow" target="_blank"><div class="of ab ej"><div class="og ab oh cl cj oi"><h2 class="bd hu fv z el oj eo ep ok er et hs dt translated">构建您的第一个网络— hyperledger-fabricdocs主文档</h2><div class="ol l"><h3 class="bd b fv z el oj eo ep ok er et ek translated">编辑描述</h3></div><div class="om l"><p class="bd b gc z el oj eo ep ok er et ek translated">hyperledger-fabric . readthedocs . io</p></div></div><div class="on l"><div class="oo l op oq or on os js oe"/></div></div></a></div><blockquote class="ot"><p id="bd97" class="ou ov ht bd ow ox oy oz pa pb pc ku ek translated"><a class="ae jy" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="pe pf pg ph pi jn fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff pd"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>