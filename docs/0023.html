<html>
<head>
<title>Ethereum Network Interaction with Geth</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊网络与Geth的交互</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ethereum-network-interaction-with-geth-5d8f36e0e4b4?source=collection_archive---------1-----------------------#2017-11-05">https://medium.com/coinmonks/ethereum-network-interaction-with-geth-5d8f36e0e4b4?source=collection_archive---------1-----------------------#2017-11-05</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="f484" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">假设到目前为止您已经完成了<a class="ae jo" href="https://concurrence.io/exploration/provisioning/" rel="noopener ugc nofollow" target="_blank">供应</a>部分，现在是时候使用Geth与以太坊交流了。</p><p id="6a04" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Geth启动并与区块链同步后，您可以通过以下方式连接到它:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="4288" class="jy jz ht ju b fv ka kb l kc kd">geth attach <a class="ae jo" rel="noopener ugc nofollow" target="_blank" href="/">http://:8545</a></span><span id="a3e4" class="jy jz ht ju b fv ke kb l kc kd">Welcome to the Geth JavaScript console!  </span><span id="6389" class="jy jz ht ju b fv ke kb l kc kd">instance: Geth/v1.7.1-stable-05101641/linux-amd64/go1.9 <br/>coinbase: 0x0e1e9ce68b3254461a95916c185c37dd65468ab5 <br/>at block: 1856113 (Thu, 12 Oct 2017 13:25:06 UTC)  <br/> modules: eth:1.0 net:1.0 personal:1.0 rpc:1.0 web3:1.0  </span><span id="33b8" class="jy jz ht ju b fv ke kb l kc kd">&gt;</span></pre><p id="cfb0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">全新安装的Geth还没有任何帐户:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="f807" class="jy jz ht ju b fv ka kb l kc kd">&gt; eth.accounts </span><span id="e670" class="jy jz ht ju b fv ke kb l kc kd">[]</span></pre><p id="cea2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以使用<strong class="is hu"> newAccount() </strong>功能创建账户:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="7bfd" class="jy jz ht ju b fv ka kb l kc kd">&gt; web3.personal.newAccount() <br/>Passphrase: <br/>Repeat passphrase: <br/>"0x4ffd642a057ce33579a3ca638347b402b909f6d6" <br/>&gt; <br/>&gt; web3.personal.newAccount() <br/>Passphrase: <br/>Repeat passphrase: <br/>"0xa3eebd575245e0bd51aa46b87b1ffc6a1689965a"</span></pre><p id="bc2d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以通过<strong class="is hu"> getBalance() </strong>获取任意账户的余额:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="2fa1" class="jy jz ht ju b fv ka kb l kc kd">&gt; eth.getBalance("0x4ffd642a057ce33579a3ca638347b402b909f6d6") </span><span id="4c85" class="jy jz ht ju b fv ke kb l kc kd">0</span></pre><p id="3883" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">也可以访问<a class="ae jo" href="https://ropsten.etherscan.io/tx/0x3e5bfb4bc071e4b0e70eedbc7b667ff6a5e7eb5397a21e16582b85848190ae98" rel="noopener ugc nofollow" target="_blank"> etherscan.io </a>查看地址。</p><p id="7ca5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要得到测试网乙醚，你可以简单地问水龙头要一些:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="16be" class="jy jz ht ju b fv ka kb l kc kd">curl -X POST  \   <br/>  -H "Content-Type: application/json" \   <br/>  -d "{\"toWhom\":\"0x4ffd642a057ce33579a3ca638347b402b909f6d6\"}" \<br/>   <a class="ae jo" href="https://ropsten.faucet.b9lab.com/tap" rel="noopener ugc nofollow" target="_blank">https://ropsten.faucet.b9lab.com/tap</a></span><span id="4ac0" class="jy jz ht ju b fv ke kb l kc kd">{   <br/>"txHash" : "0x3e5bfb4bc071e4b0e70eedbc7b667ff6a5e7eb5397a21e16582b85848190ae98" }</span></pre><p id="7b1a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您将获得一个事务哈希，并且您可以<a class="ae jo" href="https://ropsten.etherscan.io/tx/0x3e5bfb4bc071e4b0e70eedbc7b667ff6a5e7eb5397a21e16582b85848190ae98" rel="noopener ugc nofollow" target="_blank">在etherscan </a>上跟踪它。</p><p id="704e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">挖掘交易后，您将看到余额增加:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="b950" class="jy jz ht ju b fv ka kb l kc kd">&gt; eth.getBalance("0x4ffd642a057ce33579a3ca638347b402b909f6d6") </span><span id="fb5e" class="jy jz ht ju b fv ke kb l kc kd">500000000000000000</span></pre><p id="31a2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您现在可以通过以下方式向另一个帐户发送乙醚:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="b1c7" class="jy jz ht ju b fv ka kb l kc kd">eth.sendTransaction(   <br/> {     <br/>  from:"0x4ffd642a057ce33579a3ca638347b402b909f6d6",     <br/>  to:"0xa3eebd575245e0bd51aa46b87b1ffc6a1689965a",     <br/>  value:100000000000000000   <br/> } <br/>)</span></pre><p id="aa26" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">同样，会返回一个事务哈希，您可以<a class="ae jo" href="https://ropsten.etherscan.io/tx/0x3b62b1434591bd6d7e9dc21594a28193c68ff0be756edff0e6f6e62e4cb3343f" rel="noopener ugc nofollow" target="_blank">在etherscan </a>上跟踪它。</p><p id="4ef2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">交易完成后，我们可以看到两个帐户的余额:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="1cda" class="jy jz ht ju b fv ka kb l kc kd">&gt; eth.getBalance("0x4ffd642a057ce33579a3ca638347b402b909f6d6") <br/>399370000000000000 <br/>&gt; <br/>&gt; eth.getBalance("0xa3eebd575245e0bd51aa46b87b1ffc6a1689965a") <br/>100000000000000000</span></pre><p id="cbea" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可能还想将这些大数包装在一个<strong class="is hu"> fromWei() </strong>函数中:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="df2d" class="jy jz ht ju b fv ka kb l kc kd">web3.fromWei(<br/> eth.getBalance(<br/>   "0x4ffd642a057ce33579a3ca638347b402b909f6d6"<br/> ),"ether"<br/>)</span><span id="4c45" class="jy jz ht ju b fv ke kb l kc kd">0.39937</span></pre><p id="b2a7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">注意，0x4ffd并不正好有4个以太。这是因为少量的乙醚被消耗在汽油上来为交易提供燃料。在下一部分，我们将<a class="ae jo" href="https://concurrence.io/exploration/deployingacontract/" rel="noopener ugc nofollow" target="_blank">部署一份合同并讨论天然气</a>。</p><blockquote class="kf"><p id="1c36" class="kg kh ht bd ki kj kk kl km kn ko jn ek translated"><a class="ae jo" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="kq kr ks kt ku kv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff kp"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><p id="bb79" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这是摘自<a class="ae jo" href="https://concurrence.io/exploration/ethereuminteraction/" rel="noopener ugc nofollow" target="_blank">concurrency——以太坊网络互动</a>。</p><p id="44e9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">点击阅读更多关于并发的信息。</p><figure class="jp jq jr js fq kv"><div class="bz el l di"><div class="ky kz l"/></div></figure></div></div>    
</body>
</html>