<html>
<head>
<title>How to Run a Full Bitcoin Node</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何运行一个完整的比特币节点</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-run-a-full-bitcoin-node-1a69c92ec518?source=collection_archive---------0-----------------------#2020-06-11">https://medium.com/coinmonks/how-to-run-a-full-bitcoin-node-1a69c92ec518?source=collection_archive---------0-----------------------#2020-06-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/329e80aa6ac1ad6301726174a4c36e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jecGB1Dmt0IA6Mjn4SoSkA.png"/></div></div></figure><div class=""/><p id="8774" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">由于经常有人质疑“虽然余额上有资产”却无法发送支付，我们决定描述一下比特币网络(以及类似的<strong class="jd if">莱特币</strong>、<strong class="jd if">破折号</strong>、<strong class="jd if"> Dogecoin </strong>等)的运行原理。)以明确的方式。即使您已经对“它是如何工作的”有了一个概念，我们也强烈建议您阅读这篇文章并“刷新”您的知识。也许你会为自己学习一些新的东西或者“整理”你已经知道的东西。</p></div><div class="ab cl jz ka hb kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hm hn ho hp hq"><p id="b393" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">首先，一些数学(简化)……如果你取(生成)一个非常大的数(姑且称之为“私钥”)，然后，使用某种(众所周知的)算法，你可以找到与之对应的一个非常大的数(“公钥”)。没有反向算法。你不能从公钥得到私钥！私钥必须总是只有所有者知道。公钥与每个人共享。这对数字的奇特之处在于，如果消息(数据集)是用私钥“签名”(计算签名)的，那么这个签名就很容易被验证。通过单个公钥。它证明该消息是由该密钥对的所有者创建的。比特币地址(简体)是公钥。</p><p id="8a15" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:作为地址的所有者，您可以“代表地址”签署消息。</strong></p><p id="f2f3" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当你在app中创建新地址的时候，实际上是为你生成了一个私钥，公钥和地址都是从中生成的。你不太可能(几乎不可能)碰到一对以前已经发给过别人的钥匙。删除应用程序或损坏其文件通常会导致私钥丢失，这意味着位于该地址的资产会丢失。</p><p id="5c65" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">像任何网络一样，比特币区块链网络由运行特殊软件的互联设备组成。每个这样的设备(区块链网络的一部分)通常被称为“节点”。所有节点的权利都是平等的。非常强大的节点可以“挖矿”(见下文)。</p><p id="7289" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">每个节点存储一份网络数据库(分类帐)的副本。分类账由分录组成。您只能向此分类帐添加新分录。您不能编辑或删除现有记录。每个条目都是关于从一个地址向另一个地址“发送”和/或“接收”资产的数据。</p><p id="9673" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:总账不存储地址余额。分类账存储所有存款(“输出”)和所有借方(“输入”)地址。</strong></p><p id="4e99" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="kg">例如:</em> <strong class="jd if"> </strong> <em class="kg">地址A:收到X1，收到X2，发送Y1，收到X3，发送Y2..</em></p><p id="79a2" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:当前地址余额是所有输出的和减去所有输入的和(见上图)。</strong></p><p id="5c6b" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="kg">例如</em> <strong class="jd if"> : </strong> <em class="kg"> x来到地址A(一直)，y离开。这意味着地址余额等于X—y。</em></p><p id="a7f4" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当您发送资产时，应用程序会生成一条消息—“交易”，其中包含格式为“地址，输出”的提取(支出)输出和格式为“地址，金额”的接收输入。<br/>请注意，交易金额不得大于或等于已收金额。取款和存款之间的差额被称为“交易费”，它归“矿工”所有(见下文)。理论上，您可以创建一个fee = 0的事务，这不会是一个错误。如果交易费用高于期望的金额，则通过在输入列表中添加一个条目来收回未用完的(“变化”)。事务有一个大小。列表中的项目越多，意味着数据越多，交易时间越长。</p><p id="d413" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="kg">例如:地址A:出口X1为总和“1”，出口X2为总和“2”。余额A = 1 + 2 = 3。您需要将总和“2”转移到地址b。输出X1是不够的，我们需要输出X2的总和。</em></p><p id="ebca" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="kg">最初，事务看起来是这样的:输出:“地址A，X2 ”,输入:“地址B，2”。借记“2”，贷记“2”。该交易的费用为" 0 "。矿工们不太可能欣赏这一点。我们再加一个费=“0.001”。输出X2被完全使用，所以我们使用另一个输出X1。</em></p><p id="1c7b" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="kg">最初，事务看起来是这样的:输出:“地址A，X2 ”,输入:“地址B，2”。借记“3”，贷记“2”。该交易的费用为" 1 "。这是多余的。让我们返回change = " 1–0.001 " = " 0.999 "。</em></p><p id="2342" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="kg">最初，事务看起来是这样的:输出:“地址A，X2 ”,输入:“地址B，2”。借记“3”，贷记“2”。该交易的费用为“0.001”。现在没事了！请注意，虽然存入的金额是“2.999”，但它包括了我们的“0.999”零钱，这些零钱将被返还给我们，实际上不会被花掉。</em></p><p id="e785" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:交易花费整个产出。你可以不花掉一部分产出，但是你可以通过改变把“超支”的部分退回来。</strong></p><p id="b017" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:您不能创建多于输出的事务。最大值:一个输出=一个事务。但是你可以有一个输出=多个输入(接收者)。</strong></p><p id="b252" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:解决方案是资产的任何转移(到达)，包括变更。</strong></p><p id="1d1f" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">用“私钥”生成和签名的事务可以通过任何节点发送。该节点检查签名是否有效、格式是否正确以及输出是否可用。然后，事务被放入“mempool”中，mempool是存储新的(未处理的)事务的地方。位于mempool中的事务对所有节点都是可见的。从这一点开始，该交易中使用的所有输出都被视为已使用或“失效”,并且<strong class="jd if">不能用于其他交易</strong>。</p><p id="761c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">向分类账增加新的分录一次几千个一批地发生。块由节点组成——“矿工”。块有大小限制。您不能创建大于最大大小的块。来自mempool的几个(几千个)事务被组合成一个单元，然后开始“挖掘”。挖掘是使用匹配方法搜索特定的块散列。第一个“挖掘”该块的节点将其交给其他节点进行验证。每个节点将块条目与其分类帐中以前的条目进行比较。它们不应该冲突。如果该块通过验证，它将被完全添加到该节点的分类帐中。每个节点只使用自己的分类帐。</p><p id="2b47" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:每个节点独立工作，有自己的账本。</strong></p><p id="af80" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果某个数据块在某些节点上不被接受，那么分类账或“区块链的单独版本”中就会有一些差异。在这种情况下，节点是同步的，最常见的版本“胜出”。由于不同步的可能性，为了确保该块和其中的所有交易都包含在区块链的正确版本中，最终确认<strong class="jd if">需要在当前块</strong>之后的几个块</p><p id="5c5e" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:交易在其区块后出现新区块时确认。</strong></p><p id="3e44" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:您只能使用已确认交易的输出。</strong></p><p id="2a9d" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对于正确的区块，采矿者接收固定费用，加上该区块中所有交易的所有费用的总和。有道理，最赚钱的方式就是以最大的手续费形成大宗交易，这样回报会更大。但是你也需要记住:块大小是固定的，所以你也需要看事务长度。事实上，包含“密度费”(每单位信息的费用)较高的交易是最有利可图的。这个指示器被称为<strong class="jd if">“sat/B”</strong>(每字节Satoshi)。等于“Satoshi中的费用”除以“交易时长”。</p><p id="59ec" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:没有人知道矿工如何从内存池中选择事务。没有办法强迫矿工选择你的交易。但对矿商来说，主要进行sat/B分数较高的交易更有利可图。</strong></p><p id="7c23" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd if">要点:如果您希望您的交易更快进入区块(即被确认)，请设置一个费用，使您的交易的sat/B分数高于mempool的平均分数。</strong></p><p id="e55c" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果每个人都同时希望他们的交易进行得更快(例如，因为价值的大幅上升)，那么每个人都会增加sat/b值。这意味着它可能因网络负载而异。<strong class="jd if">这是一个在速度和交易费用之间的艰难选择。</strong></p><h1 id="9f26" class="kh ki ie bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated"><strong class="ak">最好的例子</strong></h1><ul class=""><li id="130d" class="lf lg ie jd b je lh ji li jm lj jq lk ju ll jy lm ln lo lp dt translated">你有地址a。上面没有出口。它的余额= 0 BTC。</li><li id="fd26" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">1 BTC被发送到您的地址A(这意味着这笔款项的交易已被确认)。现在，每1 BTC就有一个产出，余额= 1 BTC。</li><li id="8508" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">0.2 BTC被发送到您的地址a。现在它有输出:1 BTC和0.2 BTC。它的余额= 1.2 BTC。</li><li id="acc9" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">你从地址A向地址B转了0.3 BTC。简单来说，费用= 0。</li><li id="24e4" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">可以理解，0.2 BTC的输出是不够的，所以我们用1 BTC。</li><li id="3c51" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">这意味着交易将有“1 BTC”的输出和“地址B，0.3 BTC”，“地址A(未用)，0.7 BTC”的输入。</li><li id="12a0" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">在发送并将其放入mempool后，只有一个到0.2 BTC的输出会留在您的地址上，因为到1 BTC的输出刚刚在事务中使用(耗尽)。<strong class="jd if">从现在开始，你的地址的“可用”余额= 0.2 BTC。</strong></li><li id="f588" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">未用完的0.7英镑将在交易确认后返还。<strong class="jd if">这意味着这笔款项不能使用</strong>。</li><li id="1930" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">理论上你有0.2 + 0.7 = 0.9的BTC，但实际上<strong class="jd if">你不能用这些0.7的BTC </strong>。</li><li id="e327" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">这意味着您将无法在发送后立即转账，即使是0.20000001 BTC。</li><li id="5784" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">您的0.7 BTC将在您的交易确认之前被<strong class="jd if"/>“冻结”。</li></ul><h1 id="504f" class="kh ki ie bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated"><strong class="ak">一般结论</strong></h1><p id="4147" class="pw-post-body-paragraph jb jc ie jd b je lh jg jh ji li jk jl jm lv jo jp jq lw js jt ju lx jw jx jy hm dt translated"><strong class="jd if">如何让一切“像钟表一样运转”而不出问题？</strong></p><ul class=""><li id="6038" class="lf lg ie jd b je jf ji jj jm ly jq lz ju ma jy lm ln lo lp dt translated">有更多的输出。这意味着你应该发送多个交易到你的地址，或者有更多的地址。</li><li id="2f02" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">使用较少的输出。这意味着您应该进行更少的交易，但是在单个交易中有更多的接收者。</li><li id="1db7" class="lf lg ie jd b je lq ji lr jm ls jq lt ju lu jy lm ln lo lp dt translated">采取行动让你的交易更快。换句话说，设置一个费用，使sat/B指标在mempool中具有竞争力。</li></ul></div><div class="ab cl jz ka hb kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hm hn ho hp hq"><p id="532a" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">NOWNodes —资源管理器和节点API。</p><p id="9494" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">访问<a class="ae mb" href="http://nownodes.io/" rel="noopener ugc nofollow" target="_blank">我们的网站</a>并在1天内访问您的节点。</p><blockquote class="mc"><p id="8a4b" class="md me ie bd mf mg mh mi mj mk ml jy ek translated"><a class="ae mb" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mn mo mp mq mr hv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mm"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>