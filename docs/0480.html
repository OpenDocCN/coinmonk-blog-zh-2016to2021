<html>
<head>
<title>How to add site to IPFS and IPNS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将网站添加到IPFS和IPNS</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-add-site-to-ipfs-and-ipns-f121b4cfc8ee?source=collection_archive---------0-----------------------#2018-05-11">https://medium.com/coinmonks/how-to-add-site-to-ipfs-and-ipns-f121b4cfc8ee?source=collection_archive---------0-----------------------#2018-05-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="485c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">IPFS允许在网络应用程序和简单的网页中放置p2p内容。你也可以在点对点(p2p) IPFS网络托管整个静态网站。因此，其他人，谁拥有IPFS节点可以分享你的网站，并成为你的内容和分发HTML，CSS，JS和图片从他们的节点对等。之后——如果你的节点停止了，这个站点将会继续存在，而拥有IPFS节点的人将会在他的节点上保留一个站点。</p><blockquote class="jo"><p id="6428" class="jp jq ht bd jr js jt ju jv jw jx jn ek translated"><a class="ae jy" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><h2 id="9162" class="jz ka ht bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt dt translated">如何在IPFS网络中创建您的第一个网站:</h2><ol class=""><li id="ecea" class="ku kv ht is b it kw ix kx jb ky jf kz jj la jn lb lc ld le dt translated">运行你自己的IPFS节点</li><li id="f2c8" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn lb lc ld le dt translated">通过简单的命令向IPFS添加内容</li><li id="b6ae" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn lb lc ld le dt translated">使用结果内容散列(命令的输出)通过链接获取文件:<code class="eh lk ll lm ln b">https://ipfs.io/ipfs/&lt;your hash here&gt;</code></li><li id="9595" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn lb lc ld le dt translated">你可以将这个链接放在img标签中，例如:<code class="eh lk ll lm ln b">&lt;img src=”https://ipfs.io/ipfs/&lt;your hash here&gt;”/&gt;<br/></code>或者你可以将网站发布到https://ipfs.io/ipns/my-site.url的IPNS，并通过链接:<br/>进行查看</li></ol><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="ab fr cl lt"><img src="../Images/6675b012a3f2b2d4a75465a53d31ce32.png" data-original-src="https://miro.medium.com/v2/format:webp/1*0kGmNu9xBXUUMRC9BdAJhQ.jpeg"/></div></figure><p id="5fa9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在让我们详细描述这4点:</p><h2 id="70f0" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">1.下载并运行IPFS节点:</h2><p id="3240" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated"><a class="ae jy" href="https://dist.ipfs.io/#go-ipfs" rel="noopener ugc nofollow" target="_blank">https://dist.ipfs.io/#go-ipfs</a><br/>让我们以linux amd64发行版为例:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="af3c" class="jz ka ht ln b fv mi mj l mk ml">cd ~/<br/>wget <a class="ae jy" href="https://dist.ipfs.io/go-ipfs/v0.4.14/go-ipfs_v0.4.14_linux-amd64.tar.gz" rel="noopener ugc nofollow" target="_blank">https://dist.ipfs.io/go-ipfs/v0.4.14/go-ipfs_v0.4.14_linux-amd64.tar.gz</a></span></pre><p id="3bdc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后按照这里的说明安装它:<br/><a class="ae jy" href="https://ipfs.io/docs/install/" rel="noopener ugc nofollow" target="_blank">https://ipfs.io/docs/install/</a><br/>在我的例子中:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="6680" class="jz ka ht ln b fv mi mj l mk ml">tar xvfz go-ipfs_v0.4.14_linux-amd64.tar.gz<br/>cd go-ipfs<br/>./install.sh</span></pre><p id="5379" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，您可以初始化并运行节点:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="d665" class="jz ka ht ln b fv mi mj l mk ml">ipfs init<br/>ipfs daemon &gt; ipfs.log &amp;</span></pre><h2 id="6419" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">2.向IPFS节点添加内容:</h2><p id="99ba" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated">让我们创建您的IPFS网站目录:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="50c9" class="jz ka ht ln b fv mi mj l mk ml">cd ~/<br/>mkdir my-site; cd my-site</span></pre><p id="5310" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，举个例子，你可以下载一些猫的图片:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="10b9" class="jz ka ht ln b fv mi mj l mk ml">wget -O cat.jpeg <a class="ae jy" href="https://images.pexels.com/photos/104827/cat-pet-animal-domestic-104827.jpeg?auto=compress&amp;cs=tinysrgb&amp;h=350" rel="noopener ugc nofollow" target="_blank">https://images.pexels.com/photos/104827/cat-pet-animal-domestic-104827.jpeg?auto=compress&amp;cs=tinysrgb&amp;h=350</a></span></pre><figure class="lo lp lq lr fq ls fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/4ef33c8a8352caac275d9ac54ad0cdc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/0*SeQcVjPvLq2OR_cQ."/></div><figcaption class="mn mo fg fe ff mp mq bd b be z ek">cat.jpeg</figcaption></figure><p id="aa12" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">并使用以下内容创建index.html和style.css:</p><figure class="lo lp lq lr fq ls"><div class="bz el l di"><div class="mr ms l"/></div></figure><p id="3756" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后，将整个站点目录添加到您的节点:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="6b0a" class="jz ka ht ln b fv mi mj l mk ml">cd ../<br/>ipfs add -r my-site/</span></pre><p id="fcff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您应该会看到类似这样的内容:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="af7c" class="jz ka ht ln b fv mi mj l mk ml">added QmQiuSt4dKVFvi1zkYbrBWgX8CpasLmzux6dWrdfoDq1Qc my-site/cat.jpeg</span><span id="a9e7" class="jz ka ht ln b fv mt mj l mk ml">added QmQtJm6VcLdyMa6RqWESPgXsqmiaJ48RXrLFXojPPtHkni my-site/index.html</span><span id="5a6e" class="jz ka ht ln b fv mt mj l mk ml">added QmZL2UBTwnhcLv66fARL9UV8W8a9ZA4iwTLcaUCsB1u1yW my-site/style.css</span><span id="2ac8" class="jz ka ht ln b fv mt mj l mk ml">added QmNUhKfcGJyQJnZu3AKn8NoiomDwDCRBicgqPt1YRqJBCz my-site</span></pre><h2 id="e2d3" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">3.访问您的网站由IPFS哈希</h2><p id="f3f6" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated">最后一行的散列是你的站点的根，你可以通过打开<a class="ae jy" href="https://ipfs.io/ipfs/" rel="noopener ugc nofollow" target="_blank">https://ipfs.io/ipfs/</a>你的散列这里&gt;来访问它。因此示例站点位于<a class="ae jy" href="https://ipfs.io/ipfs/QmNUhKfcGJyQJnZu3AKn8NoiomDwDCRBicgqPt1YRqJBCz" rel="noopener ugc nofollow" target="_blank">https://ipfs . io/ipfs/qmnuhkfcgjyqjnzu 3 akn 8 noiomdwddcrbicgqpt 1 yrqjbcz</a></p><p id="4405" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可以通过链接获得任何你添加到IPFS的文件。</p><h2 id="c6ad" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">4.发布到IPNS</h2><p id="a664" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated">尽管您可以获得一个指向该站点的链接，但当您对其进行更改时，该链接仍将指向该站点的以前版本。这是因为IPFS使用类似git的文件哈希系统(哈希指向文件的特定版本，如提交哈希)。所以使用这个IPFS链接，你将无法获得该网站的新版本。</p><p id="0c55" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这就是为什么我们需要IPNS——将您的目录或文件绑定到您的节点peerID。之后——当使用IPNS链接时，我们可以随时获得网站的最新版本。</p><p id="be6c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在，我们想将网站的当前版本发布到IPNS:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="03ca" class="jz ka ht ln b fv mi mj l mk ml">ipfs name publish QmNUhKfcGJyQJnZu3AKn8NoiomDwDCRBicgqPt1YRqJBCz</span></pre><p id="0274" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您应该会看到类似这样的内容:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="3b14" class="jz ka ht ln b fv mi mj l mk ml">Published to QmYmmfn68vkcFDeZz1NTZyEXTixjjUnUS6UaPdMSsUBWxs: /ipfs/QmNUhKfcGJyQJnZu3AKn8NoiomDwDCRBicgqPt1YRqJBCz</span></pre><p id="4eb5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这将返回您的peerID(qmymmfn 68 vkcfdezz 1 ntzhyextixjjunus 6 uapdmssubwxs)和您要发布到peerID的散列。您可以通过运行以下命令进行确认</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="32aa" class="jz ka ht ln b fv mi mj l mk ml">ipfs name resolve &lt;peerID&gt;</span></pre><p id="0204" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">之后——你可以通过链接访问网站的发布版本:https://ipfs.io/ipns/<peerid/></p><p id="1639" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在我的例子中:<a class="ae jy" href="https://ipfs.io/ipns/QmYmmfn68vkcFDeZz1NTZyEXTixjjUnUS6UaPdMSsUBWxs" rel="noopener ugc nofollow" target="_blank">https://ipfs . io/ipns/qmymmfn 68 vkcfdezz 1 ntzhyextixjjunus 6 uapdmssubwxs</a></p><p id="1500" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">将来，当您需要更改站点内容时，您可以这样做，然后将新的站点版本添加到ipfs并再次发布它:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="6d65" class="jz ka ht ln b fv mi mj l mk ml">ipfs add -r my-site/<br/>ipfs name publish &lt;new site hash&gt;</span></pre><p id="6c93" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">新的站点散列将会附加到你的peerId上，当用户访问IPNS链接时，他将会得到站点的最新版本。</p><p id="9554" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但是这种IPNS链接仍然太长，而且对人类不友好。这就是我增加加分的原因:</p><h2 id="0229" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">5.将IPNS绑定到域</h2><p id="b2be" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated">为此，你需要<a class="ae jy" href="http://godaddy.com" rel="noopener ugc nofollow" target="_blank">购买一个域名</a>，然后更改域名DNS设置。</p><p id="ddd3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以通过添加以下形式的DNS TXT记录将IPNS绑定到域</p><p id="9bcb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">“dnslink=/ipfs/ <peerid>”，因此您可以使用类似/ipns/example . com/2015/09/15/hosting-a-website-on-ipfs/的路径。<br/>例如，我把我的网站添加到了域名系统，现在可以通过网址<a class="ae jy" href="https://ipfs.io/ipns/cat.jonybang.ru/" rel="noopener ugc nofollow" target="_blank">https://ipfs.io/ipns/cat.jonybang.ru/</a>进入</peerid></p><h2 id="2ec9" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">附言</h2><p id="f5ad" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated">如果你或我的内容加载太慢，请不要担心。IPFS的一个优势是内容越受欢迎，加载速度越快。因为更多的同行分享你的内容，客户获得更多的来源，你的内容变得更快。</p><p id="716c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了提高内容的加载速度——请朋友分享您的内容，我采用以下步骤:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="1c30" class="jz ka ht ln b fv mi mj l mk ml">cd ~/ &amp;&amp; mkdir ipfs-files # Create folder to download ipfs content<br/>cd ipfs-files<br/>ipfs get /ipns/cat.jonybang.ru<br/>ipfs add ./cat.jonybang.ru</span></pre><p id="89eb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果您将我的示例站点和其他IPFS站点添加到您的ipfs节点，您将帮助我和所有星际文件系统(IPFS)社区！</p><h2 id="4dc9" class="jz ka ht bd kb kc lw ke kf kg lx ki kj jb ly kl km jf lz ko kp jj ma kr ks kt dt translated">PPS</h2><p id="fef8" class="pw-post-body-paragraph iq ir ht is b it kw iv iw ix kx iz ja jb mb jd je jf mc jh ji jj md jl jm jn hm dt translated">要在IPFS节点上创建多个站点，您可以生成几个命名的peerId。例如添加新的狗站点:</p><pre class="lo lp lq lr fq me ln mf mg aw mh dt"><span id="e757" class="jz ka ht ln b fv mi mj l mk ml">ipfs key gen --type=rsa --size=2048 dog-site<br/>ipfs add ./my-dog-site<br/>ipfs name publish --key=dog-site &lt;hash of dog folder&gt;</span></pre><p id="cfaa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在推特上关注我:https://twitter.com/jony_bang</p><blockquote class="jo"><p id="2ebc" class="jp jq ht bd jr js jt ju jv jw jx jn ek translated">加入Coinmonks <a class="ae jy" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jy" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae jy" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="jz ka ht bd kb kc kd ke kf kg kh ki kj jb kk kl km jf kn ko kp jj kq kr ks kt dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="ku kv ht is b it kw ix kx jb ky jf kz jj la jn mu lc ld le dt translated"><a class="ae jy" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae jy" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">电网交易</a> | <a class="ae jy" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="874f" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae jy" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="f33b" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳加密交易所</a> | <a class="ae jy" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度最佳加密交易所</a></li><li id="6474" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" href="https://coincodecap.com/bitget-review" rel="noopener ugc nofollow" target="_blank"> Bitget回顾</a>|<a class="ae jy" href="https://coincodecap.com/gemini-vs-blockfi" rel="noopener ugc nofollow" target="_blank">Gemini vs block fi</a>|<a class="ae jy" href="https://coincodecap.com/okex-futures-trading" rel="noopener ugc nofollow" target="_blank">OKEx期货交易</a></li><li id="c009" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" href="https://coincodecap.com/crypto-trading-bots-in-the-us" rel="noopener ugc nofollow" target="_blank">美国最佳加密交易机器人</a> | <a class="ae jy" href="https://coincodecap.com/changelly-review" rel="noopener ugc nofollow" target="_blank">变化回顾</a></li><li id="7716" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" href="https://coincodecap.com/crypto-arbitrage-in-india" rel="noopener ugc nofollow" target="_blank">在印度利用加密套利赚取被动收入</a></li><li id="92d8" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" href="https://coincodecap.com/huobi-review" rel="noopener ugc nofollow" target="_blank">霍比评论</a> | <a class="ae jy" href="https://coincodecap.com/okex-margin-trading" rel="noopener ugc nofollow" target="_blank"> OKEx保证金交易</a> | <a class="ae jy" href="https://coincodecap.com/futures-trading" rel="noopener ugc nofollow" target="_blank">期货交易</a></li><li id="47a8" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">面向开发人员的最佳加密API</a></li><li id="b359" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated">最佳<a class="ae jy" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">密码借贷平台</a></li><li id="9487" class="ku kv ht is b it lf ix lg jb lh jf li jj lj jn mu lc ld le dt translated"><a class="ae jy" rel="noopener" href="/coinmonks/leveraged-token-3f5257808b22">杠杆代币的终极指南</a></li></ul></div></div>    
</body>
</html>