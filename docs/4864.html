<html>
<head>
<title>My First Dapp using Chanlink Price Feed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我第一次使用Chanlink Price Feed</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/my-first-dapp-using-chanlink-price-feed-6a29e9856a2e?source=collection_archive---------0-----------------------#2021-06-27">https://medium.com/coinmonks/my-first-dapp-using-chanlink-price-feed-6a29e9856a2e?source=collection_archive---------0-----------------------#2021-06-27</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="b1e2" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">我已经学习solidity三个月了，最后，我建立了我的第一个Dapp。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/8da2b9b93178fff27531e58557fa56b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DO_zB298DEz0ohh8qdttjQ.png"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">Home</figcaption></figure><h1 id="629d" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">动机</h1><p id="67e7" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">几周前，2021年春季Chainlink虚拟黑客马拉松的获胜者<a class="ae lm" href="https://blog.chain.link/chainlink-hackathon-winners-spring-2021/" rel="noopener ugc nofollow" target="_blank">让我深受鼓舞。</a>他们都围绕Chiainlink oracle系统构建了非常有创意的Dapps。他们真实地展示了智能合约和Oracle chain link的潜力。</p><p id="884f" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">那时我开始对Chainlink价格反馈感兴趣，并想使用它。</p><h2 id="e60f" class="ls jz ht bd ka lt lu lv ke lw lx ly ki kz lz ma kk ld mb mc km lh md me ko mf dt translated">什么是链接价格饲料</h2><p id="5e56" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">它允许您在智能合约中访问多种最新和历史价格数据，因此当您想要了解任何资产的当前市场价格时，它非常有用。</p><blockquote class="mg mh mi"><p id="d514" class="kq kr mj ks b kt ln iu kv kw lo ix ky mk lp lb lc ml lq lf lg mm lr lj lk ll hm dt translated">Chainlink价格馈送是将您的智能合约与资产的真实市场价格联系起来的最快方式。它们使智能合约能够在一次调用中检索资产的最新价格。</p></blockquote><div class="mn mo fm fo mp mq"><a href="https://docs.chain.link/docs/using-chainlink-reference-contracts/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab ej"><div class="ms ab mt cl cj mu"><h2 class="bd hu fv z el mv eo ep mw er et hs dt translated">价格源介绍| Chainlink文档</h2><div class="mx l"><h3 class="bd b fv z el mv eo ep mw er et ek translated">Chainlink价格馈送是将您的智能合约与资产的真实市场价格联系起来的最快方式…</h3></div><div class="my l"><p class="bd b gc z el mv eo ep mw er et ek translated">doc . chain . link</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne js mq"/></div></div></a></div><h1 id="8e85" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">Dapp想法</h1><p id="7910" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">有时，人们希望用相同价值的乙醚作为一定数量的法定货币来支付类似的费用。</p><p id="573f" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">比方说，您想发送价值500美元的乙醚，然后您意识到您无法在Metamask中设置相当于特定美元金额的乙醚数量。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff nf"><img src="../Images/589e7ae922b4553a457d5a5622ef4d4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*N7GKBVd4GTLwa8zl-GgBFA.png"/></div></figure><p id="72ca" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">它显示了你的以太值多少美元，但就像你不能设置500美元的以太值。</p><p id="bc42" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">这就是我的Dapp的用武之地。你可以发送基于法定货币的乙醚量。</p><h1 id="ac93" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">它是如何工作的</h1><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ng"><img src="../Images/051d2bd215e73b0888861191e16ec801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oP3ElvMgH0IHFpHdh2fu-Q.gif"/></div></div><figcaption class="ju jv fg fe ff jw jx bd b be z ek">demo</figcaption></figure><p id="0538" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">很简单。</p><ol class=""><li id="5464" class="nh ni ht ks b kt ln kw lo kz nj ld nk lh nl ll nm nn no np dt translated">选择法定货币、收款人和法定货币的金额。</li><li id="2476" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll nm nn no np dt translated">点击“发送乙醚”和“确认”。</li></ol><p id="0582" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">它会在您使用Chainlink Price Feeds输入数量后立即计算乙醚的数量。</p><p id="c902" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">好的一面是，获得最新价格不需要花费任何成本，因为合同是一个视图功能。</p><h1 id="3a5e" class="jy jz ht bd ka kb kc kd ke kf kg kh ki iz kj ja kk jc kl jd km jf kn jg ko kp dt translated">智能合同</h1><p id="3a4f" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">下面是我为这个Dapp使用的智能合约代码。这在Kovan testnet上有效。如果你想让它在mainnnet或rinkeby上工作，那么你所要做的就是改变<code class="eh nv nw nx ny b">AggregatorV3Interface</code>上的地址(第22~26行)。这里是以太网上每个地址的<a class="ae lm" href="https://docs.chain.link/docs/ethereum-addresses/" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nz oa l"/></div></figure></div><div class="ab cl ob oc hb od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="hm hn ho hp hq"><h1 id="f02d" class="jy jz ht bd ka kb oi kd ke kf oj kh ki iz ok ja kk jc ol jd km jf om jg ko kp dt translated">问题</h1><p id="1824" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">问题是它违反了干燥原则。最后5个函数用不同的变量做同样的事情。</p><p id="4c04" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">理想情况下，我可以将最后5个函数组合在一起，并添加一个指定货币对的新参数。</p><h2 id="7d2b" class="ls jz ht bd ka lt lu lv ke lw lx ly ki kz lz ma kk ld mb mc km lh md me ko mf dt translated">可能的解决方案</h2><p id="ece5" class="pw-post-body-paragraph kq kr ht ks b kt ku iu kv kw kx ix ky kz la lb lc ld le lf lg lh li lj lk ll hm dt translated">如果使用feed registry，可以获得任意一对价格数据，而不必记住每个地址。但是，它仍然处于alpha版本，所以您不能在生产中使用。事实上，目前有些对并不真的工作。</p><div class="mn mo fm fo mp mq"><a href="https://docs.chain.link/docs/feed-registry/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab ej"><div class="ms ab mt cl cj mu"><h2 class="bd hu fv z el mv eo ep mw er et hs dt translated">订阅源注册表|链接文档</h2><div class="mx l"><h3 class="bd b fv z el mv eo ep mw er et ek translated">链接提要注册表是资产到提要的链上映射。它允许用户和DeFi协议查询…</h3></div><div class="my l"><p class="bd b gc z el mv eo ep mw er et ek translated">doc . chain . link</p></div></div><div class="mz l"><div class="on l nb nc nd mz ne js mq"/></div></div></a></div><p id="ac09" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">下面是使用feed registry的示例代码。</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="nz oa l"/></div></figure></div><div class="ab cl ob oc hb od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="hm hn ho hp hq"><p id="6fc7" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated">希望这有所帮助。感谢您的阅读😁</p><p id="d99b" class="pw-post-body-paragraph kq kr ht ks b kt ln iu kv kw lo ix ky kz lp lb lc ld lq lf lg lh lr lj lk ll hm dt translated"><a class="ae lm" href="https://twitter.com/FF1KAaniyz7Tc3N" rel="noopener ugc nofollow" target="_blank">推特</a> / <a class="ae lm" href="https://github.com/yuichiroaoki" rel="noopener ugc nofollow" target="_blank"> GitHub </a></p><h2 id="0504" class="ls jz ht bd ka lt lu lv ke lw lx ly ki kz lz ma kk ld mb mc km lh md me ko mf dt translated">参考</h2><ul class=""><li id="4570" class="nh ni ht ks b kt ku kw kx kz oo ld op lh oq ll or nn no np dt translated">【https://docs.chain.link/docs/ethereum-addresses/ T4】</li><li id="a218" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" href="https://docs.chain.link/docs/feed-registry/" rel="noopener ugc nofollow" target="_blank">https://docs.chain.link/docs/feed-registry/</a></li><li id="052e" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" href="https://docs.chain.link/docs/using-chainlink-reference-contracts/" rel="noopener ugc nofollow" target="_blank">https://docs . chain . link/docs/using-chain link-reference-contracts/</a></li></ul><h2 id="ae60" class="ls jz ht bd ka lt lu lv ke lw lx ly ki kz lz ma kk ld mb mc km lh md me ko mf dt translated">另外，阅读</h2><div class="mn mo fm fo mp mq"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="mr ab ej"><div class="ms ab mt cl cj mu"><h2 class="bd hu fv z el mv eo ep mw er et hs dt translated">最佳免费加密交易机器人——前16名比特币交易机器人[2021]</h2><div class="mx l"><h3 class="bd b fv z el mv eo ep mw er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="my l"><p class="bd b gc z el mv eo ep mw er et ek translated">medium.com</p></div></div><div class="mz l"><div class="os l nb nc nd mz ne js mq"/></div></div></a></div><div class="mn mo fm fo mp mq"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b"><div class="mr ab ej"><div class="ms ab mt cl cj mu"><h2 class="bd hu fv z el mv eo ep mw er et hs dt translated">最佳6个加密交易信号电报通道</h2><div class="mx l"><h3 class="bd b fv z el mv eo ep mw er et ek translated">这是乏味的找到正确的加密交易信号提供商。因此，在本文中，我们将讨论最好的…</h3></div><div class="my l"><p class="bd b gc z el mv eo ep mw er et ek translated">medium.com</p></div></div><div class="mz l"><div class="ot l nb nc nd mz ne js mq"/></div></div></a></div><div class="mn mo fm fo mp mq"><a rel="noopener follow" target="_blank" href="/coinmonks/blockfi-review-53096053c097"><div class="mr ab ej"><div class="ms ab mt cl cj mu"><h2 class="bd hu fv z el mv eo ep mw er et hs dt translated">BlockFi评论2021 —通过您的加密获得8.6%的利率</h2><div class="mx l"><h3 class="bd b fv z el mv eo ep mw er et ek translated">让你的密码发挥作用，获得比特币和其他加密货币的最佳利率</h3></div><div class="my l"><p class="bd b gc z el mv eo ep mw er et ek translated">medium.com</p></div></div><div class="mz l"><div class="ou l nb nc nd mz ne js mq"/></div></div></a></div><blockquote class="ov"><p id="ce6b" class="ow ox ht bd oy oz pa pb pc pd pe ll ek translated">加入<a class="ae lm" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> Coinmonks电报频道</a>，了解加密交易和投资</p></blockquote><h2 id="bd97" class="ls jz ht bd ka lt pf lv ke lw pg ly ki kz ph ma kk ld pi mc km lh pj me ko mf dt translated">另外，阅读</h2><ul class=""><li id="c6ab" class="nh ni ht ks b kt ku kw kx kz oo ld op lh oq ll or nn no np dt translated"><a class="ae lm" href="https://blog.coincodecap.com/margin-trading" rel="noopener ugc nofollow" target="_blank">什么是融资融券交易</a> | <a class="ae lm" href="https://blog.coincodecap.com/dca" rel="noopener ugc nofollow" target="_blank">成本平均法</a></li><li id="995e" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/bigone-exchange-review-64705d85a1d4"> BigONE交易所评论</a> | <a class="ae lm" href="https://blog.coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">电网交易机器人</a></li><li id="5241" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a> | <a class="ae lm" rel="noopener" href="/coinmonks/pionex-review-exchange-with-crypto-trading-bot-1e459d0191ea"> Pionex评论</a> | <a class="ae lm" rel="noopener" href="/coinmonks/coinrule-review-2021-a-beginner-friendly-crypto-trading-bot-daf0504848ba"> Coinrule评论</a></li><li id="4023" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/ledger-vs-ngrave-zero-7e40f0c1d694">莱杰vs n rave</a>|<a class="ae lm" rel="noopener" href="/coinmonks/ledger-nano-s-vs-x-battery-hardware-price-storage-59a6663fe3b0">莱杰nano s vs x </a> | <a class="ae lm" rel="noopener" href="/coinmonks/binance-review-ee10d3bf3b6e">币安评论</a></li><li id="a108" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit交易所评论</a> | <a class="ae lm" rel="noopener" href="/coinmonks/bityard-review-7d104239be35"> Bityard评论</a> | <a class="ae lm" href="https://blog.coincodecap.com/coinspot-review" rel="noopener ugc nofollow" target="_blank"> CoinSpot评论</a></li><li id="cfc6" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/3commas-vs-pionex-vs-cryptohopper-best-crypto-bot-6a98d2baa203">3 commas vs crypto hopper</a>|<a class="ae lm" rel="noopener" href="/coinmonks/earn-crypto-interest-b10b810fdda3">赚取加密利息</a></li><li id="51e2" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated">最好的比特币<a class="ae lm" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&amp;sk=324dd9ff8556ab578d71e7ad7658ad7c">硬件钱包</a> | <a class="ae lm" rel="noopener" href="/coinmonks/bitbox02-review-your-swiss-bitcoin-hardware-wallet-c36c88fff29"> BitBox02回顾</a></li><li id="1a62" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/ngrave-zero-review-c465cf8307fc">n rave ZERO Review</a>|<a class="ae lm" rel="noopener" href="/coinmonks/phemex-review-4cfba0b49e28">phe MEX Review</a>|<a class="ae lm" rel="noopener" href="/coinmonks/primexbt-review-88e0815be858">PrimeXBT Review</a></li><li id="c46f" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated">最佳<a class="ae lm" href="https://bitquery.io/blog/best-blockchain-analysis-tools-and-software" rel="noopener ugc nofollow" target="_blank">区块链分析</a>工具| <a class="ae lm" rel="noopener" href="/coinmonks/earn-bitcoin-6e8bd3c592d9">赚比特币</a> | <a class="ae lm" rel="noopener" href="/coinmonks/swapzone-review-crypto-exchange-data-aggregator-e0ad78e55ed7"> Swapzone评论</a></li><li id="b037" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/crypto-arbitrage-guide-how-to-make-money-as-a-beginner-62bfe5c868f6">加密套利</a>指南| <a class="ae lm" rel="noopener" href="/coinmonks/how-to-short-bitcoin-568a2d0b4ae5">如何做空比特币</a> | <a class="ae lm" rel="noopener" href="/coinmonks/prokey-review-26611173c13c"> Prokey回顾</a></li><li id="7ee2" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/binance-trading-bots-d0d57bb62c4c">币安交易机器人</a> | <a class="ae lm" rel="noopener" href="/coinmonks/okex-review-6b369304110f"> OKEx审查</a> | <a class="ae lm" href="https://blog.coincodecap.com/atani-review" rel="noopener ugc nofollow" target="_blank"> Atani审查</a></li><li id="d235" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b">最佳加密交易信号电报</a> | <a class="ae lm" rel="noopener" href="/coinmonks/moonxbt-review-6e4ab26d037"> MoonXBT评论</a></li><li id="f41c" class="nh ni ht ks b kt nq kw nr kz ns ld nt lh nu ll or nn no np dt translated"><a class="ae lm" rel="noopener" href="/coinmonks/godex-io-review-7366086519fb"> Godex.io审核</a> | <a class="ae lm" rel="noopener" href="/coinmonks/invity-review-70f3030c0502">邀请审核</a> | <a class="ae lm" rel="noopener" href="/coinmonks/bitforex-review-c4bb28d9e271"> BitForex审核</a></li></ul></div></div>    
</body>
</html>