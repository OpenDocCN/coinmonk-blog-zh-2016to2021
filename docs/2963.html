<html>
<head>
<title>An Implementation of a REST API to your custom Network with ExpressJS on Hyperledger Fabric v2.1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Hyperledger Fabric v2.1上使用ExpressJS在您的自定义网络中实施REST API</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/an-implementation-of-a-rest-api-to-your-custom-network-with-expressjs-node-js-ff156a0c2c0d?source=collection_archive---------0-----------------------#2020-05-02">https://medium.com/coinmonks/an-implementation-of-a-rest-api-to-your-custom-network-with-expressjs-node-js-ff156a0c2c0d?source=collection_archive---------0-----------------------#2020-05-02</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/58a1a0d7f1913df6b4cb0b01dcd2b299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6aqAGwev7mReokiasSA_aQ.png"/></div></div></figure><p id="a487" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这个故事中，我们将通过使用ExpressJS实现REST API来扩展我们现有的Fabric网络。Hyperledger Composer通过它包含的<code class="eh jz ka kb kc b">composer-rest-server</code>帮助我们为业务网络生成REST API。但自2019年8月29日以来，它已被弃用，因此我们需要另一种方法来为我们的自定义结构网络创建REST API。</p><p id="4486" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ExpressJS框架是Node.js的快速、自以为是且极简的web框架，我们可以快速轻松地实现HTTP请求和路由操作。</p><div class="ke kf fm fo kg kh"><a rel="noopener follow" target="_blank" href="/coinmonks/create-a-custom-network-and-deploy-your-own-chaincode-with-hyperledger-fabric-v2-1-6c689cf1b7cd"><div class="ki ab ej"><div class="kj ab kk cl cj kl"><h2 class="bd hu fv z el km eo ep kn er et hs dt translated">使用Hyperledger Fabric v2.1创建自定义网络并部署您自己的链码</h2><div class="ko l"><h3 class="bd b fv z el km eo ep kn er et ek translated">在本案例中，我们将创建一个自定义网络，并使用Hyperledger Fabric v2.1部署一个示例链码。</h3></div><div class="kp l"><p class="bd b gc z el km eo ep kn er et ek translated">medium.com</p></div></div><div class="kq l"><div class="kr l ks kt ku kq kv iz kh"/></div></div></a></div><p id="6413" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因为我们将引用上面文章中实现的内容，所以我们需要确定；</p><ul class=""><li id="556e" class="kw kx ht jd b je jf ji jj jm ky jq kz ju la jy lb lc ld le dt translated">Fabric network ( <code class="eh jz ka kb kc b">burakcan-network</code>)已经调出，</li><li id="6ad6" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated">链码(<code class="eh jz ka kb kc b">be.go</code>)已经部署到我们的渠道(<code class="eh jz ka kb kc b">channeldemo</code>)，</li><li id="1962" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated">同行(<code class="eh jz ka kb kc b">orderer.burakcan-network.com:7050</code>、<code class="eh jz ka kb kc b">peer0.be1.burakcan-network.com:7051</code>、<code class="eh jz ka kb kc b">peer0.be2.burakcan-network.com:7051</code>)已加入频道。</li><li id="6f6f" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated">链码的初始化方法(<code class="eh jz ka kb kc b">InitLedger</code>)已被调用</li></ul><p id="e94a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在开始实现REST API之前。</p><blockquote class="lk ll lm"><p id="61be" class="jb jc ln jd b je jf jg jh ji jj jk jl lo jn jo jp lp jr js jt lq jv jw jx jy hm dt translated">在这里，我们应该对<code class="eh jz ka kb kc b">docker-compose-cli.yaml</code>文件进行修改，并在其中添加以下行。</p></blockquote><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><blockquote class="lk ll lm"><p id="1439" class="jb jc ln jd b je jf jg jh ji jj jk jl lo jn jo jp lp jr js jt lq jv jw jx jy hm dt translated">之后，当我们用<code class="eh jz ka kb kc b">docker-compose-cli.yaml</code>文件打开网络时，<code class="eh jz ka kb kc b">hyperledger/fabric-ca</code>图像将在<code class="eh jz ka kb kc b">localhost:7054</code>上工作。</p></blockquote><div class="lr ls lt lu fq ab cb"><figure class="lx iu ly lz ma mb mc paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><img src="../Images/d53394c59ad822070f0f114e92cacc6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*NAaQTsqQYgVUlPngVqn4Rw.png"/></div></figure><figure class="lx iu md lz ma mb mc paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><img src="../Images/14dc9c548d892d1952184095885983c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*wbvXWnyGeQrui_pNuJT9gQ.png"/></div></figure></div></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><h1 id="0418" class="ml mm ht bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni dt translated">安装应用程序依赖项</h1><p id="330e" class="pw-post-body-paragraph jb jc ht jd b je nj jg jh ji nk jk jl jm nl jo jp jq nm js jt ju nn jw jx jy hm dt translated">如果我们已经完成了上面的步骤，我们可以开始安装应用程序依赖项，它们是:</p><ul class=""><li id="eeed" class="kw kx ht jd b je jf ji jj jm ky jq kz ju la jy lb lc ld le dt translated"><code class="eh jz ka kb kc b">express</code>，启动ExpressJS框架</li><li id="2772" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated"><code class="eh jz ka kb kc b">grpc</code>和<code class="eh jz ka kb kc b">fabric-client</code></li><li id="357d" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated"><code class="eh jz ka kb kc b">fabric-network</code>，使用身份、钱包、网关连接通道，提交交易，等待REST API中的通知。</li><li id="b20c" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated"><code class="eh jz ka kb kc b">fabric-ca-client</code>，向用户各自的证书颁发机构注册用户，在wallet文件夹中生成有效身份。</li></ul><p id="09d6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们为REST API应用程序创建了一个文件夹，比如网络根目录下的<code class="eh jz ka kb kc b">burakcan-network/javascript</code>文件夹。</p><pre class="lr ls lt lu fq no kc np nq aw nr dt"><span id="18ba" class="ns mm ht kc b fv nt nu l nv nw">mkdir javascript<br/>cd javascript</span></pre><p id="50a4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">然后，我们将通过执行<code class="eh jz ka kb kc b">npm init</code>命令为我们的应用程序创建<code class="eh jz ka kb kc b">package.json</code>文件，您可以遵循从<a class="ae kd" href="http://expressjs.com/en/starter/installing.html" rel="noopener ugc nofollow" target="_blank">到这里</a>的所有步骤来创建它。创建了<code class="eh jz ka kb kc b">package.json</code>文件后，我们安装ExpressJS。</p><pre class="lr ls lt lu fq no kc np nq aw nr dt"><span id="4f38" class="ns mm ht kc b fv nt nu l nv nw">npm init<br/>npm install express --save</span></pre><p id="68cc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，我们通过执行以下命令来安装我上面提到的依赖项。</p><pre class="lr ls lt lu fq no kc np nq aw nr dt"><span id="a020" class="ns mm ht kc b fv nt nu l nv nw">rm -rf node_modules<br/>npm ci<br/>npm install grpc@1.24.2 --unsafe-perm --save<br/>npm install fabric-ca-client@2.1.0 --unsafe-perm --save<br/>npm install fabric-client@1.4.8 --unsafe-perm --save<br/>npm install fabric-network@2.1.0 --unsafe-perm --save</span></pre><p id="5a4a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您正确安装了所有的依赖项，您的package.json应该如下所示，您可以看到您安装的依赖项(安装后,<code class="eh jz ka kb kc b"> — save</code>标记保存依赖项)。</p><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="bb7c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就这样，我们安装了所有的依赖项，我们可以创建连接配置文件，注册管理员，并注册用户。</p></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><h1 id="a092" class="ml mm ht bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni dt translated">创建连接配置文件</h1><p id="0d67" class="pw-post-body-paragraph jb jc ht jd b je nj jg jh ji nk jk jl jm nl jo jp jq nm js jt ju nn jw jx jy hm dt translated">为了正确地从我们将在接下来的步骤中创建的<code class="eh jz ka kb kc b">server.js</code>、<code class="eh jz ka kb kc b">enrollAdmin.js</code>和<code class="eh jz ka kb kc b">registerUser.js</code>文件连接到光纤网络，我们应该在根<code class="eh jz ka kb kc b">burakcan-network</code>目录下创建<code class="eh jz ka kb kc b">connection-be1.yaml</code>和<code class="eh jz ka kb kc b">connection-be1.json</code>文件，并复制以下行。</p><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="9686" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，我们将使用它们。</p></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><h1 id="08e6" class="ml mm ht bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni dt translated">注册管理员用户</h1><p id="fdfc" class="pw-post-body-paragraph jb jc ht jd b je nj jg jh ji nk jk jl jm nl jo jp jq nm js jt ju nn jw jx jy hm dt translated">当我们创建网络并为其生成私钥、公钥和X.509证书时，我们为证书颁发机构(CA)创建了admin用户。因此，我们将在<code class="eh jz ka kb kc b">burakcan-network/javascript</code>目录下创建<code class="eh jz ka kb kc b">enrollAdmin.js</code>文件，并复制以下文件。</p><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="c4b6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">然后执行以下命令</p><pre class="lr ls lt lu fq no kc np nq aw nr dt"><span id="ffed" class="ns mm ht kc b fv nt nu l nv nw">node enrollAdmin.js</span></pre><p id="8303" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果运行正常，它会创建一个<code class="eh jz ka kb kc b">wallet</code>文件夹，并将CA admin的凭证作为<code class="eh jz ka kb kc b">admin.id</code>存储在该文件夹中，因此您应该会看到下面的消息。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div class="fe ff nx"><img src="../Images/d74e5aa3c8d3f3fc5fa321c721fb422f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*9_F_AfUsvFOU7o33tra0PA.png"/></div></figure></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><h1 id="7bde" class="ml mm ht bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni dt translated">注册应用程序用户</h1><p id="96d0" class="pw-post-body-paragraph jb jc ht jd b je nj jg jh ji nk jk jl jm nl jo jp jq nm js jt ju nn jw jx jy hm dt translated">我们需要创建将与网络交互的应用程序用户。因此，我们将在<code class="eh jz ka kb kc b">burakcan-network/javascript</code>目录下创建<code class="eh jz ka kb kc b">registerUser.js</code>文件，并复制以下文件。</p><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="7ad4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">然后执行以下命令</p><pre class="lr ls lt lu fq no kc np nq aw nr dt"><span id="cbc6" class="ns mm ht kc b fv nt nu l nv nw">node registerUser.js</span></pre><p id="4b34" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果它工作正常，它将应用程序用户的凭证作为<code class="eh jz ka kb kc b">appUser.id</code>存储在这个文件夹中，因此您应该会看到下面的消息。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ny"><img src="../Images/3b19d64924cf8ad4022adc43d78b7aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wk_Uz-uu94q476XRk340oA.png"/></div></div></figure><p id="a37d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">注册管理员和用户后，您的<code class="eh jz ka kb kc b">wallet</code>文件夹有2个凭证文件。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nz"><img src="../Images/965b68e5b99c9b5c5a63fa64962b1f42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfcNJtWGXD2ffLyafZInVA.png"/></div></div></figure></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><h1 id="c23a" class="ml mm ht bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni dt translated">创建API服务器</h1><p id="783a" class="pw-post-body-paragraph jb jc ht jd b je nj jg jh ji nk jk jl jm nl jo jp jq nm js jt ju nn jw jx jy hm dt translated">这就是ExpressJS涉及到to的点。下图描述了我们正在努力构建的东西。我们向在<code class="eh jz ka kb kc b">http://localhost:8080</code>上使用ExpressJS开发的API服务器发送HTTP请求，API服务器通过使用我们在前面步骤中创建的连接配置文件和钱包连接到我们的Hyperledger结构网络。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oa"><img src="../Images/048881e4b126ccb1d7c2b180856e1a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWr2BI4eiCGrn1GN3oVhZA.png"/></div></div></figure><p id="7023" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这就是为什么我们将在<code class="eh jz ka kb kc b">burakcan-network/javascript</code>目录下创建<code class="eh jz ka kb kc b">server.js</code>作为API服务器，并复制下面的文件。在<code class="eh jz ka kb kc b">server.js</code>文件中，我们使用HTTP方法定义了3个端点，以连接到Hyperledger Fabric网络，并使用连接配置文件和钱包调用感兴趣的chaincode方法；</p><ul class=""><li id="e174" class="kw kx ht jd b je jf ji jj jm ky jq kz ju la jy lb lc ld le dt translated"><code class="eh jz ka kb kc b"><strong class="jd hu">GET </strong>api/queryallproducts</code>退回所有产品</li><li id="d26f" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated"><code class="eh jz ka kb kc b"><strong class="jd hu">POST </strong>api/queryallproducts</code>添加新产品并在正文中获取细节</li><li id="5a8f" class="kw kx ht jd b je lf ji lg jm lh jq li ju lj jy lb lc ld le dt translated"><code class="eh jz ka kb kc b"><strong class="jd hu">PUT </strong>api/changeprice/product_number</code> <strong class="jd hu"> </strong>用正文中指定的价格更新已经给出<code class="eh jz ka kb kc b">product_number</code>的产品价格</li></ul><p id="71c4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">此外，我们定义了我们将使用的主机和端口，如本文件中的<code class="eh jz ka kb kc b">http://localhost:8080</code>。我们在<code class="eh jz ka kb kc b">server.js</code>中复制以下内容</p><figure class="lr ls lt lu fq iu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="6e2a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在创建了<code class="eh jz ka kb kc b">server.js</code>文件之后，我们用下面的命令运行API服务器。</p><pre class="lr ls lt lu fq no kc np nq aw nr dt"><span id="9ab8" class="ns mm ht kc b fv nt nu l nv nw">node server.js</span></pre><p id="87be" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们应该会看到下面在<code class="eh jz ka kb kc b">server.js</code>文件中定义的消息。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ob"><img src="../Images/f5ada5053cda5582cc11eb45167e0f6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZnKzuJrXMIGqW0cm54UgnQ.png"/></div></div></figure><p id="fcc2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就这样，通过使用已定义的端点向<code class="eh jz ka kb kc b">http://localhost:8080</code>发出HTTP请求就可以了。</p></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><h1 id="01f0" class="ml mm ht bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni dt translated">通过REST API与网络交互</h1><p id="11f0" class="pw-post-body-paragraph jb jc ht jd b je nj jg jh ji nk jk jl jm nl jo jp jq nm js jt ju nn jw jx jy hm dt translated">我们将使用Postman检查下面的所有端点，并在浏览器上检查。</p><ul class=""><li id="e78a" class="kw kx ht jd b je jf ji jj jm ky jq kz ju la jy lb lc ld le dt translated"><code class="eh jz ka kb kc b"><strong class="jd hu">GET </strong>http://localhost:8080/api/queryallproduct</code>没有往体内填充任何东西。</li></ul><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oc"><img src="../Images/a86e6f73a22ebfe2d6d74ee206dc3f93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fvwERbB-L8Z9a7CYmXwltw.png"/></div></div></figure><p id="e979" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们得到下面的结果。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff od"><img src="../Images/86c6aa01bc9951ed8bf119eb5965ae06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ebm88H9Wuyx3FtSj5qrCg.png"/></div></div></figure><p id="d2d9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">此外，我们可以通过输入URL在浏览器上进行检查，我们应该会得到下面的结果。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff oe"><img src="../Images/25543d6bfbd15d32f59cb4b9d1615c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9phb5SG8i0LynMruGDMCZA.png"/></div></div></figure><ul class=""><li id="2087" class="kw kx ht jd b je jf ji jj jm ky jq kz ju la jy lb lc ld le dt translated"><code class="eh jz ka kb kc b"><strong class="jd hu">POST </strong>http://localhost:8080/api/addproduct</code>用我们想要添加的新产品记录填充主体。</li></ul><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div class="fe ff of"><img src="../Images/fe219d1c86871b64201a4e026cc2c399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*s8vEw1CAegEQomdkQpZGDw.png"/></div></figure><p id="3845" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果我们在浏览器上查看，就能看到新的记录。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff og"><img src="../Images/51783a2d42d02d5754f09b4eb2719cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XqGZRYERcA76S3TKRfqljQ.png"/></div></div></figure><ul class=""><li id="6c1e" class="kw kx ht jd b je jf ji jj jm ky jq kz ju la jy lb lc ld le dt translated"><code class="eh jz ka kb kc b"><strong class="jd hu">PUT </strong>http://localhost:8080/api/changeprice/?product_number</code>用我们想要更新的新价格填充正文。</li></ul><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div class="fe ff oh"><img src="../Images/7b0782d1e61640e7fada23ce51fbd8ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*i4HrruarQqW9pWVvfX975Q.png"/></div></figure><p id="babc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果我们在浏览器上查看，我们可以看到产品编号为<code class="eh jz ka kb kc b">PRODUCT5</code>的产品的新价格。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ob"><img src="../Images/8b2eda94d249655bcf5137192cc6ba9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PwoGg3qsu4scbSEnVWhPAQ.png"/></div></div></figure><p id="2a5f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">此外，我们可以检查终端上的新情况，该终端用于通过<code class="eh jz ka kb kc b">peer0.be1.burakcan-network.com:7051</code>或<code class="eh jz ka kb kc b">peer0.be2.burakcan-network.com:7051</code>对等方连接到CLI。如您所见，产品编号为<code class="eh jz ka kb kc b">PRODUCT5</code>的产品显示了新价格。</p><figure class="lr ls lt lu fq iu fe ff paragraph-image"><div class="fe ff oi"><img src="../Images/38e7c56eb1daa3ada40c6816711dcc70.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*FV-qrQxS3nU0DyjNU_aVfg.png"/></div></figure><p id="d618" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因此，我们完成了连接到我们定制的Hyperledger结构网络的API服务器应用程序。</p><blockquote class="oj"><p id="24f6" class="ok ol ht bd om on oo op oq or os jy ek translated"><a class="ae kd" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="ou ov ow ox oy iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ot"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>