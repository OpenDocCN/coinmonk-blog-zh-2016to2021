<html>
<head>
<title>Token Bonding Curves, the Movie</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代币债券曲线，电影</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/token-bonding-curves-the-movie-4f97c8c2b7b6?source=collection_archive---------1-----------------------#2020-05-29">https://medium.com/coinmonks/token-bonding-curves-the-movie-4f97c8c2b7b6?source=collection_archive---------1-----------------------#2020-05-29</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="6db9" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">如何使用单一合约制作指数？</h2></div><h2 id="e3e4" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">简介:结合的力量</h2><p id="92f0" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/token-bonding-curves-explained-7a9332198e0e">令牌绑定曲线</a> (TBCs)于2018年首次亮相，并立即开始激励区块链开发人员从创建具有多个外部依赖关系的整体智能合同转向构建自包含自引用的构建模块。TBC是不依赖外部预言或订单簿的象征性定价合同。相反，它们的定价是由算法控制的。当第一次推出时，我怀疑它们会成为ico的一个很好的替代品，因为它们更仔细地调整了买家和开发商的激励，但自那以后，很明显，除了提供自我参考定价，它们还提供了自己的流动性。正如Uniswap和Kyber Network所展示的那样，带来自身流动性的合同是T2 DeFi T3分散交易的基础。在本文中，我们将使用令牌绑定曲线从头构建一个索引。然后，我们将介绍一个真正的分散式令牌交换，它由令牌绑定曲线驱动，在主网上运行，即<a class="ae kz" rel="noopener" href="/weidaithriftcoin/introducing-weidais-first-burn-dapp-the-behodler-token-swapper-c76f38e5d94c"> Behodler </a>。</p><h2 id="e845" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">资产流动性</h2><p id="ee93" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">令牌结合曲线是响应于接收到输入令牌而铸造输出令牌的契约。产出与投入的比率(价格)是由内部算法决定的。最简单的体现是一个接受以太并根据线性价格增长方程P=Q产生一些令牌T的合同。你可以通过发送以太来打印T，也可以通过将T返回合同来获得以太。在这里，乙醚中T的价格是由流通中T的现存量决定的。假设T的总供应量是12。这意味着，如果我在合约中加入1 T，我将得到12t。相反，如果我想铸造第13个T，我必须为合同支付13个Eth。</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff la"><img src="../Images/457c76412c099428de3e607b9d0f7050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U0Vdxz8mJqhwOlTvVMqXJQ.png"/></div></div><figcaption class="lm ln fg fe ff lo lp bd b be z ek">The area A is the total holding of Eth. Q is the quantity of the printed bonding curve token, T.</figcaption></figure><p id="5c09" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">我们可以用微积分来概括Eth和T之间的关系。简单地说，对于任何水平的T，所需Eth的量是曲线P=Q下的面积。该面积由积分给出，</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="ab fr cl lv"><img src="../Images/7a46539f79634a72c6e28002154ecebd.png" data-original-src="https://miro.medium.com/v2/format:webp/0*0T8TXkrySTKMnQy-.png"/></div></figure><p id="c3d6" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">因此，如果我们想生产10吨，我们将需要1/2(10 ) = 50 Eth。</p><p id="60ae" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">由二次关系可以看出，所需Eth的增长速度快于t的供给，这就是流动性所需的秘制酱料。看待这种关系的另一种方式是，如果我们在合同中加入1个Eth，合同中已经存在的Eth越多，Eth创造的T就越少，因此T的价格变化就越小(记住P=Q)。</p><p id="ae23" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">例如，假设我们有2 T。这意味着我们已经输入了1/2(2 ) = 2 Eth。现在假设我们想看看当我们再输入一个Eth时，T会发生什么。这使总数达到3 Eth。利用上述积分，我们得到</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/3b407d8c38f279cf0675b7e6d4703b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:232/format:webp/1*44Kg__5rJphePuQtNr6Ylg.png"/></div></figure><p id="9dec" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">这意味着增加1个Eth会增加T的供应量</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/cb35387d1a5cbd7cbac7ae5afba81ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:178/format:webp/1*k-AutPGvmMK1Yr__ZUvRuw.png"/></div></figure><p id="9670" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">由于P=Q，这也意味着T的价格从2到2.45 Eth增加了约0.45。这相当于约22.5%的价格变动。</p><p id="e6ce" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">现在让我们重复这个实验，但是这次让我们使用先前存在的T 1000。这意味着合同包含</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/09629533b3ab2ee9b40141128fe5373a.png" data-original-src="https://miro.medium.com/v2/resize:fit:292/format:webp/1*yQiqqm_TBf3ILGH0590Zkw.png"/></div></figure><p id="8df9" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">现在我们加上1 Eth，看看t的价格会发生什么变化。</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/16e8a06b41576c192ab62accbf23ba87.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*8BDFmu0kTpD-QGl1fvbnJw.png"/></div><figcaption class="lm ln fg fe ff lo lp bd b be z ek">The amount T printed by 1 Eth is now 0.001</figcaption></figure><p id="360c" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">你可以看到，1 Eth产生的T量现在只有0.001。价格也从1000瑞士法郎上涨到1000.001瑞士法郎，涨幅为0.00001%</p><h2 id="4f47" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">简单令牌对交换</h2><p id="2b85" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">我们实际上可以将这个契约视为一个简单的双令牌分散交换(DEX)。随着我们增加更多的Eth，每增加一个Eth的价格滑点就会下降。流动性是一种行话，表示某笔交易对市场价格的影响程度。市场价格越少“注意到”某项交易，市场的流动性就越强。或者换句话说，流动性市场比非流动性市场能吸收更多的交易。这个解决方案似乎还缺少一部分。的确，通过增加更多的乙烯醚，乙烯醚的流动性增加了，但在这个过程中，乙烯醚的价格变得非常高。正如我们将在下面看到的，构建高流动性DEX的技巧是不要将本地债券曲线令牌视为任何人“想要”的令牌，而是更多地将其视为一种交易媒介，以促进人们实际想要的令牌之间的交易。那么T的实际价格是任意的。</p><h2 id="2c83" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">通用索引</h2><p id="bbd6" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">让我们以两个众所周知的现有令牌Dai和Eth为例，尝试使用令牌绑定曲线来构建一个分散式交换。第一种方法是部署两个TBC契约，一个接受Dai，另一个接受Eth。接受Dai的打印一个标记T，接受Eth的打印一个标记r。</p><p id="8cdc" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">为了用Eth交换Dai，我们存放Eth并得到一些R。然后我们必须找到一个可以用R交换T的交易所，然后将T存入Dai结合曲线以得到Dai。哦，等等…我们刚刚把交换Dai和Eth的问题，替换为交换它们的键曲线标记T和r的问题。</p><h2 id="9ca7" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">一个是债券，一个是互换，一个是交易，在合同中定价</h2><p id="1080" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">解决方案是使用一个令牌，让两条键合曲线独立打印。这意味着，如果我存入1 Eth，我将获得1 T，如果我存入1 Dai，我将获得1 T。现在，如果我想互换，我需要做的就是存入Eth，获得一些T，然后存入T，获得一些Dai(假设合约有阿呆余额)。</p><p id="e57e" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">定价呢？</p><p id="8452" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">让我们假设Eth目前的市场价格是200美元。这意味着1 Eth应该在任何主动交易中给我200 Dai。</p><p id="a235" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">让我们用50 Dai和50 Eth来播种我们的TBC交换。(为了完整起见，您应该能够使用上面的等式计算出，这样的播种将为每笔存款印刷10 T，这意味着T的总循环供应量将为20。)</p><p id="6e3e" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">现在有人来了，想用这笔交易和戴一起买Eth。他们存了10戴。这使得Dai曲线打印的总T为</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff ma"><img src="../Images/5562fbcf70af9ae54106e8e173114b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*0lhwSV2EgBJrvR1xW5Im4w.png"/></div><figcaption class="lm ln fg fe ff lo lp bd b be z ek">Dai increased from 50 to 60, T increased from 10 to 10.95</figcaption></figure><p id="32c4" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">这意味着T供给增加了0.95。换句话说，交易者收到0.95吨的保证金。因为T只是一个中介，一个交换的媒介，他们想拿走他们的0.95 T，看看他们能得到多少。存入0.95吨相当于将供应量减少0.95吨至9.05吨，因此，如果我们采用Eth债券曲线并代入新的代币值，计算出合同中的最终Eth余额，我们将得到</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/bd00604e2b6b4c8aba62e2457a216868.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*sjLMkdVnbpusOEvJp6ossQ.png"/></div><figcaption class="lm ln fg fe ff lo lp bd b be z ek">Remember the initial Eth balance was 50</figcaption></figure><p id="ec7c" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">这意味着合约支付了9.04875 Eth。因此，10 Dai的用户收到了(9.04875x200=)$1809.75的Eth。好交易！交易者看到美元的信号，继续分批存入10戴，希望获得无限利润。</p><p id="edc6" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">他们再存10戴会怎么样？</p><p id="b642" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">Dai合同现在总共生产1000吨</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff mc"><img src="../Images/77644f666b0590c244120e7858609687.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*P81x7RbDuDkdN2YjLuuy5g.png"/></div></figure><p id="09e5" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">T供给总量增加了11.83–10.95 = 0.882。</p><p id="8ef2" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">已经注意到，按照编程，焊接曲线产生的T比以前少。</p><p id="2774" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">现在让我们看看我们从0.882吨中获得了多少Eth。将0.882吨存入Eth粘合曲线合约会将供应量从9.05吨减少到8.17吨。这意味着合约中剩余的Eth应该用于</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/6538e9ac856e783237b70fe1c9ba80ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*TC1vWCy8KckJ9-XoFsvM9w.png"/></div></figure><p id="0310" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">这意味着合约支付给交易者(40.95125–33.37445 =)7.5768瑞士法郎。</p><p id="562b" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">起初，10个戴产生9.04个Eth。现在10戴只出7.5768 Eth。贸易条件正在改变！事实上，它们的变化正如你所料:你交易的代币越多，它相对于输出代币的价格就越低。</p><h2 id="3129" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">重新审视流动性</h2><p id="a8a0" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">请注意，在上面的例子中，贸易条件下降的原因之一是因为第二批Dai生产较少的T，然后用于生产较少的Eth。如果出于某种不可思议的原因，第二套戴产生了与第一次交易完全相同的数量T，会发生什么？也就是说，我们不必使用0.882吨，而是使用0.95吨。代入该值，Eth键合曲线中的T供应从9.05吨下降到8.1吨。这使合约中的总Eth下降到</p><figure class="lb lc ld le fq lf fe ff paragraph-image"><div class="fe ff md"><img src="../Images/b765abc30d3565d318cec18126ba80ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:302/format:webp/1*G2DMzfSxfi9M0--3RooSDw.png"/></div></figure><p id="8536" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">这意味着向用户支付(40.95125–32.805 =)8.14625 Eth。显然更Eth。戴:在这种情况下，Eth的隐含价格没有下跌那么多。我们可以说流动性更高了。那么我们怎样才能在10天内不掉下来呢？这是一条结合曲线，所以最好的办法就是多存些Dai。我们知道，随着我们存放更多的Dai，每个Dai单位对T产生的影响下降。当然，为了保持贸易条件不变，我们也必须存入更多的Eth。由于我们在存放更多的Eth，我们也知道Eth的流动性将会上升。将所有这些放在一起，我们就有了完整的画面:一个建立在令牌结合曲线上的分散令牌交换，其中每个令牌都有自己独立的结合曲线，但每个曲线都打印相同的通用令牌，即交换媒介:t。</p><h2 id="971b" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">贝霍德勒</h2><p id="7ebb" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">这就是<a class="ae kz" rel="noopener" href="/weidaithriftcoin/introducing-weidais-first-burn-dapp-the-behodler-token-swapper-c76f38e5d94c"> Behodler </a>令牌交换的工作方式。代替T，由所有债券曲线印刷的交换令牌的媒介被称为稀缺性(SCX)。为了增加戴的流动性，你只需用戴购买稀缺性。这相当于获得Uniswap交易所合约的流动性令牌。非稀缺性的代币(如和戴)之间的交易在后台使用稀缺性，如上所述。要使用Behodler，请前往<a class="ae kz" href="https://weidaidapp.com/behodler" rel="noopener ugc nofollow" target="_blank">戴伟dapp </a>，连接您的Metamask钱包并点击左侧的“交换代币”菜单选项。你可以通过切换“增加流动性”开关并以你想要的比例提供代币来增加流动性，或者你可以简单地用你选择的代币购买稀缺性。如果你想收回流动性，设置你的输入令牌的稀缺性，然后把它卖回给Behodler，得到你想要的输出令牌。</p><h2 id="ae0f" class="ji jj ht bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dt translated">关于流动性增长的最后一句话:算法HODL</h2><p id="318e" class="pw-post-body-paragraph kg kh ht ki b kj kk iu kl km kn ix ko jt kp kq kr jx ks kt ku kb kv kw kx ky hm dt translated">假设我将10个Dai和10个Eth存入像Behodler这样的TBC交易所，得到20个t，现在我不小心丢失了我的私钥。为了所有的意图和目的，20 T丢失了，并且交换现在有10 Dai和10 Eth卡在里面。把戴和Eth弄出来的唯一方法是什么？当然是戴或Eth更多。因此，如果我带一些Dai来购买Eth，我不仅会得到Eth，而且我会在一个预先播种了流动性的交易所进行交易(由于我意外丢失了密钥)。</p><p id="76eb" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">假设除了上面的密钥丢失之外，还有其他人出现并存入另外10个Dai和10个Eth，并且也丢失了他们的密钥。现在我们与20个Dai和20个Eth交换，但没有相应的t。同样，获得Eth或Dai的唯一方法是不断存入更多的Eth或Dai。丢失钥匙的错误无意中永久性地增加了交易所的流动性。如果你仔细想想，就会发现另一个奇怪的现象:无论如何，你都不可能耗尽所有的代币。如果你试图买断所有的戴，你必须存款(因为没有T存在)。但是现在你有一个充满Eth的交易所。如果你把这个Eth存款创造的所有现存的T都存进去，也不足以赎回所有的Eth。通过丢失T，您无意中创建了一个永久的令牌接收器！</p><p id="67e9" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">Behodler通过在每次交易中烧掉一小部分稀缺资源来模拟这种关键损失现象。本质上，稀缺性随着常规交易而流失，这意味着Behodler随着每次交易而变得越来越大。这也意味着每个代币的流动性都会随着时间的推移而增加。无论在贝霍德勒进行什么交易，都会像流沙一样越来越多。这种黑洞下沉效应是HODL进入贝霍德勒的原因。</p><p id="0dab" class="pw-post-body-paragraph kg kh ht ki b kj lq iu kl km lr ix ko jt ls kq kr jx lt kt ku kb lu kw kx ky hm dt translated">除了充当另一个DEX之外，Behodler还通过充当Eth(以及其他令牌)的永久接收器来为以太坊社区提供服务。以太汇是必要的，它通过为矿工的支付提供价格支持来确保以太坊网络的安全。</p><blockquote class="me"><p id="aeed" class="mf mg ht bd mh mi mj mk ml mm mn ky ek translated"><a class="ae kz" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="mp mq mr ms mt lf fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mo"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>