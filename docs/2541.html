<html>
<head>
<title>SETUP Private Ethereum Network (POA) On Digital Ocean using Puppet.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Puppet在数字海洋上建立私有以太网。</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/setup-private-ethereum-network-poa-on-degital-ocean-using-puppeth-164b869567a2?source=collection_archive---------1-----------------------#2019-11-26">https://medium.com/coinmonks/setup-private-ethereum-network-poa-on-degital-ocean-using-puppeth-164b869567a2?source=collection_archive---------1-----------------------#2019-11-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="b7d6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这篇文章中，我将解释在数字海洋服务器上建立一个私有的区块链以太网的简单方法。在讨论细节之前，我们需要了解什么是权威证明，我不打算解释，但分享一个链接来了解细节<a class="ae jo" href="https://www.binance.vision/blockchain/proof-of-authority-explained" rel="noopener ugc nofollow" target="_blank">https://www . binance . vision/区块链/Proof-of-Authority-explained</a></p><p id="ac9d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我用的是Windows 10系统和git bash(下载)【https://git-scm.com/downloads T2</p><p id="bd50" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们开始，我们正在经历一步一步的过程。所以在这篇文章中，我将列出以下清单。</p><ol class=""><li id="490d" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">Digital Ocean Droplet为1个控制器和3个节点创建并安装必要的包。</li><li id="ef3b" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">PoA网络、Ethstats &amp; Explorer</li></ol><p id="d0f2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 1。数字海洋水滴设置:</strong>在本教程中，我们将在数字海洋上提供4个水滴:3个水滴用于节点，1个水滴用于控制器。控制器是我们使用puppeth进行所有设置的地方。</p><p id="55e0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">控制器:最低1 GBram / 25 GB磁盘</p><p id="ecc0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">节点1: 16 GB内存/ 320 GB磁盘</p><p id="0288" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">节点2: 16 GB内存/ 320 GB磁盘</p><p id="00e6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">节点3: 16 GB内存/ 320 GB磁盘</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff kd"><img src="../Images/73f0ba8389976f985f18b782be2282df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UOgrfcH96R8abAD-chDBVw.jpeg"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">Controller Droplet configuration</figcaption></figure><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff kt"><img src="../Images/78d6af3386e67869fc8df47c5903f819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*suvwL6mQk9yWHBkB0EG4Jg.jpeg"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">3 Droplet Same configuration</figcaption></figure><p id="8b22" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如何创建水滴:<a class="ae jo" href="https://www.digitalocean.com/docs/droplets/how-to/create/" rel="noopener ugc nofollow" target="_blank">https://www.digitalocean.com/docs/droplets/how-to/create/</a>。使用此链接创建一个droplet。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="ab9f" class="kz la ht kv b fv lb lc l ld le">Controller Ip : &lt;........&gt;<br/>Node1 Ip: &lt;........&gt;<br/>Node2 Ip: &lt;........&gt;<br/>Node3 Ip: &lt;........&gt;</span><span id="4aa6" class="kz la ht kv b fv lf lc l ld le">Node1: I am going to setup stats , explorer.  <br/></span></pre><p id="e1da" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 1.1。防火墙设置:</strong>对于3个droplets，我们需要设置名称，如Node1、Node2、Node3，然后需要打开端口，为此，请转到数字海洋侧边栏，管理- &gt;联网- &gt;防火墙- &gt;创建防火墙，并设置入站。请注意测试POA区块链设置的所有设置。</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff lg"><img src="../Images/d2992775fc11fc7836c22f3b13e531f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XHWpI17Vn_GRhR-lGnIifg.jpeg"/></div></div></figure><p id="0a66" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 1.2。准备控制器:</strong>首先，从您的本地机器，打开git bash终端ssh进入控制器droplet:</p><p id="d47a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ssh root@ <controller ip="">输入然后键入密码。</controller></p><ul class=""><li id="73c0" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn lh jv jw jx dt translated"><strong class="is hu">所需的软件包安装:</strong></li></ul><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="455b" class="kz la ht kv b fv lb lc l ld le">sudo apt-get update<br/>sudo apt-get upgrade<br/>sudo apt-get install build-essential bison</span></pre><ul class=""><li id="7403" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn lh jv jw jx dt translated"><strong class="is hu">安装g版本(Go版本管理器)</strong></li></ul><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="4546" class="kz la ht kv b fv lb lc l ld le">bash &lt; &lt;(curl -s -S -L <a class="ae jo" href="https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer</a>)</span><span id="9674" class="kz la ht kv b fv lf lc l ld le">source ~/.gvm/scripts/gvm</span></pre><ul class=""><li id="3326" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn lh jv jw jx dt translated"><strong class="is hu">去安装</strong></li></ul><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="5d2a" class="kz la ht kv b fv lb lc l ld le">$ gvm install go1.4 --binary <br/>$ gvm use go1.4 <br/>$ export GOROOT_BOOTSTRAP=$GOROOT <br/>$ gvm install go1.10.1 <br/>$ gvm use go1.10.1</span></pre><ul class=""><li id="6015" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn lh jv jw jx dt translated"><strong class="is hu">获取克隆体，构建并验证傀儡运行</strong></li></ul><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="2f61" class="kz la ht kv b fv lb lc l ld le">$ git clone https://github.com/ethereum/go-ethereum.git <br/>$ cd go-ethereum <br/>$ make all // if error comes then google "build-essential bison",  and install it install properly.<br/>$ cd build/bin <br/>$ ./puppeth</span><span id="c215" class="kz la ht kv b fv lf lc l ld le">If puppeth runs normally <!-- -->ctrl + C<!-- -->, press to exit</span></pre><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff li"><img src="../Images/58757afee2b6450d0d08c9ecff4b0283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xAS0NPiTpQ7m5-6eXIkcNA.jpeg"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">Your Terminal looks like this.</figcaption></figure><ol class=""><li id="a8f1" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated"><strong class="is hu"> 3。准备节点:</strong>打开3 git bash终端，输入droplet IP</li></ol><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="8cb8" class="kz la ht kv b fv lb lc l ld le">1st git bash terminal NODE1 : ssh root@&lt;droplet1 ip&gt;enter , password<br/>2nd git bash terminal NODE2 : ssh root@&lt;droplet2 ip&gt;enter , password<br/>3rd git bash terminal NODE3 : ssh root@&lt;droplet3 ip&gt;enter , password</span></pre><p id="5fa7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在每个终端(节点1、节点2和节点3)中运行以下命令</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="39a4" class="kz la ht kv b fv lb lc l ld le"><strong class="kv hu">Get the latest package list</strong></span><span id="bd82" class="kz la ht kv b fv lf lc l ld le">sudo apt-get update <br/>sudo apt-get upgrade</span><span id="aa3c" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Install Docker related packages</strong></span><span id="4255" class="kz la ht kv b fv lf lc l ld le">sudo apt-get install \<br/> apt-transport-https \<br/> ca-certificates \<br/> curl \<br/> software-properties-common</span><span id="bb73" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Add and verify Docker official GPG</strong></span><span id="458d" class="kz la ht kv b fv lf lc l ld le">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><span id="5647" class="kz la ht kv b fv lf lc l ld le">sudo apt-key fingerprint 0EBFCD88</span><span id="df8d" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Add Docker repository</strong></span><span id="c914" class="kz la ht kv b fv lf lc l ld le">sudo add-apt-repository \ <br/>"deb [arch=amd64] https://download.docker.com/linux/ubuntu \         $(lsb_release -cs) \    <br/>stable"</span><span id="f242" class="kz la ht kv b fv lf lc l ld le">sudo apt-get update</span><span id="9b63" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Docker CE, Compose installation</strong></span><span id="f8b8" class="kz la ht kv b fv lf lc l ld le">sudo apt-get install docker-ce docker-compose</span><span id="428d" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Add Docker Group and Add Current User </strong></span><span id="b5cd" class="kz la ht kv b fv lf lc l ld le">sudo groupadd Docker<br/>sudo usermod -aG docker $USER</span><span id="e303" class="kz la ht kv b fv lf lc l ld le">docker ps // if this command run perfectly then your nodes are ready.</span></pre><p id="5ef7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">到目前为止，如果你为节点设置了3个Droplet，为控制器设置了1个Droplet，并且所有的包都安装得很好，那么我们现在已经完成了50%的工作，我们可以开始在以太坊专用网络上工作了。所以让我们开始吧……</p><p id="4a7d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 2。POA网络:</strong>在创建PoA网络之前，需要完成一些任务。我们需要5个以太坊帐户，为此我们必须创建一个钱包，可以保存帐户的详细信息。为什么我们在建立网络之前需要这个帐号？我们的第一项工作是在控制器中创建一个钱包。</p><p id="e23e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 2.1钱包</strong></p><p id="8a96" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">打开git bash并为我的案例键入您的控制器IP</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="2b66" class="kz la ht kv b fv lb lc l ld le"><strong class="kv hu">Log in Controller </strong></span><span id="3c18" class="kz la ht kv b fv lf lc l ld le">ssh root@167.71.122.20<br/>password "your password "</span><span id="95c6" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Create Wallet Password </strong></span><span id="9df2" class="kz la ht kv b fv lf lc l ld le">cd ~<br/>nano passfile // set password inside passfile <br/>sudo perl -pi -e 'chomp if eof' passfile<br/>chmod 700 passfile</span><span id="1007" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">Create Account: </strong>i am using for loop to create 7  account using geth.<strong class="kv hu"> </strong></span><span id="67e0" class="kz la ht kv b fv lf lc l ld le">for ((n=0;n&lt;7;n++)); do ./go-ethereum/build/bin/geth account new --password ~/passfile; done</span></pre><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff lj"><img src="../Images/bc6081aeb1a302d2d3df73a0af837bcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9gKvCk8PKftxHhK58k4yg.jpeg"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">Accounts details.</figcaption></figure><p id="2c43" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以看到创建了7个额外的帐户，并分别打开文本编辑器来记录它们。在我的案例中，以下7个帐户被分配了与密封者和水龙头相同的角色。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="4eea" class="kz la ht kv b fv lb lc l ld le"><strong class="kv hu">Save in text editor</strong></span><span id="a413" class="kz la ht kv b fv lf lc l ld le">public address: 0xE214608fAB19971C02f65681B83dD6182b37D98f</span><span id="bb7e" class="kz la ht kv b fv lf lc l ld le"><br/>Keyfile:UTC--2019-11-25T14-23-51.645631116Z--e214608fab19971c02f65581b83dd6182b37d98f</span><span id="a785" class="kz la ht kv b fv lf lc l ld le">save all 6 account address like this in text editor .</span><span id="17d4" class="kz la ht kv b fv lf lc l ld le"><strong class="kv hu">We need Json format key files </strong></span><span id="2f72" class="kz la ht kv b fv lf lc l ld le">$ cd ~/.ethereum/keystore<br/>$ cat UTC--2019-11-25T14-23-51.645631116Z--e214608fab19971c02f65581b83dd6182b37d98f // Example </span><span id="df57" class="kz la ht kv b fv lf lc l ld le">do same things for all 6 key files and save it in text editor so you can use it  </span><span id="36c7" class="kz la ht kv b fv lf lc l ld le">Sealer 1:<br/>public address: "Your public address<br/>json file : "Your json file " </span><span id="00b6" class="kz la ht kv b fv lf lc l ld le">Sealer 2:<br/>public address: "Your public address<br/>json file : "Your json file "</span><span id="ded4" class="kz la ht kv b fv lf lc l ld le">Sealer 3:</span><span id="bceb" class="kz la ht kv b fv lf lc l ld le">public address: "Your public address<br/>json file : "Your json file "</span><span id="b307" class="kz la ht kv b fv lf lc l ld le">Save like this </span></pre><h2 id="0ff8" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated">使用Puppet定义POA网络</h2><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="e016" class="kz la ht kv b fv lb lc l ld le">Launch puppeth :  ./go-ethereum/build/bin/puppeth</span></pre><p id="4fff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">木偶运行屏幕</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="b06b" class="kz la ht kv b fv lb lc l ld le">+-----------------------------------------------------------+ |Welcome to puppeth, your Ethereum private network manager  |                                                          | This tool lets you create a new Ethereum network down to  |       | the genesis block, bootnodes, miners and ethstats servers |       | without the hassle that it would normally entail.         |       | Puppeth uses SSH to dial in to remote servers, and builds |       | its network components out of Docker containers using the |        | docker-compose toolset.                                   | <br/>+-----------------------------------------------------------+  </span><span id="2af1" class="kz la ht kv b fv lf lc l ld le">Please specify a network name to administer (no spaces or hyphens, please) </span><span id="0b02" class="kz la ht kv b fv lf lc l ld le">&gt; poa     // name this </span></pre><h2 id="3aae" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated">Genesis块设置</h2><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff md"><img src="../Images/794f980458692b5a2ea2d0cde1c8adfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrCzHBec1J-A21a2-p0SaQ.jpeg"/></div></div></figure><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="092d" class="kz la ht kv b fv lb lc l ld le">Which consensus engine to use? (default = clique) <br/>1. Ethash - proof-of-work  <br/>2. Clique - proof-of-authority <br/>&gt; 2</span><span id="a832" class="kz la ht kv b fv lf lc l ld le">How many seconds should blocks take? (default = 15) <br/>&gt; 5</span><span id="e6ad" class="kz la ht kv b fv lf lc l ld le">Which accounts are allowed to seal? (mandatory at least one)<br/>0xE214608fAB19971C02f65581B83dD6182b37D98f<br/>0x type your public address you save in a editor</span><span id="7545" class="kz la ht kv b fv lf lc l ld le">//Note:  i am using one public address</span><span id="1fa4" class="kz la ht kv b fv lf lc l ld le">Which accounts should be pre-funded? (advisable at least one)<br/>&gt;0xE214608fAB19971C02f65581B83dD6182b37D98f // i am using one<br/>&gt;0X 'Type more then one public address for pre- funding'</span><span id="ff0d" class="kz la ht kv b fv lf lc l ld le">Specify your chain/network ID if you want an explicit one (default = random)</span><span id="2827" class="kz la ht kv b fv lf lc l ld le">&gt; <br/>INFO [11-25|14:50:26.561] Configured new genesis block</span><span id="c334" class="kz la ht kv b fv lf lc l ld le">What would you like to do? (default = stats) <br/>1. Show network stats  <br/>2. Manage existing genesis  <br/>3. Track new remote server  <br/>4. Deploy network components <br/>&gt; 2</span><span id="91d2" class="kz la ht kv b fv lf lc l ld le">1. Modify existing fork rules  <br/>2. Export genesis configuration  <br/>3. Remove genesis configuration <br/>&gt; 2</span><span id="849b" class="kz la ht kv b fv lf lc l ld le">Which file to save the genesis into? (default = poa.json)  <br/>&gt; genesis.json</span><span id="c386" class="kz la ht kv b fv lf lc l ld le">What would you like to do? (default = stats)  <br/>1. Show network stats  <br/>2. Manage existing genesis  <br/>3. Track new remote server  <br/>4. Deploy network components<br/>&gt;2</span><span id="c158" class="kz la ht kv b fv lf lc l ld le">What would you like to do? (default = stats)  <br/>1. Show network stats  <br/>2. Manage existing genesis  <br/>3. Track new remote server  <br/>4. Deploy network components <br/>&gt; 4</span></pre><p id="e3d6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">使用傀儡进行Ethstats设置</strong></p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="e341" class="kz la ht kv b fv lb lc l ld le">What would you like to deploy? (recommended order)  <br/>1. Ethstats  - Network monitoring tool  <br/>2. Bootnode  - Entry point of the network  <br/>3. Sealer    - Full node minting new blocks  <br/>4. Explorer  - Chain analysis webservice (ethash only)  <br/>5. Wallet    - Browser wallet for quick sends  <br/>6. Faucet    - Crypto faucet to give away funds  <br/>7. Dashboard - Website listing above web-services <br/>&gt; 1</span><span id="4b6b" class="kz la ht kv b fv lf lc l ld le"># Choose where to deploy (no list since there are no servers connected yet) choice 1</span><span id="3538" class="kz la ht kv b fv lf lc l ld le">Which server do you want to interact with?  <br/>1. Connect another server <br/>&gt; 1                                                                                                     </span><span id="8d6e" class="kz la ht kv b fv lf lc l ld le">What is the remote server's address       ([username[:identity]@]hostname[:port])?                <br/>&gt; [ip of Node1]</span><span id="772b" class="kz la ht kv b fv lf lc l ld le">The authenticity of host '[ip of poa-worker01]:22 ([ip of poa-worker01]:22)' can't be established. SSH key fingerprint is ba:...5e [MD5]</span><span id="c525" class="kz la ht kv b fv lf lc l ld le">Are you sure you want to continue connecting (yes/no)? yes</span><span id="32cd" class="kz la ht kv b fv lf lc l ld le">Which port should ethstats listen on? (default = 80) <br/>&gt; 8080</span><span id="f0d8" class="kz la ht kv b fv lf lc l ld le">Allow sharing the port with other services (y/n)? (default = yes) <br/>&gt; n</span><span id="2f4d" class="kz la ht kv b fv lf lc l ld le">What should be the secret password for the API? (must not be empty) &gt; api7080</span><span id="a0bb" class="kz la ht kv b fv lf lc l ld le">#now you can see the magic .<br/>#open the google crome and type   http://&lt;ip of Node1&gt;:8080</span></pre><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff me"><img src="../Images/17ef4c7f531f9ca60b472fc075ca738d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YtDb1ugIyovYWQcM9e3CZg.png"/></div></div></figure><h2 id="fcce" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated">在节点1上部署Bootnode</h2><p id="54ff" class="pw-post-body-paragraph iq ir ht is b it mf iv iw ix mg iz ja jb mh jd je jf mi jh ji jj mj jl jm jn hm dt translated">引导节点的唯一目的是帮助节点发现彼此。节点可以有动态IP，关闭后再打开。引导节点通常运行在静态IP上，因此就像一个酒馆，节点知道它们会在那里找到自己的伙伴。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="cbc8" class="kz la ht kv b fv lb lc l ld le">What would you like to do? (default = stats)  <br/>1. Show network stats  <br/>2. Manage existing genesis  <br/>3. Manage tracked machines  <br/>4. Manage network components <br/>&gt; 4</span><span id="5fc7" class="kz la ht kv b fv lf lc l ld le">#Don't chose 1 <br/>1. Tear down Ethstats on [ip of poa-worker01]  <br/>2. Deploy new network component <br/>&gt; 2</span><span id="098c" class="kz la ht kv b fv lf lc l ld le">What would you like to deploy? (recommended order)  <br/>1. Ethstats  - Network monitoring tool  <br/>2. Bootnode  - Entry point of the network  <br/>3. Sealer    - Full node minting new blocks  <br/>4. Explorer  - Chain analysis webservice (ethash only)  <br/>5. Wallet    - Browser wallet for quick sends  <br/>6. Faucet    - Crypto faucet to give away funds  <br/>7. Dashboard - Website listing above web-services <br/>&gt; 2</span><span id="954f" class="kz la ht kv b fv lf lc l ld le">Which server do you want to interact with?  <br/>1. [ip of Node1]  <br/>2. Connect another server <br/>&gt; 1</span><span id="7998" class="kz la ht kv b fv lf lc l ld le">Where should data be stored on the remote machine? <br/>&gt; /home/ubuntu/bootnode/</span><span id="dada" class="kz la ht kv b fv lf lc l ld le">Which TCP/UDP port to listen on? (default = 30303) <br/>&gt; 30306</span><span id="a5a6" class="kz la ht kv b fv lf lc l ld le">How many peers to allow connecting? (default = 512) <br/>&gt;</span><span id="12bf" class="kz la ht kv b fv lf lc l ld le">How many light peers to allow connecting? (default = 256) <br/>&gt;</span><span id="93f8" class="kz la ht kv b fv lf lc l ld le">What should the node be called on the stats page? <br/>&gt; poabootnode</span><span id="a987" class="kz la ht kv b fv lf lc l ld le">#open the google crome and type   <strong class="kv hu">http://&lt;ip of Node1&gt;:8080</strong><br/>#You can see the bootnode added in ethstats.<br/># log in Node1 qhbhuji09</span></pre><h2 id="05ab" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated">将密封器部署到节点1</h2><p id="49ed" class="pw-post-body-paragraph iq ir ht is b it mf iv iw ix mg iz ja jb mh jd je jf mi jh ji jj mj jl jm jn hm dt translated">现在，我们将为节点1部署密封器，并为节点2和节点3做同样的事情。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="65c6" class="kz la ht kv b fv lb lc l ld le">#after deployment of boot node you can see down comments list.</span><span id="d2ee" class="kz la ht kv b fv lf lc l ld le">What would you like to do? (default = stats)  <br/>1. Show network stats  <br/>2. Manage existing genesis  <br/>3. Manage tracked machines  <br/>4. Manage network components <br/>&gt; 4</span><span id="2880" class="kz la ht kv b fv lf lc l ld le">1. Tear down Ethstats on [ip of Node1]  <br/>2. Tear down Bootnode on [ip of Node1]  <br/>3. Deploy new network component <br/>&gt; 3</span><span id="1efe" class="kz la ht kv b fv lf lc l ld le">What would you like to deploy? (recommended order)  <br/>1. Ethstats  - Network monitoring tool  <br/>2. Bootnode  - Entry point of the network  <br/>3. Sealer    - Full node minting new blocks  <br/>4. Explorer  - Chain analysis webservice (ethash only)  <br/>5. Wallet    - Browser wallet for quick sends  <br/>6. Faucet    - Crypto faucet to give away funds  <br/>7. Dashboard - Website listing above web-services <br/>&gt; 3</span><span id="ad60" class="kz la ht kv b fv lf lc l ld le">Which server do you want to interact with?  <br/>1. [ip of Node1]  <br/>2. Connect another server <br/>&gt; 1</span><span id="6b96" class="kz la ht kv b fv lf lc l ld le">Where should data be stored on the remote machine? <br/>&gt; /home/ubuntu/sealer  </span><span id="a4ad" class="kz la ht kv b fv lf lc l ld le">Which TCP/UDP port to listen on? (default = 30303) <br/>&gt; 30307</span><span id="e67d" class="kz la ht kv b fv lf lc l ld le">How many peers to allow connecting? (default = 50) <br/>&gt;</span><span id="0d90" class="kz la ht kv b fv lf lc l ld le">How many light peers to allow connecting? (default = 0) <br/>&gt;  </span><span id="8d65" class="kz la ht kv b fv lf lc l ld le">What should the node be called on the stats page?<br/>&gt; "Type any name "</span><span id="9a08" class="kz la ht kv b fv lf lc l ld le">Please paste the signer's key JSON:<br/>&gt;  "paste Sealer one Jeson "</span><span id="fade" class="kz la ht kv b fv lf lc l ld le">What's the unlock password for the account? (won't be echoed) <br/>&gt; "Type password you save in nano file"</span><span id="2e0d" class="kz la ht kv b fv lf lc l ld le">What gas limit should empty blocks target (MGas)? (default = 7.500) &gt;</span><span id="8942" class="kz la ht kv b fv lf lc l ld le">What gas limit should full blocks target (MGas)? (default = 10.000) &gt;</span><span id="a2cc" class="kz la ht kv b fv lf lc l ld le">What gas price should the signer require (GWei)? (default = 1.000)<br/>&gt;</span><span id="2298" class="kz la ht kv b fv lf lc l ld le"># now see the magic "<strong class="kv hu">http://&lt;ip of Node1&gt;:8080"</strong></span></pre><h2 id="c374" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated">poa-worker02、poa-worker03上的密封器展开</h2><ul class=""><li id="a3a3" class="jp jq ht is b it mf ix mg jb mk jf ml jj mm jn lh jv jw jx dt translated">上述过程应该执行两次，分别是节点2和节点3。完成节点1、节点2、节点3缩放器设置后，输出如下。</li></ul><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mn"><img src="../Images/69111cf272f839425f37205f01519fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D_9R-GhtJBrjoae4u7yNDw.jpeg"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">You can see This kind of out put</figcaption></figure><h2 id="8d36" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated"><strong class="ak">创建一个块</strong></h2><p id="b4cf" class="pw-post-body-paragraph iq ir ht is b it mf iv iw ix mg iz ja jb mh jd je jf mi jh ji jj mj jl jm jn hm dt translated">在3个节点设置后，您可以看到在<ip of="" node1=""> :8080中创建的一些块。但是一段时间后，块的创建停止了。</ip></p><p id="1813" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您必须使用add Peer命令手动添加节点。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="3350" class="kz la ht kv b fv lb lc l ld le">Connect to Node1. #open bash terminal </span><span id="9081" class="kz la ht kv b fv lf lc l ld le">$ssh root@&lt;Node1 IP&gt;<br/>$ password</span><span id="e4c0" class="kz la ht kv b fv lf lc l ld le">$docker ps</span></pre><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mo"><img src="../Images/40b028626b7d3235a1b9a0d9832d7709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAGivCtfxQt6zyJP7rDbXA.jpeg"/></div></div></figure><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="be35" class="kz la ht kv b fv lb lc l ld le">$docker exec -it &lt;put container_id&gt; geth attach ipc:/root/.ethereum/geth.ipc</span><span id="381a" class="kz la ht kv b fv lf lc l ld le">&gt; admin.nodeInfo.enode <br/>"enode://e21..........@[ip of Node1]: 30307" <br/>&gt; exit</span><span id="5792" class="kz la ht kv b fv lf lc l ld le">#do same things for Node2 and Node3</span><span id="87bc" class="kz la ht kv b fv lf lc l ld le"># save all 3re Node admin.nodeInfo.enode out put <br/># Node1 : "enode://e21..........@[ip of Node1]: 30307"<br/># Node2 : "enode://...................................<br/># Node3 : "enode://...................................</span><span id="4c4c" class="kz la ht kv b fv lf lc l ld le">Help: <a class="ae jo" href="https://github.com/ethereum/go-ethereum/wiki/Connecting-to-the-network" rel="noopener ugc nofollow" target="_blank">https://github.com/ethereum/go-ethereum/wiki/Connecting-to-the-network</a></span></pre><p id="71b8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">输入在poa-worker02，03上运行的sealnode的enode地址。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="7b0c" class="kz la ht kv b fv lb lc l ld le">#Node1 </span><span id="915a" class="kz la ht kv b fv lf lc l ld le">$docker exec -it &lt;put container_id&gt; geth attach ipc:/root/.ethereum/geth.ipc</span><span id="23e7" class="kz la ht kv b fv lf lc l ld le">&gt; admin.addPeer("Node2 enode")<br/>&gt; admin.addPeer("Node3 enode")<br/>&gt; net.peerCount</span><span id="45b1" class="kz la ht kv b fv lf lc l ld le">##Some useful Eth Geth Commands</span><span id="78d4" class="kz la ht kv b fv lf lc l ld le"># net.listening<br/># net.peerCount<br/># <!-- -->admin.peers<br/># <!-- -->eth.getBalance(eth.coinbase)<br/># personal.unlockAccount(eth.coinbase, "password")<br/># eth.sendTransaction({from:eth.coinbase, to: "address", value: web3.toWei(10, "ether")})<br/></span></pre><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mp"><img src="../Images/375114b44efbaf558b7de5a8d0776a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zXuE0l9YguyNGpVBA8Msmg.png"/></div></div></figure><p id="0aa7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> Explorer: </strong>使用历史余额图表和交易、交易散列、令牌、块计时、账户历史等跟踪以太坊地址的投资组合。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="0b9e" class="kz la ht kv b fv lb lc l ld le"># go to controller </span><span id="d94d" class="kz la ht kv b fv lf lc l ld le">Launch puppeth :  ./go-ethereum/build/bin/puppeth</span><span id="1347" class="kz la ht kv b fv lf lc l ld le">&gt; poa</span><span id="e661" class="kz la ht kv b fv lf lc l ld le">What would you like to do? (default = stats)</span><span id="e53a" class="kz la ht kv b fv lf lc l ld le">1. Show network stats</span><span id="568c" class="kz la ht kv b fv lf lc l ld le">2. Manage existing genesis</span><span id="7fbd" class="kz la ht kv b fv lf lc l ld le">3. Manage tracked machines</span><span id="e8ee" class="kz la ht kv b fv lf lc l ld le">4. Manage network components</span><span id="7b0b" class="kz la ht kv b fv lf lc l ld le">&gt; 4</span><span id="4204" class="kz la ht kv b fv lf lc l ld le">1. Tear down Sealnode on Node1 Ip<br/>2. Tear down Sealnode on Node2 Ip<br/>3. Tear down Ethstats on Node1 Ip<br/>4. Tear down Bootnode on Node1 Ip<br/>5. Tear down Sealnode on Node3 Ip<br/>9. Deploy new network component</span><span id="41dc" class="kz la ht kv b fv lf lc l ld le">&gt; 9</span><span id="4aa1" class="kz la ht kv b fv lf lc l ld le">What would you like to deploy? (recommended order)</span><span id="8692" class="kz la ht kv b fv lf lc l ld le">1. Ethstats  - Network monitoring tool<br/>2. Bootnode  - Entry point of the network<br/>3. Sealer    - Full node minting new blocks<br/>4. Explorer  - Chain analysis webservice<br/>5. Wallet    - Browser wallet for quick sends<br/>6. Faucet    - Crypto faucet to give away funds<br/>7. Dashboard - Website listing above web-services</span><span id="5c59" class="kz la ht kv b fv lf lc l ld le">&gt; 4</span><span id="946f" class="kz la ht kv b fv lf lc l ld le">Which server do you want to interact with?</span><span id="d236" class="kz la ht kv b fv lf lc l ld le">1. Node1 Ip<br/>2. Node2 Ip<br/>3. Node3 Ip<br/>4. Connect another server</span><span id="7f91" class="kz la ht kv b fv lf lc l ld le">&gt; 1</span><span id="28cb" class="kz la ht kv b fv lf lc l ld le">Which port should the explorer listen on? (default = 80)</span><span id="0e1b" class="kz la ht kv b fv lf lc l ld le">&gt; 8090</span><span id="865d" class="kz la ht kv b fv lf lc l ld le">Allow sharing the port with other services (y/n)? (default = yes)</span><span id="501f" class="kz la ht kv b fv lf lc l ld le">&gt; n</span><span id="ae35" class="kz la ht kv b fv lf lc l ld le">Where should node data be stored on the remote machine?</span><span id="8f64" class="kz la ht kv b fv lf lc l ld le">&gt;  /home/ubuntu/explorer</span><span id="757f" class="kz la ht kv b fv lf lc l ld le">Where should postgres data be stored on the remote machine?</span><span id="8421" class="kz la ht kv b fv lf lc l ld le">&gt; /home/ubuntu/data</span><span id="9fde" class="kz la ht kv b fv lf lc l ld le">Which TCP/UDP port should the archive node listen on? (default = 30303)</span><span id="5b65" class="kz la ht kv b fv lf lc l ld le">&gt; 30309</span><span id="30e7" class="kz la ht kv b fv lf lc l ld le">What should the explorer be called on the stats page?</span><span id="9d98" class="kz la ht kv b fv lf lc l ld le">&gt; Explorer</span><span id="16e6" class="kz la ht kv b fv lf lc l ld le">#  now see the magic "<strong class="kv hu">http://&lt;ip of Node1&gt;:8090"</strong></span></pre><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mq"><img src="../Images/be97bbaa5ee3c1e64e662237b994d7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZWB51m3QMhYuZ9Y5PL8nFw.jpeg"/></div></div></figure><h2 id="1a07" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated">剩余组件</h2><p id="a695" class="pw-post-body-paragraph iq ir ht is b it mf iv iw ix mg iz ja jb mh jd je jf mi jh ji jj mj jl jm jn hm dt translated">还有更多的组件可以通过木偶部署。在你身边使用和测试。</p><pre class="ke kf kg kh fq ku kv kw kx aw ky dt"><span id="3464" class="kz la ht kv b fv lb lc l ld le">1. Ethstats  - Network monitoring tool <br/>2. Bootnode  - Entry point of the network <br/>3. Sealer    - Full node minting new blocks <br/>4. Explorer  - Chain analysis webservice (ethash only) <br/>5. Wallet    - Browser wallet for quick sends <br/>6. Faucet    - Crypto faucet to give away funds <br/>7. Dashboard - Website listing above web-services</span></pre><p id="ea13" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来，我们将把我们的eth私有区块链连接到meta mask，并部署智能合约。</p><h2 id="b955" class="kz la ht bd lk ll lm ln lo lp lq lr ls jb lt lu lv jf lw lx ly jj lz ma mb mc dt translated"><strong class="ak">参考</strong></h2><div class="mr ms fm fo mt mu"><a rel="noopener follow" target="_blank" href="/@collin.cusce/using-puppeth-to-manually-create-an-ethereum-proof-of-authority-clique-network-on-aws-ae0d7c906cce"><div class="mv ab ej"><div class="mw ab mx cl cj my"><h2 class="bd hu fv z el mz eo ep na er et hs dt translated">使用puppet在AWS上手动创建以太坊授权证明(Clique)网络</h2><div class="nb l"><h3 class="bd b fv z el mz eo ep na er et ek translated">Puppet使得部署和管理一个小团体的权威网络变得不那么痛苦。</h3></div><div class="nc l"><p class="bd b gc z el mz eo ep na er et ek translated">medium.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni kn mu"/></div></div></a></div><div class="mr ms fm fo mt mu"><a href="https://steemit.com/ethereum/@dlgusdn616/aws-puppeth-ethereum-private-blockchain-poa" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab ej"><div class="mw ab mx cl cj my"><h2 class="bd hu fv z el mz eo ep na er et hs dt translated">구축하기 -斯蒂米特AWS와 Puppeth를 활용한以太坊私人区块链(POA)</h2><div class="nb l"><h3 class="bd b fv z el mz eo ep na er et ek translated">포스팅 목적: 일반적으로列兵network를구축할때필요한까다롭고다소번거로운작업들을빠르고효율적으로할수있는puppeth의사용법과·奥斯·ec2에게각역할(faucet…</h3></div><div class="nc l"><p class="bd b gc z el mz eo ep na er et ek translated">steemit.com</p></div></div><div class="nd l"><div class="nj l nf ng nh nd ni kn mu"/></div></div></a></div><blockquote class="nk"><p id="473d" class="nl nm ht bd nn no np nq nr ns nt jn ek translated">加入Coinmonks <a class="ae jo" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jo" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h1 id="a87f" class="nu la ht bd lk nv nw nx lo ny nz oa ls ob oc od lv oe of og ly oh oi oj mb ok dt translated">另外，阅读</h1><ul class=""><li id="897a" class="jp jq ht is b it mf ix mg jb mk jf ml jj mm jn lh jv jw jx dt translated"><a class="ae jo" href="https://coincodecap.com/coinbase-vs-wazirx" rel="noopener ugc nofollow" target="_blank">比特币基地vs瓦济克斯</a> | <a class="ae jo" href="https://coincodecap.com/bitrue-review" rel="noopener ugc nofollow" target="_blank">比特鲁点评</a> | <a class="ae jo" href="https://coincodecap.com/poloniex-vs-bittrex" rel="noopener ugc nofollow" target="_blank">波洛涅克斯vs比特克斯</a></li><li id="017a" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn lh jv jw jx dt translated"><a class="ae jo" href="https://coincodecap.com/crypto-exchanges-in-germany" rel="noopener ugc nofollow" target="_blank">德国最佳加密交易所</a> | <a class="ae jo" href="https://coincodecap.com/arbitrum" rel="noopener ugc nofollow" target="_blank"> Arbitrum:第二层解决方案</a></li><li id="bc64" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn lh jv jw jx dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/binance-trading-bots-d0d57bb62c4c">币安交易机器人</a> | <a class="ae jo" rel="noopener" href="/coinmonks/okex-review-6b369304110f"> OKEx评论</a> | <a class="ae jo" href="https://coincodecap.com/atani-review" rel="noopener ugc nofollow" target="_blank"> Atani评论</a></li><li id="54ad" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn lh jv jw jx dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b">最佳加密交易信号电报</a> | <a class="ae jo" rel="noopener" href="/coinmonks/moonxbt-review-6e4ab26d037"> MoonXBT评论</a></li><li id="5b60" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn lh jv jw jx dt translated">如何在Bitbns上购买柴犬(SHIB)币？ | <a class="ae jo" href="https://coincodecap.com/buy-floki-inu-token" rel="noopener ugc nofollow" target="_blank">买弗洛基</a></li></ul></div></div>    
</body>
</html>