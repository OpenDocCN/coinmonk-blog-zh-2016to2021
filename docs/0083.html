<html>
<head>
<title>Getting Started With Ethereum and Building Basic Dapp using Truffle, Metamask &amp; Ganache-CLI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊入门和使用Truffle、Metamask &amp; Ganache-CLI构建基本Dapp</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/getting-started-with-ethereum-and-building-basic-dapp-ebb681fb3748?source=collection_archive---------0-----------------------#2018-02-04">https://medium.com/coinmonks/getting-started-with-ethereum-and-building-basic-dapp-ebb681fb3748?source=collection_archive---------0-----------------------#2018-02-04</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="3d5b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">注意——本文更新了Truffle、Solidity、Metamask、web3js和Ganache-CLI的最新版本</em></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/e8281c64ce28356f1539add5e770b5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*brFt_TXCRenpKPLt1TivKA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Ethereum</figcaption></figure><h1 id="6985" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">什么是以太坊</h1><p id="fba8" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">以太坊是计算机/节点的去中心化网络；网络中的每个节点执行一些字节码(即智能合同)并将结果状态存储在区块链中。由于代表应用程序状态的区块链的属性，这导致“应用程序完全按照编程运行，没有任何停机、审查、欺诈或第三方干扰的可能性”。</p><h1 id="1734" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">以太坊和比特币类似吗？</h1><p id="71c8" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">好吧。算是吧，但也不尽然。相似之处在于两者都使用区块链，但也仅此而已。由于以太坊不仅仅是一种数字货币，它提供了一个平台来开发基于区块链的应用程序，这些应用程序具有智能合约的特点，以太坊虚拟机(EVM)，并使用其名为以太的货币进行点对点合约。</p><h1 id="0999" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">什么是智能合同？</h1><p id="7c24" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">一个<a class="ae li" href="https://blockchainhub.net/blog/infographics/smart-contracts-explained/" rel="noopener ugc nofollow" target="_blank">智能合同</a>是一个运行在区块链之上的计算机代码，它包含一组规则，根据这些规则，智能合同的各方同意彼此进行交互。如果满足预定义的规则，则自动执行协议。执行它的平台赋予这段代码一些属性，比如不变性、确定性操作、分布式&amp;可验证状态等。由该代码管理的状态存储在一个区块链上，并且是不可变的，任何人都可以通过从链的开始重放所有事务来双重检查当前状态是否正确。</p><h1 id="ad7a" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">EVM——以太坊虚拟机</h1><p id="7317" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">EVM(或以太坊虚拟机)是以太坊智能合约的字节码执行环境。网络中的每个节点都运行EVM。所有节点都使用EVM执行指向智能合约的所有事务，因此每个节点都执行相同的计算并存储相同的值。此外，EVM确保程序无法访问彼此的状态，从而确保可以在没有任何潜在干扰的情况下建立通信。</p><h1 id="4d41" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">Web3和技术堆栈</h1><p id="2787" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">众所周知，在90年代初，万维网(WWW)带来了信息革命。从那时起，互联网变得更加成熟和可编程，我们看到了所谓的Web2的兴起，它给我们带来了社交媒体和电子商务平台，彻底改变了社交互动，使信息、商品和服务的生产者和消费者更加紧密地联系在一起，并允许我们在全球范围内享受P2P互动。但总会有一个中间人:一个在彼此不了解或不信任的A和B之间充当可信中介的平台。虽然这些平台在创造P2P经济方面取得了惊人的成就，拥有越来越复杂的内容发现层，但它们也决定了所有的交易规则，这些平台拥有我们所有的数据。</p><p id="1308" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这种背景下，区块链似乎是下一代互联网，即去中心化Web或Web3的驱动力，并产生了去中心化Web堆栈。</p><p id="2ce2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">与构建普通的web或移动应用程序类似，创建dApp(分散式应用程序)通常需要几样东西:计算、文件存储、外部数据、货币化和支付，如下所述。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lj"><img src="../Images/576a08eba7968d3a3f56ab9ee11c796a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BwaVh2kXUSxYViB5zBioJA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Web 3.0 Abstracted Stack</figcaption></figure><p id="e665" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当我们向分散系统发展时，这并不意味着我们将完全摆脱集中系统。从客户机-服务器互联网到分散式网络的过渡似乎是渐进的，而不是激进的。由于去中心化的web栈仍在不断成熟，这种转变似乎正在从集中向部分去中心化再向完全去中心化转变。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lk"><img src="../Images/2dab8a3b037273691792d2dde366aac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iKA7SLA-POb9TXP5AfCa_Q.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">The shift from Centralized to Fully Decentralized Apps</figcaption></figure><h1 id="b25e" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">开发DApp。如何进入以太坊？</h1><p id="a442" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">试图从开发者的角度解释以太坊。</p><h2 id="6eca" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">当前客户端-服务器webapp架构处于非常高的水平</h2><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lz"><img src="../Images/5edce7cab2df7abe824d2150ec071b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LcXUIdWGsiTjw0m4wg3rsg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Current Client-Server Application Architecture</figcaption></figure><p id="68af" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">web应用程序托管在托管提供商上，如AWS、Heroku或任何其他VPS。客户端与这个中央应用程序进行交互。客户端可以是浏览器、小部件、curl命令或其他使用API的服务。当客户端通过web浏览器向服务器发出请求时，所实现的服务器代码与数据库和/或缓存进行交互，以进行CRUD操作，并为客户端提供服务。</p><h2 id="0b13" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">这是以太坊Dapp的高级外观:</h2><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff ma"><img src="../Images/5d993afb88d1e9bfc9baa217897687c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNbOOqsXIwZgtx5kw1Xo3g.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Futuristic Decentralized Application Architecture</figcaption></figure><p id="7c2f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果观察到每个客户端(浏览器)都与自己的应用程序实例通信。不存在所有客户端都连接到的中央服务器。这意味着每个想要与dapp(分散式应用程序)交互的人都需要在他们的电脑/手机等设备上运行区块链的完整副本。这意味着，在使用应用程序之前，你必须下载整个区块链，然后开始使用该应用程序。这一开始听起来可能很荒谬，但它的优势在于不依赖于明天可能会消失的单一中央服务器。</p><h1 id="6d65" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">入门指南</h1><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mb"><img src="../Images/557a88146ae8d2f123d46b7893985a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PeqHouOT1H8WhXTLBv4SxA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Basic Dapp using Metamask, Truffle &amp; Ganache</figcaption></figure><h2 id="2137" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">我们需要的基本工具-</h2><p id="989f" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated"><em class="jo">节点包管理器(npm) </em> — NPM是Node.js包或模块的包管理器。</p><p id="f414" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Ganache(早期的TestRPC)是一个用于以太坊开发的个人区块链，开发者可以使用它来部署合同、开发应用程序和运行测试。它100%在本地运行，模拟一个完整的以太坊客户端，但是速度快得多，非常适合测试和开发。它有两种风格——Ganache(GUI)&amp;Ganache-CLI。</p><p id="7a4c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo"> Truffle </em> — Truffle是区块链使用以太坊虚拟机(EVM)的开发环境、测试框架和资产管道。基本上，它帮助您将合同部署到区块链，用新合同替换旧合同(称为迁移)，并将您的前端与您部署的合同挂钩</p><p id="1682" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo"> MetaMask </em> — MetaMask是一个以太坊轻客户端和Chrome扩展，让用户无需下载整个区块链就能与区块链互动。换句话说，它允许你在普通的Chrome浏览器中与dApps进行交互</p><p id="bc80" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">首先，我们需要安装我们的工具。如果您没有npm，我们先安装它。<a class="ae li" href="https://www.npmjs.com/get-npm" rel="noopener ugc nofollow" target="_blank">这里</a>是如何安装它的说明。</p><p id="11a6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦安装了npm，我们就可以用它来安装ganache-cli，这是一个Node.js以太坊客户端，模拟了一个真实的以太坊节点。</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="ef39" class="ll kg ht md b fv mh mi l mj mk">$ npm install -g ganache-cli</span></pre><p id="030c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来，我们需要安装松露</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="fb84" class="ll kg ht md b fv mh mi l mj mk">$ npm install -g truffle</span></pre><p id="eb0d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后一个，MetaMask Chrome插件，你可以在这里找到<a class="ae li" href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="f0b9" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">启动Ganache-CLI</h2><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="112b" class="ll kg ht md b fv mh mi l mj mk">$ ganache-cli</span></pre><p id="f455" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这将启动客户端并生成10个帐户供您使用，每个帐户有100个ETH。您应该会看到类似这样的内容:</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="d340" class="ll kg ht md b fv mh mi l mj mk">Ganache CLI v6.4.3 (ganache-core: 2.5.5)</span><span id="ff15" class="ll kg ht md b fv ml mi l mj mk">Available Accounts<br/>==================<br/>(0) 0xb862683d666eccd3c5bda90b9019eea2d88fcf4c (~100 ETH)<br/>(1) 0xeb6c0c8b164fe4159ebbcdc2310783d19d905fc9 (~100 ETH)<br/>(2) 0x7e29526a7a8ea68577132857c8e325ed45ca7826 (~100 ETH)<br/>(3) 0xa5656ecbe6cf02f8e897f884a70c59a6a6a77ddc (~100 ETH)<br/>(4) 0xc25ab5ae4606fb43c33b56c7ab002dd4fd19334e (~100 ETH)<br/>(5) 0xf32fd21fe9e5e21cec8585aff81be38cad1ebd8b (~100 ETH)<br/>(6) 0xc0ce713452c43460896020dfb9cbff3cea900795 (~100 ETH)<br/>(7) 0x92174af56993b801046b4873db090ccd99eeed6a (~100 ETH)<br/>(8) 0x1556fab5afa931ea18447c03658e82cd2764329a (~100 ETH)<br/>(9) 0xc054b69b1ff4f66829c2e345ff3fd852aaf89ede (~100 ETH)</span><span id="aa13" class="ll kg ht md b fv ml mi l mj mk">Private Keys<br/>==================<br/>(0) 0xc8763205e691a0e9f75c70a33c6f03d74a3eb4f5eabb3cc2df2e1418f5ae009a<br/>(1) 0x8831d3c067bcbde12d9a4b7f3aaa1b35c93583af0f21b4b42975ab33da41ac9d<br/>(2) 0xfa9058ce63d3637968ca1503e591af98320464e9ebb280e7926a1808292c25a6<br/>(3) 0x854e7e468d6faa3848159a280c9ba5f4fadca5917f591290af67638034abbd87<br/>(4) 0xed4caecb8a582c88d5c2aa060edf4164c0dac01272a96c11c1fb4a5133df3663<br/>(5) 0x1a9baa245b21b6a496ffc1470d1da5dc09fe82dac8f09e1a09c359d1d051a6d2<br/>(6) 0xa4d31de11decc250566df5049eff2fbc4b561bc3546f4799a4f20f7220f5da1d<br/>(7) 0xf06baf2fce426775db8161159851f39cdcdd10e1e5b1799a2afc082dff74d2fc<br/>(8) 0x6d46370b574ae74ef318f113c3333c158e3d796f481545d982a588ae2ca26d68<br/>(9) 0xf0a6a838ba4a4e906a9663a90521d13968abd2a664e7ac5c7217666a4994deab</span><span id="d8cf" class="ll kg ht md b fv ml mi l mj mk">HD Wallet<br/>==================<br/>Mnemonic:      staff pottery include obscure design siege cannon bounce dust bone dawn surprise<br/>Base HD Path:  m/44'/60'/0'/0/{account_index}</span><span id="01c2" class="ll kg ht md b fv ml mi l mj mk">Gas Price<br/>==================<br/>20000000000</span><span id="8e91" class="ll kg ht md b fv ml mi l mj mk">Gas Limit<br/>==================<br/>6721975</span><span id="85da" class="ll kg ht md b fv ml mi l mj mk">Listening on 127.0.0.1:8545</span></pre><p id="3f66" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第一个列表是10个帐户中每个帐户的公共地址，第二个列表是与每个帐户相关联的私有密钥。</p><h2 id="5752" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">设置元掩码</h2><p id="7157" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">现在，让我们设置MetaMask来使用我们的Ganache-CLI作为它的网络。打开MetaMask，按照初始设置步骤进行操作。</p><p id="b966" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">设置元掩码后，选择左上角的网络菜单。然后选择“Localhost 8545”作为您的网络，如下所示。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/bd60696d59d9301714a46d7e5639d77b.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*wwCc3zxXzinzub6ImXU1nA.png"/></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Metamask connected to Ganache</figcaption></figure><p id="eb25" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来，将几个帐户添加到MetaMask，方法是转到右上方的彩色圆圈-&gt; Import Account，然后从启动Ganache-CLI时在终端中打印出来的列表中复制一个私钥。我的情况是—0xc 8763205 e 691 a 0e 9 f 75 c 70 a 33 c 6 f 03d 74 a 3 EB 4 f 5 eab B3 cc 2d f 2e 1418 f 5 AE 009 a。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/18e7efd541f8258b8c7e43632a16ca4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*YVyH0DdkGEFFgrZ1cywEwg.png"/></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/6d3b4edec54d6bcf585f9223a508c955.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*VhqiRYc2cCvFnuuIUXQh8A.png"/></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/0906949047bb2c4983a6bd166c344c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*ymQGweuAilPQLQFFTtNTGw.png"/></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Account 2 is from Ganache-CLI</figcaption></figure><p id="37ef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如上图所示，我们可以看到account 2，它只不过是运行ganache-cli后在终端中显示的第一个帐户。</p><p id="3866" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们的环境现在已经设置好了，我们准备创建和部署我们的dApp。让我们从创建一个新的项目目录开始，并打开集成了Webpack的Truffle dApp。我将把我的项目命名为<em class="jo"> ethereumdapp </em>，但是你可以随意命名你的项目。</p><h2 id="b6af" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">初始化松露</h2><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="35d3" class="ll kg ht md b fv mh mi l mj mk">$ mkdir ethereumdapp</span><span id="4f38" class="ll kg ht md b fv ml mi l mj mk">$ cd ethereumdapp</span><span id="d097" class="ll kg ht md b fv ml mi l mj mk">$ truffle unbox webpack</span></pre><h2 id="8be7" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">部署合同和运行dApp</h2><p id="6865" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">要将您的合同部署到ganache-cli，请运行以下命令:</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="d240" class="ll kg ht md b fv mh mi l mj mk">$ truffle compile</span><span id="3d30" class="ll kg ht md b fv ml mi l mj mk">$ truffle migrate</span></pre><p id="838c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦迁移完成，我们就可以运行dApp了。运行dApp</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="8d6b" class="ll kg ht md b fv mh mi l mj mk">$ cd app</span><span id="8849" class="ll kg ht md b fv ml mi l mj mk">$ npm run dev</span></pre><p id="9f36" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在浏览器中打开<a class="ae li" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="is hu">http://localhost:8080/</strong></a><strong class="is hu"/></p><p id="daad" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们应该看到我们的dApp正在运行并准备使用！如果我们将当前元掩码帐户切换到由Ganache-CLI生成的第一个帐户，并刷新页面，我们应该会看到余额为10，000元。现在，我们可以使用dApp接口将META发送到其他帐户。</p><p id="a168" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了在本地检查交易，我们可以安装etherparty explorer</p><h2 id="2372" class="ll kg ht bd kh lm ln lo kl lp lq lr kp jb ls lt kt jf lu lv kx jj lw lx lb ly dt translated">安装以太方</h2><p id="9ee3" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">因为我们已经安装了node和npm，所以唯一需要安装的是git。<a class="ae li" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" rel="noopener ugc nofollow" target="_blank">这里</a>是安装的步骤。安装git后，打开一个终端并键入以下内容</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="61b9" class="ll kg ht md b fv mh mi l mj mk">$ git clone <a class="ae li" href="https://github.com/etherparty/explorer" rel="noopener ugc nofollow" target="_blank">https:<em class="jo">//github.com/etherparty/explorer</em></a></span></pre><p id="9aef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这将把以太方资源管理器克隆到本地目录资源管理器。转到此目录</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="14de" class="ll kg ht md b fv mh mi l mj mk">$ cd explorer</span></pre><p id="51aa" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在让我们启动资源管理器</p><pre class="jq jr js jt fq mc md me mf aw mg dt"><span id="d039" class="ll kg ht md b fv mh mi l mj mk">$ npm start</span><span id="156e" class="ll kg ht md b fv ml mi l mj mk">&gt; EthereumExplorer@0.1.0 start /Users/XXXX/explorer</span><span id="3f5c" class="ll kg ht md b fv ml mi l mj mk">&gt; http-server ./app -a localhost -p 8000 -c-1</span><span id="f2bc" class="ll kg ht md b fv ml mi l mj mk">Starting up http-server, serving ./app on port: 8000</span><span id="8908" class="ll kg ht md b fv ml mi l mj mk">Hit CTRL-C to stop the server</span></pre><p id="38eb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">导航到<a class="ae li" href="http://localhost:8000/." rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/。</a>你会看到下面这样的东西。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mn"><img src="../Images/8043d0f42b4a9790a4bec028aa4598bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YgbQ3Goi1Krka7XFdAj_3A.png"/></div></div></figure><p id="67e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在让我们把一些元币(10元币)从ganache-cli账户(账户2)转到metamask账户(账户1)。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mo"><img src="../Images/7fd757c14d59456f47a206565870b85f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTT-Ipph-vkqbWmZfgft2Q.png"/></div></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mo"><img src="../Images/c42f4e5f4550fff05f7a3f51014a8e1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewjelmQw7qcHlh8Uq2cPnQ.png"/></div></div></figure><p id="4bf5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦事务启动，元掩码将显示如下通知</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mp"><img src="../Images/043181a5fcabf352bc850580ef90899e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rp2Tja9oPAbgYbYqZGLxIg.png"/></div></div></figure><p id="5952" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在确认交易时，我们可以看到元币被借记账户2，贷记账户1。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mq"><img src="../Images/a6212e63723c534afeb83911b597a897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0scSl46uAoQi8LtpCNjLg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Account 2</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mq"><img src="../Images/253a66d28b357e91a8696b412f9e8b79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FIDTPXwcmIneN2Gfs0rZag.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Account 1</figcaption></figure><p id="1dbc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们也可以在explorer中验证交易，如下所示。块#6是为该事务创建的块。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mr"><img src="../Images/889724f314f95899cc7e5db3de147f5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7HgA2zq0uy69Cc2gzcLN9g.png"/></div></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff ms"><img src="../Images/272cd703e54bcd74a678b6f32a2a3b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zhIlFHstP0KPTgQ6D_C-oQ.png"/></div></div></figure></div><div class="ab cl mt mu hb mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="hm hn ho hp hq"><p id="cb62" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">完整的代码可以在<a class="ae li" href="https://github.com/itsromiljain/ethereumdapps/tree/master/metacoin" rel="noopener ugc nofollow" target="_blank">这里</a>找到。在<a class="ae li" rel="noopener" href="/@itsromiljain/get-started-with-building-ethereum-dapps-and-smart-contracts-d86b9f7bd1c">第2部分</a>中，我们将创建一个简单的经过公证的智能契约，并展示使用web3js库和Ganache-CLI以及Truffle来部署它的方法。</p><p id="3876" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">请分享您的想法、反馈、评论和澄清。这将有助于我随机应变。</em></p><p id="fcf6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">如果你喜欢这篇文章，你可以帮我把它推荐到❤下面</em></p><p id="ba3c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">关注我上</em><a class="ae li" href="https://www.linkedin.com/in/romiljain" rel="noopener ugc nofollow" target="_blank"><em class="jo">Linkedin</em></a><em class="jo">和</em> <a class="ae li" href="https://twitter.com/itsromiljain" rel="noopener ugc nofollow" target="_blank"> <em class="jo"> Twitter </em> </a></p><blockquote class="na"><p id="0d4c" class="nb nc ht bd nd ne nf ng nh ni nj jn ek translated"><a class="ae li" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nl nm nn no np ju fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nk"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>