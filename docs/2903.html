<html>
<head>
<title>An in Depth Look at the GHOST Protocol: Part 1- Where the Longest Chain Rule Breaks Down</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入了解GHOST协议:第1部分——最长链规则在哪里失效</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/an-in-depth-look-at-the-ghost-protocol-part-1-where-the-longest-chain-rule-breaks-down-628b1aaf76fc?source=collection_archive---------2-----------------------#2020-04-07">https://medium.com/coinmonks/an-in-depth-look-at-the-ghost-protocol-part-1-where-the-longest-chain-rule-breaks-down-628b1aaf76fc?source=collection_archive---------2-----------------------#2020-04-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/3d1624010efb26df47d3fc3a1c707f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HnFNYnPB7Y-MHEKSQQEJPw.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/@simmerdownjpg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Jackson Simmer</a></figcaption></figure><p id="e97f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="ke">TL；DR-最长链规则不适用于高吞吐量的区块链，因为它会导致过多的分叉，最终导致网络浪费和安全风险。</em></p><p id="8d9d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是研究GHOST协议的两部分系列文章的第一部分。如果你还没有机会通读我的上两篇帖子，也不熟悉什么是大叔和孤儿街区，我强烈建议你先去看看。分别是《<a class="ae jf" rel="noopener" href="/coinmonks/an-in-depth-look-at-orphan-blocks-45baeaca9d28">深度透视孤儿积木</a>》和《<a class="ae jf" rel="noopener" href="/@ChristopherDKSanders/why-we-should-love-our-uncle-blocks-7eba65ba413e">为什么要爱叔叔(积木)</a>》。</p><p id="0f85" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">说了这么多，让我们开始吧。</p><p id="3773" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在撰写本文时，以太坊目前号称平均只有13秒(相比之下，比特币为10分钟)。为了实现这一巨大的改进，以太坊网络不得不放弃“最长链”规则，转而支持所谓的“最贪婪的重观测子树”或幽灵协议。这就引出了一个问题:</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kf"><img src="../Images/bd5622785c13590c5758681d4fe26896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0G6II2BTbLHWSgDmtsxc9A.gif"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Good question.</figcaption></figure><p id="a653" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在Yonatan Sompolinsky和Aviv Zohar(GHOST protocol的创建者)的论文“<a class="ae jf" href="https://eprint.iacr.org/2013/881.pdf" rel="noopener ugc nofollow" target="_blank">保障比特币的高速交易处理</a>”中，他们讨论了与高吞吐量<a class="ae jf" href="https://blog.coincodecap.com/tag/blockchain/" rel="noopener ugc nofollow" target="_blank">区块链</a>相关的两个主要问题，使用“最长链”规则达成共识；更多的浪费和更少的安全。</p><p id="7a62" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第一个问题非常直观。如果块时间减少(或块大小增加)，由于延迟问题，分叉将更频繁地发生，这反过来会导致网络中更多的浪费。</p><p id="1887" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第二个问题有点复杂，因此占据了我文章的大部分。因此，为了解释它，我将拿出我的一个方便的例子(是的，这是参考蓝色的线索)。</p><p id="7441" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">好吧，假设Winfred是<a class="ae jf" href="https://blog.coincodecap.com/a-candid-explanation-of-bitcoin/" rel="noopener ugc nofollow" target="_blank">比特币网络</a>中的诚实挖矿节点。他有一个小型的ASIC采矿设备，他在他妈妈的地下室里生产出了相当不错的大麻。</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kk"><img src="../Images/2bd8eb8dcb7011b203109988c66d54ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pYeUkI6E9QBCUKsRw0Stew.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Nice.</figcaption></figure><p id="1f7d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我在上面简单地提到了它们，但是更明确地说，网络有三种方法可以增加其区块链的吞吐量。</p><ol class=""><li id="3133" class="kl km ht ji b jj jk jn jo jr kn jv ko jz kp kd kq kr ks kt dt translated"><strong class="ji hu">减少封锁时间。</strong></li><li id="dc93" class="kl km ht ji b jj ku jn kv jr kw jv kx jz ky kd kq kr ks kt dt translated"><strong class="ji hu">增加块大小。</strong></li><li id="3fce" class="kl km ht ji b jj ku jn kv jr kw jv kx jz ky kd kq kr ks kt dt translated"><strong class="ji hu">双管齐下。</strong></li></ol><p id="56a7" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在让我们假设有一天比特币网络进行了投票，他们决定选择第三个，两者兼而有之，这符合比特币的最佳利益，因为规模。</p><p id="78ed" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">嗯，太好了！比特币最大的批评刚刚被完全抹去。看起来这宝贝要去月球了！</p><p id="9413" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最重要的是，就在那一周，Winfred的小钻机恰好赢得了下一个街区！即使有一个分支，下一个块也在他的上面结束，因此被认为是主链。他很有钱！现在他妈妈可以住在他的地下室了。</p><p id="89d1" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">但与此同时，诺索霍耐特先生每晚都在为这一刻祈祷。他经营着一个相当大的采矿设备，但还没有大到可以开采整个网络。然而，随着这些新的更大、更快的数据块的出现，这种情况即将改变。</p><p id="ff3a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">就在我们的朋友Winfred为区块链增加下一个区块时，Notsohonest先生自己也开采了几个区块，但问题是，他没有向其他节点宣布这一点。通过这样做，他试图用他的私人网络超越/超越公共网络(记住比特币的最长链规则)。</p><p id="8cf3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在本地专用网络上工作，相对于你所在的公共网络，给他带来了巨大的优势。在他的本地网络中，他的优势在于不需要处理公共网络所面临的延迟问题。他还有一个额外的好处，就是在没有冲突的情况下更有效地延长他的链条，因为他不会生产叉子。</p><p id="9204" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">正如我们上面提到的，因为网络天真地投票增加块大小和减少块时间以加快整个链，公共网络将变得非常低效，因为它求解PoW算法非常快，但传播非常慢，最终导致许多许多分叉，以天文数字的方式展现他的优势。</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/b251d1345879856ea35a3230ff23a8dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*BBO7M8e5z22MQa_F15XFbQ.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">A visual representation of tradeoffs in Bitcoin taken from <a class="ae jf" href="https://eprint.iacr.org/2013/881.pdf" rel="noopener ugc nofollow" target="_blank">Secure High-Rate Transaction Processing in Bitcoin</a>. As block size and block rate are increased, fork rate increases and security decreases</figcaption></figure><p id="706e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">他现在只需要以前杂凑率的一小部分就能超过网络。</strong>因此，当他最终看到一个分叉试图被解决(导致主链的增长速度短暂放缓)时，他会利用这段时间“跑”出网络，创建最长的链。一旦他成功地做到了这一点，他将最终向其余的节点宣布。</p></div><div class="ab cl la lb hb lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hm hn ho hp hq"><p id="8dad" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">因此，即使我们示例中的分叉以有利于Winfred的方式得到解决，解决该分叉所需的<em class="ke">时间</em>以及较大块固有的较慢传播给了Notsohonest先生足够的时间来超越网络。</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lh"><img src="../Images/471860ee02574684c6ae2b73f2c8dd8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e1cwcsATsh9IuM1ZU6iw5w.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">A simplified visual from <a class="ae jf" href="https://eprint.iacr.org/2013/881.pdf" rel="noopener ugc nofollow" target="_blank">Secure High-Rate Transaction Processing in Bitcoin</a> that represents how an attacker can take advantage of a fork in the network by mining on a private network.</figcaption></figure><p id="8477" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">该网络现在将路径到Notsohonest先生的链(最长的链)，Winfred将失去他的采矿奖励，他一生的最后积蓄将耗尽在他的新货币绿色蓝宝的每月付款上，明天将是他的40岁生日，妈妈不会烘烤。</p><p id="f607" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是两部分系列的第一部分。在第二部分中，我们将看看GHOST协议是如何解决“最长链”问题的，并研究以太坊对它的实现。</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff li"><img src="../Images/e9dbce386c4f90837b5db529a4c87766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fZu_SfnNF6m_BGbXlsl-A@2x.png"/></div></div></figure><blockquote class="lj"><p id="080d" class="lk ll ht bd lm ln lo lp lq lr ls kd ek translated"><a class="ae jf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="lu lv lw lx ly iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff lt"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>