<html>
<head>
<title>ERC777-K: Formal Executable Specification of ERC777</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ERC 777-K:ERC 777的正式可执行规范</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/erc777-k-formal-executable-specification-of-erc777-dff46602358c?source=collection_archive---------4-----------------------#2018-09-21">https://medium.com/coinmonks/erc777-k-formal-executable-specification-of-erc777-dff46602358c?source=collection_archive---------4-----------------------#2018-09-21</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="7154" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">丹尼斯·波格丹纳斯和大君公园</h2></div><p id="fa26" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">运行时验证公司提供<a class="ae ke" href="https://runtimeverification.com/smartcontract" rel="noopener ugc nofollow" target="_blank">正式的智能合同验证</a>服务。</p><p id="30f0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae ke" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-777.md" rel="noopener ugc nofollow" target="_blank"> ERC777标准</a>是一种新的令牌标准，旨在成为<a class="ae ke" href="https://eips.ethereum.org/EIPS/eip-20" rel="noopener ugc nofollow" target="_blank"> ERC20标准</a>的替代标准，通过给予账户持有人对令牌交易的更多控制来提高可用性，同时保持与ERC20的向后兼容性。它定义了一个“操作者”,该“操作者”可以被认为是一个(受信任的)第三方，代表令牌所有者向该第三方支付<em class="kf">无限量的</em>配额。它还引入了“挂钩”的概念，这是一个在操作员执行令牌传输时触发的回调函数。钩子可以接受或拒绝令牌转移，允许令牌持有者更细粒度地控制将令牌转移委托给操作者。这个钩子也可以用来通知令牌持有者他们已经收到了令牌，这是ERC20中缺少的一个重要特性。</p><p id="293a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">预见到社区在不久的将来会大量采用这种新的令牌标准，我们在运行时验证中指定了ERC777-K，这是ERC777的一种数学上严格的形式化，以促进对潜在的ERC777令牌实现的正式验证。具体来说，它是ERC777的一种正式的可执行语义，由依赖于实现的行为参数化，以接纳所有符合标准的实现。在形式化的过程中，我们确保所有的极限情况都经过了深思熟虑，明确覆盖，并且经过了彻底的测试。我们还发现了标准中的许多含糊不清的地方，我们记录并提交给了ERC777的作者。从这里开始，当我们声称我们证明了ERC777令牌的实现是正确的时，我们的意思是它们可证明地满足ERC777-K的规则。</p><h1 id="2a64" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">为什么是K</h1><p id="910e" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">出于几个原因，我们选择了K作为我们形式化工作的语义框架。</p><p id="72ea" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">首先，<em class="kf"> K是可执行的</em>。因此，可以对定义的语义模型进行测试，以发现其设计中的早期错误，并积累对其充分性的信心。</p><p id="0189" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">其次，<em class="kf"> K提供了一套形式分析工具</em>，可以与任何语义结合使用:</p><figure class="le lf lg lh fq li fe ff paragraph-image"><div class="fe ff ld"><img src="../Images/a1aa7a872a17b045da7c74558b5b0a32.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/0*5S2X-98HPit7J6QH.png"/></div></figure><p id="2c11" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">因此，我们可以使用K来验证令牌契约满足ERC777规范，并且还可以验证关于ERC777规范本身的属性(例如，“总供应量不会因应用ERC777发送操作而改变”)。</p><p id="c771" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第三，<em class="kf"> K是模块化的</em>。这允许我们在ERC777-K之上为执行环境或编程语言组合定义语义，给人一种“即插即用ERC777成为您最喜欢的语言”的感觉。此外，一旦完成，我们就可以用生成的语言来验证复杂的程序。</p><p id="d311" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第四，<em class="kf"> K正在积极开发中</em>，我们已经控制了它的设计和实现，因此它可以快速响应ERC777-K的未来需求</p><h1 id="c6a8" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">ERC777-K的亮点</h1><p id="ba3a" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">ERC777-K的地址、值和最大值都是<em class="kf">参数。这样它可以很容易地被实例化到除EVM之外的各种目标执行环境，如<a class="ae ke" href="https://github.com/ewasm/" rel="noopener ugc nofollow" target="_blank"> eWASM </a>或<a class="ae ke" href="https://github.com/runtimeverification/iele-semantics" rel="noopener ugc nofollow" target="_blank"> IELE </a>，以及除<a class="ae ke" href="https://solidity.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> Solidity </a>之外的各种编程语言，如<a class="ae ke" href="https://github.com/ethereum/vyper" rel="noopener ugc nofollow" target="_blank"> Vyper </a>或<a class="ae ke" href="https://cardanodocs.com/technical/plutus/introduction/" rel="noopener ugc nofollow" target="_blank">普路托斯</a>。</em></p><p id="e12a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ERC777-K在依赖于实现的行为中也是参数化的<em class="kf">。它可以很容易地被实例化，以接受除参考实现之外的任何符合标准的实现。这意味着ERC777-K可以快速用于验证任何潜在的ERC777实施。例如，根据ERC777标准，如果某人向另一个没有注册接收器挂钩(即回调函数)的人发送令牌，令牌合约可以自由选择接受或回复发送操作。我们设计的ERC777-K可以通过调整配置参数轻松配置为具有任一行为。事实上，在测试ERC777-K时，我们考虑了所有可能的参数组合。(我们将在下面讨论。)</em></p><p id="4f94" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">此外，ERC777-K在执行环境中是<em class="kf">参数化的。它可以在任何具有正式语义的执行环境中即插即用，例如虚拟机或编程语言。ERC777函数被简单地添加到目标VM/语言的语法中，并且ERC777语义平滑地与VM/语言的语义组合，产生了具有ERC777支持的VM/语言的变体。我们已经用一个简单的命令式语言IMP完成了。下面的视频显示了IMP中调用ERC777功能的交互程序。这可以很容易地适应语言实现，其中ERC777可以被视为一个库。</em></p><p id="3a1e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ERC777-K是<em class="kf">可执行</em>。这不仅允许我们优雅地将其与编程语言集成(如上所述)，还允许我们<em class="kf">测试</em>它。事实上，像代码一样，一个正式的规范也会有错误，尤其是当没有其他正式的规范可以比较的时候。与代码不同，代码可以根据规范进行验证，我们无法证明一个正式的规范是正确的:因为它是一个定义，所以根据定义它是正确的。我们能做的最好的事情就是通过各种方式来积累对其正确性的信心。最切实的方法之一就是测试它。为此，我们为我们的ERC777语义提供了200多个单元测试；这些可以很容易地转化为针对ERC777实施的测试。这些测试可以作为一致性测试套件来检查不同的ERC777实现是否符合标准。一致性测试对于防止不同实现之间的不同行为是至关重要的，这些不同行为对于任何假定ERC777实现之间行为一致的令牌客户端来说都是潜在的安全漏洞，我们相信这将有助于建立一个更具原则性的令牌合同开发实践。</p><h1 id="7ef1" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">技术详情和下载</h1><p id="9f8f" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">ERC777-K在Github上的UIUC许可证(与MIT许可证一样许可)下被彻底注释并免费提供:<a class="ae ke" href="https://github.com/runtimeverification/erc777-semantics" rel="noopener ugc nofollow" target="_blank"> ERC777-K在Github上</a></p><p id="b2c4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">非常感谢您的评论和贡献。</p><h1 id="c578" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">介入</h1><p id="2ba8" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">所有软件都是在UIUC许可下发布的，社区可以完全免费使用。我们欢迎在Git上投稿。</p><p id="156e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们鼓励任何感兴趣的团体加入我们，提出问题，贡献代码，或者用我们的工具积累经验。我们也一直在寻找能够在文档，新开发人员的有效安装/快速启动过程，以及更多的例子和测试工作的贡献者。我们正在招聘，并将确保关注有帮助的贡献者！</p><p id="a605" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们一起为每个人构建更安全的智能合约！</p><h1 id="b86b" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">感谢</h1><p id="abf9" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">我们感谢Fabian Vogelsteller、Jordi Baylina和Jacques Dafflon对理解该标准的支持和帮助。</p><h1 id="758d" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">接触</h1><p id="3e86" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">从<a class="ae ke" href="https://runtimeverification.com/smartcontract/" rel="noopener ugc nofollow" target="_blank"> Runtime Verification Inc. </a>了解更多信息，请访问我们的<a class="ae ke" href="https://github.com/runtimeverification/verified-smart-contracts" rel="noopener ugc nofollow" target="_blank"> GitHub页面</a>。<a class="ae ke" href="mailto:smartcontract@runtimeverification.com" rel="noopener ugc nofollow" target="_blank">将您的问题发送给</a>我们。</p><h1 id="91ef" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">相关故事</h1><div class="ll lm fm fo ln lo"><a href="http://runtimeverification.com/blog/erc-20-verification/" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab ej"><div class="lq ab lr cl cj ls"><h2 class="bd hu fv z el lt eo ep lu er et hs dt translated">ERC-20合同的正式核查</h2><div class="lv l"><h3 class="bd b fv z el lt eo ep lu er et ek translated">运行时验证公司提供正式的智能合同验证服务。</h3></div><div class="lw l"><p class="bd b gc z el lt eo ep lu er et ek translated">runtimeverification.com</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc lj lo"/></div></div></a></div><div class="ll lm fm fo ln lo"><a href="https://runtimeverification.com/blog/erc20-k-formal-executable-specification-of-erc20/" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab ej"><div class="lq ab lr cl cj ls"><h2 class="bd hu fv z el lt eo ep lu er et hs dt translated">ERC 20-K:ERC 20的正式可执行规范</h2><div class="lv l"><h3 class="bd b fv z el lt eo ep lu er et ek translated">ERC20标准是以太坊智能内实现令牌的最重要标准之一。</h3></div><div class="lw l"><p class="bd b gc z el lt eo ep lu er et ek translated">runtimeverification.com</p></div></div><div class="lx l"><div class="md l lz ma mb lx mc lj lo"/></div></div></a></div></div><div class="ab cl me mf hb mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hm hn ho hp hq"><p id="63d4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="kf">原载于2018年9月21日</em><a class="ae ke" href="https://runtimeverification.com/blog/erc777-k-formal-executable-specification-of-erc777/" rel="noopener ugc nofollow" target="_blank"><em class="kf">runtimeverification.com</em></a><em class="kf">。</em></p><blockquote class="ml"><p id="7e49" class="mm mn ht bd mo mp mq mr ms mt mu kd ek translated"><a class="ae ke" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mw mx my mz na li fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mv"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>