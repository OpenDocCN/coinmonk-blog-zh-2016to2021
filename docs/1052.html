<html>
<head>
<title>How to Use Table Information on EOS Smart Contracts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨EOSæ™ºèƒ½åˆåŒä¸­ä½¿ç”¨è¡¨æ ¼ä¿¡æ¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/coinmonks/how-to-use-table-information-on-eos-smart-contracts-de68f7231b62?source=collection_archive---------2-----------------------#2018-07-16">https://medium.com/coinmonks/how-to-use-table-information-on-eos-smart-contracts-de68f7231b62?source=collection_archive---------2-----------------------#2018-07-16</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/fb3aaf9fb229a633edb985b4449b7320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Z5-ytrkVCkYshQ9HisatQ.png"/></div></div></figure><p id="1ced" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">åœ¨è¡¨ä¸­å­˜å‚¨å’Œå¤„ç†ä¿¡æ¯çš„åŸºæœ¬æ“ä½œé€šå¸¸è¢«ç§°ä¸ºâ€œCRUDâ€ï¼Œä»£è¡¨â€œåˆ›å»ºâ€ã€â€œè¯»å–â€ã€â€œæ›´æ–°â€å’Œâ€œåˆ é™¤â€ã€‚åœ¨<a class="ae jz" rel="noopener" href="/coinmonks/using-table-on-eos-smart-contract-291f98312b80"> <strong class="jd hu">ä¸Šä¸€ç¯‡</strong> </a>ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†â€œåˆ›å»ºâ€éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†åœ¨è¿™ç¯‡æ–‡ç« ä¸­è®¨è®ºâ€œè¯»å–â€ã€â€œæ›´æ–°â€å’Œâ€œåˆ é™¤â€éƒ¨åˆ†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ‚¨éœ€è¦ä¸ºæ¯ä¸ªå‡½æ•°é…ç½®å•ç‹¬çš„è¡¨ï¼Œä½†æ˜¯æˆ‘ä»¬å°†åªä½¿ç”¨ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­çš„<em class="ka"> ttab </em>è¡¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€å°‘çš„é…ç½®è½»æ¾åœ°å¤„ç†å†…å®¹ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="387b" class="kk kl ht kg b fv km kn l ko kp">            auto iter=ttabs.find(user);<br/>            if(iter==ttabs.end())<br/>            {<br/>                print("need insert\t"); <br/>                ttabs.emplace(_self,[&amp;](auto&amp; ttab)<br/>                {<br/>                    ttab.to = user;<br/>                });<br/>            }<br/>            else<br/>            {<br/>                uint64_t getuser;<br/>                getuser=iter-&gt;to;<br/>                print("data already exist ",name{getuser}," \t");<br/>            }</span></pre><p id="d029" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">åœ¨å‰ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œåœ¨action hiéƒ¨åˆ†çš„elseä¸­æ·»åŠ äº†ä¸€ä¸ªä»£ç ã€‚åœ¨ä¸Šé¢ä»£ç çš„ç¬¬ä¸€è¡Œä¸­æœç´¢ä¼ é€’ç»™action hiçš„ç”¨æˆ·åï¼Œå¦‚æœæ²¡æœ‰æ£€ç´¢åˆ°æ•°æ®(æ„å‘³ç€ä¸Šé¢çš„ä»£ç ä¸ºçœŸ)ï¼Œåˆ™åˆ›å»ºæ–°æ•°æ®ã€‚å¦‚æœæœ‰æ£€ç´¢åˆ°çš„æ•°æ®ï¼Œå°†è¯¥æ•°æ®è¡Œçš„toå­—æ®µã€‚(elseè¯­å¥ä¸Šé¢çš„ä¸¤è¡Œ)ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰get()å‡½æ•°ä½œä¸ºæŒä¹…æ€§apiï¼Œä½†æ˜¯åœ¨ä½ ç†è§£äº†è¿™ç¯‡æ–‡ç« çš„æ•´ä¸ªæµç¨‹ä¹‹åï¼Œæœ€å¥½é€šè¿‡é€ä¸ªæ‰©å±•æ¥äº†è§£å®ƒä»¬ã€‚</p><p id="05bd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å¦‚æœæ‚¨ç¼–è¯‘å¹¶ä¸Šä¼ åˆåŒï¼Œåˆ™æŒ‰å¦‚ä¸‹æ–¹å¼æ‰§è¡Œã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="0dab" class="kk kl ht kg b fv km kn l ko kp">#cleos push action usersc hi â€˜[â€œtestuserâ€]â€™ -p usersc</span></pre><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/5f069bebad6be4d30edfdc5ba322b8e2.png" data-original-src="https://miro.medium.com/v2/format:webp/1*M_bHxN8ADL4FDC597F6-LQ.png"/></div></figure><p id="d6d2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å› ä¸ºtestuseråœ¨ä¸Šé¢çš„è¡¨ä¸­ï¼Œæ‰€ä»¥è¦æ‰“å°çš„æ˜¯è¡¨ä¸­çš„testuserï¼Œè€Œä¸æ˜¯åŠ¨ä½œæ•°æ®ä¸­ä¼ é€’çš„æ•°æ®ã€‚</p><p id="46e3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">è‹¥è¦åˆ é™¤æ•°æ®ï¼Œè¯·æ·»åŠ ä¸€ä¸ªæ“ä½œã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="0c6f" class="kk kl ht kg b fv km kn l ko kp">void del(account_name user)<br/>{</span><span id="b3d9" class="kk kl ht kg b fv kr kn l ko kp">}</span></pre><p id="bbc6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">è¯¥æ–¹æ³•ä¸å‰é¢ç¤ºä¾‹ä¸­æ·»åŠ åŠ¨ä½œçš„æ–¹æ³•ç›¸åŒã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦éœ€è¦åˆ é™¤çš„ç”¨æˆ·åï¼Œæ‰€ä»¥è·å–ä¸€ä¸ªå¸æˆ·åä½œä¸ºå‚æ•°ã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å°†ä¸æ£€æŸ¥ä»åŠ¨ä½œæ•°æ®æ¥æ”¶çš„ç”¨æˆ·åæ˜¯å¦æœ‰æ•ˆã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="3e3a" class="kk kl ht kg b fv km kn l ko kp">void del(account_name user)<br/>{<br/>    _ttab ttabs(_self,_self);<br/>    auto iter=ttabs.find(user);<br/>    if(iter!=ttabs.end())<br/>    {<br/>        ttabs.erase(iter);<br/>    }<br/>}</span></pre><p id="90ac" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å®ç°åˆ é™¤æ“ä½œã€‚</p><p id="4977" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ç±»ä¼¼äºæˆ‘ä»¬ä½¿ç”¨<em class="ka"> create </em>æ‰€åšçš„ï¼Œä¸ºç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œåˆ›å»ºä¸€ä¸ªè¡¨çš„<em class="ka"> multi_index </em>å®ä¾‹ï¼Œæ‰¾åˆ°æ¥æ”¶åˆ°çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶å°†å…¶åˆ†é…ç»™è¿­ä»£å™¨ã€‚</p><p id="6ad9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å¦‚æœ<em class="ka">çš„ç»“æœåœ¨ç¬¬ä¸‰è¡Œæ‰¾åˆ°</em>çš„â€œif(iterï¼=ttabs.end())"ä¸æ˜¯æœ€åä¸€ä¸ªï¼Œæ„å‘³ç€æœ‰æ•°æ®é€šè¿‡åŠ¨ä½œä¼ é€’ï¼Œ</p><p id="cacb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ç”¨â€œttabs.erase(iter)â€åˆ é™¤æ•°æ®ã€‚ä½¿ç”¨multi_indexå®ä¾‹çš„erase()å‡½æ•°ï¼Œé€šè¿‡ä¼ é€’è¦åˆ é™¤çš„è¿­ä»£å™¨æ¥åˆ é™¤è¡¨ä¸­çš„ä¿¡æ¯ã€‚</p><p id="cd42" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å¦‚æœåœ¨ç¼–è¯‘å’Œè¿è¡ŒåˆåŒä¹‹å‰æŸ¥çœ‹è¯¥è¡¨ï¼Œ</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="7a52" class="kk kl ht kg b fv km kn l ko kp"># cleos get table usersc usersc ttab</span></pre><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/628e7c8c3d6aa65f532331665a41de0e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3nDjFCdfXzXHniQ1wh1QMQ.png"/></div></figure><p id="1c4a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">æ‚¨å¯ä»¥çœ‹åˆ°è¡¨ä¸­å­˜åœ¨testuserã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="8b4f" class="kk kl ht kg b fv km kn l ko kp"># cleos push action usersc del â€˜[â€œtestuserâ€]â€™ -p usersc</span></pre><p id="86f1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å°è¯•è¿è¡Œåå®šå¹¶åˆ é™¤testuserã€‚</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/497e31d9e3d829d48105568fbcd44b66.png" data-original-src="https://miro.medium.com/v2/format:webp/1*dFUmAe2id20CN4skhUr93g.png"/></div></figure><p id="7c86" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å› ä¸ºæ²¡æœ‰ç”¨äºè°ƒè¯•çš„æ‰“å°è¯­å¥ï¼Œæ‰€ä»¥å®ƒç»“æŸæ—¶æ²¡æœ‰ä»»ä½•æ‰“å°ã€‚</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/83010ac2f2febbd1c9734be376463b58.png" data-original-src="https://miro.medium.com/v2/format:webp/1*8QOaRYrMG6XRPuQniNn-Gw.png"/></div></figure><p id="c36f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ä¿®æ”¹æ•°æ®éœ€è¦ä¿®æ”¹è¡¨ã€‚è¿™æ˜¯å› ä¸ºå½“å‰é…ç½®çš„è¡¨ä»…ç”±ä¸€ä¸ªå­—æ®µç»„æˆï¼Œè€Œè¯¥å­—æ®µç”±ä¸€ä¸ªä¸»é”®ç»„æˆï¼Œå› æ­¤ä¸èƒ½ä¿®æ”¹ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="3ab0" class="kk kl ht kg b fv km kn l ko kp">/// <a class="ae jz" href="http://twitter.com/abi" rel="noopener ugc nofollow" target="_blank">@abi</a> table edittab i64<br/>struct edittab<br/>{<br/>    account_name to;<br/>    string tstr;<br/>    uint64_t primary_key() const {return to;}</span><span id="0344" class="kk kl ht kg b fv kr kn l ko kp">EOSLIB_SERIALIZE(edittab,(to)(tstr))<br/>};</span><span id="b49d" class="kk kl ht kg b fv kr kn l ko kp">typedef multi_index&lt;N(edittab),edittab&gt; _etab;</span></pre><p id="b36d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">åœ¨ä¸Šé¢åˆ›å»ºçš„è¡¨ä¿¡æ¯ä¸‹åˆ›å»ºæ–°çš„è¡¨ä¿¡æ¯ã€‚æ–°è¡¨æ˜¯ä¸€ä¸ªåä¸º<em class="ka"> edittab </em>çš„è¡¨ï¼Œå®ƒå…·æœ‰å­—ç¬¦ä¸²ä¿¡æ¯<em class="ka"> tstr </em>ï¼Œå¹¶ä»¥è´¦æˆ·ä¿¡æ¯<em class="ka">åˆ°</em>ä½œä¸ºä¸»é”®ã€‚å› ä¸ºæˆ‘ä»¬å°†åˆ›å»ºçš„è¡¨ä¸­æ²¡æœ‰ä»»ä½•ä¿¡æ¯ï¼Œæ‰€ä»¥ä¿®æ”¹å¯ä»¥åˆ›å»ºæ•°æ®è¡Œçš„<em class="ka"> hiåŠ¨ä½œ</em>ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="a1f0" class="kk kl ht kg b fv km kn l ko kp">void hi(account_name user)<br/>{<br/>    _etab etabs(_self,_self);<br/>            <br/>    auto iter=etabs.find(user);<br/>    if(iter==etabs.end())<br/>    {<br/>        print("need insert\t"); <br/>        etabs.emplace(_self,[&amp;](auto&amp; edittab)<br/>        {<br/>            edittab.to = user;<br/>            edittab.tstr = "test";<br/>        });<br/>    }<br/>    else<br/>    {<br/>        uint64_t getuser;<br/>        getuser=iter-&gt;to;<br/>        print("data already exist ",name{getuser}," \t");<br/>    }<br/>    print("hello, world : ", name{user});<br/>}</span></pre><p id="b538" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">åªæœ‰ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­çš„è¡¨çš„å¼•ç”¨å˜é‡åå‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚æœè¡¨ä¸­æ²¡æœ‰æ¥æ”¶åˆ°ä½œä¸ºæ“ä½œæ•°æ®çš„å¸æˆ·ä¿¡æ¯ï¼Œåˆ™å°†â€œtestâ€å­—ç¬¦ä¸²ä¿å­˜åœ¨å¸æˆ·ä¿¡æ¯å’Œtstréƒ¨åˆ†ä¸­ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="5099" class="kk kl ht kg b fv km kn l ko kp">void edit(account_name org)<br/>{<br/>    _etab etabs(_self,_self);<br/>    auto iter=etabs.find(org);<br/>    if(iter!=etabs.end())<br/>    {<br/>        etabs.modify(iter,_self,[&amp;](auto&amp; a)<br/>        {<br/>            a.tstr="tested";<br/>        });<br/>    }<br/>}</span></pre><p id="657b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ç°åœ¨æ·»åŠ <em class="ka">ç¼–è¾‘</em>åŠ¨ä½œã€‚åˆ°æ£€ç´¢ç»™å®šå¸æˆ·ä¿¡æ¯ä¸ºæ­¢ï¼Œç¼–è¾‘æ“ä½œä¸ä¸Šé¢çš„å…¶ä»–ç¤ºä¾‹ç›¸åŒã€‚å¦‚æœæ‰¾åˆ°ç›¸åŒçš„å¸æˆ·ï¼Œä½¿ç”¨<em class="ka">ä¿®æ”¹</em>åŠŸèƒ½å°†å­—ç¬¦ä¸²â€œtestâ€ä¿®æ”¹ä¸ºâ€œtestedâ€ã€‚</p><p id="048e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">æ¥ä¸‹æ¥ï¼Œç¼–è¯‘å¹¶ä¸Šä¼ åˆåŒã€‚</p><p id="8390" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ç”±äºå½“å‰è¡¨æ ¼çš„<em class="ka">ç¼–è¾‘é€‰é¡¹å¡</em>æ²¡æœ‰ä»»ä½•ä¿¡æ¯ï¼Œ</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="925f" class="kk kl ht kg b fv km kn l ko kp"># cleos push action usersc hi â€˜[â€œaâ€]â€™ -p usersc</span></pre><p id="d6bf" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ä½¿ç”¨hiæ“ä½œæ’å…¥è¡¨æ ¼ã€‚</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/a39d859045da764bf452f3dd83766c39.png" data-original-src="https://miro.medium.com/v2/format:webp/1*eN4v4h3s67R-h-XuwpkUGQ.png"/></div></figure><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="cc67" class="kk kl ht kg b fv km kn l ko kp"># cleos get table usersc usersc edittab</span></pre><p id="ad1c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤æ¥æ£€æŸ¥è¡¨æ ¼ã€‚</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/02b4dff700bde26f67102b4219b2e871.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uklBeS92pbtBdmeUx2TRuw.png"/></div></figure><p id="1ae4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">è¯·æ³¨æ„ï¼Œâ€œaâ€ç”¨æˆ·åŒ…å«å­—ç¬¦ä¸²â€œtestâ€ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="9867" class="kk kl ht kg b fv km kn l ko kp"># cleos push action usersc edit â€˜[â€œaâ€]â€™ -p usersc</span></pre><p id="9b49" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">è°ƒç”¨ç¼–è¾‘æ“ä½œè¿›è¡Œä¿®æ”¹ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="a8b3" class="kk kl ht kg b fv km kn l ko kp"># cleos get table usersc usersc edittab</span></pre><p id="7bcd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤æ¥æ£€æŸ¥è¡¨æ ¼ã€‚</p><figure class="kb kc kd ke fq iu fe ff paragraph-image"><div class="ab fr cl kq"><img src="../Images/0ca42c3cc1f2d87f3c5f1471c660281f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*IzMHtlsiM-O5jSKLNcwpDA.png"/></div></figure><p id="dc85" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">æ‚¨å¯ä»¥çœ‹åˆ°è¡¨ä¸­çš„ä¿¡æ¯å·²ç»æ›´æ”¹ã€‚</p><p id="1ee9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">è¿™ä½¿å¾—åœ¨EOSä¸­é€šè¿‡CRUDå¤„ç†ä¿¡æ¯æˆä¸ºå¯èƒ½ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½†æ˜¯å¦‚æœä½ ç°åœ¨çœ‹çœ‹å®˜æ–¹æ–‡ä»¶çš„å…¶ä»–ä¾‹å­ï¼Œå°±ä¼šæ¯”ä»¥å‰æ›´å®¹æ˜“ç†è§£ã€‚</p><p id="dc2c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">å°½ç®¡åœ¨ä¿®æ”¹æ—¶è¡¨çš„è®¾è®¡æœ‰ä¸€ç‚¹å°é—®é¢˜ï¼Œå°½ç®¡è¿™ä¸ªä¾‹å­æ²¡æœ‰å®Œå…¨æ¸…æ¥šåœ°å±•ç¤ºä¸€ä¸ªå¥‘çº¦å¦‚ä½•è¢«ç”¨æ¥ä½¿ç”¨å¤šä¸ªè¡¨ï¼Œæˆ‘ä»¬ä»ç„¶ç»§ç»­è¿›è¡Œã€‚</p><p id="6d65" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨çš„ä»£ç ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="fb82" class="kk kl ht kg b fv km kn l ko kp">#include &lt;eosiolib/eosio.hpp&gt;<br/>#include &lt;eosiolib/print.hpp&gt;</span><span id="aa6f" class="kk kl ht kg b fv kr kn l ko kp">using namespace eosio;<br/>using namespace std;</span><span id="761b" class="kk kl ht kg b fv kr kn l ko kp">class hello : public eosio::contract <br/>{<br/>    public:<br/>        using contract::contract;</span><span id="a159" class="kk kl ht kg b fv kr kn l ko kp">/// <a class="ae jz" href="http://twitter.com/abi" rel="noopener ugc nofollow" target="_blank">@abi</a> table ttab i64<br/>        struct ttab<br/>        {<br/>            account_name to;<br/>            uint64_t primary_key() const {return to;}</span><span id="2a9d" class="kk kl ht kg b fv kr kn l ko kp">EOSLIB_SERIALIZE(ttab,(to))<br/>        };</span><span id="cdf6" class="kk kl ht kg b fv kr kn l ko kp">typedef multi_index&lt;N(ttab),ttab&gt; _ttab;</span><span id="b23f" class="kk kl ht kg b fv kr kn l ko kp">/// <a class="ae jz" href="http://twitter.com/abi" rel="noopener ugc nofollow" target="_blank">@abi</a> table edittab i64<br/>        struct edittab<br/>        {<br/>            account_name to;<br/>            string tstr;<br/>            uint64_t primary_key() const {return to;}</span><span id="5532" class="kk kl ht kg b fv kr kn l ko kp">EOSLIB_SERIALIZE(edittab,(to)(tstr))<br/>        };</span><span id="1401" class="kk kl ht kg b fv kr kn l ko kp">typedef multi_index&lt;N(edittab),edittab&gt; _etab;</span><span id="ccef" class="kk kl ht kg b fv kr kn l ko kp">/// <a class="ae jz" href="http://twitter.com/abi" rel="noopener ugc nofollow" target="_blank">@abi</a> action<br/>        void hi(account_name user)<br/>        {<br/>             _etab etabs(_self,_self);<br/>            <br/>            auto iter=etabs.find(user);<br/>            if(iter==etabs.end())<br/>            {<br/>                print("need insert\t"); <br/>                etabs.emplace(_self,[&amp;](auto&amp; edittab)<br/>                {<br/>                    edittab.to = user;<br/>                    edittab.tstr = "test";<br/>                });<br/>            }<br/>            else<br/>            {<br/>                uint64_t getuser;<br/>                getuser=iter-&gt;to;<br/>                print("data already exist ",name{getuser}," \t");<br/>            }<br/>            print("hello, world : ", name{user}, " 10");<br/>        }</span><span id="10aa" class="kk kl ht kg b fv kr kn l ko kp">void del(account_name user)<br/>        {<br/>            _etab etabs(_self,_self);<br/>            auto iter=etabs.find(user);<br/>            if(iter!=etabs.end())<br/>            {<br/>                etabs.erase(iter);<br/>            }<br/>        }</span><span id="5e32" class="kk kl ht kg b fv kr kn l ko kp">void edit(account_name org)<br/>        {<br/>             _etab etabs(_self,_self);<br/>            auto iter=etabs.find(org);<br/>            if(iter!=etabs.end())<br/>            {<br/>                etabs.modify(iter,_self,[&amp;](auto&amp; a)<br/>                {<br/>                    a.tstr="tested";<br/>                });<br/>            }<br/>        }<br/>};</span><span id="f3ea" class="kk kl ht kg b fv kr kn l ko kp">EOSIO_ABI(hello,(hi)(del)(edit))</span></pre><p id="2edf" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ç»§ä¸Šä¸€ç¯‡æ–‡ç« ä¹‹åï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•ä½¿ç”¨æ™ºèƒ½åˆåŒçš„è¡¨æ ¼ä¿¡æ¯ã€‚</p></div><div class="ab cl ks kt hb ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="hm hn ho hp hq"><h2 id="139e" class="kk kl ht bd kz la lb lc ld le lf lg lh jm li lj lk jq ll lm ln ju lo lp lq lr dt translated">ITAMæ¸¸æˆæ˜¯ä¸€ä¸ªé€æ˜çš„æ¸¸æˆç”Ÿæ€ç³»ç»Ÿçš„åŒºå—é“¾å¹³å°</h2><p id="5d69" class="pw-post-body-paragraph jb jc ht jd b je ls jg jh ji lt jk jl jm lu jo jp jq lv js jt ju lw jw jx jy hm dt translated">è®¢é˜…ITAMæ¸¸æˆå¹¶æ¥æ”¶æœ€æ–°ä¿¡æ¯ã€‚</p><p id="4717" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">è®¿é—®ITAMæ¸¸æˆç”µè®¯ï¼Œå°±ITAMæ¸¸æˆå’ŒåŒºå—é“¾è¿›è¡Œäº¤æµã€‚ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥åŠ å…¥ï¼ğŸ‘«</p><p id="1e2d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ç½‘å€:<strong class="jd hu"/><a class="ae jz" href="https://itam.games" rel="noopener ugc nofollow" target="_blank">https://itam . games</a><strong class="jd hu"><br/></strong>ç”µæŠ¥:ã€https://t.me/itamgamesã€‘T21</p></div></div>    
</body>
</html>