<html>
<head>
<title>Ethereum account</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊账户</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ethereum-account-212feb9c4154?source=collection_archive---------2-----------------------#2018-05-07">https://medium.com/coinmonks/ethereum-account-212feb9c4154?source=collection_archive---------2-----------------------#2018-05-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="078c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这篇文章引用了"<a class="ae jo" rel="noopener" href="/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369">以太坊到底是如何工作的？<a class="ae jo" rel="noopener" href="/@preethikasireddy?source=post_header_lockup">普瑞蒂·卡西雷迪</a>所写的</a>，可以在<a class="ae jo" rel="noopener" href="/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369">这里找到</a>。</p><ul class=""><li id="7eeb" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">外部拥有的帐户(用户帐户由私钥控制)</li><li id="2a29" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">合同账户(由代码控制)</li></ul><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div class="fe ff kd"><img src="../Images/d809dbe5b0d4bb84fcf2b223f584e5d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*wntAao0ZUcANwQAhnQvePQ.png"/></div></figure><blockquote class="kl"><p id="2701" class="km kn ht bd ko kp kq kr ks kt ku jn ek translated"><a class="ae jo" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><h2 id="6d1c" class="kv kw ht bd kx ky kz la lb lc ld le lf jb lg lh li jf lj lk ll jj lm ln lo lp dt translated">帐户状态</h2><p id="2fea" class="pw-post-body-paragraph iq ir ht is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hm dt translated">账户<strong class="is hu">状态</strong>由四个部分组成，无论账户类型如何都存在:</p><ul class=""><li id="219a" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated"><strong class="is hu"> nonce </strong>:如果账户是外部拥有的账户，这个数字代表从账户地址发送的交易次数。如果账户是合同账户，随机数是账户创建的合同数量。</li><li id="83d9" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated"><strong class="is hu">余额</strong>:该地址拥有的卫数。每以太有1e+18威。</li><li id="0d08" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated"><strong class="is hu">storage root</strong>:Merkle Patricia树的根节点的256位哈希，对账户的存储内容进行编码(256位整数值之间的映射)，编码到trie中，作为从256位整数键的Keccak 256位哈希到RLP编码的256位整数值的映射。此树编码此帐户存储内容的散列，默认情况下为空。</li><li id="2fec" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated"><strong class="is hu"> codeHash </strong>:该账户的EVM(以太坊虚拟机)代码的哈希——这是该地址收到消息调用时执行的代码；它是不可变的，因此与所有其他字段不同，在构造后不能更改。所有这样的代码片段都包含在状态数据库中它们相应的散列下，以供以后检索。对于合约账户，这是被散列并存储为<strong class="is hu"> codeHash </strong>的代码。对于外部拥有的帐户，<strong class="is hu"> codeHash </strong>字段是空字符串的散列。</li></ul><p id="b3b9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">更多细节请参考<a class="ae jo" href="https://ethereum.github.io/yellowpaper/paper.pdf" rel="noopener ugc nofollow" target="_blank">以太坊黄皮书</a></p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff lv"><img src="../Images/0de69b1b7e00bc75167afd4729ca487a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*59oJIrRDZeOXu8CY_MvEtw.png"/></div></div></figure><h1 id="ffa3" class="ma kw ht bd kx mb mc md lb me mf mg lf mh mi mj li mk ml mm ll mn mo mp lo mq dt translated">外部拥有的账户(eoa)</h1><p id="006e" class="pw-post-body-paragraph iq ir ht is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hm dt translated">外部控制的账户</p><ul class=""><li id="a253" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">具有醚平衡，</li><li id="941f" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">可以发送交易(以太网传输或触发合同代码)，</li><li id="1af9" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">是由私钥控制的，</li><li id="7e7c" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">没有关联的代码。</li></ul><h1 id="a6bb" class="ma kw ht bd kx mb mc md lb me mf mg lf mh mi mj li mk ml mm ll mn mo mp lo mq dt translated">合同账户(有些文章称之为合同钱包)</h1><p id="7a02" class="pw-post-body-paragraph iq ir ht is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hm dt translated">一份合同</p><ul class=""><li id="ae4d" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">具有醚平衡，</li><li id="04ac" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">有关联的代码，</li><li id="ddb4" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">代码执行由从其他契约接收的事务或消息(调用)触发。</li><li id="b36d" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">当被执行时——执行任意复杂度的操作(图灵完全性)——操纵其自己的持久存储，即，可以具有其自己的永久状态——可以调用其他契约</li></ul><p id="cad6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Exchange中的合约帐户向用户帐户发送ETH的费用为21000 gas，但向合约发送ETH的费用更高，这取决于交易中发送的合约代码和数据。</p><h2 id="e781" class="kv kw ht bd kx ky mr la lb lc ms le lf jb mt lh li jf mu lk ll jj mv ln lo lp dt translated">合同帐户相对于用户帐户的优势:</h2><ul class=""><li id="886b" class="jp jq ht is b it lq ix lr jb mw jf mx jj my jn ju jv jw jx dt translated">合同帐户可以列出收到的交易</li><li id="e7de" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">合同帐户可以设置为多重签名帐户</li><li id="908c" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">多签名账户可以有一个您指定的每日限额，只有当超过每日限额时，才需要多次签名</li></ul><h2 id="7c18" class="kv kw ht bd kx ky mr la lb lc ms le lf jb mt lh li jf mu lk ll jj mv ln lo lp dt translated">合同帐户相对于用户帐户的缺点:</h2><ul class=""><li id="8ff4" class="jp jq ht is b it lq ix lr jb mw jf mx jj my jn ju jv jw jx dt translated">无论何时使用合同账户，都会产生费用。</li></ul><p id="a8b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">创建用户帐户不会耗费任何汽油，但创建合同帐户会。您付费创建和使用合同账户，因为它们使用网络的宝贵计算和存储资源。</p><p id="e98f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">另一点是，外部拥有的帐户可以通过使用其私钥创建和签署交易来向其他外部拥有的帐户或其他合同帐户发送消息。两个外部拥有的账户之间的消息仅仅是价值转移。但是从外部拥有的账户到合约账户的消息激活合约账户的代码，允许它执行各种动作(例如，转移令牌、写入内部存储、铸造新令牌、执行一些计算、创建新合约等。).</p><p id="ad54" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">与外部拥有的账户不同，合约账户不能自行发起新的交易。相反，合约帐户只能触发交易以响应它们收到的其他交易(从外部拥有的帐户或从另一个合约帐户)。我们将在“事务和消息”一节中了解更多关于契约间调用的信息。</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff mz"><img src="../Images/d85f414b4e861f1bf112650ba8db167c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UhkcpWcHwmBQ0toUu5F1Lw.png"/></div></div></figure><p id="61ef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">工具:</p><ul class=""><li id="ba8a" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">以太网在线钱包:<a class="ae jo" href="https://wallet.ethereum.org" rel="noopener ugc nofollow" target="_blank">https://wallet.ethereum.org</a></li><li id="c54d" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated"><a class="ae jo" rel="noopener" href="/singapore-blockchain-dapps/metamask-metamask-installation-a62865a69d35"> MetaMask </a></li></ul><h1 id="6aa9" class="ma kw ht bd kx mb mc md lb me mf mg lf mh mi mj li mk ml mm ll mn mo mp lo mq dt translated">合同账户类型</h1><p id="4887" class="pw-post-body-paragraph iq ir ht is b it lq iv iw ix lr iz ja jb ls jd je jf lt jh ji jj lu jl jm jn hm dt translated">合约账户有两种——简单账户和多重签名(<strong class="is hu">多重签名</strong>)账户</p><p id="8303" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">简单账户和多重账户由账户创建和拥有。</p><ul class=""><li id="2e26" class="jp jq ht is b it iu ix iy jb jr jf js jj jt jn ju jv jw jx dt translated">简单账户:只有一个账户创建并拥有这个账户。</li><li id="fe32" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn ju jv jw jx dt translated">Multisig账户:一个Multisig钱包有几个所有者账户，其中一个也是创建者账户。</li></ul><h2 id="a85f" class="kv kw ht bd kx ky mr la lb lc ms le lf jb mt lh li jf mu lk ll jj mv ln lo lp dt translated">要创建简单的钱包:</h2><ol class=""><li id="647b" class="jp jq ht is b it lq ix lr jb mw jf mx jj my jn na jv jw jx dt translated">点击添加钱包合同。</li><li id="2886" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">在wallet合同类型下，确保选择了单个所有者帐户，然后输入您的WALLET的名称。</li><li id="0c77" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">点击创建。然后输入您在中使用的当前帐户的密码</li></ol><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nb"><img src="../Images/0d839a408f4cc37085db812a067ccac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q4qYvVgiQ9bNgSURE9iQoQ.png"/></div></div></figure><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nc"><img src="../Images/f269614ff62674925a250bdb59ce2d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYu5mOEsAzRoav7nf1cshQ.png"/></div></div></figure><h2 id="99f0" class="kv kw ht bd kx ky mr la lb lc ms le lf jb mt lh li jf mu lk ll jj mv ln lo lp dt translated">要创建Multisig钱包:</h2><ol class=""><li id="fc14" class="jp jq ht is b it lq ix lr jb mw jf mx jj my jn na jv jw jx dt translated">点击添加钱包合同。</li><li id="c3e8" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">在电子钱包合同类型下，选择多重签名电子钱包合同。</li><li id="01b0" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">设置有多少人拥有这个钱包。默认为3个所有者。在我的例子中，我把它改为2。</li><li id="5e2c" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">根据您的设置填写所有者的地址。</li><li id="a371" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">点击创建。然后输入您使用的当前帐户的密码。</li><li id="7f73" class="jp jq ht is b it jy ix jz jb ka jf kb jj kc jn na jv jw jx dt translated">复制并粘贴另外两个所有者帐户的地址。<br/>重要提示:不要将合同钱包添加为Multisig钱包的所有者。只有帐户可以成为所有者。</li></ol><p id="a95a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">显示Multisig帐户的默认设置。在本例中，我们使用默认的3选2设置，但是我们将每日限制减少到了10以太网。</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nb"><img src="../Images/0d839a408f4cc37085db812a067ccac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q4qYvVgiQ9bNgSURE9iQoQ.png"/></div></div></figure><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nd"><img src="../Images/89e420ed031948afd0e0d61c90992d17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJY96PIAxa253bnwxbEuiA.png"/></div></div></figure><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff ne"><img src="../Images/8f7df9810efc71f41cd27471ba03463a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Y69mgfp0Lp_1W5bdqYIkw.png"/></div></div></figure><h1 id="5f05" class="ma kw ht bd kx mb mc md lb me mf mg lf mh mi mj li mk ml mm ll mn mo mp lo mq dt translated">多签名帐户用户案例</h1><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nf"><img src="../Images/63092b33a20ba1df0bde4fe89ed61d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hWLJ3-vSbsRRgzhwxwFWCQ.png"/></div></div></figure><figure class="ke kf kg kh fq ki fe ff paragraph-image"><a href="https://medium.com/coinmonks/ethereum/home"><div class="fe ff ng"><img src="../Images/751097bdbbc3df364f98a3c0491fcde8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RU43MWDx31B3pKV1fLje9g.png"/></div></a><figcaption class="nh ni fg fe ff nj nk bd b be z ek"><strong class="bd nl">Click to read more about ethereum</strong></figcaption></figure></div></div>    
</body>
</html>