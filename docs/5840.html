<html>
<head>
<title>Stock-to-flow model and beyond ~Bitcoin marketcap and price top~</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">股票到流量模型和超越~比特币市值和价格顶部~</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/stock-to-flow-model-and-beyond-bitcoin-marketcap-and-price-top-6bb2fedf1a2c?source=collection_archive---------4-----------------------#2021-10-24">https://medium.com/coinmonks/stock-to-flow-model-and-beyond-bitcoin-marketcap-and-price-top-6bb2fedf1a2c?source=collection_archive---------4-----------------------#2021-10-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="424c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jo" href="https://yuyasugano.medium.com/stock-to-flow-model-for-btc-ltc-is-ltc-silver-in-crypto-7abbbd8f3f0e" rel="noopener">在上一篇文章</a>中，我们复制了PlanB的比特币股票到流量模型，并对比特币&amp;莱特币应用了相同的简单回归技术。结果，我们没有观察到莱特币的ln(marketcap)和ln(s2f)之间的密切关系。我们认为S2F(库存-流量)是市值和产出价格的关键驱动因素之一，但我们得出的结论是，将有更多的空间来改进回归模型，使其朝着具有多个解释变量的多项式或多元回归方向发展，或者通过使用机器学习技术中更复杂的方法。<a class="ae jo" rel="noopener" href="/coinmonks/stock-to-flow-model-for-btc-ltc-is-ltc-silver-in-crypto-7abbbd8f3f0e">【1】</a></p><p id="a2c6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这里，我想调整一下这个简单的回归模型，用曲线拟合代替直线，预测比特币的最大市值。稍后我将解释为什么我们采用曲线拟合。在未来的实验中，我们将看到来自硬币指标的假设解释变量的相关性，不仅是S2F比率，还会选择其他变量来模拟市值(和价格)。这些连续的实验依赖于Python、Anaconda3、Jupyter notebook和scikit-learn heavy。请提前查看github资源库，之前的模型是如何实现的。<a class="ae jo" rel="noopener" href="/coinmonks/stock-to-flow-model-for-btc-ltc-is-ltc-silver-in-crypto-7abbbd8f3f0e">【2】</a></p><p id="e118" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这篇文章中，我得出结论，比特币的最大市值为<strong class="is hu"> 12.8万亿美元</strong>，每枚比特币的最高价格约为<strong class="is hu"> 61万美元</strong>。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/020ae8338dfbd7c97288285d1d28d4ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FSswaFfJhtBuvwXtjc6eRw.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Image by <a class="ae jo" href="https://pixabay.com/users/janjf93-3084263/" rel="noopener ugc nofollow" target="_blank">Jan</a> from <a class="ae jo" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank">Pixabay</a>.</figcaption></figure><h1 id="7e76" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">放弃</h1><p id="ff4f" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hm dt translated">本文既不是投资建议，也不是买卖任何投资的建议或邀约，不应用于评估做出任何投资决定的价值。不应将其作为会计、法律或税务建议或投资建议的依据。此处反映的内容可能会更改，但不会更新。这只是为了信息和娱乐的目的。</p></div><div class="ab cl li lj hb lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hm hn ho hp hq"><p id="58f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">专门从事加密货币的对冲基金潘迪拉资本在2020年4月<a class="ae jo" href="https://blog.panteracapital.com/out-performing-bitcoin-pantera-blockchain-letter-june-2020-1d0ac9ec3482" rel="noopener ugc nofollow" target="_blank">预测，通过使用这种模型，比特币到今年8月可能会涨到115，000美元。当然，正如你已经知道的，BTC价格回到了60，000美元左右，但价格还没有飙升到115，000美元的水平。为什么？首先，S2F模型关注供应方资产稀缺性，并应用回归技术预测未来价格。如果没有需求和购买力，供给就没有任何意义。"如果你不渴，为什么要买一瓶水？"</a></p><p id="cd09" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我还看到了S2F线性回归模型的一个缺陷。随着一些加密货币的减半机制或枯竭性质，它们的通货膨胀率将会下降。这显然意味着S2F值会在某个点收敛到无穷大。为什么？因为当流量收敛到零时，SF =股票/流量会收敛到无穷大，不是吗？如果你对这个数学不熟悉，在<a class="ae jo" href="https://www.britannica.com/science/convergence-mathematics" rel="noopener ugc nofollow" target="_blank">这个链接</a>里有一个清晰的解释。当x趋近于零时，y = 1 / x收敛到无穷大。</p><p id="db29" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">但这有什么关系呢？这是我的观点，它违背了我的直觉。市值不应该随着S2F比率的增加而趋于无穷大。当我们得到一个相当低的比特币通货膨胀率时(可能在20xx年末？)比特币S2F会是一个超出我们理解的大数字。比如看下面<a class="ae jo" href="https://stats.buybitcoinworldwide.com/stock-to-flow/" rel="noopener ugc nofollow" target="_blank">全球买比特币</a>中S2F模型的现场图。即使在2026年，比特币的S2F也达到了1251。我觉得这是一个很可笑的数字，不是吗？请比较一下商品的S2F值和这个大数字。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lp"><img src="../Images/1c42a5fd2be8c23c0c8169876816cca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*C1RV8jh7kf_lOD2UXdT86g.png"/></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lq"><img src="../Images/73198f2007024919f77b8a0d5cc6e6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EpAN0gRJM9VmzHOcTyMeXw.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek"><a class="ae jo" href="https://stats.buybitcoinworldwide.com/stock-to-flow/" rel="noopener ugc nofollow" target="_blank">Bitcoin stock to flow model live chart</a></figcaption></figure></div><div class="ab cl li lj hb lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hm hn ho hp hq"><p id="26d9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">事实上，S2F模型已经<a class="ae jo" href="https://finance.yahoo.com/news/bitcoin-stock-flow-model-rooted-153030252.html" rel="noopener ugc nofollow" target="_blank">显示了比特币的背离</a>，加上上面提到的怀疑，这些因素导致我考虑使用二次公式而不是线性公式来使用线性回归。请看下面上一篇文章中的散点图。我认为曲线拟合将适合ln(市值)或ln(价格)和ln(s2f)之间的关系的两个底部数字。我不确定你是否同意我在这一点上的观点，但让我们尝试对我们在上一篇文章中使用的比特币数据点应用二次多项式，看看有什么变化。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lr"><img src="../Images/3fcaa7515dcfb54def9b0207b1407fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QEpTFzAnYYzCs1rV_SN5ZQ.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">scatter plots for relationships between price, marketcap and s2f ratio</figcaption></figure><p id="15ef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">其结果优于只有一个解释变量x的单项线性回归。R2得分约为0.942，之前的得分约为0.929。RMSE的价值远不如以前。斜率:[ 4.88866069 -0.34410739]和截距:12.823011544354943是新值，因为我们对数据应用了2次多项式特征。在下面的左图中，您可以看到ln(marketcap)和ln(s2f)之间关系的抛物线拱，看起来很好。根据这个公式，即使流量接近于零，市值也不可能无限增长。必须有一个极限值。</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="e3ab" class="lx kg ht lt b fv ly lz l ma mb">RMSE value: 0.7885547671768061<br/>R2 score: 0.9420852514169283<br/>Slope: [ 4.88866069 -0.34410739], Intercept: 12.823011544354943<br/>F-statistic: [1742.51558568  603.35556066], P-value: [2.68246322e-78 2.86127359e-51]</span></pre><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mc"><img src="../Images/8eb0b870f6a908b82849e4dec96e1cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RD_sr0imsbukyeM5_eyOMQ.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">linear regression fit for bitcoin price, marketcap and s2f ratio with polynomial</figcaption></figure></div><div class="ab cl li lj hb lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hm hn ho hp hq"><p id="30ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">酷毙了。这个抛物线拱应该有一个顶部，这是最高市值和最高价格所在的点。我们如何计算呢？让我们回忆一下小时候的高中数学。可以通过求f'(x) = 0来求解。这是抛物线拱门的顶部。现在我们得到了回归公式ln(market cap)= 4.88866069 * ln(s2f)-0.34410739 * ln(s2f)+12.823011544354943因此ln '(market cap)= 4.88866069-0.68821478 * ln(s2f)。是的，然后在ln(market cap)中填零。ln(s2f) = 7.103393928854594。现在是派对时间。我们可以在模型中给出计算出的ln(s2f)来预测比特币的最大市值。<strong class="is hu"> 12.8万亿美元</strong>是这个公式中市值的顶部。</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="c0b8" class="lx kg ht lt b fv ly lz l ma mb"># Predict the maximum marketcap for Bitcoin in theory<br/>import math<br/>lncap_pred_2d_max = clf_reg5.predict(poly2d.fit_transform(np.array([7.103393928854594]).reshape(-1, 1)))<br/>print(math.exp(lncap_pred_2d_max))<br/><strong class="lt hu">12871706837897.213</strong></span></pre><p id="cee3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来让我们对最高价格做同样的事情。同样，我们得到了ln(价格)的公式。ln(价格)= 4.12114332 * ln(s2f)-0.25017018 * ln(s2f)-2.3420495638245775因此ln '(价格)= 4.12114332 -0.50034036*ln(s2f)。ln(s2f) = 8.23667976734877为s2f比值。我在后一个模型中给了这个值8.23667976734877来预测最高价格。每枚比特币大约相当于<strong class="is hu">22.5万美元</strong>。你可能已经注意到它会自动折叠。为什么？如果一个比特币达到225，000美元，总市值应该是225，000*21，000，000 = 47.25亿美元。只有4万亿美元。在这种情况下，我考虑了ln(marketcap)和ln(s2f)之间的关系，回到了基本的库存流量比的含义。</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="adba" class="lx kg ht lt b fv ly lz l ma mb"># Predict the maximum price for Bitcoin in theory<br/>import math<br/>lnprice_pred_2d_max = clf_reg6.predict(poly2d.fit_transform(np.array([8.23667976734877]).reshape(-1, 1)))<br/>print(math.exp(lnprice_pred_2d_max))<br/><strong class="lt hu">2258518.401289206</strong></span></pre></div><div class="ab cl li lj hb lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hm hn ho hp hq"><p id="9c44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">那么一个比特币应该是多少钱呢？12.8万亿除以2100万等于609523。因此，让我们说，在这种关系中，每比特币的目标最高价格大约是<strong class="is hu"> 61万美元</strong>。我希望这能在一定程度上为你的投资组合管理和交易提供线索。同样，这篇文章只是为了提供信息和娱乐目的而写的。请记住我们谈到的一些假设，这只是根据过去的数据做出的预测。此外，由于API质量和供应数据中流量和S2F比率的计算，使用的数据点可能不太准确。一些数据点可能错误地误导了模型中的关系，这可能会彻底改变模型。</p><p id="de8d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">库存到流量(S2F)模型只是从供给侧的角度，没有考虑需求侧。S2F一直用于商品和自然资源，历史上用于供应和库存有限的稀缺资产，流量比率被认为是市值驱动力的因素。本文从PlanB对比特币采用S2F模型的预测出发，用多项式二次回归改进了单项线性回归。这里只涉及一个解释变量，但你也可以通过引入其他变量来做实验。例如，所有加密货币的总市值是一个良好的开端。</p></div><div class="ab cl li lj hb lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hm hn ho hp hq"><p id="c8e5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这对于比特币来说听起来很现实，不是吗？现在让我们以同样的方式尝试Litcoin。从之前的实验中，我们已经知道直线拟合对Litecoin来说效果不好，因为数据点非常分散，但我认为这种多项式方法可以稍微改善模型。实际上我们需要做更多的实验来找到一个通用的密码模型，这是我自己下一步研究的课题。我会继续在刊物上发帖。下面我们来看看Litecoin的一个结果。</p><pre class="jq jr js jt fq ls lt lu lv aw lw dt"><span id="ebe1" class="lx kg ht lt b fv ly lz l ma mb">RMSE value: 1.276074289131451<br/>R2 score: 0.6321432338250261<br/>Slope: [0.949971   0.19375913], Intercept: 17.54290185046642<br/>F-statistic: [169.42702697 167.51519204], P-value: [2.49723157e-23 3.58060760e-23]</span></pre><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff md"><img src="../Images/8273fcbd2491e12f86d2e286d07caaa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZjEDIbGY3rznYslLqpE4kg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">linear regression fit for litecoin price, marketcap and s2f ratio with polynomial</figcaption></figure><p id="eb72" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">嗯……不太好用。ln(价格)上的参数是正的，这意味着这是一个与我们在比特币案例中看到的相反的抛物线。当莱特币减半时，价格运动滞后，导致数据点的市值和价格下降。我认为，如果我们有更多的数据点，稀缺类型的资产将遵循类似的抛物线拱。我只能在这个实验中获得2013年4月的莱特币数据点。以后再来研究莱特币吧。</p><p id="97f5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我将在下一篇文章中查看更多可能的变量，并尝试在scikit-learn库中应用更复杂的算法。只要我们看到，只有比特币似乎符合S2F驱动的方法(或者其他加密技术可能在更长时间内追随比特币)。这是一场精彩的比赛。但我的目标是建立一个通用模型，它也可以适用于其他密码(特别是那些与比特币有相似之处的密码，有限的供给，减半或递减的通货膨胀，在某种程度上类似的特征)。</p><p id="a5f8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">本文使用的jupyter笔记本上传于<a class="ae jo" href="https://github.com/yuyasugano/stock-to-flow-model/blob/main/Stock-to-flow%20model%20in%20crypto%20and%20beyond%20Polynomial%20Regression.ipynb" rel="noopener ugc nofollow" target="_blank"> github </a>。</p></div><div class="ab cl li lj hb lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hm hn ho hp hq"><h1 id="25f0" class="kf kg ht bd kh ki me kk kl km mf ko kp kq mg ks kt ku mh kw kx ky mi la lb lc dt translated">参考</h1><ul class=""><li id="a834" class="mj mk ht is b it ld ix le jb ml jf mm jj mn jn mo mp mq mr dt translated">[1]<a class="ae jo" rel="noopener" href="/coinmonks/stock-to-flow-model-for-btc-ltc-is-ltc-silver-in-crypto-7abbbd8f3f0e">BTC&amp;LTC的库存到流动模型。LTC银在crypto吗？</a></li><li id="dec9" class="mj mk ht is b it ms ix mt jb mu jf mv jj mw jn mo mp mq mr dt translated">[2]<a class="ae jo" href="http://references%20[1]%20yuyasugano/pancake-bakery-arbitrage%20[2]%20Comparison%20betwen%20Flashloan%20providers:%20Aave%20vs%20dYdX%20vs%20Uniswap%20[3]%20Flash%20Swaps%20%E2%80%94%20Uniswap%20V2" rel="noopener ugc nofollow" target="_blank">yuya suga no/股票到流动模型</a></li></ul></div></div>    
</body>
</html>