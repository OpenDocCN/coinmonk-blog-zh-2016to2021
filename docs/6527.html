<html>
<head>
<title>Signing transactions with EIP-712</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与EIP-712签署交易</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/signing-transactions-with-eip-712-f8f3243d39fd?source=collection_archive---------5-----------------------#2021-12-19">https://medium.com/coinmonks/signing-transactions-with-eip-712-f8f3243d39fd?source=collection_archive---------5-----------------------#2021-12-19</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="a542" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">回想一下上一篇文章的观点，游戏开发者需要签署游戏物品变更。通过这种方式，更改(链接到metadata.json)和签名的组合是公共数据，不能被破坏。</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff jo"><img src="../Images/4621757d6ae17d74336aa7e68dab6230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ebpjBuLYHUAHNjD3.png"/></div></div></figure><h1 id="f5cd" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">游戏开发者签名更改</h1><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="fe ff ky"><img src="../Images/6dac516628c2ac0a44bb9b884b8ff04f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*279XOXzDm-U6p0to.png"/></div></div></figure><p id="3a36" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">允许数据签名的JS部分如下:</p><pre class="jp jq jr js fq kz la lb lc aw ld dt"><span id="c5a9" class="le kb ht la b fv lf lg l lh li">async sign() { const domain = { name: 'Upgadeable NFT Change', version: '1', chainId: 4, verifyingContract: 'contractAddress', }; // The named list of all type definitions const types = { Change: [{ name: 'newURI', type: 'string' }], }; // The data to sign const value = { newURI:"ipfs://path-to-content" }; const signer = this.provider.getSigner(); const signature = await signer._signTypedData( domain, types, value ); }</span></pre><p id="cc44" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">运行这段代码的结果如下:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff lj"><img src="../Images/f7769b3e6d605f93ffc716d4dee9a4e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/0*zOo0OvZOVwodXcwe.png"/></div></figure><p id="55b7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这非常方便，因为对于签名的内容没有疑问，整个消息都呈现在元掩码接口中，几乎没有出错的地方。</p><h1 id="362f" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">用户对更改的验证</h1><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="lk ll l"/></div><figcaption class="lm ln fg fe ff lo lp bd b be z ek">code</figcaption></figure><h1 id="f9d2" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">视频摘要</h1><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="lq ll l"/></div></figure><p id="a02b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="lr">原载于2021年12月19日</em><a class="ae ls" href="https://rotynski.dev/signing-transactions-with-eip-712/" rel="noopener ugc nofollow" target="_blank"><em class="lr">https://rotynski . dev</em></a><em class="lr">。</em></p><blockquote class="lt"><p id="4e77" class="lu lv ht bd lw lx ly lz ma mb mc jn ek translated">加入Coinmonks <a class="ae ls" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae ls" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="6048" class="le kb ht bd kc md me mf kg mg mh mi kk jb mj mk ko jf ml mm ks jj mn mo kw mp dt translated">也阅读</h2><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/coinmonks/leveraged-token-3f5257808b22"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">杠杆代币[多头代币]终极指南</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">杠杆化令牌是具有杠杆化风险敞口的ERC20令牌，不考虑保证金、要求、管理…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh jy mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">编辑描述</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">blog.coincodecap.com</p></div></div><div class="nc l"><div class="ni l ne nf ng nc nh jy mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://blog.coincodecap.com/best-swap-platforms" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">2021年最佳加密交换平台| CoinCodeCap</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">编辑描述</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">blog.coincodecap.com</p></div></div><div class="nc l"><div class="nj l ne nf ng nc nh jy mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://blog.coincodecap.com/best-online-casinos" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">10大最佳网上赌场[2021] |赢取免费BTC | CoinCodeCap</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">编辑描述</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">blog.coincodecap.com</p></div></div></div></a></div><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">2021年最佳加密借贷平台| 6大比特币借贷平台</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">获得比特币和其他加密货币的最佳贷款利率</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="nk l ne nf ng nc nh jy mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">2021年6大最佳硬件钱包|顶级加密硬件钱包[更新]</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">最好的加密货币硬件钱包是绝对必要的。我们将在NGRAVE、Ledger Nano X和…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="nl l ne nf ng nc nh jy mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">2021年最佳免费加密交易机器人</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">medium.com</p></div></div><div class="nc l"><div class="nm l ne nf ng nc nh jy mt"/></div></div></a></div></div></div>    
</body>
</html>