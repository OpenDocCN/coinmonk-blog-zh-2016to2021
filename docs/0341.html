<html>
<head>
<title>Luggage crowdsurance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">行李集体保险</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/luggage-crowdsurance-d685d3d73121?source=collection_archive---------7-----------------------#2018-04-20">https://medium.com/coinmonks/luggage-crowdsurance-d685d3d73121?source=collection_archive---------7-----------------------#2018-04-20</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/26e3b5f4d34763b869a6126797442e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IHuBPcuz9FEYPivjLTfig.png"/></div></div></figure><p id="5b09" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">行李众保产品为<code class="eh jz ka kb kc b">TokenCrowdsurance</code> <a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken" rel="noopener ugc nofollow" target="_blank"> NFT721SmartToken </a>。为了建立一个去中心化的金融产品，我们需要使用不可替代的令牌标准ERC721，但是由于每个令牌都有自己的价值，所以我们将这个标准与ERC20令牌联系起来。下图展示了它的工作原理:</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ke"><img src="../Images/5fd51247fa5548429d2192dab3f01c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lUOKLYqZ00X0Yvj9iM3hRw.png"/></div></div></figure><p id="0d03" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了访问具有ERC721令牌的ERC20功能，我们创建了ERC20适配器，它是连接到实现ERC 20控制器的ERC721SmartToken的智能合约。因此，要获得特定帐户地址的ERC20余额，我们应该调用ERC20Adapter的BalanceOf，结果(在我们的示例中)将是200。如果我们想得到属于同一个地址的多个令牌，我们将调用ERC721的BalanceOf函数并得到结果3。这只是如何使用ERC721SmartToken的一个示例。完整的智能合同描述是<a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken/blob/master/help.md" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="1e25" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">构建众包产品的下一步是添加TokenContainer概念。一个ERC721令牌可以持有同一智能合约中的其他令牌。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kj"><img src="../Images/15829fceb2d9be1a8af7488f1ed494e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1XTombHwmFZCjUCuwTKbsw.png"/></div></div></figure><p id="7cc6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这个例子中，NFT ID 10拥有宠物令牌:猫——NFT ID 1和狗——NFT ID 2。<a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken#tokencontainer" rel="noopener ugc nofollow" target="_blank">令牌容器</a>提供了许多使用容器的功能，包括添加和删除令牌。</p><p id="4f5c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对于特定的任务，包括众包，我们需要创建下一个级别，我们称之为<a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken#tokenpool" rel="noopener ugc nofollow" target="_blank">令牌池</a>。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kk"><img src="../Images/8cfcf4c1a7731327b9215ec727f78558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0g7ohths1fQHYMfvb5SMaQ.png"/></div></div></figure><p id="c68e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在我们有4级池层次结构:超级池，池，子池和NFT令牌。最后一级也可以是容器，如我们的示例所示，其中NFT令牌人拥有两个宠物令牌，并且属于子池NFT ID 3。</p><p id="148a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">基于<a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken#tokenpool" rel="noopener ugc nofollow" target="_blank">令牌池</a>，我们开发了<a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken#tokencrowdsurance" rel="noopener ugc nofollow" target="_blank">令牌众保</a>智能合约，提供众保产品的功能。“众保”一词意味着人们在社区中团结起来，为意外损失提供赔偿保证。得益于<code class="eh jz ka kb kc b">ERC721SmartToken</code>,众保产品可以“令牌化”,并可作为ERC20令牌使用。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kl"><img src="../Images/4448c39affbd76010c009accfe56cc8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FYKnaK3GUgDbdY6nY-tlXw.png"/></div></div></figure><p id="81f4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这个例子中，我们可以看到“加入”众保功能是如何工作的。加入量已经在代币提供商的池和佣金之间分配。发行过程的描述:</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff km"><img src="../Images/22fc52ff42c4aea33ff3b0dc98bff86c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xr8480OUi-9WbnhL0fcR4g.png"/></div></div></figure><p id="4aa4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下图展示了出现付款申请时，索赔付款流程是如何工作的:</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kn"><img src="../Images/47b23d7d14b475a5a5a05addd3892c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZJwP0b_EIAFTlTeuvev8cw.png"/></div></div></figure><p id="a884" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">最后，我们引入带有以下参数的<a class="ae kd" href="https://github.com/REGA-RS/ERC721SmartToken#luggagecrowdsurance" rel="noopener ugc nofollow" target="_blank">lugagecrowdsurance</a>令牌:</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ko"><img src="../Images/32745bf7120535857eb1ea2abad11a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yrbC9dKFFX42l_v6DKB0Uw.png"/></div></div></figure><figure class="kf kg kh ki fq iu"><div class="bz el l di"><div class="kp kq l"/></div></figure></div></div>    
</body>
</html>