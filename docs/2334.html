<html>
<head>
<title>Getting started with Obyte Autonomous Agents</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Obyte自治代理入门</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/getting-started-with-obyte-autonomous-agents-f3013681f601?source=collection_archive---------0-----------------------#2019-07-31">https://medium.com/coinmonks/getting-started-with-obyte-autonomous-agents-f3013681f601?source=collection_archive---------0-----------------------#2019-07-31</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="6bc8" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">自治代理是运行在Obyte加密货币分类账上的分散式应用程序。在本文中，我们学习如何编写一个简单的“Hello World”代理。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/b8d0517b5f5ecec286ff964aeb647f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*GvCxxPbO_fQZf2OR.jpg"/></div></figure><p id="d2bc" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">在Obyte生态系统中，我们已经有了智能合约和聊天机器人很长一段时间了:智能合约提供了一种根据Obyte分类账强制执行的不可变预定义条件锁定和解锁资金的方法，而聊天机器人带来了动态和复杂的用户交互。虽然智能合同由每个节点评估，并且是去中心化的，但是聊天机器人是系统的外部用户，并且它们不是去中心化的。Obyte没有一个分散的可编程电抗组件…直到现在！</p><p id="aee0" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">自主代理(AAs)是Obyte生态系统的新成员。AAs是存在于Obyte分类账上的程序，当它们被触发时以分散的方式执行。事实上，它们并不是自己一直在运行，它们必须被用户激活，或者事实上被其他AAs激活，这些用户通过向AAs发送事务来与AAs进行交互。这种触发交易通常是简单的支付，但是它们也可以携带例如数据元素。</p><p id="d35a" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">AAs是用所谓的<a class="ae km" href="https://developer.obyte.org/autonomous-agents/oscript-language-reference" rel="noopener ugc nofollow" target="_blank">脚本</a>语言编写的程序代码，由网络中的每个完整节点存储和执行。鉴于AAs的独特属性，它们是确定性的，并且在每个节点上独立地进行相同的评估。典型的流程如下:</p><ul class=""><li id="389c" class="kn ko ht js b jt ju jw jx jz kp kd kq kh kr kl ks kt ku kv dt translated">用户将交易发送到AA</li><li id="acd5" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated">当事务变得稳定时，AA程序代码在所有节点上执行，由用户创建的事务作为输入</li><li id="dd3e" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated">AA计算结果并输出捆绑在交易中的一条或多条消息</li><li id="59f0" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated">AA的输出变得稳定，并且交互被认为完成</li></ul><p id="4ce5" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">AA的输出可以是很多东西，可以是对用户、其他用户或AA的支付，可以是新资产的定义或在数据馈送中发布的数据等，但最重要的是状态更改输出。每个AA可以将其状态存储在状态变量中，这些变量可以在连续执行中读取和更新。</p><p id="4f6c" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">让我们将经典的Hello World应用程序创建为一个自主代理。最简单的方法是使用基于网络的<a class="ae km" href="https://testnet.oscript.org/" rel="noopener ugc nofollow" target="_blank">脚本编辑器(testnet) </a>。<br/>AA程序代码是一个JSON对象，它可以在JSON对象的值部分包含可执行的Oscript语句。强制对象是<code class="eh lb lc ld le b">messages</code>，它声明了AA的输出。让我们从一个简单的代码开始，它将<code class="eh lb lc ld le b">Hello World!</code>字符串返回给调用者，例如用户钱包。</p><pre class="jj jk jl jm fq lf le lg lh aw li dt"><span id="4a3a" class="lj lk ht le b fv ll lm l ln lo">{<br/>    messages: [<br/>        {<br/>            app: 'state',<br/>            state: `{<br/>                response['message'] = 'Hello World!';<br/>            }`<br/>        }<br/>    ]<br/>}</span></pre><p id="a32e" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">上面我们指示AA产生一个状态输出，带有一个名为<code class="eh lb lc ld le b">message</code>的响应变量。<code class="eh lb lc ld le b">response</code>是给触发AA的用户的信息，并不存储在Obyte分类帐中。以下是用户在“付款历史记录”选项卡中可以看到的内容:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/ffa812f4f1654724eb82f808dfd06aa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*EZ48lhTsqgzhewGs.png"/></div></figure><p id="0f3b" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">在这里我们可以观察到几件事:</p><ul class=""><li id="b5a4" class="kn ko ht js b jt ju jw jx jz kp kd kq kh kr kl ks kt ku kv dt translated">我们向<code class="eh lb lc ld le b">RQFA6V47KAHRUPYKH6VSJLILNXIXKZ3F</code>支付了一笔款项，这是Hello World AA的地址，也是AA定义的简单散列</li><li id="feb4" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated">我们发送了10000字节，这是AA可以被触发的最小量，选择它是为了使垃圾邮件更加昂贵，它也被称为“反弹费”，当AA被无效输入触发时收取</li><li id="5b13" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated"><code class="eh lb lc ld le b">Response unit</code>为空，因为我们只有一个不导致新Obyte事务的状态消息</li><li id="d595" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated"><code class="eh lb lc ld le b">Response</code>包含使用<code class="eh lb lc ld le b">response</code>数组返回的变量</li><li id="008d" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated"><code class="eh lb lc ld le b">Bounced? No</code>表示AA正常执行</li></ul><p id="dba0" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">现在，让我们通过返还用户发送来触发AA的一些钱来改进我们的Hello World AA。我们可以通过添加额外的付款信息来实现:</p><pre class="jj jk jl jm fq lf le lg lh aw li dt"><span id="1812" class="lj lk ht le b fv ll lm l ln lo">{<br/>    messages: [<br/>        {<br/>            app: 'payment',<br/>            payload: {<br/>                asset: 'base',<br/>                outputs: [{address: "{trigger.address}"}]<br/>            }<br/>        },<br/>        {<br/>            app: 'state',<br/>            state: `{<br/>                response['message'] = 'Hello World!'; <br/>            }`<br/>        }<br/>    ]<br/>}</span></pre><p id="8d75" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">看看付款信息:</p><ul class=""><li id="6812" class="kn ko ht js b jt ju jw jx jz kp kd kq kh kr kl ks kt ku kv dt translated">它声明支付是在基础资产中进行的，基础资产是名为<code class="eh lb lc ld le b">bytes</code>的Obyte平台的本地货币。</li><li id="b965" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated">它还声明将AA的全部余额发送回调用者地址。注意地址的特殊值:<code class="eh lb lc ld le b">{trigger.address}</code>。这是一个计算触发单元地址的Oscript表达式。</li></ul><p id="287d" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">部署这个脚本会产生一个新的AA地址(<code class="eh lb lc ld le b">XWSU74B7OMNIUNEXCVOKKJXXYR67BCFW</code>)，这是意料之中的，因为代码已经发生了变化，AA定义的散列也发生了变化。如果我们现在触发这个AA，我们将看到AA返回一些钱，基本上是原始的10000字节减去Obyte协议收取的过账费用:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/53545cce139747aea28e98cc76e96b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*JvjTl4gPr-I92D3m.png"/></div></figure><p id="1771" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">这里我们可以看到,<code class="eh lb lc ld le b">Response unit</code>现在填充了指向AA输出的单元哈希，这实际上是返回的支付交易:</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff ji"><img src="../Images/68bc64a11d5e14dbc096eafd14cc4639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*WsvrKv0G8QOS8Y2Y.png"/></div></figure><h1 id="f30f" class="lp lk ht bd lq lr ls lt lu lv lw lx ly iz lz ja ma jc mb jd mc jf md jg me mf dt translated">进一步阅读和其他资源</h1><ul class=""><li id="8907" class="kn ko ht js b jt mg jw mh jz mi kd mj kh mk kl ks kt ku kv dt translated">原始公告:<a class="ae km" rel="noopener" href="/obyte/introducing-autonomous-agents-6fe12fb12aa3">引入自主代理</a></li><li id="0807" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated"><a class="ae km" href="https://developer.obyte.org/autonomous-agents" rel="noopener ugc nofollow" target="_blank">开发者指南</a></li><li id="2d29" class="kn ko ht js b jt kw jw kx jz ky kd kz kh la kl ks kt ku kv dt translated"><a class="ae km" href="https://testnet.oscript.org/" rel="noopener ugc nofollow" target="_blank"> Testnet脚本编辑器</a></li></ul></div><div class="ab cl ml mm hb mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hm hn ho hp hq"><p id="bb23" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><em class="ms">原载于2019年7月31日</em><a class="ae km" href="https://steemit.com/obyte/@pmiklos/getting-started-with-obyte-autonomous-agents" rel="noopener ugc nofollow" target="_blank"><em class="ms">【https://steemit.com】</em></a><em class="ms">。</em></p><p id="9262" class="pw-post-body-paragraph jq jr ht js b jt ju iu jv jw jx ix jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><em class="ms">原载于2019年7月31日</em><a class="ae km" href="https://steemit.com/obyte/@pmiklos/getting-started-with-obyte-autonomous-agents" rel="noopener ugc nofollow" target="_blank"><em class="ms">https://steemit.com</em></a><em class="ms">。</em></p><blockquote class="mt"><p id="95f0" class="mu mv ht bd mw mx my mz na nb nc kl ek translated"><a class="ae km" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="ne nf ng nh ni jn fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nd"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>