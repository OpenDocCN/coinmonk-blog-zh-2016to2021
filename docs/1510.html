<html>
<head>
<title>Running a Cardano Node with Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Docker运行Cardano节点</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/running-a-cardano-node-with-docker-f03c4c13cbd3?source=collection_archive---------4-----------------------#2018-09-17">https://medium.com/coinmonks/running-a-cardano-node-with-docker-f03c4c13cbd3?source=collection_archive---------4-----------------------#2018-09-17</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="9963" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Cardano是一个加密货币和智能合约平台，在我看来，这是该领域最低调的项目之一。cardano的超级学术团队保持低调，创造高质量的软件。不幸的是，弄清楚如何使用它是一个反复试验的过程，因为与Ethereum或EOS相比，几乎没有关于它的文档或开发人员社区。今年早些时候，我写了几篇关于Cardano testnets和CLI工具的文章。</p><p id="0d0a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jp" rel="noopener" href="/coinmonks/cardano-smart-contracts-101-testnets-f9dc7ac24635">卡尔达诺智能合约101 —测试网</a></p><p id="da03" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jp" rel="noopener" href="/coinmonks/cardano-101-your-first-contract-ab22ec32e870">卡尔达诺101号——你的第一份合同</a></p><p id="d03b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">不幸的是，当我开始研究与Cardano mainnet的连接时，我发现Mallet只是用于即将到来的kevm和iele测试网。我必须弄清楚如何连接到mainnet，并通过自定义Node.js客户机向cardano节点发送自定义RPC调用。</p><p id="ac6a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">要求</strong></p><ul class=""><li id="6f87" class="jq jr ht is b it iu ix iy jb js jf jt jj ju jn jv jw jx jy dt translated">乌班图——OSX不适合我；（</li><li id="4985" class="jq jr ht is b it jz ix ka jb kb jf kc jj kd jn jv jw jx jy dt translated">饭桶</li><li id="ac05" class="jq jr ht is b it jz ix ka jb kb jf kc jj kd jn jv jw jx jy dt translated">码头工人</li></ul></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><h2 id="7270" class="kl km ht bd kn ko kp kq kr ks kt ku kv jb kw kx ky jf kz la lb jj lc ld le lf dt translated">肥胖的钱包</h2><p id="5e11" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">我发现我可以下载并安装代达罗斯钱包应用程序，并连接到mainnet相当容易。钱包在后台运行一个cardano-sl节点，可以通过RESTful接口访问该节点。在盲目地在远程服务器上安装docker镜像之前，在本地安装并试验一下这可能是个好主意。</p><p id="36c5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jp" href="https://daedaluswallet.io/#download" rel="noopener ugc nofollow" target="_blank">代达罗斯钱包- Windows/OSX版</a></p><p id="0c46" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下载并同步钱包后，继续通过GUI添加钱包。如果你想的话，你需要写下助记符和密码。</p><h2 id="e887" class="kl km ht bd kn ko kp kq kr ks kt ku kv jb kw kx ky jf kz la lb jj lc ld le lf dt translated"><strong class="ak">邮递员</strong></h2><p id="d4ea" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">我建议你在这里下载<em class="jo"> Postman </em>应用<a class="ae jp" href="https://www.getpostman.com/apps" rel="noopener ugc nofollow" target="_blank">，在这里</a>导入下面的swagger定义<a class="ae jp" href="https://cardanodocs.com/technical/wallet/api/v1/swagger.json" rel="noopener ugc nofollow" target="_blank">。为了让您的邮递员查询在本地使用您的代达罗斯钱包，您需要关闭ssl证书验证，因为钱包使用自签名证书。</a></p><figure class="lm ln lo lp fq lq fe ff paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="fe ff ll"><img src="../Images/e678f309b1fae63e7f81508311512cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TR195SV8XL6vc6VEwO7MEA.png"/></div></div></figure><p id="e00d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">摆弄一下cardano提供的postman集合，您会对wallet =&gt; account =&gt; address关系和模型的其他微妙方面有所了解。</p></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><h2 id="dc6f" class="kl km ht bd kn ko kp kq kr ks kt ku kv jb kw kx ky jf kz la lb jj lc ld le lf dt translated">码头工人</h2><p id="e12a" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated"><strong class="is hu">选项</strong> <br/>您可以构建映像或使用预构建的映像。下面介绍了这两个选项，但是您需要创建数据目录。</p><p id="fd10" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">创建数据目录</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="3de7" class="kl km ht ly b fv mc md l me mf">$ mkdir cardano &amp;&amp; cd cardano<br/>$ mkdir data &amp;&amp; chmod 777 data</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="f6b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">建筑形象</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="f71e" class="kl km ht ly b fv mc md l me mf">$ git clone <a class="ae jp" href="https://github.com/cipherzzz/cardano-node" rel="noopener ugc nofollow" target="_blank">https://github.com/cipherzzz/cardano-node</a></span><span id="0322" class="kl km ht ly b fv mg md l me mf">$ cd cardano-node</span><span id="147b" class="kl km ht ly b fv mg md l me mf"># Build the image locally<br/>$ docker build -t cardano-node .</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="2e2e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">更新图像</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="5578" class="kl km ht ly b fv mc md l me mf"># Login to docker hub<br/>$ docker login</span><span id="8765" class="kl km ht ly b fv mg md l me mf"># Tag the local build with a remote tag<br/>$ docker tag cardano-node cipherz/cardano-node</span><span id="b96a" class="kl km ht ly b fv mg md l me mf"># Push the new tag to the remote<br/>$ docker push cipherz/cardano-node</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="7275" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">使用现有图像</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="22f2" class="kl km ht ly b fv mc md l me mf"># Pull the remote built image<br/>$ docker pull cipherz/cardano-node</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="f7a3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">运行构建/提取的映像</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="201a" class="kl km ht ly b fv mc md l me mf"># Get image id below<br/>$ docker images</span><span id="1acd" class="kl km ht ly b fv mg md l me mf"># Create and run the container<br/>$ docker run -d — name=cardano-node -v ~/cardano/data:/home/cardano/cardano-sl/state-wallet-mainnet:Z -p 127.0.0.1:8090:443 &lt;image id&gt;</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="dda7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">验证</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="d62e" class="kl km ht ly b fv mc md l me mf"># Curl Wallet API <br/>$ curl -k <br/><a class="ae jp" href="https://127.0.0.1:8090/api/v1/node-info" rel="noopener ugc nofollow" target="_blank">https://127.0.0.1:8090/api/v1/node-info</a></span><span id="61e1" class="kl km ht ly b fv mg md l me mf"># Verify wallet /data dir<br/>$ ls ../data</span><span id="614a" class="kl km ht ly b fv mg md l me mf"># Peek at Node logs<br/>$ docker logs -f cardano-node</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="1b22" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">维修</strong></p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="0fac" class="kl km ht ly b fv mc md l me mf"># Start/Stop Container<br/>$ docker stop cardano-node<br/>$ docker start cardano-node</span><span id="79ec" class="kl km ht ly b fv mg md l me mf"># Remove Container<br/>$ docker ps<br/>$ docker container rm -f &lt;container id&gt;</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="9777" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">打造钱包</strong></p><p id="27ae" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦您验证了节点正在运行，我们需要在其上创建一个wallet。运行以下命令在节点上创建wallet，并根据需要编辑参数。</p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="11bf" class="kl km ht ly b fv mc md l me mf">curl -k -X POST <a class="ae jp" href="https://127.0.0.1:8090/api/v1/wallets" rel="noopener ugc nofollow" target="_blank">https://127.0.0.1:8090/api/v1/wallets</a> \<br/> -d ‘{ “operation”: “create”, “backupPhrase”: [&lt;12 word mnemonic&gt;], “assuranceLevel”: “normal”, “name”: “Test Wallet” }’ \<br/> -H “Accept: application/json; charset=utf-8” \<br/> -H “Content-Type: application/json; charset=utf-8”</span></pre><p id="c468" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在您已经创建了一个钱包，让我们为我们的节点列出钱包。从该响应中找到并记下钱包的<em class="jo"> id </em>参数。</p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="8376" class="kl km ht ly b fv mc md l me mf">curl -k <a class="ae jp" href="https://127.0.0.1:8090/api/v1/wallets" rel="noopener ugc nofollow" target="_blank">https://127.0.0.1:8090/api/v1/wallets</a></span></pre><p id="ded6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们需要获得钱包id为T8的账户索引。用id<em class="jo">参数</em>的替换执行下面的curl。您将从下面的回答中找到一系列客户。记下<em class="jo">账户索引</em>参数。</p><pre class="lm ln lo lp fq lx ly lz ma aw mb dt"><span id="d875" class="kl km ht ly b fv mc md l me mf">curl -k <a class="ae jp" href="https://localhost:8090/api/v1/wallets/" rel="noopener ugc nofollow" target="_blank">https://localhost:8090/api/v1/wallets/</a>&lt;wallet id&gt;/accounts</span></pre><p id="efa5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们已经创建了一个wallet，并记下了wallet id<em class="jo">和默认wallet <em class="jo"> accountIndex </em>。我们将需要这些来与我们的钱包交互，以完成诸如生成地址和发送交易之类的事情。</em></p><p id="7b66" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">请注意，您可能希望将一些ADA转移到此帐户。您将会看到一个由前面的<em class="jo">地址</em>组成的数组</p></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><h2 id="ec2c" class="kl km ht bd kn ko kp kq kr ks kt ku kv jb kw kx ky jf kz la lb jj lc ld le lf dt translated">摘要</h2><p id="e763" class="pw-post-body-paragraph iq ir ht is b it lg iv iw ix lh iz ja jb li jd je jf lj jh ji jj lk jl jm jn hm dt translated">如果你愿意，你可以在这里下载这个项目。我希望这对您有所帮助，并期待在不久的将来能够使用Mallet CLI！</p><p id="0c5c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">我的回购是从【这里】(</em><a class="ae jp" href="https://github.com/TheDevKnight/cardano-sl-wallet" rel="noopener ugc nofollow" target="_blank"><em class="jo">https://github.com/TheDevKnight/cardano-sl-wallet</em></a><em class="jo">)分叉的，感谢</em><a class="ae jp" href="http://twitter.com/TheDevKnight" rel="noopener ugc nofollow" target="_blank"><em class="jo">@ the dev knight</em></a><em class="jo">的帮助，让我起程。我还借用了[这里]的配置内容(</em><a class="ae jp" href="https://github.com/EmurgoVN/cardano_docker" rel="noopener ugc nofollow" target="_blank"><em class="jo">【https://github.com/EmurgoVN/cardano_docker】</em></a><em class="jo">)。</em></p><blockquote class="mh"><p id="cd47" class="mi mj ht bd mk ml mm mn mo mp mq jn ek translated"><a class="ae jp" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="ms mt mu mv mw lq fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mr"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>