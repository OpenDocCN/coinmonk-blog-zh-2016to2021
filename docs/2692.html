<html>
<head>
<title>Advanced smart contract security verification in Remix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Remixä¸­çš„é«˜çº§æ™ºèƒ½åˆçº¦å®‰å…¨éªŒè¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/coinmonks/advanced-smart-contract-security-verification-in-remix-9630b43695e5?source=collection_archive---------2-----------------------#2020-01-28">https://medium.com/coinmonks/advanced-smart-contract-security-verification-in-remix-9630b43695e5?source=collection_archive---------2-----------------------#2020-01-28</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="9a3c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo"/><a class="ae jp" href="https://remix.ethereum.org" rel="noopener ugc nofollow" target="_blank"><em class="jo">Remix</em></a><em class="jo">å¼€å‘ç¯å¢ƒé€šè¿‡</em><a class="ae jp" rel="noopener" href="/coinmonks/advanced-smart-contract-security-verification-in-remix-9630b43695e5"><em class="jo">MythX</em></a><em class="jo">æ’ä»¶ä¸ºç”¨æˆ·æä¾›äº†ä¸€ç§ä¾¿æ·è€Œå¼ºå¤§çš„æ£€æŸ¥æ™ºèƒ½åˆçº¦æ­£ç¡®æ€§çš„æ–¹å¼ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è§£é‡ŠåŸºç¡€çŸ¥è¯†ï¼Œå¹¶æä¾›å‡ ä¸ªä¾‹å­ï¼ŒåŒ…æ‹¬ç°å®ä¸–ç•Œä¸­æ™ºèƒ½åˆçº¦çš„å®‰å…¨æ€§æµ‹è¯•ã€‚</em></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/7a98dfa8b5a5fe159b79c31f4743e0cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bF2a_nN2OhQKEoBjUo1yaQ.jpeg"/></div></div></figure><p id="ef73" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æ™ºèƒ½å¥‘çº¦æ˜¯ä¸å¯å˜çš„(æˆ–è€…è‡³å°‘<a class="ae jp" rel="noopener" href="/consensys-diligence/upgradeability-is-a-bug-dba0203152ce">å‡è®¾å¦‚æ­¤</a>ï¼Œåœ¨å°†å¥‘çº¦éƒ¨ç½²åˆ°mainnetä¹‹å‰ç¡®ä¿ç¨‹åºçš„æ­£ç¡®æ€§<em class="jo">æ˜¯ç»å¯¹å¿…è¦çš„ã€‚å®‰å…¨å®¡è®¡å’Œå…¨é¢çš„æµ‹è¯•å¥—ä»¶æœ‰åŠ©äºç¡®ä¿ä»£ç æ²¡æœ‰é”™è¯¯ã€‚å½“è°ˆåˆ°è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ï¼Œç¼–å†™å…¨é¢çš„å•å…ƒæµ‹è¯•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œä½†æ˜¯è¿™æ ·çš„æµ‹è¯•ä¸èƒ½ç¡®ä¿ä»£ç åœ¨æ‰€æœ‰çš„T21ç¯å¢ƒä¸‹éƒ½èƒ½æ­£ç¡®è¿è¡Œã€‚è¿™å°±æ˜¯è¯¸å¦‚ç¬¦å·åˆ†æå’Œè¾“å…¥æ¨¡ç³ŠåŒ–ç­‰ç¨‹åºåˆ†ææŠ€æœ¯å¯ä»¥æä¾›é¢å¤–ä¿¡å¿ƒçš„åœ°æ–¹ã€‚</em></p><p id="04e8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä½¿ç”¨<a class="ae jp" href="https://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix </a>ä¸­çš„â€œMythXâ€æ ‡ç­¾ï¼Œä½ å¯ä»¥ä½¿ç”¨ç°ç›’æ¨¡ç³Šå’Œç¬¦å·åˆ†ææ¥æ£€æŸ¥ä»£ç ä¸­çš„<em class="jo">æ–­è¨€</em>ã€‚æ¢å¥è¯è¯´ï¼ŒMythX security analyzerä¼šå…¨åŠ›ä»¥èµ´ï¼Œæ‰“ç ´æ‚¨å¯¹ä»£ç çš„å‡è®¾ï¼Œå¹¶æé†’æ‚¨æ³¨æ„æ„å¤–çš„é”™è¯¯ã€‚</p><p id="c4f1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è®©æˆ‘ä»¬ä»ä¸€ä¸ªåŸºæœ¬çš„ä¾‹å­å¼€å§‹æ¥è¯´æ˜è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚é€šè¿‡åœ¨ä»£ç ä¸­æ·»åŠ æ–­è¨€ï¼Œä½ <em class="jo">æ–­è¨€</em>å½“åˆ°è¾¾ç‰¹å®šçš„ç¨‹åºä½ç½®æ—¶ï¼ŒæŸä¸ªè¡¨è¾¾å¼<em class="jo">æ€»æ˜¯</em>è¯„ä¼°ä¸ºâ€œçœŸâ€ã€‚è€ƒè™‘ä»¥ä¸‹ä»£ç :</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="5583" class="kh ki ht kd b fv kj kk l kl km">pragma solidity ^0.5.0;</span><span id="3f86" class="kh ki ht kd b fv kn kk l kl km">contract Primality {<br/>    <br/>    uint256 public largePrime = 973013;<br/>    <br/>    uint256 x;<br/>    uint256 y;<br/>    <br/>    function setX(uint256 _x) external {<br/>        x = _x;<br/>    }<br/> <br/>    function setY(uint256 _y) external {<br/>        y = _y;<br/>    }<br/>    <br/>    function checkSomething() external view {<br/>        require(x &gt; 1 &amp;&amp; x &lt; largePrime);<br/>        require(y &gt; 1 &amp;&amp; y &lt; largePrime);<br/>        assert(x*y != largePrime);<br/>    }<br/>}</span></pre><p id="8f56" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">åœ¨<code class="eh ko kp kq kd b">checkSomething()</code>ä¸­ï¼Œæˆ‘ä»¬æ–­è¨€<code class="eh ko kp kq kd b">uint256 largePrime</code>æ˜¯è´¨æ•°(å³å®ƒåªèƒ½è¢«1å’Œå®ƒè‡ªå·±æ•´é™¤)ã€‚æˆ‘ä»¬å°†æ­¤è¡¨è¿°ä¸º:</p><ul class=""><li id="2ac9" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated"><em class="jo">ä¸å­˜åœ¨å¤§äº1å°äºlargePrimeä¸”å…¶ä¹˜ç§¯ä¸largePrimeçš„å€¼åŒ¹é…çš„æ•°å­—å¯¹xï¼Œyã€‚</em></li></ul><p id="655f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å¯ä»¥ç”¨MythXæ¥æ£€éªŒä¸Šè¿°è®ºæ–­æ˜¯å¦æ­£ç¡®ã€‚å®ƒä½¿ç”¨ä¸¤ç§æ–¹æ³•:å°è¯•è®¸å¤šå¯èƒ½çš„è¾“å…¥æ¥ç¡®å®šå¼‚å¸¸æ˜¯å¦å¯ä»¥è¢«è§¦å‘(<a class="ae jp" rel="noopener" href="/consensys-diligence/finding-vulnerabilities-in-smart-contracts-175c56affe2">æ¨¡ç³ŠåŒ–</a>)ï¼Œå¹¶ä½¿ç”¨SMTè§£ç®—å™¨æ£€æŸ¥åˆ°è¾¾å¤±è´¥çŠ¶æ€çš„æ‰§è¡Œè·¯å¾„æ˜¯å¦å¯è¡Œ(<a class="ae jp" rel="noopener" href="/@joran.honig/introduction-to-mythril-classic-and-symbolic-execution-ef59339f259b">ç¬¦å·åˆ†æ</a>)ã€‚</p><p id="da45" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jp" href="https://docs.mythx.io/en/latest/tools/remix/index.html" rel="noopener ugc nofollow" target="_blank">æ‰“å¼€Remix </a>ä¸­çš„MythXé€‰é¡¹å¡ï¼Œå°†ä¸Šè¿°ä»£ç å¤åˆ¶/ç²˜è´´åˆ°ä¸€ä¸ªæ–°æ–‡ä»¶ä¸­ï¼Œç„¶åå•å‡»â€œåˆ†æâ€æŒ‰é’®ã€‚å‡ åˆ†é’Ÿåï¼Œç»“æœåº”è¯¥æ˜¾ç¤ºåœ¨â€œæŠ¥å‘Šâ€é€‰é¡¹å¡ä¸­ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ ‡é¢˜ä¸ºâ€œæ–­è¨€è¿è§„â€çš„é—®é¢˜ã€‚</p><p id="ec29" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æ‚¨å¯ä»¥é€šè¿‡å•å‡»é—®é¢˜æ ‡é¢˜æ¥çªå‡ºæ˜¾ç¤ºå—å½±å“çš„ä»£ç è¡Œã€‚å•å‡»æ ‡é¢˜å·¦è¾¹çš„ç®­å¤´ä¼šæ˜¾ç¤ºæ›´è¯¦ç»†çš„æè¿°ï¼Œæœ€é‡è¦çš„æ˜¯ï¼ŒMythXæ‰¾åˆ°çš„ä¾‹å­è¿åäº†æˆ‘ä»¬çš„æ–­è¨€ã€‚</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff la"><img src="../Images/583c3b9af7acf4b77cb03b6b59dbd79b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wdYHAUQcp1i6nF_KR3AXrg.png"/></div></div></figure><p id="cf1f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬21è¡Œæ˜¾ç¤ºäº†è§¦å‘æ–­è¨€å†²çªçš„å‡½æ•°è°ƒç”¨åºåˆ—:</p><ol class=""><li id="dc91" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn lb kx ky kz dt translated"><em class="jo">åˆåŒåˆ›å»º</em></li><li id="12bd" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn lb kx ky kz dt translated"><em class="jo">å¡æ(953) </em></li><li id="fd3f" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn lb kx ky kz dt translated"><em class="jo"> setX(1021) </em></li><li id="d2c5" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn lb kx ky kz dt translated"><em class="jo"> checkSomething() </em></li></ol><p id="6e65" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä¸ºäº†éªŒè¯MythXæä¾›çš„ä¾‹å­æ˜¯æ­£ç¡®çš„ï¼Œæ‚¨å¯ä»¥å°†å¥‘çº¦éƒ¨ç½²åˆ°JavaScript VMï¼Œå¹¶ä»¥è§¦å‘å¼‚å¸¸çš„ç›¸åŒé¡ºåºæ‰§è¡Œå‡½æ•°è°ƒç”¨ã€‚</p><p id="b640" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¦ä½¿ç”¨MythXï¼Œæ‚¨ä¸éœ€è¦ç¡®åˆ‡åœ°çŸ¥é“å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½†æ˜¯æœ‰ä¸€äº›å…³äºåˆ†ææœåŠ¡çš„äº‹å®éœ€è¦äº†è§£:</p><ul class=""><li id="cc82" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated">ä»æ„é€ å‡½æ•°è®¾ç½®çš„åˆå§‹çŠ¶æ€å¼€å§‹ï¼ŒMythXæ¢ç´¢äº‹åŠ¡åºåˆ—(è°ƒç”¨å‡½æ•°<em class="jo"> setY() </em>ï¼Œç„¶åæ˜¯å‡½æ•°<em class="jo"> setX() </em>ç­‰ç­‰)ã€‚</li><li id="21b8" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated">åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒMythXåˆ†è§£äº†ä¸€ä¸ªæ•°å­—ã€‚è¿™å¯¹äºéå¸¸å¤§çš„æ•°é‡æ¥è¯´æ˜¯è¡Œä¸é€šçš„ã€‚å¯ç”¨äºè§£å†³å¤æ‚æ•°å­¦å’Œé€»è¾‘é—®é¢˜çš„è®¡ç®—æœºå–å†³äºä½¿ç”¨å“ªç§<a class="ae jp" href="https://blog.mythx.io/features/mythx-full-mode-security-analysis-explained/" rel="noopener ugc nofollow" target="_blank">åˆ†ææ¨¡å¼</a>ã€‚</li><li id="161c" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated">MythXä¸ºå®ƒæ£€æµ‹åˆ°çš„æ¯ä¸ªæ–­è¨€è¿è§„ç”Ÿæˆä¸¤ä¸ªç¤ºä¾‹ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨å…¶ä»–æƒ…å†µï¼Œæ‰€ä»¥æ‚¨åº”è¯¥åœ¨åº”ç”¨ä¿®å¤åé‡æ–°è¿è¡ŒMythXã€‚</li></ul><h2 id="329e" class="kh ki ht bd lh li lj lk ll lm ln lo lp jb lq lr ls jf lt lu lv jj lw lx ly lz dt translated">ç¼–å†™æ­£ç¡®æ€§æ£€æŸ¥</h2><p id="8fc9" class="pw-post-body-paragraph iq ir ht is b it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj me jl jm jn hm dt translated">æ–­è¨€è¯­å¥å¯ä»¥ç”¨æ¥å‘ç°å¾®å¦™çš„æ¼æ´ã€‚ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•å°±æ˜¯åœ¨æ™ºèƒ½åˆåŒæˆ˜äº‰æ¸¸æˆä¸­ä½œå¼Šã€‚å¤§å¤šæ•°å¯é æ€§é»‘å®¢æŒ‘æˆ˜å®šä¹‰äº†ç©å®¶éœ€è¦è¾¾åˆ°çš„ç‰¹å®šç›®æ ‡ã€‚å¦‚æœæ‚¨å°†ä»£ç å¤åˆ¶/ç²˜è´´åˆ°MythXä¸­ï¼Œå¹¶æ–­è¨€ç›®æ ‡<em class="jo"> </em>çš„å¦å®šï¼Œè¿™å°†æ¿€åŠ±MythXæ‰¾åˆ°æŒ‘æˆ˜çš„è§£å†³æ–¹æ¡ˆã€‚</p><p id="1b25" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨MythXè§£å†³ä»¥å¤ªæˆ˜å£«æˆ˜äº‰æ¸¸æˆçš„<a class="ae jp" href="https://ethernaut.openzeppelin.com/level/0xe83cf387ddfd13a2db5493d014ba5b328589fb5f" rel="noopener ugc nofollow" target="_blank">ç¬¬17å…³ã€‚è¯¥æŒ‘æˆ˜çš„ç›®æ ‡æ˜¯é€šè¿‡å°†å¸ƒå°”çŠ¶æ€å˜é‡è®¾ç½®ä¸º<em class="jo">çœŸ</em>æ¥è§£é”â€œæ³¨å†Œå•†â€æ™ºèƒ½åˆåŒã€‚ç®€å•åœ°çœ‹ä¸€ä¸‹ä»£ç ï¼Œæ²¡æœ‰æ˜¾ç¤ºå‡ºä»»ä½•å®ç°è¿™ä¸€ç‚¹çš„æ˜æ˜¾æ–¹æ³•(é™¤éä½ åœ¨å®¡è®¡Solidityä»£ç æ–¹é¢æœ‰ç‚¹ç»éªŒ)ã€‚</a></p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="1376" class="kh ki ht kd b fv kj kk l kl km">pragma solidity ^0.4.23;</span><span id="c326" class="kh ki ht kd b fv kn kk l kl km">// A Locked Name Registrar<br/>contract Locked {</span><span id="1f12" class="kh ki ht kd b fv kn kk l kl km">    bool public unlocked = false;  // registrar locked, no name updates<br/>    <br/>    struct NameRecord { // map hashes to addresses<br/>        bytes32 name; // <br/>        address mappedAddress;<br/>    }</span><span id="3e5b" class="kh ki ht kd b fv kn kk l kl km">    mapping(address =&gt; NameRecord) public registeredNameRecord; //    records who registered names <br/>    mapping(bytes32 =&gt; address) public resolve; // resolves hashes to addresses<br/>    <br/>    function register(bytes32 _name, address _mappedAddress) public {<br/>        // set up the new NameRecord<br/>        NameRecord newRecord;<br/>        newRecord.name = _name;<br/>        newRecord.mappedAddress = _mappedAddress;</span><span id="903b" class="kh ki ht kd b fv kn kk l kl km">        resolve[_name] = _mappedAddress;<br/>        registeredNameRecord[msg.sender] = newRecord;</span><span id="2285" class="kh ki ht kd b fv kn kk l kl km">        require(unlocked); // only allow registrations if contract is unlocked<br/>    }<br/>}</span></pre><p id="1c32" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä»å®‰å…¨å®¡è®¡å‘˜çš„è§’åº¦è€ƒè™‘è¿™ä¸€æŒ‘æˆ˜ï¼Œå®‰å…¨å®¡è®¡å‘˜å¸Œæœ›ç¡®ä¿ä¸€æ—¦éƒ¨ç½²ï¼ŒåˆåŒå°†æ°¸è¿œé”å®šã€‚å®¡è®¡å‘˜å¯ä»¥æ–­è¨€å¦‚ä¸‹:</p><ul class=""><li id="c997" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated"><em class="jo">å¸ƒå°”å˜é‡â€œè§£é”â€çš„å€¼å¿…é¡»å§‹ç»ˆä¸ºå‡ã€‚</em></li></ul><p id="31ed" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘æ–­è¨€<code class="eh ko kp kq kd b">unlocked == false</code>çš„å¥‘çº¦æ·»åŠ ä¸€ä¸ªæ–°å‡½æ•°æ¥è½»æ¾æ£€æŸ¥è¿™ä¸€ç‚¹ã€‚å°†è´¨è¯¢ä»£ç å¤åˆ¶åˆ°Remixä¸­ï¼Œå¹¶å°†ä»¥ä¸‹å‡½æ•°æ·»åŠ åˆ°åˆåŒç±»ä¸­:</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="c6cf" class="kh ki ht kd b fv kj kk l kl km">function getSolution() public {<br/>    assert(!unlocked);<br/>}</span></pre><p id="a2b2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">åšä¸€ä¸ªå¿«é€Ÿçš„MythXåˆ†æã€‚åˆ†æå®Œæˆåï¼Œæ‚¨åº”è¯¥ä¼šåœ¨æŠ¥å‘Šé€‰é¡¹å¡ä¸­çœ‹åˆ°ä¸€ä¸ªæ ‡é¢˜ä¸ºâ€œæ–­è¨€è¿è§„â€çš„é—®é¢˜ã€‚å±•å¼€é—®é¢˜ï¼Œæ‰¾åˆ°MythXäº§ç”Ÿçš„ä¾‹å­(transaction 2ä¸­çš„â€œdecoded calldataâ€)ã€‚</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mf"><img src="../Images/0fdca34a6b1e4f3b2acc85cfe560b310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wWCmCJiBLPyEmt1h.jpg"/></div></div></figure><p id="749d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å‡½æ•°å‚æ•°ç›¸å½“é•¿ï¼Œä¼šåœ¨å³è¾¹è¢«æˆªæ–­ã€‚å°†æ•´è¡Œå¤åˆ¶åˆ°æ–‡æœ¬ç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹ã€‚é€šè¿‡å¯¹è¾“å‡ºè¿›è¡Œä¸€äº›é‡æ–°æ ¼å¼åŒ–ï¼Œæ‚¨å¯ä»¥åœ¨Remixä¸­è¿è¡Œç¤ºä¾‹ï¼Œå¹¶éªŒè¯<code class="eh ko kp kq kd b">unlocked</code>ç¡®å®è¢«è®¾ç½®ä¸º<code class="eh ko kp kq kd b">true</code>:</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="11da" class="kh ki ht kd b fv kj kk l kl km">register(0x0000000000000000000000000000000000000000000000000000000000000006,0x0000000000000000000000000000000000000000)</span></pre><p id="53df" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼ŸåŸæ¥ï¼Œå‡½æ•°<code class="eh ko kp kq kd b">register</code> <a class="ae jp" href="https://swcregistry.io/docs/SWC-109" rel="noopener ugc nofollow" target="_blank">å°†ç”¨æˆ·æä¾›çš„å€¼å†™å…¥æŒ‡å‘å­˜å‚¨çš„æœªåˆå§‹åŒ–ç»“æ„</a>ã€‚è¿™å¯¼è‡´å¯¹å­˜å‚¨æ§½0çš„å†™å…¥ï¼Œè¯¥å­˜å‚¨æ§½æ°å¥½åŒ…å«æˆ‘ä»¬æƒ³è¦æ›´æ”¹çš„å¸ƒå°”å€¼(åœ¨Remix JavaScript VMä¸­é‡æ”¾è¯¥æ“ä½œä»¥éªŒè¯è§£å†³æ–¹æ¡ˆ)ã€‚</p><p id="fa5d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ–­è¨€è¿è§„å¯èƒ½æœ‰å„ç§æ ¹æœ¬åŸå› ï¼ŒåŒ…æ‹¬æ•´æ•°æº¢å‡ºå’Œä¸‹æº¢ã€å†™å…¥æ„å¤–çš„å†…å­˜ä½ç½®ã€å¿˜è®°ä¿®é¥°ç¬¦ç­‰ç­‰ã€‚åªè¦æœ‰<em class="jo">æŸç§</em>æ–¹æ³•æ¥æ‰“ç ´æ–­è¨€ï¼ŒMythXå°±æœ‰å¯èƒ½æ‰¾åˆ°å®ƒå¹¶æ˜¾ç¤ºå®ç°å®ƒçš„æ­¥éª¤ã€‚</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><a href="https://mythx.io/?utm_source=content&amp;utm_medium=medium"><div class="fe ff mg"><img src="../Images/5b74ac7b8709c1d9a4c472bdadf64ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c_Khj-jcI6x_HF4Lc_HLCQ.png"/></div></a></figure><h2 id="4152" class="kh ki ht bd lh li lj lk ll lm ln lo lp jb lq lr ls jf lt lu lv jj lw lx ly lz dt translated">å‡½æ•°å‰ç½®æ¡ä»¶å’Œåç½®æ¡ä»¶</h2><p id="7f74" class="pw-post-body-paragraph iq ir ht is b it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj me jl jm jn hm dt translated">å‰é¢çš„ä¾‹å­å±•ç¤ºäº†æ£€æŸ¥ä¸€ç§ç‰¹å®šç±»å‹çš„å±æ€§çš„æ–­è¨€ï¼Œè¿™ç§å±æ€§è¢«ç§°ä¸º<em class="jo">å¥‘çº¦ä¸å˜é‡</em>(ä¸‹é¢å°†è¯¦ç»†ä»‹ç»)ã€‚é™¤äº†æ£€æŸ¥å…¨å±€ä¸å˜é‡çš„æœ‰æ•ˆæ€§ï¼Œé€šå¸¸è¿˜éœ€è¦æ£€æŸ¥ç‰¹å®šå‡½æ•°çš„è¡Œä¸ºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šä½¿ç”¨å‡½æ•°å‰ç½®æ¡ä»¶å’Œåç½®æ¡ä»¶ã€‚</p><p id="7c01" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">åœ¨æœ€è¿‘ä¸<a class="ae jp" href="https://diligence.consensys.net" rel="noopener ugc nofollow" target="_blank"> ConsenSys Diligence </a>å¯¹<a class="ae jp" href="https://0x.org" rel="noopener ugc nofollow" target="_blank"> 0x </a>æ™ºèƒ½åˆçº¦è¿›è¡Œå®‰å…¨å®¡è®¡æœŸé—´ï¼Œæˆ‘ä»¬æµ‹è¯•äº†ä¸€ä¸ªå¯¹å®šç‚¹æœ‰ç¬¦å·æ•´æ•°å®æ–½ç®—æœ¯è¿ç®—çš„åº“ã€‚åœ¨å…¶ä»–äº‹æƒ…ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ç¡®ä¿ç®—æœ¯å‡½æ•°ä¸ä¼šä¸Šæº¢å’Œä¸‹æº¢ã€‚</p><p id="ba18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä¸‹é¢æ˜¯<code class="eh ko kp kq kd b">_add()</code>å‡½æ•°çš„<a class="ae jp" href="https://github.com/0xProject/0x-monorepo/blob/ac75053f697bbadb1d748ded31ad3946c4d47e1a/contracts/staking/contracts/src/libs/LibFixedMath.sol" rel="noopener ugc nofollow" target="_blank">åŸå§‹ç‰ˆæœ¬</a>ï¼Œå®ƒæ¥å—ä¸¤ä¸ªæœ‰ç¬¦å·æ•´æ•°å‚æ•°å¹¶è¿”å›å’Œï¼Œæ®è¯´åœ¨æº¢å‡ºæ—¶æ¢å¤ã€‚</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="5183" class="kh ki ht kd b fv kj kk l kl km">contract FixedMath {</span><span id="63d5" class="kh ki ht kd b fv kn kk l kl km">/// <a class="ae jp" href="http://twitter.com/dev" rel="noopener ugc nofollow" target="_blank">@dev</a> Adds two numbers, reverting on overflow.<br/>    function _add(int256 a, int256 b) public pure returns (int256 c) {<br/>        c = a + b;<br/>        if (c &gt; 0 &amp;&amp; a &lt; 0 &amp;&amp; b &lt; 0) {<br/>            revert();<br/>        }<br/>        if (c &lt; 0 &amp;&amp; a &gt; 0 &amp;&amp; b &gt; 0) {<br/>            revert();<br/>        }<br/>    }    <br/>}</span></pre><p id="f196" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å¾ˆéš¾çœ‹å‡ºè¿™ä¸ªå‡½æ•°æ˜¯å¦çœŸçš„æ•æ‰åˆ°äº†æ‰€æœ‰å¯èƒ½çš„æº¢å‡ºå’Œä¸‹æº¢ï¼Œæ‰€ä»¥è¿™æ˜¯ç”¨MythXâ€œæ¬ºéª—â€çš„ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä»¥ä¸‹ä¸¤ä¸ªå±æ€§:</p><ul class=""><li id="9754" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated"><em class="jo">å’Œa â‰¥ 0ï¼Œb &gt; 0å¿…é¡»æ€»æ˜¯æ­£æ•°ï¼›</em></li><li id="dc0c" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated"><em class="jo">aâ‰¤0ï¼Œb &lt; 0ä¹‹å’Œå¿…é¡»æ°¸è¿œæ˜¯è´Ÿæ•°ã€‚</em></li></ul><p id="4653" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">ä¸ºäº†ä¸è§¦åŠåŸå§‹å¥‘çº¦ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä»æˆ‘ä»¬çš„<em class="jo"> FixedMath </em>ç»§æ‰¿çš„åŒ…è£…å¥‘çº¦ï¼Œå¹¶è¦†ç›–ç›®æ ‡å‡½æ•°æ¥æ’å…¥æ£€æŸ¥ã€‚ä¸Šè¿°å±æ€§è¢«è½¬æ¢æˆå¦‚ä¸‹æ–­è¨€:</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="dae8" class="kh ki ht kd b fv kj kk l kl km">contract VerifyFixedMath is FixedMath {</span><span id="8b11" class="kh ki ht kd b fv kn kk l kl km">    // The sum of two positive numbers or zero and a positive number must be a positive number</span><span id="dd3d" class="kh ki ht kd b fv kn kk l kl km">    function EnsureAddNoOverflow(int256 a, int256 b) public pure returns (int256) {<br/>   <br/>        // Preconditions</span><span id="daa0" class="kh ki ht kd b fv kn kk l kl km">        require(a &gt;= 0);<br/>        require(b &gt; 0);</span><span id="7793" class="kh ki ht kd b fv kn kk l kl km">        // Postcondition</span><span id="c2ed" class="kh ki ht kd b fv kn kk l kl km">        assert(_add(a, b) &gt; 0);<br/>    }</span><span id="9aba" class="kh ki ht kd b fv kn kk l kl km">    // The sum of two negative numbers or zero and a negative number must be a negative number</span><span id="ea2b" class="kh ki ht kd b fv kn kk l kl km">    function EnsureAddNoUnderflow(int256 a, int256 b) public pure returns (int256) {</span><span id="4cc3" class="kh ki ht kd b fv kn kk l kl km">        // Preconditions</span><span id="11c3" class="kh ki ht kd b fv kn kk l kl km">        require(a &lt;= 0);<br/>        require(b &lt; 0);</span><span id="c3a2" class="kh ki ht kd b fv kn kk l kl km">        // Postcondition</span><span id="e299" class="kh ki ht kd b fv kn kk l kl km">        assert(_add(a, b) &lt; 0);<br/>    }</span><span id="409f" class="kh ki ht kd b fv kn kk l kl km">}</span></pre><p id="3828" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¿è¡Œä¸€ä¸ªå¿«é€Ÿçš„MythXæ£€æŸ¥å‘ç°äº†ä¸€ç§æ•´æ•°ä¸‹æº¢çš„æƒ…å†µ:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mh"><img src="../Images/33c1fab3ddd944f5949a2593a10f7abf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lAt7OIzI26DparHVOO6xaQ.png"/></div></div></figure><p id="a11a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">åŒæ ·ï¼Œä¸ºäº†æŸ¥çœ‹å‡½æ•°å‚æ•°ï¼Œå°†è§£ç åçš„è°ƒç”¨æ•°æ®ä»MythXé€‰é¡¹å¡å¤åˆ¶åˆ°æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ã€‚æ‚¨åº”è¯¥å¾—åˆ°ä»¥ä¸‹å†…å®¹:</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="bd28" class="kh ki ht kd b fv kj kk l kl km">EnsureAddNoUnderflow(-57896044618658097711785492504343953926634992332820282019728792003956564819968, -57896044618658097711785492504343953926634992332820282019728792003956564819968)</span></pre><p id="9fae" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">äº‹å®è¯æ˜ï¼Œå°†æœ€å°çš„è´Ÿæ•°ä¸å…¶è‡ªèº«ç›¸åŠ ä¼šå¯¼è‡´ä¸‹æº¢ï¼Œç»“æœä¸ºé›¶(è¯¥é—®é¢˜åœ¨å®¡è®¡è¿‡ç¨‹ä¸­å¾—åˆ°äº†ä¿®å¤)ã€‚</p><h2 id="09ae" class="kh ki ht bd lh li lj lk ll lm ln lo lp jb lq lr ls jf lt lu lv jj lw lx ly lz dt translated">å¥‘çº¦ä¸å˜é‡</h2><p id="10f4" class="pw-post-body-paragraph iq ir ht is b it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj me jl jm jn hm dt translated">å¥‘çº¦(æˆ–å…¨å±€)ä¸å˜é‡æ˜¯åº”è¯¥å§‹ç»ˆæˆç«‹çš„æ–­è¨€ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ç¡®ä¿:</p><ul class=""><li id="4e06" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated"><em class="jo">â€œæ‰€æœ‰è€…â€çŠ¶æ€å˜é‡çš„å€¼ä»ä¸æ”¹å˜ï¼›</em></li><li id="7021" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated"><em class="jo">æ€»ä»¤ç‰Œä¾›åº”æ˜¯æ’å®šçš„(åœ¨ä¸å¯é“¸é€ çš„ä»¤ç‰Œä¸­)ï¼›</em></li><li id="c658" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated"><em class="jo">ERC 20ä»£å¸çš„æ‰€æœ‰ä½™é¢æ€»å’Œå§‹ç»ˆä¸æ€»ä¾›åº”é‡ç›¸åŒ¹é…ã€‚</em></li></ul><p id="aa51" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å¯¹ç®€å•ä¸å˜é‡çš„æ£€æŸ¥å¯ä»¥æŒ–æ˜å‡ºéå¸¸æœ‰è¶£å’Œåç›´è§‰çš„é”™è¯¯ã€‚OpenZeppelinçš„Vera Bogdanich Espinaçš„ä¸€ç¯‡æ–‡ç« åŒ…å«äº†ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚è¿™ç¯‡æ–‡ç« è®¨è®ºäº†è‡ªåŠ¨éªŒè¯å™¨å¦‚ä½•å‘ç°MakerDAOå¥‘çº¦ä¸­çš„ä¸€ä¸ªå…³é”®æ¼æ´ã€‚</p><p id="17bb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¿™ä¸ªé”™è¯¯æœ¬èº«å¹¶ä¸ç®€å•ï¼Œå¦‚æœä½ æƒ³å®Œå…¨ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘æ¨èä½ é˜…è¯»<a class="ae jp" href="https://blog.openzeppelin.com/technical-description-of-makerdao-governance-critical-vulnerability-facce6bf5d5e/" rel="noopener ugc nofollow" target="_blank"> OpenZeppelinçš„è¯¦ç»†æ–‡ç« </a>ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¯¥æ¼æ´å…è®¸æ”»å‡»è€…ä»ä»–ä»¬é€‰æ‹©çš„ææ¡ˆä¸­åˆ é™¤æŠ•ç¥¨ï¼Œå¹¶æ— é™æœŸé”å®šå…¶ä»–ç”¨æˆ·çš„MKRä»¤ç‰Œã€‚åœ¨å¥¹çš„åšå®¢æ–‡ç« ä¸­ï¼ŒVeraæä¾›äº†ä¸€ä¸ªæ˜“å—æ”»å‡»åˆåŒçš„ç®€åŒ–ç‰ˆæœ¬:</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="095e" class="kh ki ht kd b fv kj kk l kl km">contract SimpleDSChief {<br/>    mapping(bytes32=&gt;address) public slates;<br/>    mapping(address=&gt;bytes32) public votes;<br/>    mapping(address=&gt;uint256) public approvals;<br/>    mapping(address=&gt;uint256) public deposits;</span><span id="1f31" class="kh ki ht kd b fv kn kk l kl km">function lock(uint wad) public {<br/>        deposits[msg.sender] = add(deposits[msg.sender], wad);<br/>        addWeight(wad, votes[msg.sender]);<br/>    }</span><span id="68b0" class="kh ki ht kd b fv kn kk l kl km">function free(uint wad) public {<br/>        deposits[msg.sender] = sub(deposits[msg.sender], wad);<br/>        subWeight(wad, votes[msg.sender]);<br/>    }</span><span id="48e7" class="kh ki ht kd b fv kn kk l kl km">function voteYays(address yay) public returns (bytes32){<br/>        bytes32 slate = etch(yay);<br/>        voteSlate(slate);</span><span id="2829" class="kh ki ht kd b fv kn kk l kl km">        return slate;<br/>    }</span><span id="3487" class="kh ki ht kd b fv kn kk l kl km">function etch(address yay) public returns (bytes32 slate) {<br/>        bytes32 hash = keccak256(abi.encodePacked(yay));</span><span id="35ef" class="kh ki ht kd b fv kn kk l kl km">        slates[hash] = yay;</span><span id="24c5" class="kh ki ht kd b fv kn kk l kl km">        return hash;<br/>    }<br/>    <br/>    function voteSlate(bytes32 slate) public {<br/>        uint weight = deposits[msg.sender];<br/>        subWeight(weight, votes[msg.sender]);<br/>        votes[msg.sender] = slate;<br/>        addWeight(weight, votes[msg.sender]);<br/>    }</span><span id="6b69" class="kh ki ht kd b fv kn kk l kl km">function addWeight(uint weight, bytes32 slate) internal {<br/>        address yay = slates[slate];<br/>        approvals[yay] = add(approvals[yay], weight);<br/>    }</span><span id="00dc" class="kh ki ht kd b fv kn kk l kl km">function subWeight(uint weight, bytes32 slate) internal {<br/>        address yay = slates[slate];<br/>        approvals[yay] = sub(approvals[yay], weight);<br/>    }</span><span id="78ca" class="kh ki ht kd b fv kn kk l kl km">function add(uint x, uint y) internal pure returns (uint z) {<br/>        require((z = x + y) &gt;= x);<br/>    }</span><span id="61ed" class="kh ki ht kd b fv kn kk l kl km">function sub(uint x, uint y) internal pure returns (uint z) {<br/>        require((z = x - y) &lt;= x);<br/>    }<br/>}</span></pre><p id="563a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬å¸Œæœ›MythXåœ¨è¿™é‡Œå›ç­”çš„é—®é¢˜æ˜¯ï¼ŒåˆåŒæ˜¯å¦æ€»æ˜¯ç¡®ä¿ç”¨æˆ·çš„æŠ•ç¥¨è¢«è®¡ç®—åœ¨å†…ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†Veraå»ºè®®çš„å…¨å±€ä¸å˜é‡:</p><ul class=""><li id="53fa" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated"><em class="jo">ç”¨æˆ·æŠ•ç¥¨çš„æœŸæƒæ€»æ‰¹å‡†æƒé‡å¿…é¡»è‡³å°‘ç­‰äºè¯¥ç”¨æˆ·çš„ä¿è¯é‡‘ã€‚</em></li></ul><p id="9569" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æˆ‘ä»¬å†æ¬¡åˆ›å»ºä¸€ä¸ªåŒ…è£…å™¨å¥‘çº¦ï¼Œå¹¶å°†æ–­è¨€æ”¾å…¥ä¸€ä¸ªä¿®é¥°ç¬¦ä¸­ï¼Œç„¶åè¯¥ä¿®é¥°ç¬¦åº”ç”¨äºæ‰€æœ‰å…¬å…±å‡½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿ä¸å˜é‡å§‹ç»ˆé€‚ç”¨äºéå›å¤çŠ¶æ€è½¬æ¢ã€‚</p><pre class="jr js jt ju fq kc kd ke kf aw kg dt"><span id="7aef" class="kh ki ht kd b fv kj kk l kl km">contract VerifySimpleDSChief is SimpleDSChief {</span><span id="1494" class="kh ki ht kd b fv kn kk l kl km">modifier checkInvariants {</span><span id="4aff" class="kh ki ht kd b fv kn kk l kl km">        _;</span><span id="7507" class="kh ki ht kd b fv kn kk l kl km">        bytes32 senderSlate = votes[msg.sender];<br/>        address option = slates[senderSlate];<br/>        uint256 senderDeposit = deposits[msg.sender];<br/>         <br/>        assert(approvals[option] &gt;= senderDeposit);<br/>    }<br/>    <br/>    function lockForActor(address addr, uint amount) internal {<br/>        deposits[addr] = amount;<br/>        addWeight(amount, votes[addr]);<br/>    }<br/>    <br/>    constructor() public checkInvariants {<br/>        <br/>        // set up the initial state with some deposits<br/>        <br/>        lockForActor(msg.sender, 1);<br/>        lockForActor(0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF, 1);<br/>        lockForActor(0xaAaAaAaaAaAaAaaAaAAAAAAAAaaaAaAaAaaAaaAa, 1);<br/>    }</span><span id="8f38" class="kh ki ht kd b fv kn kk l kl km">function voteYays(address yay) public checkInvariants returns (bytes32) {<br/>        return super.voteYays(yay);<br/>    }</span><span id="49fb" class="kh ki ht kd b fv kn kk l kl km">function etch(address yay) public checkInvariants returns (bytes32 slate) {<br/>        return super.etch(yay);<br/>    }<br/>    <br/>    function voteSlate(bytes32 slate) public checkInvariants {<br/>        super.voteSlate(slate);<br/>    }<br/>    <br/>    function lock(uint wad) public checkInvariants {<br/>        super.lock(wad);<br/>    }<br/>    <br/>    function free(uint wad) public checkInvariants {<br/>        super.free(wad);<br/>    }<br/>}</span></pre><p id="154b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¿™ä¸€æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬ç”¨MythXæ£€æŸ¥è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†é‡åˆ°â€œå¿«é€Ÿâ€åˆ†æé¢„è®¾çš„é™åˆ¶:å½“æ‚¨æ£€æŸ¥å¥‘çº¦ä¸å˜é‡æ—¶ï¼Œæ€»ä¼šæœ‰å‡é˜´æ€§çš„æ®‹ä½™é£é™©ï¼Œå› ä¸ºfuzzerå’Œsymbolic analyseréƒ½å°†ä¸€äº›å­˜å‚¨å˜é‡å»ºæ¨¡ä¸ºå…·ä½“å€¼ï¼Œå¹¶ä¸”åªèƒ½ç ”ç©¶æœ‰é™æ•°é‡çš„äº‹åŠ¡ã€‚åœ¨â€œå¿«é€Ÿâ€åˆ†ææ¨¡å¼ä¸‹ï¼Œå·¥å…·çš„æ—¶é—´é¢„ç®—ä¸º120ç§’ï¼Œè¿™å¯¹äºæ¢ç´¢é•¿äº‹åŠ¡åºåˆ—æ¥è¯´æ˜¯ä¸å¤Ÿçš„ã€‚æ›´å¤šçš„è®¡ç®—æ—¶é—´æ„å‘³ç€â€œæ›´æ·±å…¥â€çš„åˆ†æå’Œæ›´å°çš„å‰©ä½™é£é™©(æ— è€»çš„æ’ä¸€å¥:è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®¡è®¡å‘˜å’Œå®‰å…¨æ„è¯†å¼ºçš„å¼€å‘äººå‘˜åº”è¯¥æ³¨å†Œæˆ‘ä»¬ä»¤äººæ•¬ç•çš„è®¢é˜…è®¡åˆ’ğŸ˜€).</p><p id="6b8a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">å¤„ç†ä¸€ä¸ªâ€œå®Œæ•´çš„â€åˆ†æå¤§çº¦éœ€è¦30åˆ†é’Ÿã€‚å½“æ‚¨ä»Remixè¯·æ±‚ä¸€ä¸ªå®Œæ•´çš„åˆ†ææ—¶ï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªåˆ°MythXä»ªè¡¨æ¿çš„é“¾æ¥ï¼Œåœ¨é‚£é‡Œæ‚¨å¯ä»¥è·Ÿè¸ªåˆ†æçš„è¿›åº¦å¹¶æŸ¥çœ‹ç»“æœã€‚åœ¨SimpleDSChiefçš„æƒ…å†µä¸‹ï¼Œåˆ†æå‘ç°æˆ‘ä»¬çš„ä¸å˜é‡çš„ä¸€ä¸ªå¯èƒ½çš„åä¾‹:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mi"><img src="../Images/9e91b7124da77659a77e1582ea1e6d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5HmRlCbNahNlQzv0INxVA.png"/></div></div></figure><p id="90bc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æœ¬è´¨ä¸Šï¼Œè¿™ä¸ªä¾‹å­æ˜¾ç¤ºäº†ä¸€ä¸ªç”¨æˆ·å–æ¶ˆä»–ä»¬è‡ªå·±çš„æŠ•ç¥¨æƒé‡ã€‚</p><ol class=""><li id="57f9" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn lb kx ky kz dt translated">ç”¨æˆ·è°ƒç”¨<code class="eh ko kp kq kd b">voteSlate(bytes32)</code>ï¼Œä¸ºè¿˜æ²¡æœ‰è¢«èš€åˆ»çš„çŸ³æ¿æŠ•ç¥¨(å³<code class="eh ko kp kq kd b">slates[hash]</code>ä¿å­˜é›¶åœ°å€)ï¼›</li><li id="7972" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn lb kx ky kz dt translated">åœ¨å…ˆå‰è°ƒç”¨ä¸­æŠ•ç¥¨çš„çŸ³æ¿ç°åœ¨é€šè¿‡è°ƒç”¨<code class="eh ko kp kq kd b">etch(addr)</code>æ¥èš€åˆ»ï¼Œå…¶ä¸­<code class="eh ko kp kq kd b">keccak256(addr)</code>ç­‰äºå…ˆå‰è°ƒç”¨ä¸­ä¼ é€’çš„æ•£åˆ—ï¼›</li><li id="1a92" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn lb kx ky kz dt translated"><code class="eh ko kp kq kd b">slates[votes[msg.sender]]</code>ç°åœ¨æŒ‡å‘ä¸€ä¸ªä¸åŒçš„(éé›¶)åœ°å€ã€‚<code class="eh ko kp kq kd b">approvals[slates[votes[msg.sender]]] == 0</code>å¯¼è‡´æ–­è¨€å¤±è´¥ã€‚</li></ol><p id="25b4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">è¿™é‡Œçš„å…³é”®è§‚å¯Ÿæ˜¯æ£€æŸ¥ä¸€ä¸ªç®€å•çš„ä¸å˜é‡(â€œç”¨æˆ·çš„æŠ•ç¥¨å¿…é¡»æ€»æ˜¯è¢«è®¡ç®—åœ¨å†…â€)æš´éœ²äº†ä¸€ä¸ªå¥‡æ€ªçš„å¼‚å¸¸æƒ…å†µï¼Œè¿™ä¸ªæƒ…å†µå¾ˆå®¹æ˜“è¢«äººå¿½ç•¥ã€‚åœ¨å®è·µä¸­ï¼Œå®šä¹‰å’Œæ£€æŸ¥ä¸€ç»„å®Œæ•´çš„ä¸å˜é‡æä¾›äº†æ›´å¤§çš„ä¿¡å¿ƒï¼Œå³æ²¡æœ‰é—æ¼ä»»ä½•è¾¹ç¼˜æƒ…å†µã€‚</p><h1 id="dd74" class="mj ki ht bd lh mk ml mm ll mn mo mp lp mq mr ms ls mt mu mv lv mw mx my ly mz dt translated">TLï¼›é€Ÿåº¦ä¸‰è§’å½¢å®šä½æ³•(dead reckoning)</h1><p id="a5ac" class="pw-post-body-paragraph iq ir ht is b it ma iv iw ix mb iz ja jb mc jd je jf md jh ji jj me jl jm jn hm dt translated">MythXå°†æ¨¡ç³ŠåŒ–ã€ç¬¦å·åˆ†æå’Œé™æ€æ£€æŸ¥é›†æˆåˆ°ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ç•Œé¢ä¸­ï¼Œåº”è¯¥æˆä¸ºæ¯ä¸ªSolidityå¼€å‘äººå‘˜å’Œå®¡è®¡äººå‘˜å·¥å…·ç®±çš„ä¸€éƒ¨åˆ†ã€‚é€šè¿‡æ£€æŸ¥å…¨å±€å’ŒåŠŸèƒ½æ€§å®‰å…¨å±æ€§ï¼Œæ‚¨å¯ä»¥å‘ç°ç»†å¾®çš„é”™è¯¯ï¼Œå¹¶å¯¹ä»£ç çš„æ­£ç¡®è¿è¡Œæ›´æœ‰ä¿¡å¿ƒ:</p><ul class=""><li id="c418" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated">é€šè¿‡å‘å‡½æ•°æ·»åŠ å‰ç½®æ¡ä»¶å’Œåç½®æ¡ä»¶ï¼Œå¯ä»¥éªŒè¯å‡½æ•°æ˜¯å¦æ€»æ˜¯æŒ‰é¢„æœŸè¿è¡Œï¼›</li><li id="4a9d" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated">å¥‘çº¦ä¸å˜é‡å…è®¸æ‚¨ç¡®ä¿æŸäº›æ¡ä»¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å§‹ç»ˆæˆç«‹ã€‚</li></ul><p id="7002" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">æŸ¥çœ‹<a class="ae jp" href="https://docs.mythx.io/en/latest/tools/index.html" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ä»¥è·å¾—å…³äºä¸ºRemixã€Truffleã€VSä»£ç å’Œå…¶ä»–ç¯å¢ƒè®¾ç½®MythXçš„è¯´æ˜ã€‚åœ¨<a class="ae jp" href="https://dashboard.mythx.io/#/" rel="noopener ugc nofollow" target="_blank"> MythXä»ªè¡¨ç›˜</a>ä¸Šæ³¨å†Œä¸€ä¸ªå…è´¹è´¦æˆ·ã€‚<em class="jo">ä½ å¯ä»¥åœ¨è¿™é‡Œ</em>  <em class="jo">é˜…è¯»MythXè¯„è®º</em> <a class="ae jp" href="https://coincodecap.com/product/mythx-8" rel="noopener ugc nofollow" target="_blank"> <em class="jo">ã€‚</em></a></p><h1 id="17cb" class="mj ki ht bd lh mk ml mm ll mn mo mp lp mq mr ms ls mt mu mv lv mw mx my ly mz dt translated">æ‚¨å¯èƒ½è¿˜å–œæ¬¢:</h1><ul class=""><li id="e298" class="kr ks ht is b it ma ix mb jb na jf nb jj nc jn kw kx ky kz dt translated"><a class="ae jp" rel="noopener" href="/consensys-diligence/detecting-the-top-4-critical-smart-contract-vulnerabilities-with-mythx-9c568d7db7a6">ä½¿ç”¨MythXæ£€æµ‹ä¸€èˆ¬æ€§é”™è¯¯</a></li><li id="a905" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated"><a class="ae jp" rel="noopener" href="/consensys-diligence/checking-custom-correctness-properties-of-smart-contracts-using-mythx-25cbac5d7852">ä½¿ç”¨AssertionFailedäº‹ä»¶æ£€æŸ¥è‡ªå®šä¹‰å±æ€§</a></li><li id="47a8" class="kr ks ht is b it lc ix ld jb le jf lf jj lg jn kw kx ky kz dt translated"><a class="ae jp" href="https://github.com/b-mueller/awesome-mythx-smart-contract-security-tools" rel="noopener ugc nofollow" target="_blank">ç‰›é€¼çš„MythXå·¥å…·</a></li></ul><blockquote class="nd"><p id="826a" class="ne nf ht bd ng nh ni nj nk nl nm jn ek translated"><a class="ae jp" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">ç›´æ¥åœ¨æ‚¨çš„æ”¶ä»¶ç®±ä¸­è·å¾—æœ€ä½³è½¯ä»¶äº¤æ˜“</a></p></blockquote><figure class="no np nq nr ns jv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nn"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff nt"><img src="../Images/a06b758bdcc47dca7c2504f298674d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_s6JsD3P0hVj32E7t9EtGg.jpeg"/></div></a></figure></div></div>    
</body>
</html>