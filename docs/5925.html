<html>
<head>
<title>More on Block Hash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于块散列的更多信息</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/more-on-block-hash-a7a868748eed?source=collection_archive---------12-----------------------#2021-10-30">https://medium.com/coinmonks/more-on-block-hash-a7a868748eed?source=collection_archive---------12-----------------------#2021-10-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/80d4412e32457ba616b6060ed1ce6a06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*feeB7XNY9drxOv_1.jpg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Image taken from <a class="ae jf" href="https://www.itprotoday.com/sites/itprotoday.com/files/styles/article_featured_retina/public/Hexagons%20connected%20like%20a%20block%20chain.png?itok=2Q2yoP5D" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="5bdd" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在我的上一篇博客中，我讨论了块头的概念，块头的需要，merkle树的概念，块头和nonce中merkle根的需要。在这篇博客中，我将讨论上一篇博客中留下的其他头，我还将讨论如何从块头中确定块散列。</p><h1 id="baf9" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">1.块标题</h1><p id="b9ce" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">为了获得块散列，挖掘器必须组合块头以获得以一些零开始的特定散列。其实矿工不一定要结合，这一切都是挖矿软件的后端过程，不过这个你应该是知道的。以下是组合在一起以获得块哈希的块头:</p><ol class=""><li id="c4a9" class="lh li ht ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">块版本</li><li id="f198" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">前一个块哈希</li><li id="2bb7" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">Merkle根</li><li id="d510" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">时间戳</li><li id="982f" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">位</li><li id="e6ed" class="lh li ht ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">目前</li></ol><p id="72cd" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">从上面的标题列表中，我在上一篇博客中讨论了Merkle Root和Nonce。让我们深入研究比特币区块链的其他标题。</p><h1 id="fbda" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">2.块版本</h1><p id="696d" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">它只不过是区块链的版本，从创世纪板块创建时的版本<strong class="ji hu"> 0x1 </strong>开始。创世纪板块是任何区块链的第一个板块。目前比特币区块链的版本是<strong class="ji hu"> 0x20000004 </strong>。下面的快照显示了比特币区块2021的版本。</p><figure class="lw lx ly lz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lv"><img src="../Images/dc5486ac6c89cf73befc91ef3e3978c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hwUlvT_EwwnpKusq.png"/></div></div></figure><h1 id="b8c8" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">3.前一个块哈希</h1><p id="55ab" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">Previous blockhash是正在计算其块哈希的块之前的块的哈希。这只是用来在块之间创建一个链接，这样如果有人在某个先前的块中做了任何更改，那么所有随后的块都会受到影响，并且我们很容易知道谁的内容被更改了。下面的截图显示的是2020块的哈希，这是比特币中2021块之前的哈希。</p><figure class="lw lx ly lz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ma"><img src="../Images/bd11f7c68af8345cda022ecbbfcac2c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DFXrZKQ_Ptd1tor3.png"/></div></div></figure><h1 id="32c7" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">4.时间戳</h1><p id="0c2c" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">时间戳只是为了记录不会发生重复花费(如前面的博客中所讨论的)，实际标记给块的时间是纪元时间，它是标准时间，也是Linux操作系统中使用的时间。但为了方便起见，在块中以<strong class="ji hu"> yyyy-mm-dd hh:mm </strong>的格式显示。下面显示的快照显示了比特币中2021块的时间戳。</p><figure class="lw lx ly lz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lv"><img src="../Images/32b56ff645420114160dcae55fad71be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*f__a32LUWmIXAQZe.png"/></div></div></figure><h1 id="62e1" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">5.位</h1><p id="9bd1" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">它是一个4字节的阈值，指定了难度级别，目标散列中的前导零取决于此。如何4字节？您需要将十进制位值转换为十六进制形式。那么它就是4字节格式。下面的快照显示了位的十进制值。</p><figure class="lw lx ly lz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lv"><img src="../Images/fb993f12a3ea1ccf1846e6d7746bed56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R_h-mfY9ROYmT6u0.png"/></div></div></figure><h1 id="2366" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">6.确认块哈希</h1><p id="47e9" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">比特币区块链的设计是这样的，寻找哈希很困难，在寻找给定范围内的哈希时，CPU和GPU的负载很重(我在以前的博客中讨论了范围的概念)，这一切都取决于nonce。你得到了一个特定的nonce值，你得到了你的目标hash值，从期望的零开始。<strong class="ji hu">但是</strong>一旦创建了块，就很容易确认。矿工通过使用相同的报头来确认块，报头中也有nonce，在软件中检查找到的散列是否正确。我将借助我创建的python代码展示这种软件的工作原理。该程序用于比特币区块链的<strong class="ji hu">区块1 </strong>，你可以运行并验证该程序显示的hash与<a class="ae jf" href="https://www.blockchain.com/btc/block/1" rel="noopener ugc nofollow" target="_blank">区块1 </a>显示的hash相同。复制并粘贴到您的python IDLE中，并相应地更改您想要验证其块哈希的各个块的头。如果你的头是正确的，它将显示块散列。以下是关于块散列实际上是如何创建的解释。</p><p id="15f1" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这个算法非常简单，你需要所有头的小端格式。在little endian中，字符串的二进制格式从右向左转换。让我们看一个例子:</p><p id="6115" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">以下是十六进制格式的四个字节:<br/> <strong class="ji hu"> 0x17 14 96 24 </strong></p><p id="16b0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">当它们被转换成小端时，那么它就变成:<br/> <strong class="ji hu"> 0x24 96 14 17 </strong></p><p id="da15" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">正好相反，即32位二进制表示将从<strong class="ji hu">00010111 000100100 100110 00100100</strong>转换为<strong class="ji hu">00100100 100110 000110 000100 00010111</strong>。</p><p id="7c9e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">看看二进制数字，<strong class="ji hu">00010111 00010100 100110 00100100</strong>即<strong class="ji hu"> 00010111 </strong>中的第一个八位字节已经作为<strong class="ji hu">00100100100 100110 00010111</strong>中的最后一个八位字节到了末尾。类似地，其他转换也会发生，为此，我在程序中使用了函数<strong class="ji hu"> littleEndian(val) </strong>和<strong class="ji hu"> hex2Little(val) </strong>，它们的目的是以同样的方式转换为littleEndian。</p><p id="1731" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">头被转换成小端格式，然后用<strong class="ji hu"> SHA256 </strong>算法散列两次。最后你得到的是这个块的散列。<br/> <strong class="ji hu">重要:</strong>记住这不叫挖掘，你不是在计算块的nonce来得到hash。事实上，您知道所有的头，您只是对那些头执行数学运算来验证头是正确的。</p><p id="fbff" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">重要提示:</strong>请记住，组合稍后将使用SHA256算法散列的头的小端值的顺序将始终保持相同，即<strong class="ji hu">版本+先前块散列+ merkle根散列+时间+位+随机数</strong>，如果您的顺序改变，那么即使您的头是正确的，您也会得到错误的散列。版本总是以十进制值给出，而不是十六进制值。<br/>现在如果你知道一个块的头，你可以很容易地找到它各自的散列块。我的GitHub repo中有相同的代码:<a class="ae jf" href="https://github.com/AnshVaid4/Python/tree/master/BTC%20blockchain" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/ansh vaid 4/Python/tree/master/BTC % 20 block chain</a></p><p id="e5b9" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在这篇博客中，我讨论了与块的散列相关的各种概念，我还讨论了可以轻松找到块的散列的程序，还讨论了我在上一篇博客中留下的块的其他头。概念上的实现可以在CTF挑战赛中找到<strong class="ji hu">做第二件事</strong>。如果你错过了CTF，那么你可以在<a class="ae jf" rel="noopener" href="/@the_harvester/does-a-second-matter-10f5984e5061">https://medium . com/@ the _ harvester/does-a-second-matter-10f 5984 e 5061</a>阅读这篇文章。在下一篇博客中，我将讨论比特币的加密技术是如何创建钱包地址的。</p></div><div class="ab cl mb mc hb md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hm hn ho hp hq"><blockquote class="mi mj mk"><p id="ac49" class="jg jh ml ji b jj jk jl jm jn jo jp jq mm js jt ju mn jw jx jy mo ka kb kc kd hm dt translated">社交媒体链接:<a class="ae jf" href="https://www.linkedin.com/in/ansh-vaid/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae jf" href="https://github.com/AnshVaid4" rel="noopener ugc nofollow" target="_blank">GitHub</a>|<a class="ae jf" href="https://www.instagram.com/being_optimist/" rel="noopener ugc nofollow" target="_blank">insta gram</a>|<a class="ae jf" href="https://twitter.com/anshvaid4" rel="noopener ugc nofollow" target="_blank">Twitter</a></p><p id="9385" class="jg jh ml ji b jj jk jl jm jn jo jp jq mm js jt ju mn jw jx jy mo ka kb kc kd hm dt translated">访问我的网站:<a class="ae jf" href="https://cybergeeks.website/" rel="noopener ugc nofollow" target="_blank">https://cybergeeks.website/</a></p><p id="7f3b" class="jg jh ml ji b jj jk jl jm jn jo jp jq mm js jt ju mn jw jx jy mo ka kb kc kd hm dt translated">【https://github.com】原载于<a class="ae jf" href="https://github.com/AnshVaid4/Blogs/blob/caff161e83f7cb87d41468660ab5875de2cd47a4/blogs/2021-10-13-ExploitingServices.md" rel="noopener ugc nofollow" target="_blank"><em class="ht"/></a><em class="ht">。</em></p></blockquote><blockquote class="mp"><p id="a67e" class="mq mr ht bd ms mt mu mv mw mx my kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="6048" class="mz kf ht bd kg na nb nc kk nd ne nf ko jr ng nh ks jv ni nj kw jz nk nl la nm dt translated">也阅读</h2><div class="nn no fm fo np nq"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">ICON _ PLACEHOLDEREstimated预计阅读时间:28分钟加密货币交易所的加密交易需要知识…</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">blog.coincodecap.com</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a href="https://blog.coincodecap.com/crypto-lending" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">2021年10大最佳加密贷款平台| CoinCodeCap</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">当谈到加密货币贷款时，大量因素等同于良好的收入状况。此外，借款的一部分…</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">blog.coincodecap.com</p></div></div><div class="nz l"><div class="of l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">2021年最佳免费加密交易机器人</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">medium.com</p></div></div><div class="nz l"><div class="og l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">最佳4个加密交易信号电报通道</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">这是乏味的找到正确的加密交易信号提供商。因此，在本文中，我们将讨论最好的…</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">medium.com</p></div></div><div class="nz l"><div class="oh l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a href="https://blog.coincodecap.com/blockfi-review" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">BlockFi评论2021:利弊和利率| CoinCodeCap</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">今天，我们提出了一个全面的BlockFi评论，这是一个成立于2017年的加密贷款平台，拥有其…</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">blog.coincodecap.com</p></div></div><div class="nz l"><div class="oi l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a rel="noopener follow" target="_blank" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">如何在印度购买比特币？2021年购买比特币的7款最佳应用[手机版]</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">如何使用移动应用程序购买比特币印度</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">medium.com</p></div></div><div class="nz l"><div class="oj l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">加密税务软件——五大最佳比特币税务计算器[2021]</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">medium.com</p></div></div><div class="nz l"><div class="ok l ob oc od nz oe iz nq"/></div></div></a></div><div class="nn no fm fo np nq"><a href="https://blog.coincodecap.com/best-hardware-wallet-bitcoin" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab ej"><div class="ns ab nt cl cj nu"><h2 class="bd hu fv z el nv eo ep nw er et hs dt translated">存储比特币的最佳加密硬件钱包[2021] | CoinCodeCap</h2><div class="nx l"><h3 class="bd b fv z el nv eo ep nw er et ek translated">保管您的数字资产很容易，但找到正确的存储方式却是一项繁琐的任务。在线钱包有一个风险…</h3></div><div class="ny l"><p class="bd b gc z el nv eo ep nw er et ek translated">blog.coincodecap.com</p></div></div><div class="nz l"><div class="ol l ob oc od nz oe iz nq"/></div></div></a></div></div></div>    
</body>
</html>