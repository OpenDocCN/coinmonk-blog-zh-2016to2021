<html>
<head>
<title>How to do authentication in Decentralized Application (DAPP)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在分散式应用程序(DAPP)中进行认证</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-do-authentication-in-decentralized-application-dapp-d9bc66b6249c?source=collection_archive---------1-----------------------#2021-08-12">https://medium.com/coinmonks/how-to-do-authentication-in-decentralized-application-dapp-d9bc66b6249c?source=collection_archive---------1-----------------------#2021-08-12</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="4745" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">在这篇博客中，我将告诉你我们如何给DApps添加认证</h2></div><h1 id="0408" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">介绍</h1><p id="571b" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">区块链技术与日俱增，它对不同行业产生了巨大影响，区块链也存在一些挑战，如果我们谈论DApps(分散式应用程序), DApps的主要挑战是对用户进行身份验证，在集中式应用程序中，我们有不同的身份验证提供商，如firebase身份验证和社交媒体登录集成(脸书、谷歌、Github..但是在DApps中有两种方法来认证用户，我们将详细讨论第二种方法<strong class="kc hu">使用智能合约代码</strong>。</p><p id="dbd6" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated"><strong class="kc hu">DApp认证用户的两种方式</strong></p><ol class=""><li id="2c3e" class="lb lc ht kc b kd kw kg kx kj ld kn le kr lf kv lg lh li lj dt translated">元掩码一键登录</li><li id="d40c" class="lb lc ht kc b kd lk kg ll kj lm kn ln kr lo kv lg lh li lj dt translated">使用智能合同代码</li></ol><h1 id="2f72" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">元掩码一键登录:</h1><p id="3c83" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">使用MetaMask扩展的一键式密码安全登录流程，所有数据都存储在我们自己的后端。我们称之为:“用元掩码登录”。</p><p id="c3b3" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">文档链接:<a class="ae lp" href="https://www.toptal.com/ethereum/one-click-login-flows-a-metamask-tutorial" rel="noopener ugc nofollow" target="_blank">https://www . toptal . com/ether eum/one-click-log in-flows-a-meta mask-tutorial</a></p><h1 id="adda" class="ji jj ht bd jk jl jm jn jo jp jq jr js iz jt ja ju jc jv jd jw jf jx jg jy jz dt translated">使用智能合同代码</h1><p id="a56e" class="pw-post-body-paragraph ka kb ht kc b kd ke iu kf kg kh ix ki kj kk kl km kn ko kp kq kr ks kt ku kv hm dt translated">为了在Dapp中认证用户，我用Solidity语言写了一个智能合约Auth.sol。它使用Solidity语言和编写的(Auth.sol)智能契约在以太坊区块链上提供去中心化应用中的认证，以实现Dapps中的认证功能。</p><p id="fc9a" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">Github资源库链接:<a class="ae lp" href="https://github.com/Zaryab-Programmer/dapp-authentication" rel="noopener ugc nofollow" target="_blank">https://github.com/Zaryab-Programmer/dapp-authentication</a></p><p id="b6f9" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated"><strong class="kc hu">智能合约代码:</strong></p><figure class="lq lr ls lt fq lu"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="b58b" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">在这里，契约名是<strong class="kc hu"> Auth </strong>，它内部有<strong class="kc hu"> struct UserDetail </strong>。</p><pre class="lq lr ls lt fq lx ly lz ma aw mb dt"><span id="8224" class="mc jj ht ly b fv md me l mf mg">struct UserDetail {</span><span id="8c35" class="mc jj ht ly b fv mh me l mf mg">address addr;</span><span id="b0a2" class="mc jj ht ly b fv mh me l mf mg">string name;</span><span id="4470" class="mc jj ht ly b fv mh me l mf mg">string password;</span><span id="2ce5" class="mc jj ht ly b fv mh me l mf mg">string CNIC;</span><span id="62b2" class="mc jj ht ly b fv mh me l mf mg">bool isUserLoggedIn;</span><span id="6bbf" class="mc jj ht ly b fv mh me l mf mg">}</span></pre><p id="e252" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">映射<strong class="kc hu">地址= &gt;用户详细信息</strong></p><pre class="lq lr ls lt fq lx ly lz ma aw mb dt"><span id="8845" class="mc jj ht ly b fv md me l mf mg">mapping(address =&gt; UserDetail) user;</span></pre><p id="6daf" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">在用户注册功能中，用户可以在元掩码上进行交易，通过<strong class="kc hu">要求</strong>检查功能检查用户是否已经注册。如果用户尚未注册，则在区块链上注册用户数据。</p><pre class="lq lr ls lt fq lx ly lz ma aw mb dt"><span id="2223" class="mc jj ht ly b fv md me l mf mg">function register(</span><span id="6d35" class="mc jj ht ly b fv mh me l mf mg">address _address,</span><span id="67b3" class="mc jj ht ly b fv mh me l mf mg">string memory _name,</span><span id="3408" class="mc jj ht ly b fv mh me l mf mg">string memory _password,</span><span id="fa5f" class="mc jj ht ly b fv mh me l mf mg">string memory _cnic</span><span id="1e14" class="mc jj ht ly b fv mh me l mf mg">) public returns (bool) {</span><span id="6d13" class="mc jj ht ly b fv mh me l mf mg">require(user[_address].addr != <em class="mi">msg.sender</em>);</span><span id="d7d6" class="mc jj ht ly b fv mh me l mf mg">user[_address].addr = _address;</span><span id="5e82" class="mc jj ht ly b fv mh me l mf mg">user[_address].name = _name;</span><span id="1928" class="mc jj ht ly b fv mh me l mf mg">user[_address].password = _password;</span><span id="6d2a" class="mc jj ht ly b fv mh me l mf mg">user[_address].CNIC = _cnic;</span><span id="0d53" class="mc jj ht ly b fv mh me l mf mg">user[_address].isUserLoggedIn = false;</span><span id="f800" class="mc jj ht ly b fv mh me l mf mg">return true;</span><span id="49a0" class="mc jj ht ly b fv mh me l mf mg">}</span></pre><p id="fe3e" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">登录功能提供了在Dapp上登录的功能，将字段<strong class="kc hu"> isUserLoggedIn </strong>更改为<strong class="kc hu"> true，</strong>表示用户登录成功。<strong class="kc hu">checkisuserloged</strong>函数检查用户是否登录，它返回一个布尔值，该值有助于验证用户。</p><pre class="lq lr ls lt fq lx ly lz ma aw mb dt"><span id="dd46" class="mc jj ht ly b fv md me l mf mg">function login(address _address, string memory _password) public returns (bool) {</span><span id="3276" class="mc jj ht ly b fv mh me l mf mg">if ( keccak256(<em class="mi">abi</em>.encodePacked(user[_address].password)) == keccak256(<em class="mi">abi</em>.encodePacked(_password)) ) {</span><span id="e9af" class="mc jj ht ly b fv mh me l mf mg"> user[_address].isUserLoggedIn = true;</span><span id="6ee5" class="mc jj ht ly b fv mh me l mf mg"> return user[_address].isUserLoggedIn;</span><span id="2e9f" class="mc jj ht ly b fv mh me l mf mg">} else {</span><span id="9860" class="mc jj ht ly b fv mh me l mf mg"> return false;</span><span id="fb72" class="mc jj ht ly b fv mh me l mf mg"> }<br/>}</span><span id="ebe9" class="mc jj ht ly b fv mh me l mf mg">function checkIsUserLogged(address _address) public view returns (bool) {</span><span id="d945" class="mc jj ht ly b fv mh me l mf mg">return (user[_address].isUserLoggedIn);</span><span id="9ed1" class="mc jj ht ly b fv mh me l mf mg">}</span></pre><p id="fd05" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated">注销功能提供了通过执行交易和更改<strong class="kc hu">用户[_地址]的字段来注销用户的功能。isUserLoggedIn = false</strong></p><pre class="lq lr ls lt fq lx ly lz ma aw mb dt"><span id="d8d6" class="mc jj ht ly b fv md me l mf mg">function logout(address _address) public {</span><span id="e99a" class="mc jj ht ly b fv mh me l mf mg">user[_address].isUserLoggedIn = false;</span><span id="2f1b" class="mc jj ht ly b fv mh me l mf mg">}</span></pre><p id="a9c0" class="pw-post-body-paragraph ka kb ht kc b kd kw iu kf kg kx ix ki kj ky kl km kn kz kp kq kr la kt ku kv hm dt translated"><strong class="kc hu">由投稿和帮助本博客撰写:</strong></p><ul class=""><li id="bf30" class="lb lc ht kc b kd kw kg kx kj ld kn le kr lf kv mj lh li lj dt translated">艾米尔·阿里·里兹维先生(区块链专家)</li><li id="52aa" class="lb lc ht kc b kd lk kg ll kj lm kn ln kr lo kv mj lh li lj dt translated">COMSATS Sahiwal讲师</li><li id="a226" class="lb lc ht kc b kd lk kg ll kj lm kn ln kr lo kv mj lh li lj dt translated">纳西尔·迈赫迪先生</li><li id="0cba" class="lb lc ht kc b kd lk kg ll kj lm kn ln kr lo kv mj lh li lj dt translated">COMSATS Sahiwal讲师</li></ul><h2 id="0788" class="mc jj ht bd jk mk ml mm jo mn mo mp js kj mq mr ju kn ms mt jw kr mu mv jy mw dt translated">另外，阅读</h2><blockquote class="mx"><p id="9da0" class="my mz ht bd na nb nc nd ne nf ng kv ek translated">加入<a class="ae lp" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> Coinmonks电报频道</a>，了解加密交易和投资</p></blockquote><div class="nh ni nj nk nl nm"><a href="https://blog.coincodecap.com/smart-contract-smartpy" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab ej"><div class="no ab np cl cj nq"><h2 class="bd hu fv z el nr eo ep ns er et hs dt translated">如何使用SmartPy编写智能合同？</h2><div class="nt l"><h3 class="bd b fv z el nr eo ep ns er et ek translated">在本文中，您将学习使用SmartPy编写智能合同。智能合同是存储在…</h3></div><div class="nu l"><p class="bd b gc z el nr eo ep ns er et ek translated">blog.coincodecap.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa ob nm"/></div></div></a></div></div></div>    
</body>
</html>