<html>
<head>
<title>Hyperledger Besu — Getting Started: Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger Besu —入门:第2部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/hyperledger-besu-getting-started-part-2-a5388f14462b?source=collection_archive---------2-----------------------#2020-12-10">https://medium.com/coinmonks/hyperledger-besu-getting-started-part-2-a5388f14462b?source=collection_archive---------2-----------------------#2020-12-10</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="fae7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这是Hyperledger Besu实现的第2部分。在<a class="ae jo" href="https://adityaajoshi.medium.com/getting-started-with-hyperledger-besu-6657598ebcfe" rel="noopener"> <strong class="is hu">第1部分</strong> </a>我们讨论了各种特性，共识机制可用。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff jp"><img src="../Images/cf759ee7138164b7e5fc1a063b7e7fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*G_GQOQutk7huDrrSSKdCoA.png"/></div></figure><h1 id="2ddc" class="jx jy ht bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated"><strong class="ak">概述</strong></h1><p id="d05b" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">在本教程中，我们将学习如何设置您的Hyperledger Besu网络，并在Besu网络上部署您的智能合同。这篇文章是为那些深入研究区块链并想开始使用Hyperledger Besu的开发人员准备的。</p><blockquote class="la lb lc"><p id="7eea" class="iq ir ld is b it iu iv iw ix iy iz ja le jc jd je lf jg jh ji lg jk jl jm jn hm dt translated"><a class="ae jo" href="http://bit.ly/hyperledger-besu-masterclass" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">在Hyperledger上查看我的课程Besu </strong> </a></p></blockquote><p id="d9b9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Hyperledger Besu是一个以太坊客户端，旨在为公共和私人许可的网络用例提供企业友好的服务。它还可以在Rinkeby、Ropsten和gorli等测试网络上运行。Hyperledger Besu包括多个共识算法，包括PoW和PoA (IBFT、IBFT 2.0、以太哈希和Clique)。它的综合许可方案是专门为在财团环境中使用而设计的。</p><p id="00e1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">任何企业级框架都需要专业知识才能工作。如果你是一个新手，你会发现自己很难解决一些小问题。这就是为什么尽早开始并以自己的方式练习是很重要的。</p><p id="a3da" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们将设置以下组件</p><ol class=""><li id="f21a" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp dt translated">3个Besu节点</li><li id="af19" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">3个Orion节点(用于私人交易)</li><li id="1845" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">4个验证器节点</li><li id="f290" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">文件殴打+麋鹿(弹性，Logstash，和基巴纳)</li><li id="fffc" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">交易签名人</li><li id="8c9c" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">格拉夫纳和普罗米修斯</li><li id="98f7" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">块浏览器</li></ol><h1 id="8967" class="jx jy ht bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">方法</h1><p id="47dd" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">Besu执行以下共识协议:</p><ul class=""><li id="d83b" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lv ln lo lp dt translated">工作证明</li><li id="e05e" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lv ln lo lp dt translated"><a class="ae jo" href="https://besu.hyperledger.org/en/stable/HowTo/Configure/Consensus-Protocols/Clique/" rel="noopener ugc nofollow" target="_blank">小团体</a>(权威证明)</li><li id="9310" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lv ln lo lp dt translated"><a class="ae jo" href="https://besu.hyperledger.org/en/stable/HowTo/Configure/Consensus-Protocols/IBFT/" rel="noopener ugc nofollow" target="_blank"> IBFT 2.0 </a>(权威证明)</li><li id="110a" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lv ln lo lp dt translated"><a class="ae jo" href="https://besu.hyperledger.org/en/stable/HowTo/Configure/Consensus-Protocols/QuorumIBFT/" rel="noopener ugc nofollow" target="_blank">法定IBFT 1.0 </a>(授权证明)。</li></ul><p id="b80e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这次演示中，我们将使用IBFT 2.0。genesis文件中的<code class="eh lw lx ly lz b">config</code>属性指定了链的一致协议。您可以在<a class="ae jo" href="https://github.com/adityajoshi12/hyperledger-besu/" rel="noopener ugc nofollow" target="_blank">库</a>的<code class="eh lw lx ly lz b">config/besu</code>目录中找到genesis文件。截至目前，besu对Clique和IBFT 2.0都有很好的支持，可以根据自己的需求随意选择共识机制。要改变共识，只需在<code class="eh lw lx ly lz b">.env</code>文件中更新它。</p><h1 id="33e3" class="jx jy ht bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">先决条件</h1><ol class=""><li id="3608" class="lh li ht is b it kv ix kw jb ma jf mb jj mc jn lm ln lo lp dt translated">码头工人</li><li id="458d" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">docker-撰写</li><li id="0946" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp dt translated">元遮罩(chrome扩展)</li></ol><h1 id="d5b8" class="jx jy ht bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">履行</h1><p id="6fc6" class="pw-post-body-paragraph iq ir ht is b it kv iv iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn hm dt translated">我们将实施由三个节点组成的besu网络，并将部署用solidity编写的智能合同。我们将进行交易并查询智能合同。除此之外，我们还将有Block explorer、Grafana dashboard来查看网络指标。我们将部署一个智能联系人，并在浏览器上访问它。</p><ol class=""><li id="32a7" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp dt translated">克隆存储库</li></ol><pre class="jq jr js jt fq md lz me mf aw mg dt"><span id="3d86" class="mh jy ht lz b fv mi mj l mk ml">git clone <a class="ae jo" href="https://github.com/adityajoshi12/hyperledger-besu" rel="noopener ugc nofollow" target="_blank">https://github.com/adityajoshi12/hyperledger-besu</a>.git</span></pre><p id="1645" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2.要启动网络，你所要做的就是运行这个脚本文件。</p><pre class="jq jr js jt fq md lz me mf aw mg dt"><span id="6a52" class="mh jy ht lz b fv mi mj l mk ml">./run.sh</span></pre><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="fe ff mm"><img src="../Images/eeb7992b334fcc769cfd10054a2b439a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHRultW9CBF3XesfHeyorQ.png"/></div></div></figure><p id="8e57" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一旦该过程完成，您将会看到与此类似的内容。</p><p id="f7a7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">3.部署智能合同并运行dapp</p><pre class="jq jr js jt fq md lz me mf aw mg dt"><span id="89d9" class="mh jy ht lz b fv mi mj l mk ml">cd dapps/pet-shop<br/>./run_dapp.sh</span></pre><p id="a304" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">该脚本将克隆宠物店示例存储库并安装truffle，然后它将在我们的besu网络上部署联系人，如果一切顺利，您将得到如下输出</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="fe ff mr"><img src="../Images/221722bce5af3b18054d76836cbd02a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PK3noZr3ifnXQDGuk1kyvg.png"/></div></div></figure><p id="79af" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">4.部署智能合同后，我们可以在<code class="eh lw lx ly lz b"><a class="ae jo" href="http://localhost:3001/" rel="noopener ugc nofollow" target="_blank">http://localhost:3001/</a></code>访问应用程序。它会要求您将metamask与应用程序连接起来。请在元掩码中导入私钥<code class="eh lw lx ly lz b">0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3</code>以访问应用程序。</p><p id="8dbb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当您将metamask与besu网络连接时，使用<code class="eh lw lx ly lz b"><a class="ae jo" href="http://localhost:8545" rel="noopener ugc nofollow" target="_blank">http://localhost:8545</a></code>作为RPC端点，使用<code class="eh lw lx ly lz b">2018</code>作为chainId。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="fe ff ms"><img src="../Images/c370acd1a7372cd08ceb5be65ab5ba37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iI5YfqcBRisUOMxTxcwIkA.png"/></div></div></figure><p id="3256" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当你点击“采用”按钮时，它将进行一次交易，你的元掩码将弹出以确认交易。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="fe ff mt"><img src="../Images/1803d00456ede6d21d87d264b882db97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZCjQdOxVVtVAOVMmR--hwg.gif"/></div></div></figure><p id="40e6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">您可以在<code class="eh lw lx ly lz b">http://localhost:3000</code>访问grafana仪表板，查看网络指标。并且块浏览器处于<code class="eh lw lx ly lz b"><a class="ae jo" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank">http://localhost:25000</a></code></p><p id="2b15" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">本文到此为止。您可以在这里找到<a class="ae jo" href="https://github.com/adityajoshi12/hyperledger-besu" rel="noopener ugc nofollow" target="_blank">库的链接</a>。在接下来的第3部分中，我们将使用NodeJs SDK部署、处理和查询契约。此外，我们将实现Hyperledger Besu的隐私功能。我们将在以后的文章中探讨GraphQL对besu的支持。</p><p id="b548" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你觉得这篇文章很有帮助，请点击拍手按钮，并跟随我阅读更多这样的信息丰富的文章。</p><p id="2325" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可以在<a class="ae jo" href="https://linkedin.com/in/adityajoshi12" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上找到我或者在<a class="ae jo" href="https://github.com/adityajoshi12" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上跟踪我？如果这对你来说太社交化了，如果你想和我讨论技术，就给adityaprakashjoshi1@gmail.com发封邮件。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="fe ff mu"><img src="../Images/a88b52fe2d43a83655c349acae186aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:292/0*lAst8vs2FYVMOPFz.gif"/></div></div></figure></div></div>    
</body>
</html>