<html>
<head>
<title>Part 1: Implementing Blockchain and Cryptocurrency with PoW consensus algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第1部分:用PoW共识算法实现区块链和加密货币</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/implementing-blockchain-and-cryptocurrency-with-pow-consensus-algorithm-part-1-545fb32be0c2?source=collection_archive---------0-----------------------#2018-10-24">https://medium.com/coinmonks/implementing-blockchain-and-cryptocurrency-with-pow-consensus-algorithm-part-1-545fb32be0c2?source=collection_archive---------0-----------------------#2018-10-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="5098" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在node.js中使用工作共识算法证明，小规模、易于理解、全面、逐步实施区块链和加密货币</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div class="fe ff jo"><img src="../Images/ca1a2e2c4224dbbeb2b00eaca6e45a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*4tiX8RcB0DnrDZZ0l8yxGw.jpeg"/></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek">Source: <a class="ae ka" href="https://en.bitcoinwiki.org/wiki/Proof-of-work" rel="noopener ugc nofollow" target="_blank">Bitcoin Wiki</a></figcaption></figure><h1 id="28db" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">工作证明</h1><p id="46a4" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">工作证明(PoW)是区块链共识算法，由中本聪在2009年应用。最早被比特币使用，后来被以太坊采用。</p><p id="5c89" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">为了向区块链添加新区块，需要一种算法来决定哪个采矿者能够向区块链添加区块。因此，这是战俘事务的首要目标。</p><blockquote class="le"><p id="6fe9" class="lf lg ht bd lh li lj lk ll lm ln jn ek translated"><a class="ae ka" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳加密软件</a></p></blockquote><h1 id="d69a" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km lo ko kp kq lp ks kt ku lq kw kx ky dt translated">工作</h1><p id="98df" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">在PoW中，挖掘器需要投入大量的计算能力，以便找到与给定的约束集匹配的散列串。在比特币中，矿工需要找到一个散列，以便在散列的开头有一些已知数量的前导零。一个挖掘器通过改变一个数字不断地发现一个块的新散列值，这个数字与块一起被散列，称为nonce。计算哈希值中前导零的个数称为难点。这是块生成中如此长延迟的原因。</p><p id="6ec7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">考虑这个简单的例子:</p><pre class="jp jq jr js fq lr ls lt lu aw lv dt"><span id="3c81" class="lw kc ht ls b fv lx ly l lz ma">let block = {"random":"data"};<br/>let nonce = 1;<br/>let difficulty = 5;</span><span id="12d6" class="lw kc ht ls b fv mb ly l lz ma">let blockHash = hash( block,nonce,difficulty );<br/>//blockHash = 6B86B273FF34FCE19D6B804EFF5A3F5747ADA4EAA22F1D49C01E52DDB7875B4B</span></pre><p id="9624" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">由于blockHash不遵循约束，挖掘器将递增nonce并重试。矿工必须这样做，直到它收到这样的东西:</p><pre class="jp jq jr js fq lr ls lt lu aw lv dt"><span id="385f" class="lw kc ht ls b fv lx ly l lz ma">00000273FF34FCE19D6B804EFF5A3F5747ADA4EAA22F1D49C01E52DDB7875B4B</span></pre><p id="5d7c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">此外，不仅仅是一个矿工，而是网络上的每个矿工在同一块上运行相同的算法。这就创造了一个竞争环境，每个矿工都在相互竞争。找到满足给定约束的散列值的第一个矿工赢得这一轮并成为这一轮的领导者。然后，它在用其私钥对其签名后添加该块，并将其广播到网络。其他挖掘器将接收到的块添加到本地链中。</p><p id="bc0e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">对于完成这种计算量大的任务，矿工会得到奖励。以比特币为例，矿工会收到一定数量的比特币，以及他们刚刚添加到区块链的区块中存在的所有交易的交易费。</p><h1 id="69c8" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">优势</h1><blockquote class="le"><p id="6619" class="lf lg ht bd lh li lj lk ll lm ln jn ek translated"><a class="ae ka" href="https://en.bitcoinwiki.org/wiki/Proof-of-work#The_advantages_of_PoW" rel="noopener ugc nofollow" target="_blank">其主要优势——免受Ddos攻击，以及矿工拥有的加密货币在提取能力方面的低份额影响。</a></p></blockquote><p id="f83f" class="pw-post-body-paragraph iq ir ht is b it mc iv iw ix md iz ja jb me jd je jf mf jh ji jj mg jl jm jn hm dt translated">由于计算能力非常昂贵，有效攻击也需要类似的处理能力。对攻击者来说，与整个网络竞争在经济上是不可行的。攻击者会逐渐耗尽现金来资助自己的攻击。</p><h1 id="1296" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">不足之处</h1><p id="ecc5" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">权力一个主要缺点也是它的优点。运行这个算法的巨大成本。欲知耗电多少，读功耗比较<a class="ae ka" href="https://powercompare.co.uk/bitcoin/" rel="noopener ugc nofollow" target="_blank">阐述这个问题的文章</a>。</p><blockquote class="le"><p id="1ff4" class="lf lg ht bd lh li lj lk ll lm ln jn ek translated">比特币采矿现在使用的电力超过了159个国家</p></blockquote><p id="cd1f" class="pw-post-body-paragraph iq ir ht is b it mc iv iw ix md iz ja jb me jd je jf mf jh ji jj mg jl jm jn hm dt translated">其次，比特币并不完全安全，PoW也不是应对所有攻击的灵丹妙药。<a class="ae ka" href="https://hackernoon.com/what-is-a-51-attack-or-double-spend-attack-aa108db63474" rel="noopener ugc nofollow" target="_blank"> 51%攻击</a>是一种场景，在这种场景中，攻击者可能获得超过整个网络51%的计算能力，然后攻击者可以成功篡改区块链。</p><h1 id="2973" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结构</h1><p id="e63b" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">让我们通过这个图表来理解PoW算法的结构:</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mh"><img src="../Images/477734e68f67bf60b573165cae1f5b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WXycoWniA4f1XaywK1GtCA.png"/></div></div><figcaption class="jw jx fg fe ff jy jz bd b be z ek">Structure of Proof of Work Consensus Algorithm</figcaption></figure><h1 id="d8bc" class="kb kc ht bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">设计</h1><p id="e1f8" class="pw-post-body-paragraph iq ir ht is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hm dt translated">在我们开始编码之前，让我们分析一下我们必须做什么。</p><p id="352f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以下是我们根据上述概述在代码中创建的类:</p><ol class=""><li id="2b47" class="mm mn ht is b it iu ix iy jb mo jf mp jj mq jn mr ms mt mu dt translated">块类</li><li id="5ecc" class="mm mn ht is b it mv ix mw jb mx jf my jj mz jn mr ms mt mu dt translated">区块链类</li><li id="6f85" class="mm mn ht is b it mv ix mw jb mx jf my jj mz jn mr ms mt mu dt translated">交易类别</li><li id="0d98" class="mm mn ht is b it mv ix mw jb mx jf my jj mz jn mr ms mt mu dt translated">钱包类</li><li id="0b72" class="mm mn ht is b it mv ix mw jb mx jf my jj mz jn mr ms mt mu dt translated">P2P服务器类</li><li id="fc33" class="mm mn ht is b it mv ix mw jb mx jf my jj mz jn mr ms mt mu dt translated">矿工阶级</li></ol><p id="32b6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">稍后我们会添加更多，但这些看起来很好，以便更好地理解。我们继续吧。</p><p id="f368" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae ka" rel="noopener" href="/coinmonks/implementing-blockchain-and-cryptocurrency-with-pow-consensus-algorithm-in-node-js-part-2-4524d0bf36a1">第二部分:用PoW共识算法实现区块链和加密货币</a></p></div><div class="ab cl na nb hb nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="hm hn ho hp hq"><p id="078c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="nh">感谢您的阅读。</em> <strong class="is hu"> <em class="nh">在下一部分，我们将开始编写一些代码。</em> </strong> <em class="nh">希望你喜欢这个简短的介绍。如果你发现这很有帮助，请鼓掌。</em> </p><p id="4ed5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果你对区块链、以太坊或整个世界有任何问题，请发表评论。:)</p><figure class="jp jq jr js fq jt fe ff paragraph-image"><a href="http://bit.ly/2G71Sp7"><div class="fe ff ni"><img src="../Images/449450761cd76f44f9ae574333f9e9af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fKX2mtg7p1lOs7JmosPLsA.png"/></div></a></figure><blockquote class="le"><p id="7348" class="lf lg ht bd lh li nj nk nl nm nn jn ek translated"><a class="ae ka" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="np nq nr ns nt jt fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff no"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>