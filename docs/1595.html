<html>
<head>
<title>Integrating physical devices with IOTA — The IOTA debit card, Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将物理设备与IOTA集成—IOTA借记卡，第3部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/integrating-physical-devices-with-iota-the-iota-debit-card-part-3-bc0f03b8b2c9?source=collection_archive---------7-----------------------#2018-10-03">https://medium.com/coinmonks/integrating-physical-devices-with-iota-the-iota-debit-card-part-3-bc0f03b8b2c9?source=collection_archive---------7-----------------------#2018-10-03</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="bde9" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">关于将物理设备与IOTA协议集成的初学者教程系列的第8部分。</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/16a71b754791719215f1e4c1ca15521f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NNFNPMckJa2_pRxHSF49QQ.jpeg"/></div></div></figure></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="b5ba" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">介绍</h1><p id="24f9" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">这是初学者教程系列的第8部分，我们将探索如何将物理设备与IOTA协议集成在一起。本教程是系列教程的第三部分，我们将尝试用基于IOTA的解决方案复制传统的基于fiat的借记卡支付解决方案。在这第三个教程中，我们将为我们的IOTA借记卡实现i PIN码保护机制。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="3db4" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">使用案例</h1><p id="3423" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">如果您遵循了本系列的上一篇教程，您可能会注意到，当您使用IOTA借记卡付款时，不会要求您提供任何授权或凭证。虽然在某些用例中这可能是好的，但是在其他用例中这可能是不可接受的。想象一下，如果你丢失了你的IOTA借记卡，而它被一个坏演员捡到了。没有任何保护机制，就没有什么可以阻止他使用你的卡。在本教程中，我们将通过为IOTA借记卡实施PIN码保护机制来解决这个问题。</p><p id="7eb0" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">本教程将比本系列前面的教程略短，因为我们不会介绍任何新的硬件或PyOTA函数。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="5db4" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">Python代码—第1部分</h1><p id="f0b6" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">本教程中使用的python代码将分为两部分，其中第一部分是为您的IOTA借记卡分配新PIN码时使用的代码。第二部分是来自<a class="ae lp" rel="noopener" href="/coinmonks/integrating-physical-devices-with-iota-the-iota-debit-card-part-2-1f073060ae1d">之前教程</a>的<a class="ae lp" href="https://gist.github.com/huggre/71c6aadb4e4e3d37018dc3acee5a17a0" rel="noopener ugc nofollow" target="_blank"> iota_debit_card_pay.py </a>脚本的修改版。唯一不同的是，新版本将在扫描您的IOTA借记卡之前要求您输入PIN码。</p><p id="7760" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">因此，让我们从第一个Python脚本开始，它将允许您为您的IOTA借记卡分配自己的四位PIN码。请注意，新的PIN码将被写入模块11和15的前四个字节。我们需要将PIN码写入两个不同的块的原因是每个块用作存储IOTA种子的两个单独扇区的认证块。查看本系列的第6篇教程，了解更多关于从Mifare RFID标签读取和写入数据的信息。</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="7bd5" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">你可以从<a class="ae lp" href="https://gist.github.com/huggre/b22698a6f404d859463d4408ae2a1bbc" rel="noopener ugc nofollow" target="_blank">这里</a>下载源代码</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="e9af" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">运行项目</h1><p id="f980" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">要运行项目，首先需要将上一节中的代码作为文本文件保存在安装MFRC522-python库的同一文件夹中。</p><p id="eea6" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">注意Python程序文件使用。py扩展名，所以我们在树莓PI上把文件保存为<strong class="kv hu"><em class="lx">iota _ debit _ card _ pin . py</em></strong>。</p><p id="56df" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">要执行这个程序，只需启动一个新的终端窗口，导航到你保存<em class="lx">的文件夹，输入:</em></p><p id="1af1" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><strong class="kv hu">python iota _ debit _ card _ pin . py</strong></p><p id="c7f1" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">您现在应该看到Python代码在您的终端窗口中执行，要求您输入旧的PIN码。提供旧的PIN码后，将要求您输入新的四位数PIN码。</p><p id="56af" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><em class="lx">注意！<br/>如果您使用的是新的RFID标签，当要求输入旧的PIN码时，您只需按enter键，因为脚本会使用在制造过程中分配给标签的默认认证密钥。</em></p><p id="75db" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><em class="lx">警告！<br/>记住或记下您分配给IOTA借记卡的任何新PIN码非常重要，因为现在有办法在以后重置或更改PIN码，而无需首先提供旧PIN码。</em></p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="cb70" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">Python代码—第2部分</h1><p id="0c0f" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">第二部分是来自<a class="ae lp" rel="noopener" href="/coinmonks/integrating-physical-devices-with-iota-the-iota-debit-card-part-2-1f073060ae1d">之前教程</a>的<a class="ae lp" href="https://gist.github.com/huggre/71c6aadb4e4e3d37018dc3acee5a17a0" rel="noopener ugc nofollow" target="_blank"> iota_debit_card_pay.py </a>脚本的修改版本。唯一不同的是，新版本将在扫描您的IOTA借记卡之前要求您输入PIN码。</p><figure class="jj jk jl jm fq jn"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="e423" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">你可以从<a class="ae lp" href="https://gist.github.com/huggre/7f4938e189bfbe783004abdc349c12cc" rel="noopener ugc nofollow" target="_blank">这里</a>下载源代码</p><h1 id="37f5" class="kb kc ht bd kd ke ly kg kh ki lz kk kl iz ma ja kn jc mb jd kp jf mc jg kr ks dt translated">运行项目</h1><p id="8200" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">要运行项目，首先需要将上一节中的代码作为文本文件保存在安装MFRC522-python库的同一文件夹中。</p><p id="9261" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">注意Python程序文件使用。py扩展名，所以我们在树莓PI上把文件保存为<strong class="kv hu"><em class="lx">iota _ debit _ card _ pay _ pin . py</em></strong>。</p><p id="5766" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">要执行该程序，只需启动一个新的终端窗口，导航到保存<em class="lx">iota _ debit _ card _ pay _ pin . py</em>的文件夹，然后键入:</p><p id="2228" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated"><strong class="kv hu">python iota _ debit _ card _ pay _ pin . py</strong></p><p id="c066" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">现在，您应该看到Python代码正在您的终端窗口中执行，首先询问您想要购买的“眨眼”次数，然后询问PIN码。使用之前的Python脚本输入分配给标签的PIN码(如果尚未分配新的PIN码，请按Enter键)。如果您不提供有效的PIN码，该脚本将因身份验证错误而中止。</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="88b0" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">接下来是什么？</h1><p id="7f60" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">我在想，使用一些现成的组件，如键盘、2x16数字显示器和RFID阅读器，构建一个基于Visa style IOTA的支付终端会很有趣。我只希望我的树莓派上有足够多的GIO别针。将会看到进展如何..，敬请关注。</p><p id="7af7" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">你可以在这里找到本系列下一个教程的链接</p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="4dfb" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">贡献</h1><p id="644b" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">如果你想对本教程有所贡献，你可以在这里找到一个Github库<a class="ae lp" href="https://github.com/huggre/the_iota_debit_card_part_3" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl ju jv hb jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hm hn ho hp hq"><h1 id="9171" class="kb kc ht bd kd ke kf kg kh ki kj kk kl iz km ja kn jc ko jd kp jf kq jg kr ks dt translated">捐款</h1><p id="70bd" class="pw-post-body-paragraph kt ku ht kv b kw kx iu ky kz la ix lb lc ld le lf lg lh li lj lk ll lm ln lo hm dt translated">如果你喜欢这个教程，并希望我继续制作其他教程，请随时向下面显示的IOTA地址捐款。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff md"><img src="../Images/f898855aa9f02c497078a9bdbee25534.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*j2ENIzmDzXcGSgAdY4w-Jw.png"/></div></figure><p id="c30b" class="pw-post-body-paragraph kt ku ht kv b kw lq iu ky kz lr ix lb lc ls le lf lg lt li lj lk lu lm ln lo hm dt translated">nyzbhovsmdwabxsacajttwjoqrvvawlbsfqvsjswwbjjlsqknzfc 9 xcrpqsvfqzpbjcjrannpvmmezqjrqsvvgz</p><blockquote class="me"><p id="45fe" class="mf mg ht bd mh mi mj mk ml mm mn lo ek translated"><a class="ae lp" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="mp mq mr ms mt jn fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mo"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>