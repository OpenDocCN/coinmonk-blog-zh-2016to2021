# 区块链共识算法:早期概述

> 原文：<https://medium.com/coinmonks/blockchain-consensus-algorithms-an-early-days-overview-2973f0cf49c6?source=collection_archive---------2----------------------->

![](img/efdad844075fee233319ed01219dd7d0.png)

Source: [https://www.bloglet.com/gallery/automobile-history/automobile-history.jpg](https://www.bloglet.com/gallery/automobile-history/automobile-history.jpg)

我的朋友们，这是一辆奔驰。什么，你没认出来？当然不是。这就是区块链，或者至少是它的共识算法现在的样子。

> [发现并回顾最佳区块链软件](https://coincodecap.com)

没错。对于区块链来说，现在还为时尚早，就像那辆老奔驰一样，在它看起来像这样之前，还有一些改进要做:

![](img/5a687f0adc8c3cce7a7de36b4fb18b0a.png)

Source: [https://pictures.topspeed.com/IMG/crop/201512/1957-mercedes-300sl-gullw-5_1600x0w.jpg](https://pictures.topspeed.com/IMG/crop/201512/1957-mercedes-300sl-gullw-5_1600x0w.jpg)

T4:区块链共识算法尤其如此，它对区块链的运作乃至未来至关重要。

当你在区块链上建立业务时，有许多不同的共识算法可供选择。在以前的帖子中，我们介绍了比特币区块链上使用的工作共识算法证明和股权共识算法证明。

但是还有其他的要考虑。因为现在还为时过早，今天在这里的可能明天就会消失，行业最佳实践可能还不存在。

以下是其他几个共识算法，[“商业区块链 Hyperledger 技术简介”](https://www.edx.org/course/blockchain-business-introduction-linuxfoundationx-lfs171x) edX 课程简要记录了一些额外的解释。

# *经过时间的证明(诗人)*

edX 课程是这样描述 PoET 的:

“由英特尔开发的耗时一致性算法证明模拟了比特币式的工作证明。Hyperledger 的锯齿实现是诗人工作的一个例子。PoET consensus 算法不是像比特币区块链那样竞相解决加密难题和挖掘下一个区块，而是随机抽奖和先到先得的混合算法。在 PoET 中，每个验证器都有一个随机的等待时间 *…* 这个“领导者”开始创建链上的下一个块。

Coindesk 的 Amy Castor 表示，PoET 的额外好处是它消耗的电量远低于工作证明。PoET 还“使用一个[可信的执行环境](https://en.wikipedia.org/wiki/Trusted_execution_environment)(TEE)…以确保块以随机抽奖的方式产生…”

PoET 的缺点是它的用户不得不信任英特尔。正如 Castor 所写，“……信任第三方不正是我们试图从公共区块链中摆脱的吗？”公平点。

# *简化的拜占庭容错(SBFT)*

另一个要考虑的共识算法是 SBFT。edX 课程是这样描述的:

“简化的拜占庭容错共识算法实现了[实用拜占庭容错](https://blog.acolyer.org/2015/05/18/practical-byzantine-fault-tolerance/) (PBFT)算法的采用版本，并试图对比特币的工作证明共识协议进行重大改进。基本思想涉及一个单一的验证器，它捆绑提议的事务并形成一个新的块。请注意，与比特币区块链不同，鉴于分类账的许可性质，验证方是一个已知方。作为网络中最小数量的*其他节点*批准新块的结果，达成共识。为了能够容忍拜占庭故障，在包含 **3 *f* +1** 节点的系统中，必须达到一致的节点数为 **2 *f* +1** ，其中**f为系统中的故障数。例如，如果我们在系统中有 7 个节点，那么其中 5 个节点必须同意其中 2 个节点以错误的方式运行。”**

这个解释假设了一些知识，包括几乎足够证明九年级数学的代数。首先，什么是拜占庭容错？这又回到了所谓的拜占庭将军的问题，这不仅仅是拜占庭或将军们的问题。更确切地说，这是一个沟通问题，我们许多人在计划婚礼、餐饮或国会投票等集体活动时仍然会遇到这个问题。也就是说，我们能让每个人都同意并在这一协议上向前迈进吗？还是说所有的投票都是真实的或可信的？以下是对拜占庭将军问题的更详细的描述:

一群将军，每个人指挥拜占庭军队的一部分，包围一座城市。这些将军希望制定一个进攻这座城市的计划。最简单的形式是，将军们必须决定是进攻还是撤退。一些将军可能更喜欢进攻，而另一些更喜欢撤退。重要的是每个将军都同意一个共同的决定，因为几个将军半心半意的攻击会变成溃败，比协同攻击或协同撤退更糟糕。

“卖国将军的出现使问题变得复杂，他们不仅可能投票支持次优战略，而且可能会有选择地这样做。例如，如果九位将军投票，其中四位支持进攻，而另外四位支持撤退，那么第九位将军可以向那些支持撤退的将军投撤退票，而向其余的将军投进攻票。收到第九将军撤退投票的人会撤退，而剩下的人会进攻(这可能对进攻者不利)。将军们被隔离开来，不得不通过可能无法投递选票或伪造选票的信使来传递选票，这使得问题变得更加复杂。”

中世纪时就是这样的。但是，我可以听到你说，今天我们有手机，短信和表情符号！这已经不是问题了！哦，但它是。今天有一个更新的类比:

“这个故事在计算机系统上的典型映射是，计算机是将军，它们的数字通信系统链接是信使。”

换句话说，无论我们谈论的是中世纪的信使还是数字通信系统，都有可能出错，都需要一个系统来解释潜在的错误。

那么，SBFT 是完美的共识算法系统吗？不幸的是，它也有缺陷。“虽然这个问题在类比中被表述为决策和安全问题，但在电子领域，它不能简单地通过[加密](https://en.wikipedia.org/wiki/Cryptographic) [数字签名](https://en.wikipedia.org/wiki/Digital_signature)来解决，因为像错误电压这样的故障可以简单地通过加密过程传播。因此，一个组件可能在一个组件看来工作正常，而在另一个组件看来有故障，这就无法就该组件是否有故障达成共识。”

也就是说，“拜占庭容错机制使用将传入消息(或只是其签名)重复给该传入消息的其他接收者的组件。所有这些机制都假设重复信息的行为阻止了拜占庭症状的传播。对于具有高度安全性或安全临界性的系统，这些假设必须被证明是真实的，达到可接受的[故障覆盖率](https://en.wikipedia.org/wiki/Fault_coverage)水平。当通过测试提供证据时，一个困难是创建具有拜占庭症状的足够宽范围的信号。[【35】](https://en.wikipedia.org/wiki/Byzantine_fault_tolerance#cite_note-NanyaGoosen1989-35)这样的测试可能需要专门的故障注入器。[【三十六】](https://en.wikipedia.org/wiki/Byzantine_fault_tolerance#cite_note-MartinsGandhi2013-36) [【三十七】](https://en.wikipedia.org/wiki/Byzantine_fault_tolerance#cite_note-37)

*换句话说，一台计算机要向另一台计算机发送多少次消息才能确保消息顺利通过而不被意外或故意中断*？*这是另一种说法，SBFT 易受黑客攻击或错误操作的影响。这些是选择共识算法时要考虑的重要因素。*

# **授权证明(PoA)**

*最后，edX 课程介绍了 PoA 共识算法:*

*“授权证明(PoA)是一种共识算法，可用于许可分类账。它使用一组“权限”，即被允许创建新块和保护分类账的指定节点。使用 PoA 的分类账需要大多数机构的签准才能创建一个块。”*

*本课程忽略了一点，即 PoA 一致性算法并不只有一种。由于一致性算法不止一种，因此权威证明一致性算法也不止一种。*

*此外，与对所有用户开放的公共区块链不同，许可区块链仅由一定数量的用户使用。而且，除非我误解了 PoA 的工作方式，否则配置哪些节点是“权威”可能会变得政治化。如果我拥有一个授权节点，而你拥有另一个，但我们需要一个授权节点才能形成多数，如果我授权我的狗的节点，你可能不喜欢，因为我的狗可能会站在我这边，而不是你这边。*

## **总体思路**

*正如我在这篇文章开始时提到的，目前有许多不同的共识算法，因为区块链还处于早期。但愿，随着时间的推移，一些高效且值得信赖的最佳实践会脱颖而出。*

*在此之前，希望在区块链上进行构建的个人和组织将不得不考虑这些共识算法选项、它们的利弊以及它们的风险承受能力。*

*最后，这些只是 edX 课程提到的共识算法。还有更多。我现在不会谈论它们，但我期待着将来当我们都更清楚地知道什么是真实的，什么是好的，什么是有效的时，我会做一篇文章。*

## *关注更多*

*更多关于商业区块链 Hyperledger edX 课程介绍、《Hyperledger 区块链》和《区块链》的帖子，请关注我以获取最新消息。*

*[![](img/fa9d7d993cd4f355be2ad545a9afeda2.png)](https://medium.com/coinmonks/blockchain/home)

**Click to read more Blockchain stories***