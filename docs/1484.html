<html>
<head>
<title>Dispelling Myths: How a Pruned Ethereum Node Can Fully Verify the Blockchain</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">消解神话:一个修剪过的以太坊节点如何充分验证区块链</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-a-pruned-ethereum-node-can-fully-verify-the-blockchain-bbe9f29663ed?source=collection_archive---------3-----------------------#2018-09-10">https://medium.com/coinmonks/how-a-pruned-ethereum-node-can-fully-verify-the-blockchain-bbe9f29663ed?source=collection_archive---------3-----------------------#2018-09-10</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/f3630b9020ed6a1a12ee3e433521d7ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bA9sYX-_w0xdQwkNFPomlw.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">source: <a class="ae jf" href="https://www.shutterstock.com/image-photo/gardener-pruning-trees-shears-on-nature-761866162?irgwc=1&amp;utm_medium=Affiliate&amp;utm_campaign=Hans%20Braxmeier%20und%20Simon%20Steinberger%20GbR&amp;utm_source=44814&amp;utm_term=" rel="noopener ugc nofollow" target="_blank">shutterstock.com</a></figcaption></figure><p id="d225" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">以太坊的批评者担心以太坊区块链太大了。他们担心它会占用太多的存储空间。</p><p id="c41d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">存储空间是一个问题，因为如果日常用户无法在笔记本电脑上安装区块链，他们将无法在本地验证区块链。</p><p id="c959" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果普通用户无法运行<strong class="ji hu">完整节点</strong>，他们将失去体验crypto全部潜力的能力。这个<strong class="ji hu">可能</strong>也会让能够运行完整节点的第三方对以太坊区块链未来的发展有更大的影响力。</p><p id="a4cd" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在这篇文章中，我将消除日常用户因为存储需求而无法运行完全验证的以太坊节点的神话。我将描述一个修剪过的以太坊节点是如何被完全验证的。</p><h2 id="505d" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated"><strong class="ak">完整节点是什么意思？</strong></h2><p id="22d9" class="pw-post-body-paragraph jg jh ht ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">如果您运行完整节点，这意味着您的以太坊客户端<strong class="ji hu">构建并验证了</strong>自genesis块以来您的本地区块链(即您笔记本电脑上的区块链)的当前状态，并且可以向其他节点提供区块链的完整副本。</p><h2 id="957b" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated"><strong class="ak">完整节点如何验证区块链的当前状态？</strong></h2><p id="2c71" class="pw-post-body-paragraph jg jh ht ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">完整节点从其对等节点(其他以太坊节点)下载曾经存在的每一个以太坊块，但是也检查这些块不是“假块”您的节点将通过<strong class="ji hu">重放自起源块</strong>(也称为第一块)以来的所有事务，通过检查这些块是否遵循所有共识规则，并通过确保所有事务都有效，来验证这些块是否合法。</p><p id="01fa" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">一旦您的本地区块链验证了网络中的最新数据块，它就会被同步，现在正式成为完整节点。</p><p id="b816" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">从这个本地验证过程中得到的关键信息是，尽管从创世纪开始，你就从以太坊网络中的对等体那里收到了每一个块，但你不需要盲目地接受来自对等体的任何数据来达到区块链的最新状态。你通过一个“不可信”的过程到达了以太坊区块链的当前状态。</p><blockquote class="le"><p id="b844" class="lf lg ht bd lh li lj lk ll lm ln kd ek translated">还念:最好的以太坊<a class="ae jf" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&amp;sk=324dd9ff8556ab578d71e7ad7658ad7c">硬件钱包</a></p></blockquote><h2 id="cdad" class="ke kf ht bd kg kh lo kj kk kl lp kn ko jr lq kq kr jv lr kt ku jz ls kw kx ky dt translated"><strong class="ak">完整节点需要是归档节点吗？</strong></h2><p id="1afc" class="pw-post-body-paragraph jg jh ht ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">人们<strong class="ji hu">认为</strong>为了有一个完全验证的以太坊区块链(又名完整节点)，你需要运行一个档案以太坊节点。运行一个存档节点被认为是以太坊的一个问题，因为一个存档节点目前占用高达1.4太字节(数据点由奇偶技术公司的开发者<a class="ae jf" href="https://twitter.com/5chdn" rel="noopener ugc nofollow" target="_blank"> Afri Scheoden </a>提供)。</p><figure class="lu lv lw lx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lt"><img src="../Images/e7ceb601c40b52f5c5cc9b0f0b11b61d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYPNjksNSDDICElj88G7rg.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">source: <a class="ae jf" href="https://pixabay.com/en/binary-random-numbers-digital-ones-1254484/" rel="noopener ugc nofollow" target="_blank">pixabay.com</a></figcaption></figure><p id="a3ef" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">存档节点保存每个块的所有中间/过渡/历史状态。每次添加一个块，状态数据被添加并从状态trie的<strong class="ji hu">最新版本</strong>中移除。尽管以太坊状态的最新版本中不断添加和删除数据，但存档节点仍然保留所有与先前状态相关的删减数据。</p><p id="54b2" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">存档节点可以使用这些数据来查看以太坊在每个历史区块的状态。这意味着您可以看到每个公钥余额和智能合约状态在任何特定时间点(或者更准确地说是“阻塞”)的样子。你是否对4199900街区的所有账户都是什么样子感到好奇？存档节点将在那时保存整个全局状态。</p><p id="b6b1" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如您所见，归档节点不仅仅是一个完整的节点，也不是必需的。我在这篇文章中的主要论点是<strong class="ji hu">我们不需要运行一个存档节点来运行一个完全验证的区块链</strong>。<strong class="ji hu"> </strong>我们也可以运行一个带有修剪过的<strong class="ji hu">状态trie </strong>的完整节点！</p><h2 id="042b" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated"><strong class="ak">完全验证区块链的修剪节点？</strong></h2><figure class="lu lv lw lx fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ly"><img src="../Images/41152cd0463ddd47991d8405e774e9ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sp4y8ros_Ama9WBJJhDaag.png"/></div></div></figure><p id="746c" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">奇偶以太坊客户端给你选择<strong class="ji hu">完全验证和重放自起源</strong>以来的每个事务/块，但也允许你<strong class="ji hu">修剪以太坊状态尝试</strong>以节省空间。这意味着在<a class="ae jf" href="https://dev.to/5chdn/the-ethereum-blockchain-size-will-not-exceed-1tb-anytime-soon-58a" rel="noopener ugc nofollow" target="_blank"> 1024阻塞</a>后，所有关于以太坊历史状态的数据都将被删除。</p><p id="2936" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">修剪状态trie可以节省大量磁盘空间，因为是历史状态数据造成了区块链膨胀。与归档节点占用的1.4相比，修剪后的区块链可以占用90 GB(数据点由Parity Tech的开发人员<a class="ae jf" href="https://twitter.com/5chdn" rel="noopener ugc nofollow" target="_blank"> Afri Scheoden </a>提供)。</p><p id="c313" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">尽管来自旧状态trie的数据被删除，但是重新创建该状态trie所需的所有信息仍然保存在本地区块链上。为了构建一个同样被修剪的完整以太坊节点，使用奇偶以太坊客户端的<strong class="ji hu"> —快速修剪(默认为开)和—无扭曲</strong>选项。</p><h2 id="cd51" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated"><strong class="ak">剪枝还是有得有失！</strong></h2><p id="8b2b" class="pw-post-body-paragraph jg jh ht ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">修剪后的区块链仍然保存了更多的历史州，而不仅仅是最新的街区，因为它需要这些州，以防区块链重组。当累积难度更高的区块链版本出现并归还区块链的几个街区时，区块链就会重组。</p><p id="b821" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">奇偶以太坊上为修剪后的区块链保存的历史状态的默认数量是1024，但是如果您想进一步保护自己免受链重组的影响，您也可以选择增加这个数量。</p><h2 id="961b" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated"><strong class="ak">普通用户还能运行一个完整的节点吗？？？</strong></h2><p id="8caa" class="pw-post-body-paragraph jg jh ht ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">希望我让你相信以太坊的存储要求不会成为普通以太坊用户的进入障碍。</p><p id="46a4" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在以后的帖子中，我<strong class="ji hu">可能</strong>会探讨其他阻碍用户体验运行节点的全部好处的问题。我特别感兴趣的是比较运行一个完整节点和仅仅使用<a class="ae jf" href="http://etherscan.io" rel="noopener ugc nofollow" target="_blank">以太扫描</a>的用户体验。</p><p id="6742" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">感谢阅读！</p><h2 id="1b16" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">如果你喜欢你所读的，在<a class="ae jf" href="https://twitter.com/jmartinez_43" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae jf" rel="noopener" href="/@julianrmartinez43"> Medium </a>上关注我吧！</h2><p id="98be" class="pw-post-body-paragraph jg jh ht ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hm dt translated">我要特别感谢<a class="ae jf" href="https://twitter.com/5chdn" rel="noopener ugc nofollow" target="_blank"> Afri Scheoden </a>校对我的文章。谢谢你在百忙之中抽出时间。</p><h1 id="0fb1" class="lz kf ht bd kg ma mb mc kk md me mf ko mg mh mi kr mj mk ml ku mm mn mo kx mp dt translated">资源/引用/了解更多</h1><div class="mq mr fm fo ms mt"><a href="https://dev.to/5chdn/the-ethereum-blockchain-size-will-not-exceed-1tb-anytime-soon-58a" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">以太坊-区块链的大小不会很快超过1TB。</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">每月一次，用户在“r/以太坊”上发布图表，预测以太坊的区块链规模将很快超过1 TB。我…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">开发到</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh iz mt"/></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://wiki.parity.io/FAQ" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">奇偶校验文档-常见问题</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">将奇偶以太坊客户端与链顶端同步的最快方法是结合使用Warp sync</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">wiki.parity.io</p></div></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://www.investopedia.com/terms/f/full-node.asp" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">完整节点</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">完全节点是完全实现加密货币网络所有核心共识规则的计算机，使用…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">www.investopedia.com</p></div></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://bitseed.org/the-different-kinds-bitcoin-full-nodes/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">不同种类的比特币全节点——Bitseed</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">在比特币网络中，完全节点是共识规则的执行者。完整节点(“完全验证”的缩写…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">bitseed.org</p></div></div></div></a></div><h2 id="4224" class="ke kf ht bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated"><strong class="ak">同样，阅读</strong></h2><ul class=""><li id="f48c" class="ni nj ht ji b jj kz jn la jr nk jv nl jz nm kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/defi-future-10-promising-projects-in-the-defi-world-ff2b697ab006">顶级DeFi项目</a></li><li id="0bc7" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">最佳加密交易机器人</a></li><li id="69bb" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated">最好的<a class="ae jf" rel="noopener" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b">加密税务软件</a></li><li id="7c4f" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/the-best-crypto-trading-platforms-in-2020-the-definitive-guide-updated-c72f8b874555">最佳加密交易平台</a></li><li id="3524" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/best-wallets-to-use-uniswap-e91a6385d9e8">unis WAP最佳钱包</a></li><li id="a1cf" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" href="https://blog.coincodecap.com/bitsgap-review" rel="noopener ugc nofollow" target="_blank"> Bitsgap评论</a>——一个轻松赚钱的加密交易机器人</li><li id="2401" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" href="https://blog.coincodecap.com/quadency-review-a-crypto-trading-automation-platform" rel="noopener ugc nofollow" target="_blank"> Quadency Review </a> -专为专业人士打造的加密交易机器人</li><li id="eb27" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated">Bitmex的<a class="ae jf" rel="noopener" href="/coinmonks/the-idiots-guide-to-margin-trading-on-bitmex-dbbd7742c6fc?source=friends_link&amp;sk=7bfa99d2a181142510c8442c8ddb0786">保证金交易指南</a></li><li id="aaab" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/the-definitive-guide-to-crypto-swing-trading-7e4af6496d4d?source=friends_link&amp;sk=70448050bd9323b42f63bfc0bb1e60d1">加密摇摆交易权威指南</a></li><li id="cfc6" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/bitmex-advanced-margin-trading-guide-2270c195ce25?source=friends_link&amp;sk=1d986cca731f5084b9a2db4a4bc4a7ad"> Bitmex高级保证金交易指南</a></li><li id="5a5d" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated">顶级<a class="ae jf" href="https://blog.coincodecap.com/bitcoin-node-solutions" rel="noopener ugc nofollow" target="_blank">比特币节点</a>提供商</li><li id="6e2e" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">开发人员的最佳加密API</a></li><li id="b037" class="ni nj ht ji b jj nr jn ns jr nt jv nu jz nv kd nn no np nq dt translated"><a class="ae jf" rel="noopener" href="/coinmonks/crypto-arbitrage-guide-how-to-make-money-as-a-beginner-62bfe5c868f6">加密套利</a>指南:新手如何赚钱</li></ul><blockquote class="le"><p id="b751" class="lf lg ht bd lh li nw nx ny nz oa kd ek translated"><a class="ae jf" href="https://coincodecap.com?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="oc od oe of og iu fe ff paragraph-image"><a href="https://coincodecap.com?utm_source=coinmonks"><div class="fe ff ob"><img src="../Images/160ce73bd06d46c2250251e7d5969f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*BoDnKUyK8p4hitHAJZ5Pdw.png"/></div></a></figure></div></div>    
</body>
</html>