<html>
<head>
<title>How to Generate a Bitcoin Address — Step by Step</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何一步一步生成比特币地址</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-generate-a-bitcoin-address-step-by-step-9d7fcbf1ad0b?source=collection_archive---------0-----------------------#2018-06-06">https://medium.com/coinmonks/how-to-generate-a-bitcoin-address-step-by-step-9d7fcbf1ad0b?source=collection_archive---------0-----------------------#2018-06-06</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/ba657a937ee31799316204d0bb46d1cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*1S3ycUgSmsKkw9SD.jpg"/></div></figure></div><div class="ab cl ix iy hb iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hm hn ho hp hq"><p id="1c2b" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">下面是一个bash脚本，它的作用如下:<a class="ae kc" href="https://gist.github.com/JBaczuk/dab51daf6280f6a2d4b58897d6b36e9b" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/JBaczuk/dab 51 daf 6280 f 6a 2d 4b 58897 d6b 36 e 9 b</a></p><h1 id="93c6" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">介绍</h1><p id="5836" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">这是一个实用的技术指南，介绍了比特币地址的生成，包括私钥和公钥，以及相关的加密技术。虽然这将工作，但最好是使用您的钱包来生成和管理您的地址，这是出于教育目的。</p><blockquote class="lg lh li"><p id="cbc4" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">了解更多，加入<a class="ae kc" href="https://www.udemy.com/course/create-your-own-blockchain/?referralCode=9A52F48CA8455AC77928" rel="noopener ugc nofollow" target="_blank"> <strong class="jg hu">完整比特币/区块链课程</strong> </a>全球48个国家的人。</p></blockquote><p id="662a" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">本指南将带您完成在Mac上使用命令行生成比特币地址的所有步骤。在使用类似加密工具的其他操作系统上，类似的步骤应该是可能的。以<code class="eh ln lo lp lq b">$</code>开头的行表示终端命令，您可以键入并运行这些命令(当然没有<code class="eh ln lo lp lq b">$</code>)。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff lr"><img src="../Images/3a2ad2515639b790b2f16a934c959748.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mMKQfBuuncF0G-KI-shQAQ.png"/></div></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">Mac Terminal (iTerm 2)</figcaption></figure><h2 id="fb71" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">属国</h2><ul class=""><li id="a663" class="ms mt ht jg b jh lb jl lc jp mu jt mv jx mw kb mx my mz na dt translated"><code class="eh ln lo lp lq b">brew</code> —安装:<a class="ae kc" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">https://brew.sh/</a></li><li id="7ed6" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><code class="eh ln lo lp lq b">pip</code> —安装:<code class="eh ln lo lp lq b">sudo easy_install pip</code></li><li id="9ce9" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><code class="eh ln lo lp lq b">libressl</code> —安装:<code class="eh ln lo lp lq b">brew install libressl</code></li><li id="ea2e" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><code class="eh ln lo lp lq b"><a class="ae kc" href="https://github.com/keis/base58" rel="noopener ugc nofollow" target="_blank">base58</a></code> —安装:<code class="eh ln lo lp lq b">pip install base58</code></li></ul><blockquote class="lg lh li"><p id="1340" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">注意:为了执行包含的<code class="eh ln lo lp lq b">openssl</code> cli命令，我安装了<code class="eh ln lo lp lq b">libressl</code>以便一些椭圆曲线命令能够工作，因为mac上当前版本的openssl cli有一个<a class="ae kc" href="https://github.com/libressl-portable/portable/issues/395" rel="noopener ugc nofollow" target="_blank">错误</a>。</p></blockquote><h1 id="b3a8" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">密码学初级读本</h1><h2 id="ce20" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">公钥加密</h2><p id="dfb8" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">或非对称加密是一种使用密钥对的加密方法，每个密钥对都是唯一的。该对密钥包括公钥和私钥。这是比特币用来控制资金的一种加密技术。公钥可以从私钥生成，但不能从私钥生成公钥(计算上太困难)。同样，用私钥加密的东西可以用公钥解密，反之亦然，因此它们是非对称的。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div class="fe ff ng"><img src="../Images/b72ac3747631ffa57b9af02b6e9ff9ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/0*CufGgYMj3Kt5fF8m.gif"/></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">Assymetric Encryption</figcaption></figure><p id="67c6" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated"><strong class="jg hu">用例</strong></p><ul class=""><li id="83eb" class="ms mt ht jg b jh ji jl jm jp nh jt ni jx nj kb mx my mz na dt translated">加密:当用户拥有一个公钥时，可以使用公钥对消息进行加密，只有拥有私钥的人才能读取公钥。反之亦然。</li><li id="ddfd" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated">数字签名:用户可以使用他们的私钥和一些数据的散列，使用诸如ECDSA之类的数字签名算法来计算数字签名。然后，另一个用户可以使用该算法，使用公钥和相同数据的散列来验证该签名。如果通过，这证明用户确实提交了特定的消息，该消息没有被篡改。</li><li id="b043" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated">数字指纹:是一种表示任意大的数据集的方法，通过计算它的散列来生成标准大小的指纹。如果没有完全相同的数据，这个指纹将很难复制，因为可以假定这些数据没有被篡改。</li></ul><p id="faae" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">私钥可以证明你可以发送已经发送给你的比特币。它就像你银行账户的密码。如果你把它弄丢了或者被别人得到了，你就完了。</p><p id="00d6" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">公钥帮助人们知道如何向你发送比特币。</p><blockquote class="lg lh li"><p id="f22d" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">了解更多信息，加入我的课程，与全球48个国家的人们一起学习如何<a class="ae kc" href="https://www.udemy.com/course/create-your-own-blockchain/?referralCode=9A52F48CA8455AC77928" rel="noopener ugc nofollow" target="_blank">成为一名比特币+区块链程序员</a>。</p></blockquote><h1 id="9aee" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">创建比特币地址</h1><h2 id="a5f9" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">私钥生成</h2><p id="b0df" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">私钥可以是从<code class="eh ln lo lp lq b">0x1</code>到<code class="eh ln lo lp lq b">0xFFFF FFFF FFFF FFFF FFFF FFFF FFFF FFFF BAAE DCE6 AF48 A03B BFD2 5E8C D036 4140</code>的任何256位(32字节)值。</p><p id="59a2" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">因此，私钥的可能总数是2个⁵⁶或1.16个10⁷⁷.想象你身体里的原子总数，然后想象每一个原子都是一个地球。所有这些地球上的原子总数大约是7 x 10⁷⁷.实际上，您的随机私钥是不可能被随机生成或被其他人发现的。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nk"><img src="../Images/7360d96423aa9c6311e5e681f19ff849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IqFmeltwDe1uysot"/></div></div></figure><p id="7cc6" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">创建私钥的一种常见(但不是最安全的)方法是从种子开始，比如随机选取的一组单词或密码短语。该种子然后通过SHA256算法，该算法将总是方便地生成256位值。这是可能的，因为每个计算机字符都由一个整数值表示(见ASCII和Unicode)。</p><blockquote class="lg lh li"><p id="dd3f" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">注意:SHA256是一个单向的、确定性的函数，这意味着它很容易在一个方向上计算，但你不能逆转它。为了找到一个特定的输出，你必须尝试所有可能的输入，直到你得到想要的输出(蛮力)，它将总是产生相同的输出给相同的输入，分别。</p></blockquote><p id="f953" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">如果将来使用相同的散列算法，该种子可以用于生成相同的私钥，因此只需要保存该种子。</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="09cd" class="me ke ht lq b fv np nq l nr ns">$ echo "this is a group of words that should not be considered random anymore so never use this to generate a private key" | openssl sha256</span><span id="ab54" class="me ke ht lq b fv nt nq l nr ns">a966eb6058f8ec9f47074a2faadd3dab42e2c60ed05bc34d39d6c0e1d32b8bdf</span></pre><p id="dc2b" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">这个私钥是十六进制或十六进制的。每两个数字代表8位或1个字节。因此，64个字符总共有256位。</p><blockquote class="lg lh li"><p id="ec2f" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">了解更多信息，并与全球48个国家的人们一起参加我的课程，学习如何<a class="ae kc" href="https://www.udemy.com/course/create-your-own-blockchain/?referralCode=9A52F48CA8455AC77928" rel="noopener ugc nofollow" target="_blank">成为比特币+区块链程序员</a>。</p></blockquote><h2 id="f58e" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">公钥生成</h2><p id="4145" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">公钥是使用椭圆曲线(<code class="eh ln lo lp lq b"><a class="ae kc" href="https://en.bitcoin.it/wiki/Secp256k1" rel="noopener ugc nofollow" target="_blank">secp256k1</a></code>)乘法使用公式<code class="eh ln lo lp lq b"><em class="lj">K = k * G</em></code>从比特币中的私钥生成的，其中<code class="eh ln lo lp lq b"><em class="lj">K</em></code>是公钥，<code class="eh ln lo lp lq b"><em class="lj">k</em></code>是私钥，<code class="eh ln lo lp lq b"><em class="lj">G</em></code>是称为生成器Point⁴的常数，对于<code class="eh ln lo lp lq b">secp256k1</code>等于:</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="acd8" class="me ke ht lq b fv np nq l nr ns">04 79BE667E F9DCBBAC 55A06295 CE870B07 029BFCDB 2DCE28D9 59F2815B 16F81798 483ADA77 26A3C465 5DA4FBFC 0E1108A8 FD17B448 A6855419 9C47D08F FB10D4B8</span></pre><p id="81dd" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">似乎不知道曲线的设计者是如何选择这个点的。此外，这种算法是一种单向算法，或者说是一种“陷阱门”功能，因此私钥不能从公钥中导出。值得注意的是，<a class="ae kc" href="https://en.wikipedia.org/wiki/Elliptic_curve_point_multiplication" rel="noopener ugc nofollow" target="_blank">椭圆曲线乘法</a>与标量乘法不同，尽管它们有相似的属性。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div class="fe ff nu"><img src="../Images/12153ec0d5360f41615fcde8c4503327.png" data-original-src="https://miro.medium.com/v2/resize:fit:334/format:webp/0*RSy7r6CTg4lTtvEN.png"/></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">Elliptic Curve Example</figcaption></figure><p id="6be2" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">要在终端中使用我们的私钥来实现这一点，</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="15cf" class="me ke ht lq b fv np nq l nr ns">$ openssl ec -inform DER -text -noout -in &lt;(cat &lt;(echo -n "302e0201010420") &lt;(echo -n "a966eb6058f8ec9f47074a2faadd3dab42e2c60ed05bc34d39d6c0e1d32b8bdf") &lt;(echo -n "a00706052b8104000a") | xxd -r -p) 2&gt;/dev/null | tail -6 | head -5 | sed 's/[ :]//g' | tr -d '\n' &amp;&amp; echo</span><span id="d070" class="me ke ht lq b fv nt nq l nr ns">043cba1f4d12d1ce0bced725373769b2262c6daa97be6a0588cfec8ce1a5f0bd092f56b5492adbfc570b15644c74cc8a4874ed20dfe47e5dce2e08601d6f11f5a4</span></pre><p id="a656" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">这个公钥包含前缀<code class="eh ln lo lp lq b">0x04</code>和椭圆曲线上的x和y坐标<code class="eh ln lo lp lq b">secp256k1</code>。</p><h2 id="b4da" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">压缩公钥</h2><p id="78b2" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">大多数钱包和节点实现压缩公钥作为默认格式，因为它是未压缩密钥的一半大，节省了区块链空间。要将未压缩的公钥转换为压缩的公钥，可以省略y值，因为y值可以使用椭圆曲线的等式来求解:y = x + 7。因为方程求解y，方程的右边可以是正的也可以是负的。因此，<code class="eh ln lo lp lq b">0x02</code>被加到正y值的前面，<code class="eh ln lo lp lq b">0x03</code>被加到负y值的前面。如果y坐标的最后一个二进制数是0，那么这个数就是偶数，对应的是正数。如果是1，那么就是负的。公钥的压缩版本变成:</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="5b0c" class="me ke ht lq b fv np nq l nr ns">023cba1f4d12d1ce0bced725373769b2262c6daa97be6a0588cfec8ce1a5f0bd09</span></pre><p id="29e9" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">前缀是<code class="eh ln lo lp lq b">0x02</code>，因为y坐标以<code class="eh ln lo lp lq b">0xa4</code>结尾，它是偶数，因此为正。</p><blockquote class="lg lh li"><p id="aece" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">了解更多信息，加入我关于如何<a class="ae kc" href="https://www.udemy.com/course/create-your-own-blockchain/?referralCode=9A52F48CA8455AC77928" rel="noopener ugc nofollow" target="_blank">成为比特币+区块链程序员</a>的课程，与全球48个国家的人们一起。</p></blockquote><h2 id="c714" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">地址形成</h2><p id="17e4" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">有多种比特币地址类型，目前<code class="eh ln lo lp lq b">P2SH</code>或支付到脚本哈希是大多数钱包的默认设置。<code class="eh ln lo lp lq b">P2PKH</code>是其前身，代表付费公钥哈希。脚本给你更多的功能，这是它们更受欢迎的一个原因。我们将首先生成一个<code class="eh ln lo lp lq b">P2PKH</code>原始格式的地址，然后是现在标准的<code class="eh ln lo lp lq b">P2SH</code>。</p><p id="61b1" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated"><strong class="jg hu">哈希</strong></p><p id="8df7" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">先前输出的公钥首先使用<code class="eh ln lo lp lq b">sha256</code>散列，然后使用<code class="eh ln lo lp lq b">ripemd160</code>散列。这缩短了输出字节的数量，并确保在椭圆曲线和sha256之间存在一些不可预见的关系的情况下，另一个不相关的哈希函数将显著增加反转操作的难度:</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="fa0d" class="me ke ht lq b fv np nq l nr ns">$ echo 023cba1f4d12d1ce0bced725373769b2262c6daa97be6a0588cfec8ce1a5f0bd09 | xxd -r -p | openssl sha256<br/>(stdin)= 8eb001a42122826648e66005a549fc4b4511a7ad3fc378221aa1c73c5efe77ef</span><span id="3967" class="me ke ht lq b fv nt nq l nr ns">$ echo 8eb001a42122826648e66005a549fc4b4511a7ad3fc378221aa1c73c5efe77ef | xxd -r -p | openssl ripemd160<br/>(stdin)= 3a38d44d6a0c8d0bb84e0232cc632b7e48c72e0e</span></pre><blockquote class="lg lh li"><p id="2e7c" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">注意，由于输入是一个字符串，<code class="eh ln lo lp lq b">xxd -r -p</code>会将十六进制字符串转换成二进制，然后以hexdump格式(ascii)输出，这是openssl散列函数期望的输入。</p></blockquote><p id="9218" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated"><strong class="jg hu">编码</strong></p><p id="e026" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">既然我们已经散列了公钥，现在我们执行<code class="eh ln lo lp lq b">base58check</code>编码。<a class="ae kc" href="https://en.bitcoin.it/wiki/Base58Check_encoding" rel="noopener ugc nofollow" target="_blank"> Base58check </a>允许散列以更紧凑的方式显示(使用更多的字母表字母),同时避免可能相互混淆的字符，例如0和O，因为输入错误可能会导致您损失资金。应用校验和来确保地址被正确传输，而没有任何数据损坏，例如地址输入错误。</p><figure class="ls lt lu lv fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff nv"><img src="../Images/995db8c9690c6948d0ddc8d397e0e624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCp8FYepAEXgAuEqEk8D3w.png"/></div></div><figcaption class="ma mb fg fe ff mc md bd b be z ek">Base58 Encoding Table</figcaption></figure><p id="3299" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated"><strong class="jg hu">地址格式</strong></p><p id="32c9" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">比特币<code class="eh ln lo lp lq b">P2PKH</code>地址以表示地址类型的版本字节值<code class="eh ln lo lp lq b">0x00</code>开始，以4字节校验和结束。首先，我们将版本字节(前缀)添加到我们的公钥哈希中，并在使用<code class="eh ln lo lp lq b">base58</code>进行编码之前计算和添加校验和:</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="6c38" class="me ke ht lq b fv np nq l nr ns">$ echo 003a38d44d6a0c8d0bb84e0232cc632b7e48c72e0e | xxd -p -r | base58 -c &amp;&amp; echo<br/>16JrGhLx5bcBSA34kew9V6Mufa4aXhFe9X</span></pre><blockquote class="lg lh li"><p id="9d37" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">注:<code class="eh ln lo lp lq b">-c</code>表示将应用校验和。校验和计算如下:校验和= SHA256(SHA256(前缀+数据))，只有哈希的前4个字节附加到数据的末尾。</p></blockquote><p id="050a" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">得到的值是一个可以用来接收比特币的<code class="eh ln lo lp lq b">P2PKH</code>地址:<strong class="jg hu">16 jrghlx 5 bcbsa 34 kew 9 V6 mufa 4 axh Fe 9 x</strong></p><blockquote class="lg lh li"><p id="9e06" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">了解更多信息，加入我关于如何<a class="ae kc" href="https://www.udemy.com/course/create-your-own-blockchain/?referralCode=9A52F48CA8455AC77928" rel="noopener ugc nofollow" target="_blank">成为一名比特币+区块链程序员</a>的课程，与全球48个国家的人们一起。</p></blockquote><h2 id="b764" class="me ke ht bd kf mf mg mh kj mi mj mk kn jp ml mm kr jt mn mo kv jx mp mq kz mr dt translated">付款至脚本哈希</h2><p id="d58a" class="pw-post-body-paragraph je jf ht jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hm dt translated">新的默认地址类型是付费脚本哈希，而不是付费公钥哈希，它是一个脚本哈希。比特币有一种脚本语言，你可以在这里阅读更多关于它的信息。基本上，它允许像发送比特币的多重签名要求或在你被允许发送资金之前的时间延迟等事情。一个常用的脚本是p 2 wpkh(Pay to Witness Public Key Hash):<code class="eh ln lo lp lq b">OP_0 0x14 &lt;PubKey Hash&gt;</code>其中PubKey Hash是公钥<code class="eh ln lo lp lq b">SHA256</code>的<code class="eh ln lo lp lq b">RIPEMD160</code>，和前面一样，0x14是PubKey Hash中的字节数。因此，要将这个脚本转换成一个地址，您只需将<code class="eh ln lo lp lq b">BASE58CHECK</code>应用到脚本<code class="eh ln lo lp lq b">OP_0 0x14 &lt;PubKey Hash&gt;</code>的<code class="eh ln lo lp lq b">SHA256</code>的<code class="eh ln lo lp lq b">RIPEMD160</code>中，除了您将<code class="eh ln lo lp lq b">0x05</code>而不是<code class="eh ln lo lp lq b">0x00</code>添加到脚本散列中，以表示地址类型是一个<code class="eh ln lo lp lq b">P2SH</code>地址。</p><pre class="ls lt lu lv fq nl lq nm nn aw no dt"><span id="f81a" class="me ke ht lq b fv np nq l nr ns">$ echo 00143a38d44d6a0c8d0bb84e0232cc632b7e48c72e0e | xxd -r -p | openssl sha256<br/>(stdin)= 1ae968057eaef06c3e13439695edd7a54982fc99f36c3aa41d8cc41340f30195</span><span id="32f0" class="me ke ht lq b fv nt nq l nr ns">$ echo 1ae968057eaef06c3e13439695edd7a54982fc99f36c3aa41d8cc41340f30195 | xxd -r -p | openssl ripemd160<br/>(stdin)= 1d521dcf4983772b3c1e6ef937103ebdfaa1ad77</span><span id="8c2c" class="me ke ht lq b fv nt nq l nr ns">$ echo 051d521dcf4983772b3c1e6ef937103ebdfaa1ad77 | xxd -p -r | base58 -c &amp;&amp; echo<br/>34N3tf5m5rdNhW5zpTXNEJucHviFEa8KEq</span></pre><blockquote class="lg lh li"><p id="d740" class="je jf lj jg b jh ji jj jk jl jm jn jo lk jq jr js ll ju jv jw lm jy jz ka kb hm dt translated">了解更多信息，并与全球48个国家的人们一起参加我的课程，学习如何<a class="ae kc" href="https://www.udemy.com/course/create-your-own-blockchain/?referralCode=9A52F48CA8455AC77928" rel="noopener ugc nofollow" target="_blank">成为比特币+区块链程序员</a>。</p></blockquote></div><div class="ab cl ix iy hb iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hm hn ho hp hq"><p id="3f77" class="pw-post-body-paragraph je jf ht jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hm dt translated">参考</p><ul class=""><li id="eda8" class="ms mt ht jg b jh ji jl jm jp nh jt ni jx nj kb mx my mz na dt translated"><a class="ae kc" href="https://en.bitcoin.it/wiki/Private_key" rel="noopener ugc nofollow" target="_blank">https://en.bitcoin.it/wiki/Private_key</a></li><li id="82b9" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" href="https://education.jlab.org/qa/mathatom_05.html" rel="noopener ugc nofollow" target="_blank">https://education.jlab.org/qa/mathatom_05.html</a>，<a class="ae kc" href="https://education.jlab.org/qa/mathatom_04.html" rel="noopener ugc nofollow" target="_blank">https://education.jlab.org/qa/mathatom_04.html</a></li><li id="fc3f" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated">https://crypto . stack exchange . com/questions/1145/一年内暴力破解一个256位密钥需要多少美元</li><li id="0895" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated">https://en.bitcoin.it/wiki/Secp256k1⁴<a class="ae kc" href="https://en.bitcoin.it/wiki/Secp256k1" rel="noopener ugc nofollow" target="_blank"/></li></ul><blockquote class="nw"><p id="f87b" class="nx ny ht bd nz oa ob oc od oe of kb ek translated">加入Coinmonks <a class="ae kc" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae kc" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae kc" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="me ke ht bd kf mf og mh kj mi oh mk kn jp oi mm kr jt oj mo kv jx ok mq kz mr dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="ms mt ht jg b jh lb jl lc jp mu jt mv jx mw kb mx my mz na dt translated"><a class="ae kc" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae kc" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="14e6" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae kc" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae kc" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="f33b" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">加密交换</a> | <a class="ae kc" rel="noopener" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94">印度的加密应用</a></li><li id="47a8" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">开发人员的最佳加密API</a></li><li id="c9bf" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated">最佳<a class="ae kc" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">加密借贷平台</a></li><li id="9487" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated">杠杆代币的终极指南</li><li id="4a2a" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" href="https://coincodecap.com/crypto-affiliate-programs" rel="noopener ugc nofollow" target="_blank">八大加密附属计划</a> | <a class="ae kc" href="https://coincodecap.com/etoro-vs-coinbase" rel="noopener ugc nofollow" target="_blank"> eToro vs比特币基地</a></li><li id="e0bf" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" href="https://coincodecap.com/best-ethereum-wallets" rel="noopener ugc nofollow" target="_blank">最佳以太坊钱包</a> | <a class="ae kc" href="https://coincodecap.com/telegram-crypto-bots" rel="noopener ugc nofollow" target="_blank">电报上的加密货币机器人</a></li><li id="fc80" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" href="https://coincodecap.com/leveraged-token-exchanges" rel="noopener ugc nofollow" target="_blank">交易杠杆代币的最佳交易所</a> | <a class="ae kc" href="https://coincodecap.com/buy-floki-inu-token" rel="noopener ugc nofollow" target="_blank">购买Floki </a></li><li id="990c" class="ms mt ht jg b jh nb jl nc jp nd jt ne jx nf kb mx my mz na dt translated"><a class="ae kc" href="https://coincodecap.com/3commas-vs-pionex-vs-cryptohopper" rel="noopener ugc nofollow" target="_blank"> 3Commas对Pionex对Cryptohopper </a> | <a class="ae kc" href="https://coincodecap.com/bingbon-review" rel="noopener ugc nofollow" target="_blank"> Bingbon评论</a></li></ul></div></div>    
</body>
</html>