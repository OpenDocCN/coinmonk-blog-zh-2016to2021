<html>
<head>
<title>My First “Real” Magic Leap Project: Part 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的第一个“真正的”Magic Leap项目:第5部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/my-first-real-magic-leap-project-part-5-c65f137e7f61?source=collection_archive---------5-----------------------#2018-08-10">https://medium.com/coinmonks/my-first-real-magic-leap-project-part-5-c65f137e7f61?source=collection_archive---------5-----------------------#2018-08-10</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="dbe3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们实现<em class="jo">目标</em>和<em class="jo">动作</em>模式；一路重构语句。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/32c7843b06a318f362f5614588357811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3XhuB1Kb7z3ta_0FtfboGw.jpeg"/></div></div></figure><p id="08e3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">本文是从<a class="ae kb" rel="noopener" href="/@johntucker_48673/my-first-real-magic-leap-project-part-1-de047aeaa65"> <em class="jo">开始的系列文章的一部分，我的第一个“真正的”Magic Leap项目:第1部分</em> </a>。</p><p id="073b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">本文的完整应用程序可以从bounce存储库的<a class="ae kb" href="https://github.com/larkintuckerllc/bounce/tree/part5" rel="noopener ugc nofollow" target="_blank"> <em class="jo"> part5 </em> </a>分支下载。</p><p id="95fd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">重新重构</strong></p><p id="b6ac" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在上一篇文章中，我们通过在<em class="jo"> MLSpatialMapper2 </em>中创建对<em class="jo"> MeshingZone </em>的引用，避免了对快速变化的值使用全局状态，例如<em class="jo">meshing zone</em>的位置/比例。</p><p id="7162" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当我第二次使用这种模式时，已经感觉我要以spagetti代码结束了。因此，我转而使用类<em class="jo">全局</em>的静态属性来共享全局状态(一个简化的全局状态)。这是针对不需要观察者模式的全局状态，即不需要主动更新。对于需要主动更新的全局状态，我继续使用类似<em class="jo"> Redux </em>的模式，例如<em class="jo">模式</em>。</p><p id="f842" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">资产/商店/全球. cs </em></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kc kd l"/></div></figure><p id="0ce7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">然后我们使用简化的全局状态:</p><p id="8c08" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">Assets/Table/mlspatialmapper 2 . cs</em></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kc kd l"/></div></figure><p id="c0e2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> 3D建模工具(Blender) </strong></p><p id="9e53" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当我去构建游戏目标来瞄准球时，我决定我需要一个比Unity更复杂的形状。这是我了解3D工具，尤其是<a class="ae kb" href="https://www.blender.org/" rel="noopener ugc nofollow" target="_blank"> <em class="jo"> Blender </em> </a>的时候。</p><p id="8a59" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">虽然<em class="jo"> Blender </em>有自己陡峭的学习曲线，但I fairy很快建立了一个模型，我将其导入到<em class="jo"> Unity </em>中，作为瞄准的游戏对象。</p><p id="c531" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">注意</strong>:当颜色正确时；我没有得到匹配现有游戏对象的平滑度；可能会花更多的时间来得到这个正确的。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff ke"><img src="../Images/84903997d523ebced804063497749d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*pHo4C18geY9H506ktdYffQ.png"/></div></figure><p id="563c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">目标和动作</strong></p><p id="4d8f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在<em class="jo"> Aim </em>模式下，用户使用控制器上的触摸板(左右)旋转<em class="jo"> Aim </em>游戏对象以指示稍后发射球的方向。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/a8c2b580d5403f9daf69018fb1bef93d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5uPoc7iqC9rJkKMWOqCjQ.png"/></div></div></figure><p id="4ef2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">将<em class="jo"> touchX </em>重构为简化的全局状态后，控制<em class="jo"> Aim </em>游戏对象的方向变得相当容易。同时，我们使用可观察的模式来触发<em class="jo">模式</em>的更新。</p><p id="a141" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><em class="jo">资产/表格/目标. cs </em></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="kc kd l"/></div></figure><p id="5161" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">瞄准球后，用户用右手做<em class="jo"> Ok </em>手势，向选定的方向发射球。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kf"><img src="../Images/98eb1eab29e7dd73f65853f50044a999.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*f0KuIybyoaJh-v_fxEVqzg.gif"/></div></div></figure><p id="da83" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">观察结果:</p><ul class=""><li id="6dc9" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated">正如预期的那样，球从从块映射的第一个网格反弹</li><li id="467b" class="kg kh ht is b it kp ix kq jb kr jf ks jj kt jn kl km kn ko dt translated">但是..球穿过从块映射的第二个网格；我的假设是，这是因为我们没有“绕着桌子走”来网格化所有的面。就像一个基本的<em class="jo">统一</em> <em class="jo">平面</em>游戏对象一样，网格对象不会在它们的背面碰撞。</li></ul><p id="8705" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">下一步</strong></p><p id="1b94" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们总结了这个系列，重点是构建用户界面(UI)元素(得分等)。)在下一篇文章中:<a class="ae kb" rel="noopener" href="/@johntucker_48673/my-first-real-magic-leap-project-part-6-7efd62b7a6e5"> <em class="jo">我的第一个“真正的”魔法飞跃计划:第6部分</em> </a>。</p></div></div>    
</body>
</html>