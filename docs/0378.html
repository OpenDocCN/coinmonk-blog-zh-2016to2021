<html>
<head>
<title>How To: Write a Simple Smart Contract</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何:编写简单的智能协定</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-write-a-simple-smart-contract-25f6d3c1d6db?source=collection_archive---------0-----------------------#2018-04-26">https://medium.com/coinmonks/how-to-write-a-simple-smart-contract-25f6d3c1d6db?source=collection_archive---------0-----------------------#2018-04-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="6cb3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们将使用Solidity编程语言编写一个简单的智能契约，在下面的文章中，我们将测试它并将其部署到一个测试网络中。</p><p id="e0c7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Solidity语法荧光笔不是必须的，但是可以让代码看起来更漂亮，所以如果你想要的话，就去拿一个吧。(<a class="ae jo" href="https://atom.io/packages/language-ethereum" rel="noopener ugc nofollow" target="_blank"> Atom </a>，<a class="ae jo" href="https://github.com/juanfranblanco/vscode-solidity" rel="noopener ugc nofollow" target="_blank"> VsCode </a>，<a class="ae jo" href="https://packagecontrol.io/packages/Ethereum" rel="noopener ugc nofollow" target="_blank"> Sublime </a>，<a class="ae jo" href="https://github.com/tomlion/vim-solidity" rel="noopener ugc nofollow" target="_blank"> VIM </a>，<a class="ae jo" href="https://plugins.jetbrains.com/plugin/9475-intellij-solidity" rel="noopener ugc nofollow" target="_blank"> Webstorm </a>)</p><p id="335d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">首先，我们将初始化一个节点项目。如果您还没有安装节点，请安装。如果你需要方向，去国家预防机制网站。</p><p id="0315" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">安装节点后…</p><p id="b896" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在您的终端中，导航到您想要放置项目的目录，并创建一个名为<code class="eh jp jq jr js b">hello</code>的新项目。导航到<code class="eh jp jq jr js b">hello</code>并输入<code class="eh jp jq jr js b">npm init</code>。回答提示(或者简单地按几次return ),直到创建了节点项目。创建一个名为<code class="eh jp jq jr js b">contracts</code>的文件夹。</p><p id="ca21" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在<code class="eh jp jq jr js b">contracts</code>文件夹中，创建一个名为<code class="eh jp jq jr js b">hello.sol</code>的文件(<code class="eh jp jq jr js b">.sol</code>是Solidity文件扩展名)。在文件的顶部，声明你想要使用的Solidity版本。我们声明版本，以便编译器知道如何执行。</p><p id="790e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">附:在这篇文章的底部有这个<a class="ae jo" href="https://blog.coincodecap.com/tag/smart-contact/" rel="noopener ugc nofollow" target="_blank">智能合同</a>的可复制/粘贴版本。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff jt"><img src="../Images/3182f0d6ac857f85f4354790c048e6f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_IVYsuWJWBzABNFteEzfw.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">version 0.4.21 now supported</figcaption></figure><p id="95a7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们写合同。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff kj"><img src="../Images/15793ac99b98cb06b7ed73e6b46ab532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8aikqJs3OYJnoJkN5UNHQ.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">simple smart contract</figcaption></figure><p id="f3f5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我们将在以后的文章中更深入地探讨语法。同时，这里有一些关于可靠性语言的事情需要记住:</p><p id="2f50" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">合同以大写首字母声明。它们就像是Ruby、Java和Python中的T21类。Solidity是一种静态或强类型语言。在这些语言中，变量类型在编译时检查，而不是在运行时检查(动态类型)。例如，如果一个变量被声明为一个字符串，然后我们试图将它作为一个整数传递，就会产生一个错误。</p><p id="c487" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">以下是该智能合约的一些特定内容:</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff kk"><img src="../Images/216db170e42a990fcaf0204191bbe30a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f6O1MegvG1kajMuHNcrLow.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">storage variable</figcaption></figure><p id="6a94" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">当我们在契约的代码块中声明变量<code class="eh jp jq jr js b">message</code>时，我们也指定它是一个公共可见的变量，并且它的类型是<code class="eh jp jq jr js b">string</code>。</p><p id="c29c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh jp jq jr js b">message</code>是一个<code class="eh jp jq jr js b">storage</code>变量(也是一个状态变量)，这意味着它定义了契约的状态，并且只能通过<code class="eh jp jq jr js b">.send</code>函数调用来改变(我们将在以后的文章中讨论<code class="eh jp jq jr js b">.send</code>和<code class="eh jp jq jr js b">.call</code>方法之间的区别)。它还有一个自动生成的getter方法(如果您熟悉Ruby，这类似于<code class="eh jp jq jr js b">attr_reader</code>)。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff kl"><img src="../Images/c1ba204119e3fda54d6502d6a7324c22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0vICqxue2FHhNcs3O0OJ3Q.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">constructor function</figcaption></figure><p id="85eb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如果一个契约有一个构造函数(就像我们的一样— <code class="eh jp jq jr js b">Hello</code>)，它的名字将与契约本身的名字相匹配。每次部署协定的实例时，都会自动调用构造函数。每个协定只允许一个构造函数。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff km"><img src="../Images/0c2e1418221137534ffbb5e6f8ede9ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0BlS698-yk46mjg79M9oHA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">just a cool function that changes the content of the message</figcaption></figure><p id="94d8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><code class="eh jp jq jr js b">setMessage</code>功能将允许用户改变<code class="eh jp jq jr js b">message </code>的初始值。<code class="eh jp jq jr js b">setMessage</code>函数和构造函数都有<code class="eh jp jq jr js b">public</code>可见性。这意味着一旦契约被部署，任何人都可以调用该函数，而不仅仅是契约的所有者。</p><p id="4298" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">恭喜你。你写了一个<a class="ae jo" href="https://blog.coincodecap.com/tag/smart-contact/" rel="noopener ugc nofollow" target="_blank">智能合约</a>！</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff kn"><img src="../Images/e451511eabd3b640e36fcae8d3c2e951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eMxLaFBuCwDZ3IvU1Nt2CA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">tiny beautiful smart contract</figcaption></figure><p id="5966" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">接下来，学习<a class="ae jo" rel="noopener" href="/@morganfogarty/how-to-compile-a-solidity-smart-contract-using-node-js-51ea7c6bf440">如何:使用Node.js编译Solidity智能契约</a></p><p id="b681" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最新Solidity版本的可复制/粘贴代码:</p><pre class="ju jv jw jx fq ko js kp kq aw kr dt"><span id="9a21" class="ks kt ht js b fv ku kv l kw kx">pragma solidity ^0.4.21;</span><span id="7c1e" class="ks kt ht js b fv ky kv l kw kx">contract Hello {<br/>    string public message;</span><span id="198c" class="ks kt ht js b fv ky kv l kw kx">    function Hello(string initialMessage) public {<br/>        message = initialMessage;<br/>    }</span><span id="d4ea" class="ks kt ht js b fv ky kv l kw kx">    function setMessage(string newMessage) public {<br/>        message = newMessage;<br/>    }<br/>}</span></pre><blockquote class="kz"><p id="182c" class="la lb ht bd lc ld le lf lg lh li jn ek translated">加入Coinmonks <a class="ae jo" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jo" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae jo" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="ks kt ht bd lj lk ll lm ln lo lp lq lr jb ls lt lu jf lv lw lx jj ly lz ma mb dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="mc md ht is b it me ix mf jb mg jf mh jj mi jn mj mk ml mm dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae jo" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae jo" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="874f" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae jo" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="450c" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" href="https://coincodecap.com/pionex-dual-investment" rel="noopener ugc nofollow" target="_blank"> Pionex双投</a> | <a class="ae jo" href="https://coincodecap.com/advcash-review" rel="noopener ugc nofollow" target="_blank"> AdvCash审核</a> | <a class="ae jo" href="https://coincodecap.com/uphold-review" rel="noopener ugc nofollow" target="_blank">光宗耀祖审核</a></li><li id="4c48" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" href="https://coincodecap.com/best-cryptocurrency-apis" rel="noopener ugc nofollow" target="_blank">面向开发者的8个最佳加密货币API</a></li><li id="db49" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" href="https://coincodecap.com/uphold-card-review" rel="noopener ugc nofollow" target="_blank">支持卡审核</a> | <a class="ae jo" href="https://coincodecap.com/trust-wallet-vs-metamask" rel="noopener ugc nofollow" target="_blank">信任钱包vs元掩码</a></li><li id="0843" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" href="https://coincodecap.com/earn-sign-up-bonus" rel="noopener ugc nofollow" target="_blank">赢取注册奖金——10大最佳加密平台</a></li><li id="f33b" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated"><a class="ae jo" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳加密交易所</a> | <a class="ae jo" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度最佳加密交易所</a></li><li id="47a8" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated">开发人员的最佳加密API</li><li id="b359" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated">最佳<a class="ae jo" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">密码借贷平台</a></li><li id="9487" class="mc md ht is b it mn ix mo jb mp jf mq jj mr jn mj mk ml mm dt translated">杠杆代币的终极指南</li></ul></div></div>    
</body>
</html>