<html>
<head>
<title>Detecting custom objects in images/video using YOLO with Darkflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用具有暗流的YOLO检测图像/视频中的定制对象</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/detecting-custom-objects-in-images-video-using-yolo-with-darkflow-1ff119fa002f?source=collection_archive---------0-----------------------#2018-09-01">https://medium.com/coinmonks/detecting-custom-objects-in-images-video-using-yolo-with-darkflow-1ff119fa002f?source=collection_archive---------0-----------------------#2018-09-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><blockquote class="iq ir is"><p id="38f9" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hm dt translated">这是正在进行的关于使用<strong class="iw hu"> YOLO(你只看一次)</strong>的物体检测系列的另一个故事，第一个是关于算法的介绍和对(一些)不同实现的简要探索:<a class="ae js" rel="noopener" href="/@monocasero/object-detection-with-yolo-implementations-and-how-to-use-them-5da928356035">https://medium . com/@ monocasero/object-detection-with-yolo-implementations-and-how-to-use-them-5d a 928356035</a></p></blockquote><h1 id="a3f0" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">介绍</h1><p id="0bec" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">不同的<a class="ae js" href="https://pjreddie.com/darknet/yolo/" rel="noopener ugc nofollow" target="_blank"> YOLO </a>实现(<a class="ae js" href="https://pjreddie.com/darknet/" rel="noopener ugc nofollow" target="_blank"> Darknet </a>、<a class="ae js" href="https://github.com/thtrieu/darkflow" rel="noopener ugc nofollow" target="_blank"> Darkflow </a>等)是令人惊叹的工具，可以用来“开箱即用”地开始检测图像或视频中的常见对象，要进行检测，只需下载并安装系统和已经训练好的权重。例如，在官方<a class="ae js" href="https://pjreddie.com/darknet/yolo/" rel="noopener ugc nofollow" target="_blank"> Darknet网站</a>中，我们可以找到获取和使用为<a class="ae js" href="http://cocodataset.org/#home" rel="noopener ugc nofollow" target="_blank"> COCO数据集</a>或<a class="ae js" href="http://host.robots.ox.ac.uk/pascal/VOC/" rel="noopener ugc nofollow" target="_blank"> VOC PASCAL </a>训练的权重的步骤。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff kz"><img src="../Images/4f37cbd2ee94c5eb8fc53db71e92967b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0sW72yu16QEPEqkGW3iRFw.png"/></div></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek">You can download the weights and start detecting horses 🐎</figcaption></figure><p id="cac8" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">然而，在某些情况下，我们想要检测的对象并不属于这些流行的数据集。在这种情况下，我们需要创建我们的训练集并执行我们自己的训练。</p><p id="1244" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">本教程将一步一步地遵循创建数据集和使用<a class="ae js" href="https://github.com/thtrieu/darkflow" rel="noopener ugc nofollow" target="_blank"> Darkflow </a>(一个<a class="ae js" href="https://pjreddie.com/darknet/yolo/" rel="noopener ugc nofollow" target="_blank"> Darknet </a>翻译来运行TensorFlow)运行训练的过程。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff lp"><img src="../Images/b61b9bfa7d32ed972c9e4ac9c4cd15c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*25YT3gx25x5z5qOkVHIEgg.jpeg"/></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek">Real example of a trained YOLO network to detect text in maps</figcaption></figure><h1 id="7323" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">步骤1:获取图像</h1><p id="d285" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">在本教程中，我们将训练暗流来检测插图中的文字。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff lq"><img src="../Images/28018f8803a9eb619b7f663a83ddde80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DxXWi3PrFo03U0tqi7MeBQ.jpeg"/></div></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek">Property of Kyoto City Tourism Office</figcaption></figure><p id="3f25" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">可以想象，这种图像会产生问题，因为它们通常尺寸很大，并且包含许多我们要检测的类的实例(文本)。这就是为什么我们将使用平铺版本的图像。要创建这些图块，我们可以使用以下工具:</p><p id="199f" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated"><a class="ae js" href="https://pinetools.com/split-image" rel="noopener ugc nofollow" target="_blank">https://pinetools.com/split-image</a></p><p id="7c32" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">在我的例子中，我创建了一个608像素的正方形网格。到608 px。</p><div class="la lb lc ld fq ab cb"><figure class="lr le ls lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/318c48e3acf1fd884214332d3bcce247.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*4kDM2vUbylgIAklMcQHkvQ.jpeg"/></div></figure><figure class="lr le ls lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/bd43bb02ac854fa9d846545f88646707.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*e5XNsrIrtasReC-jWiInSg.jpeg"/></div></figure><figure class="lr le ls lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/9ac6f5f5c07beb77508750615f0b4fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*jbkmUo8LKK9wNYUKl7yaXQ.jpeg"/></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek lx di ly lz">Some instances of the resultant tiles</figcaption></figure></div><p id="ef3f" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">当然，这一步是可选的，如果你的图片大小一致，并且没有包含很多物体，这一步就没有必要了。</p><h1 id="a800" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">步骤2:注释对象</h1><p id="d15a" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">由于这个特殊的问题(在地图中查找文本)只需要检测一个类，我们将使用我的BBox-Label-Tool<a class="ae js" href="https://github.com/enriqueav/BBox-Label-Tool" rel="noopener ugc nofollow" target="_blank">https://github.com/enriqueav/BBox-Label-Tool</a>来注释图像。与其他替代产品相比，它也更易于安装和使用。</p><p id="e51c" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">(如果你的问题包括检测每个图像的多个类别，我建议你使用更复杂的东西，比如<a class="ae js" href="https://github.com/tzutalin/labelImg" rel="noopener ugc nofollow" target="_blank">https://github.com/tzutalin/labelImg</a></p><p id="0657" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">为了安装<a class="ae js" href="https://github.com/enriqueav/BBox-Label-Tool" rel="noopener ugc nofollow" target="_blank"> BBox-Label-Tool </a>，我们将运行:</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="4d33" class="mf ju ht mb b fv mg mh l mi mj">pip install pillow<br/>git clone <a class="ae js" href="https://github.com/enriqueav/BBox-Label-Tool.git" rel="noopener ugc nofollow" target="_blank">https://github.com/enriqueav/BBox-Label-Tool.git</a><br/>cd BBox-Label-Tool</span></pre><p id="6094" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">目录结构组织如下</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="8848" class="mf ju ht mb b fv mg mh l mi mj">BBox-Label-Tool<br/>|<br/>|--main.py <em class="iv"># source code for the tool</em><br/>|--Images/ <em class="iv"># directory containing the images to be labeled</em><br/>|--Labels/ <em class="iv"># directory for the labeling results</em><br/>|--Examples/ <em class="iv"># directory for the example bboxes</em><br/>|--AnnotationsXML/ <em class="iv"># directory for the labeling results to be used by Darkflow</em></span></pre><p id="2918" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">在<code class="eh mk ml mm mb b">Images</code>、<code class="eh mk ml mm mb b">Labels</code>、<code class="eh mk ml mm mb b">Examples</code>和<code class="eh mk ml mm mb b">AnnotationsXML</code>中，该工具期望找到包含图像子集及其相应注释的编号目录。我们将创建数字<code class="eh mk ml mm mb b">002</code>来存储数据集中的图像</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="12c7" class="mf ju ht mb b fv mg mh l mi mj">mkdir Images/002 Labels/002 Examples/002 AnnotationsXML/002</span></pre><p id="6257" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">然后，我们需要将上一步中的所有图像(或图块)复制到目录<code class="eh mk ml mm mb b">Images/002</code></p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="7738" class="mf ju ht mb b fv mg mh l mi mj">cp /path/to/your/images/*.jpg Images/002</span></pre><p id="9558" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">然后我们就可以启动工具并开始注释了！</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="1e1a" class="mf ju ht mb b fv mg mh l mi mj">python main.py</span></pre><p id="64d6" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">在初始GUI的“Image Dir:”下，我们将输入“2”(以加载子集“002”)，然后单击load:</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/9c03490296ec1adaf6cc06d2369a1a03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*A50qUpI90g3euj_8Kgj32Q.png"/></div></figure><p id="60e3" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">这将加载目录<code class="eh mk ml mm mb b">Images/002</code>中的所有图像，然后我们可以开始绘制包含文本的边界框。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff mo"><img src="../Images/bcf338738ea639b755eccb3623b454d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dwytIYHTOqvSmu3ek54-tQ.png"/></div></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek">An example of a manually annotated image</figcaption></figure><p id="9835" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">完成一幅图像后，我们点击“下一幅&gt; &gt;”进入下一幅图像。也可以使用底部的导航工具栏向后导航，或移动到特定的图像编号。</p><p id="6a68" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">现在，我们需要为每一张图片做这个过程。这自然会是整个过程中最漫长、最无聊的一步，但是\_(ツ)_/，我们对此无能为力。</p><p id="c52d" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">一旦我们完成了注释，所有有用的。xml文件将被存储在<code class="eh mk ml mm mb b">AnnotationsXML/002</code> <strong class="iw hu">中，这是我们将用于暗流训练的内容！</strong></p><h1 id="c702" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">步骤3:安装Darkflow</h1><p id="c770" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">要下载并安装系统，最简单的方法是运行以下命令(您可能需要事先安装tensorflow和numpy):</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="3430" class="mf ju ht mb b fv mg mh l mi mj">git clone <a class="ae js" href="https://github.com/thtrieu/darkflow.git" rel="noopener ugc nofollow" target="_blank">https://github.com/thtrieu/darkflow.git</a><br/>cd darkflow<br/>python3 setup.py build_ext --inplace</span></pre><p id="9dc0" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">你可以在该项目的github页面找到更多信息:<a class="ae js" href="https://github.com/thtrieu/darkflow" rel="noopener ugc nofollow" target="_blank">https://github.com/thtrieu/darkflow</a></p><h1 id="7ad3" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">步骤4:修改配置文件(配置网络)</h1><p id="e794" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">有两种可能的网络配置可用于训练，<em class="iv"> yolo </em>或<em class="iv"> tiny-yolo。</em>顾名思义<em class="iv"> tiny-yolo </em>是一个更小的网络，显然处理速度会更快，但精度会更低。在<code class="eh mk ml mm mb b">cfg/</code>下有这两个版本的配置文件:</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="7c51" class="mf ju ht mb b fv mg mh l mi mj">$ ls -1 cfg/ | grep yolo.cfg<br/>tiny-yolo.cfg<br/>yolo.cfg</span></pre><p id="a7c9" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">在这个例子中，我们将使用完整的yolo配置，为此我们需要创建一个文件<code class="eh mk ml mm mb b">yolo.cfg</code>的副本，我们需要修改它来解决我们的问题</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="af7e" class="mf ju ht mb b fv mg mh l mi mj">cp cfg/yolo.cfg cfg/yolo-new.cfg<br/># modify cfg/yolo-new.cfg<br/>vi cfg/yolo-new.cfg</span></pre><p id="7698" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">我们需要修改两行:</p><ol class=""><li id="af85" class="mp mq ht iw b ix iy jb jc kt mr kv ms kx mt jr mu mv mw mx dt translated">在最后的<strong class="iw hu">【卷积】</strong>段，我们需要改变<code class="eh mk ml mm mb b">filters</code>的个数，公式是<code class="eh mk ml mm mb b">filters=(number of classes + 5)*5</code>，由于我们只有一个类，所以我们设置<code class="eh mk ml mm mb b">filters=30</code>。</li><li id="920e" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr mu mv mw mx dt translated">在<strong class="iw hu">【区域】</strong>部分下有一行指定班级数量(244行左右)，将其更改为<code class="eh mk ml mm mb b">classes=1</code>或您拥有的班级数量。</li></ol><p id="cf45" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated"><strong class="iw hu">注意:</strong>有一系列参数，特别是在文件的开头，直接取自Darknet，但在Darkflow中没有区别。例如<code class="eh mk ml mm mb b">batch=32</code>将被Darkflow忽略，我们需要在命令行中指定批量大小(用<code class="eh mk ml mm mb b">--batch &lt;batch_size&gt;</code>)，否则将采用默认值16。另一个例子是你需要用<code class="eh mk ml mm mb b">--lr &lt;learning_rate&gt;</code>指定的学习率。</p><p id="4e04" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">还有另一个文件是必需的，它是一个包含类名称的文本文件，每行一个，因为我们只有一个类，我们可以直接从命令行创建它</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="c240" class="mf ju ht mb b fv mg mh l mi mj">echo "map_text" &gt;&gt; one_label.txt</span></pre><h1 id="211b" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">第五步:开始培训</h1><p id="fadb" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">我们已经走了很长的路，不是吗？好消息是我们已经准备好进行培训了。</p><p id="2008" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">提醒一下，在步骤2中，我们创建了训练集，由几个图像文件和它们对应的包含注释的xml文件组成。它们将被存储在这些位置(你需要用你安装脚本的实际路径替换<em class="iv">&lt;path _ to _ bbox-label-tool&gt;</em>)。</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="bc96" class="mf ju ht mb b fv mg mh l mi mj">&lt;path_to_bbox-label-tool&gt;/Images/002<br/>&lt;path_to_bbox-label-tool&gt;/AnnotationsXML/002</span></pre><p id="8505" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">现在，回到暗流，开始我们需要跑步的训练</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="bb19" class="mf ju ht mb b fv mg mh l mi mj">python3 flow --model cfg/yolo-new.cfg \<br/>    --labels one_label.txt  \<br/>    --train --trainer adam \<br/>    --dataset "&lt;path_to_bbox-label-tool&gt;/Images/002" \<br/>    --annotation "&lt;path_to_bbox-label-tool&gt;/AnnotationsXML/002"</span></pre><p id="8ad0" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">如果你有GPU来训练(而且你应该！)，您可以添加到此命令中</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="2db8" class="mf ju ht mb b fv mg mh l mi mj">--gpu 1.0</span></pre><p id="d5b6" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">然后Darkflow应该开始启动并加载图像，最终您应该会看到这样的行，打印每个训练步骤的损失:</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="477e" class="mf ju ht mb b fv mg mh l mi mj">...<br/>step 1 - loss 227.32052612304688 - moving ave loss 227.3205261230469<br/>step 2 - loss 226.1829376220703 - moving ave loss 227.2067672729492<br/>step 3 - loss 225.60186767578125 - moving ave loss 227.046277313232<br/>step 4 - loss 227.2750701904297 - moving ave loss 227.0691566009522<br/>step 5 - loss 227.2261199951172 - moving ave loss 227.0848529403687<br/>...</span></pre><p id="b789" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">现在你可能已经知道，深度学习通常需要大量的时间来训练。时间显然完全取决于你的硬件，你的训练集的大小等等。可能需要一个小时到几天的时间才能得到有用的结果。</p><p id="6788" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">默认情况下，Darkflow将每250步保存一个检查点，因此您可以随时停止训练，休息一下和/或验证当前的重量。<strong class="iw hu">如果你想从最后一个检查点重新开始，你只需要把</strong> <code class="eh mk ml mm mb b"><strong class="iw hu">--load -1</strong></code> <strong class="iw hu">添加到你用来开始训练</strong>的同一个命令中。</p><blockquote class="iq ir is"><p id="e5a7" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hm dt translated">我建议你看看这些终端提示和技巧，轻松监控你训练的当前状态，包括<strong class="iw hu">即时绘制损失值</strong><a class="ae js" rel="noopener" href="/@monocasero/useful-terminal-tips-and-tricks-for-the-machine-learning-practitioner-6e96b61b2bc2">https://medium . com/@ monocasero/useful-terminal-tips-and-tricks-for-the-machine-learning-practicer-6 e 96 b 61 b 2 BC 2</a></p></blockquote><figure class="la lb lc ld fq le fe ff paragraph-image"><div class="fe ff nd"><img src="../Images/9def3a80711854d00923e371a25c5a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*RLODdaCUjb2palQDRa1m7Q.png"/></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek">Example of a plot you can launch from the terminal using Gnuplot</figcaption></figure><h1 id="3c4e" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">步骤6:验证结果</h1><p id="8631" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">在任何时候，您都可以停止训练，并在一组图像(希望不会被训练看到)中测试检测，假设您在<code class="eh mk ml mm mb b">&lt;path_to_imgs&gt;</code>中有这些图像:</p><pre class="la lb lc ld fq ma mb mc md aw me dt"><span id="49f4" class="mf ju ht mb b fv mg mh l mi mj">python3 flow --model cfg/yolo-new.cfg \<br/>    --imgdir &lt;path_to_imgs&gt; \<br/>    --load -1 \<br/>    --labels one_label.txt \<br/>    --gpu 1.0</span></pre><p id="7711" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">默认情况下，它会在<code class="eh mk ml mm mb b">&lt;path_to_imags&gt;</code>中创建一个名为<code class="eh mk ml mm mb b">out</code>的目录，其中包含带注释的图片。例如，这些是在我的数据集上训练了大约一天后的一些结果。并不完美，但考虑到训练集的规模(不是很大)和问题的难度，这是相当合理的。</p><div class="la lb lc ld fq ab cb"><figure class="lr le ls lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/4930d4e0fa2d509d34be91f13bb69823.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*9rp5NJFKU9bvXgdDTTA68w.jpeg"/></div></figure><figure class="lr le ls lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/5cd576f020b030b67a4aec877a578dea.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*8mcJFSsDLftnPTukQXbukw.jpeg"/></div></figure><figure class="lr le ls lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/9d2c4bf658b47bda75aef05cb8435b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*j-7qE9hU7j1kymOhLvyyzQ.jpeg"/></div></figure></div><div class="ab cb"><figure class="lr le ne lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/e88c992f348c1ff152b65f755fa40c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*vk_095cxmJiV8soKGX719A.jpeg"/></div></figure><figure class="lr le ne lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/d804dfa18e65f2465c6ccc8e542cc5ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*cebXjtD13bMx4Im1gVnt6g.jpeg"/></div></figure></div><div class="ab cb"><figure class="lr le ne lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/f9f40c9efc9a10890ffce8eb682d34d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*V1O5xnsN5oSuOeS5-KICoA.jpeg"/></div></figure><figure class="lr le ne lt lu lv lw paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><img src="../Images/944d95ebda65a4c60700295112f71a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*0j7kojY1-FMILVBhjhsjaA.jpeg"/></div><figcaption class="ll lm fg fe ff ln lo bd b be z ek nf di ng lz">Some examples of the trained YOLO.</figcaption></figure></div><h1 id="a398" class="jt ju ht bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dt translated">我在哪里可以找到模型和重量？</h1><h2 id="2698" class="mf ju ht bd jv nh ni nj jz nk nl nm kd kt nn no kh kv np nq kl kx nr ns kp nt dt translated">更新2018年9月11日</h2><p id="82d7" class="pw-post-body-paragraph it iu ht iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hm dt translated">模型的体系结构在。我们在<strong class="iw hu">步骤4 </strong>中修改的cfg文件，所以我们必须小心保留它。</p><p id="9493" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">Darkflow会将权重存储在与检查点信息相同的目录中。默认情况下，它将使用<code class="eh mk ml mm mb b">&lt;your_git_directory&gt;/darkflow/ckpt</code>。每个检查点将创建四个文件，一个名为<code class="eh mk ml mm mb b">checkpoint</code>的文本文件将被更新。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff nu"><img src="../Images/8c660449a76fa6977ea4c0449a2ceb03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rzTxlvxzuQzoyRSgwwSBg.png"/></div></div></figure><p id="0f3f" class="pw-post-body-paragraph it iu ht iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hm dt translated">根据此中的<a class="ae js" href="https://github.com/thtrieu/darkflow/issues/256" rel="noopener ugc nofollow" target="_blank">，<strong class="iw hu">。meta </strong>文件是存储权重的地方。这里的</a><a class="ae js" href="https://github.com/thtrieu/darkflow/issues/309" rel="noopener ugc nofollow" target="_blank">和</a>上面说的<strong class="iw hu">。元</strong>，<strong class="iw hu">。索引</strong>和<strong class="iw hu">。数据</strong>是与TensorFlow相关的文件。</p><blockquote class="nv"><p id="f52a" class="nw nx ht bd ny nz oa ob oc od oe jr ek translated">加入Coinmonks <a class="ae js" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae js" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae js" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="mf ju ht bd jv nh of nj jz nk og nm kd kt oh no kh kv oi nq kl kx oj ns kp nt dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="mp mq ht iw b ix kr jb ks kt ok kv ol kx om jr on mv mw mx dt translated"><a class="ae js" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae js" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="14e6" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae js" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae js" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="f33b" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">加密交换</a> | <a class="ae js" rel="noopener" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94">印度的加密应用</a></li><li id="47a8" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">开发人员的最佳加密API</a></li><li id="c9bf" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated">最佳<a class="ae js" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">加密借贷平台</a></li><li id="9487" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated">杠杆代币的终极指南</li><li id="4a2a" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" href="https://coincodecap.com/crypto-affiliate-programs" rel="noopener ugc nofollow" target="_blank">八大加密附属计划</a> | <a class="ae js" href="https://coincodecap.com/etoro-vs-coinbase" rel="noopener ugc nofollow" target="_blank"> eToro vs比特币基地</a></li><li id="e0bf" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" href="https://coincodecap.com/best-ethereum-wallets" rel="noopener ugc nofollow" target="_blank">最佳以太坊钱包</a> | <a class="ae js" href="https://coincodecap.com/telegram-crypto-bots" rel="noopener ugc nofollow" target="_blank">电报上的加密货币机器人</a></li><li id="fc80" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" href="https://coincodecap.com/leveraged-token-exchanges" rel="noopener ugc nofollow" target="_blank">交易杠杆代币的最佳交易所</a> | <a class="ae js" href="https://coincodecap.com/buy-floki-inu-token" rel="noopener ugc nofollow" target="_blank">购买Floki </a></li><li id="990c" class="mp mq ht iw b ix my jb mz kt na kv nb kx nc jr on mv mw mx dt translated"><a class="ae js" href="https://coincodecap.com/3commas-vs-pionex-vs-cryptohopper" rel="noopener ugc nofollow" target="_blank"> 3Commas对Pionex对Cryptohopper </a> | <a class="ae js" href="https://coincodecap.com/bingbon-review" rel="noopener ugc nofollow" target="_blank"> Bingbon评论</a></li></ul></div></div>    
</body>
</html>