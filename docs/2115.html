<html>
<head>
<title>Teach Yourself — Hyperledger : Hour 05:00 — Hyperledger Fabric — Network Setup — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自学-hyper ledger:05:00-hyper ledger结构-网络设置-第1部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/teach-yourself-hyperledger-hour-05-00-hyperledger-fabric-network-setup-p-adf2f670fe77?source=collection_archive---------0-----------------------#2019-03-03">https://medium.com/coinmonks/teach-yourself-hyperledger-hour-05-00-hyperledger-fabric-network-setup-p-adf2f670fe77?source=collection_archive---------0-----------------------#2019-03-03</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk iq ir is it fe ff paragraph-image"><div class="ab fr cl iu"><img src="../Images/840e8ba650c0d32c77b6ec8294ee98c4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*70oekENNHelMAjXSgQf5Xg.png"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Source: Google</figcaption></figure><p id="9226" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">你好，感谢你花时间阅读这个系列。我相信您已经从<a class="ae jz" rel="noopener" href="/@lokeshwaran.a82/teach-yourself-hyperledger-in-24-hours-hour-00-00-hyperledger-introduction-34675fcd629a">小时00:00 </a>开始了，如果没有，请在继续之前完成。</p><p id="5c36" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在本文中，我们将从头开始设置网络，为此，我们需要了解一些文件&amp;它的配置。</p><p id="9e78" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">因此，当您从结构样本设置“构建您的第一个网络(BYFN)”时，您会在<strong class="jd hu"> bin文件夹</strong>中看到这些二进制文件</p><ul class=""><li id="ede5" class="ka kb ht jd b je jf ji jj jm kc jq kd ju ke jy kf kg kh ki dt translated"><code class="eh kj kk kl km b">cryptogen</code>、</li><li id="7793" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy kf kg kh ki dt translated"><code class="eh kj kk kl km b">configtxgen</code>、</li><li id="e7c2" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy kf kg kh ki dt translated"><code class="eh kj kk kl km b">configtxlator</code>、</li><li id="117f" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy kf kg kh ki dt translated"><code class="eh kj kk kl km b">peer</code></li><li id="33ea" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy kf kg kh ki dt translated"><code class="eh kj kk kl km b">orderer</code>和</li><li id="ea3e" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy kf kg kh ki dt translated"><code class="eh kj kk kl km b">fabric-ca-client</code></li></ul><p id="8396" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">每个二进制文件的作用在结构服务器中是特殊的。当您开发自己的网络时，您必须声明或定义谁将做什么？。例如，让我们举一个实时的例子。这里有一个典型的超市故事，销售男孩/女孩帮助顾客找到产品，客房服务人员会确保环境清洁，计费部门的人员只做计费工作。同样，在部署网络时，您必须定义谁将做什么？。(阅读Hyperledger正式文件中的交易流程，以便更好地理解:<a class="ae jz" href="http://hyperledger-fabric.readthedocs.io/en/latest/txflow.html" rel="noopener ugc nofollow" target="_blank">单击此处</a>了解调用交易时发生的情况)。因此，在网络中，我们有4个组件(Orderer、Peer、CouchDB、CA)，将决定谁来扮演这些角色，并生成各自的身份/访问权限。</p><p id="6e64" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">例如，当一名新员工加入组织(公司)时，我们会提供他/她的访问卡/身份证，对吗？同样，在结构网络中，我们必须定义身份，这将由MSP(会员服务提供商)提供。为了完成这项工作，我们使用了二进制文件<code class="eh kj kk kl km b"><strong class="jd hu">CRYPTOGEN</strong></code> <strong class="jd hu">。</strong></p><p id="19d8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，我们来谈谈<code class="eh kj kk kl km b"><strong class="jd hu">CONFIGTXGEN</strong></code> <strong class="jd hu">..</strong>再举一个超市的实时例子，在一天开始的时候，他们创建了一个虚拟的计费ID，以确保计费应用程序运行良好&amp;也是为了商誉。这个虚拟计费ID实际上并没有增加任何价值，但是他们用虚拟计费ID开始一天的工作，以开始当天的计费编号。同样，在区块链中，我们有一个称为<strong class="jd hu">“Genesis”模块(初始化区块链网络或通道的配置模块，也是链上的第一个模块)</strong>。<strong class="jd hu"> </strong>我不会说这是虚设的，而是一个链条中非常关键的一环，它实际上预示着区块链的“起点”。<code class="eh kj kk kl km b"><strong class="jd hu">CONFIGTXGEN</strong></code> <strong class="jd hu"> </strong>实际上做了这项工作，它为网络创建了创世纪块。</p><p id="4bc1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在是<code class="eh kj kk kl km b"><strong class="jd hu">CONFIGTXLATOR</strong></code>的时候了(阅读此文<a class="ae jz" href="https://github.com/hyperledger/fabric/blob/master/examples/configtxupdate/README.md" rel="noopener ugc nofollow" target="_blank">点击此处</a> ) <strong class="jd hu"> </strong>，我可以将此与“优化器或升级器”联系起来。例如，你有带信道的网络设置，当你想修改信道或更新genesis块时，你需要编辑它们，<code class="eh kj kk kl km b"><strong class="jd hu">CONFIGTXLATOR</strong></code>文件帮助你首先将块转换成人类可读的形式&amp;，一旦你做了必要的改变，它提交&amp;更新同样的内容。</p><p id="85e2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh kj kk kl km b"><strong class="jd hu">CONFIGTXLATOR:</strong></code>标准用法预计为:</p><ol class=""><li id="fd7c" class="ka kb ht jd b je jf ji jj jm kc jq kd ju ke jy ks kg kh ki dt translated">SDK检索最新配置</li><li id="b81a" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy ks kg kh ki dt translated"><code class="eh kj kk kl km b">configtxlator</code>生成人类可读的配置版本</li><li id="5f53" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy ks kg kh ki dt translated">用户或应用程序编辑配置</li><li id="3681" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy ks kg kh ki dt translated"><code class="eh kj kk kl km b">configtxlator</code>用于计算配置更新表示对配置的更改</li><li id="d0bb" class="ka kb ht jd b je kn ji ko jm kp jq kq ju kr jy ks kg kh ki dt translated">SDK提交签名并提交配置</li></ol><p id="cdf5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">对等(直截了当)，</strong>它有助于执行一组动作。例如，使用<strong class="jd hu">对等通道</strong>子命令，您可以将对等体添加到特定通道，<strong class="jd hu">对等链代码</strong>帮助您将链代码部署到对等体&amp;等等。</p><p id="16ad" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> fabric-ca-client </strong>命令允许您管理身份(包括属性管理)和证书(包括更新和撤销)。</p><p id="32ef" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用这个二进制文件，我们可以启动订购程序。它将使用生成的“创世纪块”。如果不可用，它会使用SOLO orderer配置文件生成一个新的genesis块。</p><p id="3428" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">涵盖了所有这六个二进制文件之后，理解我们在什么情况下使用它们是非常重要的。让我们从一个全新的网络开始，绝对全新的网络&amp;我们将使用上面的二进制文件进行设置..并定义这四个组成部分。</p><p id="6d79" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们现在设置网络。</p><p id="d046" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">首先，我们需要定义谁将扮演什么角色！正如我之前提到的。继续使用下面的命令下载织物样本。</p><p id="8fbf" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这里1.4.0 -&gt;表示织物..如果你想下载一个特定的版本，你可以。</p><pre class="kt ku kv kw fq kx km ky kz aw la dt"><span id="5154" class="lb lc ht km b fv ld le l lf lg">curl <strong class="km hu">-</strong>sSL http:<strong class="km hu">//</strong>bit<strong class="km hu">.</strong>ly<strong class="km hu">/</strong>2ysbOFE <strong class="km hu">|</strong> bash <strong class="km hu">-</strong>s 1.4<strong class="km hu">.</strong>0</span></pre><p id="1c49" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">步骤1:进入“织物样本”文件夹，在Bin文件夹中找到二进制文件。将所有这些复制到你的新文件夹中(我将其命名为mynetwork)</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lh"><img src="../Images/4a0ad35b206178d41f98f201722c1887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWqu13thMPygCbEgDEjEKg.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Binary files in mynetwork folder</figcaption></figure><p id="aff1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">第二步:进入“Fabric-samples/first-network”文件夹，将<strong class="jd hu">的crypto-config.yaml </strong>文件复制到你的mynetwork文件夹中</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lm"><img src="../Images/2e164d2090252f6813189e3ef5655fc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XzE27dpyOKB-KLdq1cLTAw.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Folder with “Crypto-Config-Yaml”</figcaption></figure><p id="6532" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">是时候深入研究这个文件并进行必要的修改了..</p><p id="37a8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这个文件基本上有几个组件，第一个是订购者(非常重要)组件在光纤网络中，有两种类型的订购者。第一个是“独奏”&amp;另一个是以“卡夫卡”为基础的。SOLO是单一订购者，在开发环境中使用它是没问题的，但是在生产环境中绝对不行！..当网络中断时，你最终会丢失数据。</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff ln"><img src="../Images/bc7934eb8c4d389a0f302e08e7a4a73f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXv369ksImz7RqckXxWiTg.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">crypto-config.yaml — Orderer section</figcaption></figure><p id="0f81" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这里，给出的大多数名称都是“用户定义的”，因此您的身份(CA)将基于这些名称创建，因此在将此订购者映射到各自的结构映像时，您应该使用相同的名称/ca文件。最佳实践是，使用适当的命名标准，以便容易识别哪个容器属于哪个组件。</p><p id="11e6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在上图中，“订购者的名称是“订购者”&amp;域名是example.com(不要使用任何特殊字符)。所以这个订购者的最终名字将是“{{。主机名}}。{{.在我们的示例中，它是“orderer.example.com”</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lo"><img src="../Images/4757afcdb55b343a167ab9328f2ca331.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xveLOYXqKkuDn1EedQuejg.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Peer &amp; Org Settings in Crypto-config.yml</figcaption></figure><p id="0bed" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">上图显示，我们有两个组织&amp;每个组织分别对应一个同事。我们一个一个来。</p><p id="774a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对等-&gt;表示此部分属于定义对等</p><p id="32f9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">名称-&gt;组织名称，此处为Org1</p><p id="6f19" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">EnableNodeOUS:真的？表示将身份分类为“客户端”或“对等端”的能力。这允许您在现有的<code class="eh kj kk kl km b">Org.member</code>和<code class="eh kj kk kl km b">Org.admin</code>之外创建诸如<code class="eh kj kk kl km b">Org.peer</code>和<code class="eh kj kk kl km b">Org.client</code>的策略。如果您启用此功能，CRYPTOGEN将相应地生成MSP。</p><p id="ead3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">模板:计数2，表示将在该组织(org1)下创建2个对等方，因此对等方名称将类似于peer1.org1.example.com peer0.org1.example.com</p><p id="6965" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Users: count 1表示将创建一个用户身份。在现实中，或者在生产结构中，CA为我们完成了这项工作。它为新用户创建了一个身份。但是在开发中，我们将使用<strong class="jd hu"> CRYPTOGEN(二进制文件)</strong></p><p id="46bd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下一个对等体(Org2)也是如此。</p><p id="021f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这个文件中，我们已经看到了如何设置订购者、同行、组织和用户。在定义您的网络时，您将在这个文件中花费大量的时间，因为生成正确的身份和证书是最重要的。</p><p id="5e62" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">好了，一切都设置好了，现在是时候生成我们的证书了。去终端和执行这个命令，你会看到Org1.example.com和Org2.example.com的结果</p><pre class="kt ku kv kw fq kx km ky kz aw la dt"><span id="9295" class="lb lc ht km b fv ld le l lf lg">./cryptogen generate --config=./crypto-config.yaml</span></pre><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lp"><img src="../Images/0d40c9680cc63d6a26485374c9f386e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QbECf3yOpgGeF2W-jEsvMA.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Results obtained after Cryptogen Command</figcaption></figure><p id="6b59" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">祝贺您，您已经成功地为这些组件创建了证书，现在进入您的目录，浏览每个文件夹，检查它已经创建了多少个文件夹/文件。</p><p id="2489" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">理解每个文件夹是什么&amp;它做什么，花一些时间浏览并理解文件夹结构是非常重要的。</p><p id="8456" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，我们需要生成“创世纪区块”，区块链的第一个区块。它决定了一个网络的结构，因此它非常关键，应该端到端地了解它。</p><p id="b038" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">转到fabrics-sample/first-network文件夹并复制<strong class="jd hu"> configtx.yaml </strong>文件，该文件包含生成“Genesis块”的配置详细信息。让我们了解每一节。</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lq"><img src="../Images/e87809b164bb0fdbf56e75fe107ab667.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iCEntnw-GL3pjsZTx_IQlA.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Organization in Configtx.yaml</figcaption></figure><p id="1562" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在此部分中，您需要提供以下信息..</p><p id="c072" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">I)订单或MSP路径</p><p id="9aa5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ii)对等MSP路径</p><p id="09e6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">iii)声明哪个对等体扮演“锚定”角色以及相应的端口号。</p><p id="a6ae" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">“名称”和“ID”是用户定义的，但要保持有意义，这将有助于您轻松配置网络的其余部分。</p><p id="9726" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">MSPDir -&gt;是订购者和对等组织的MSP文件所在的路径。还记得我们生成证书的第一步吗？这些是存放这些文件的路径。所以，如果你想的话，再去探索一次吧。</p><p id="676b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">来自Org1的AnchorPeers可以与来自Org2的AnchorPeers通信。基本上，这些通信通过八卦协议发生，我们称之为GRPC(八卦远程过程调用)</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lr"><img src="../Images/f90a2e4eb8f05ab44b7bd6b8028fe4aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X7KO9fbJKueLq-weR8Pwdw.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Orderer Section in Configtx.yaml</figcaption></figure><p id="5770" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在这里，我们将声明订购者的详细信息。注意，第一个参数是ordererType，即“Solo”。正如我前面提到的，对于一个开发环境，你可以选择“Solo”。</p><p id="82c2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">地址:-&gt;表示订购方的域名，所以orderer.example.com:7050(端口号)</p><p id="3d04" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">BatchTimeout，BatchSizes -&gt;这两个参数对于块的创建很重要。例如，订购者工作是形成一堆事务，并将其作为批处理形成&amp;在提交之前传输到“提交对等体”进行验证。所以批处理大小决定了相同的结果，在上面的文件MaxMessageCount中— 10表示允许10个事务形成一个批处理或块。</p><p id="8b8b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">那么一个块什么时候提交呢？—使用上述配置网络确定，因此批处理超时或批处理大小确定何时提交块。每2秒提交一个块，或者当事务计数达到10时提交。因此，2秒或消息计数达到的时间决定了块提交场景。</p><p id="1f3a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Kafka参数用于在您使用Kafka orderer类型时提供域和端口号，因为我们正在开发中，您可以忽略它。</p><figure class="kt ku kv kw fq it fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff ls"><img src="../Images/cebf24553235a370bbafe4a1f907f522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMFGncDs-NVaXVduAYXS5A.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Profile section in Configtx.yaml</figcaption></figure><p id="2fd8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Profile部分是主要部分，它读取我们在configtx.yaml文件的前几个部分中声明的内容。在这个文件中，我们将这个genesis文件声明为“TwoOrgsOrdererGenesis”用于订购者详细信息，声明为“TwoOrgsChannel”用于渠道详细信息。</p><p id="7448" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">联合体:表示更多的组织一起工作或形成一个网络，这里我们将其命名为“sample consortium”&amp;表示Org1和Org2都参与了。</p><p id="a339" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">类似地，在“TwoOrgsChannel”中，两个组织可以通过这个通道进行通信，可以读取数据，可以写入数据，可以通过这个通道共享数据。</p><p id="968e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在是生成创世纪区块和通道的时候了..继续&amp;从您的终端执行以下命令</p><pre class="kt ku kv kw fq kx km ky kz aw la dt"><span id="d3fa" class="lb lc ht km b fv ld le l lf lg">./configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./genesis.block</span></pre><p id="2eb1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这个命令应该会在当前文件夹中创建一个名为genesis.block的文件。</p><p id="6eff" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">接下来，让我们通过执行下面的命令创建一个通道文件…</p><pre class="kt ku kv kw fq kx km ky kz aw la dt"><span id="ef34" class="lb lc ht km b fv ld le l lf lg">./configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./mychannel.tx -channelID mychannel</span></pre><p id="f207" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">该命令生成名为mychannel.tx的文件，其channelID为mychannel。现在，org1和org2可以通过mychannel进行通信。</p><p id="b628" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">所以，我们已经在这篇文章中涉及了很多，让我们总结一下…</p><p id="b1a1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">I)我们讨论了二进制文件及其用法</p><p id="b9e7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ii)我们执行curl命令来下载特定版本的织物样本</p><p id="b334" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">iii)我们讨论了如何读取cryptoconfig.yaml文件和参数集</p><p id="3b98" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">iv)我们介绍了如何读取configtx.yaml文件及其参数</p><p id="31f0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">v)我们讲述了块是如何创建的</p><p id="0500" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">所以，如果你能够毫无问题地执行以上所有指令，你就做得很好了！..只需等待，还有几英里路要走，让我们在下一个系列中见面(不久将推出)。</p><p id="a778" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">注:喜欢这篇文章？给Logeswaran竖起大拇指(鼓掌)并在Linkedin上关注他</p><p id="9a4b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">查看此:</strong> <a class="ae jz" rel="noopener" href="/@lokeshwaran.a82/teach-yourself-hyperledger-in-24-hours-32ac151bbde7"> <strong class="jd hu">自学:24小时内Hyperledger</strong></a><strong class="jd hu">获取完整教程</strong></p><blockquote class="lt"><p id="d008" class="lu lv ht bd lw lx ly lz ma mb mc jy ek translated"><a class="ae jz" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="me mf mg mh mi it fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff md"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>