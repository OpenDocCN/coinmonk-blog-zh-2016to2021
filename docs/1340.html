<html>
<head>
<title>EOS Permission Management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EOS权限管理</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/eos-permission-management-2c0c1634fe39?source=collection_archive---------5-----------------------#2018-08-17">https://medium.com/coinmonks/eos-permission-management-2c0c1634fe39?source=collection_archive---------5-----------------------#2018-08-17</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/d1d9d8941b659a6551c7cd4edb04c5e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J29fb9Et1mCWxmepr2zpwA.png"/></div></div></figure><blockquote class="jb jc jd"><p id="50fa" class="je jf jg jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">EOS与其他区块链的主要区别之一是帐户系统。在你和你的基金之间，有一个账户。12个字符的名称。而当你想花那些资金的时候，你需要为账户签一个交易，而不是直接签一个关联的密钥。在账户后面，你可以有一把或多把钥匙，它们在链子上，你可以改变它们。你可以改变他们，有不同的权限级别。那真是太棒了。这也意味着你可以对你的账户进行权限管理。亚历山大·布尔歇</p></blockquote><h1 id="cae6" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">默认权限设置</h1><p id="b921" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">如上所述，EOS有一个独特的帐户系统，允许用户管理其帐户的权限。每个许可都要求将一个或多个有效交易转移到区块链。默认情况下，一个EOS账户有两个权限，<em class="jg">活动</em>和<em class="jg">所有者</em>。</p><p id="1226" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated"><em class="jg">活动</em>权限用于转账、制作人投票等高级账户变更。</p><p id="3bac" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated"><em class="jg">所有者</em>权限象征着账户的所有权。只有少数事务需要此权限，但最值得注意的是对所有者权限进行任何类型的更改的操作。一般建议业主冷藏保存，不与任何人共用。<em class="jg">所有者</em>权限可用于恢复另一个可能已被破坏的权限。</p><figure class="lk ll lm ln fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lj"><img src="../Images/881d8a7033579be2bd9cb4959cd9d909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Hm5B4ToLOCtOL7Ieq2N8_Q.png"/></div></div></figure><p id="9e1c" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">默认情况下，<em class="jg">活动</em>和<em class="jg">所有者</em>的键的权重都是1，而<em class="jg">活动</em>和<em class="jg">所有者</em>权限的默认阈值都是1。这意味着执行任何需要<em class="jg">所有者</em>许可的动作只需要<em class="jg">所有者</em>密钥的一个签名。这同样适用于<em class="jg">活动</em>许可。执行任何需要<em class="jg">激活</em>许可的动作只需要一个来自<em class="jg">激活</em>键的签名。</p><p id="068f" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">这就是默认EOS帐户的设置方式。</p><blockquote class="lo"><p id="aa7d" class="lp lq ht bd lr ls lt lu lv lw lx kc ek translated"><a class="ae ly" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳加密软件</a></p></blockquote><h1 id="5826" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko lz kq kr ks ma ku kv kw mb ky kz la dt translated">更改和添加权限</h1><p id="45bb" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">幸运的是，您可以添加和更改权限，允许您创建一个多签名帐户，创建新的权限等等。为了向您展示更改和添加权限的可能性，我们将解释一个示例。</p><h2 id="a952" class="mc ke ht bd kf md me mf kj mg mh mi kn ld mj mk kr lf ml mm kv lh mn mo kz mp dt translated">多重签名账户</h2><p id="a98c" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">在这个例子中，我们将解释多重签名钱包是如何工作的，以及如何自己设置一个。</p><figure class="lk ll lm ln fq iu fe ff paragraph-image"><div class="fe ff mq"><img src="../Images/5da7c2ca47599ed69a9d053551e5a2ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*CP-UVjOqWekGHWWQO0N4Wg.png"/></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">Taken from the <a class="ae ly" href="https://github.com/EOSIO/eos/wiki/Accounts%20%26%20Permissions" rel="noopener ugc nofollow" target="_blank">EOSIO Wiki</a></figcaption></figure><p id="ac63" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">在上图中，你可以看到一个多签名账户的可能设置。在本例中，<em class="jg">所有者</em>权限的阈值为2，有2个密钥，权重均为1。这意味着执行任何需要<em class="jg">所有者</em>许可的操作都需要两个密钥的签名。</p><p id="92e8" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated"><em class="jg">活动</em>权限的阈值为1，有2个键，权重都为1。这意味着执行任何需要<em class="jg">激活</em>许可的动作只需要2个键中任何一个的1个签名。</p><h2 id="f679" class="mc ke ht bd kf md me mf kj mg mh mi kn ld mj mk kr lf ml mm kv lh mn mo kz mp dt translated">如何在您自己的帐户上进行设置(工具包)</h2><p id="7c95" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">假设以上是有意义的，我们现在将解释如何使用Genereos 的<a class="ae ly" href="https://eostoolkit.io/account/advanced" rel="noopener ugc nofollow" target="_blank"> EOSToolkit自己建立一个多签名账户。我们将像上面解释的多签名帐户一样设置帐户。</a></p><p id="52b4" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">首先，你必须下载一个浏览器扩展。这里可以得到分散<a class="ae ly" href="https://get-scatter.com/" rel="noopener ugc nofollow" target="_blank">。按照说明设置您的分散帐户并登录您的分散扩展。之后，进入工具包，连接您现有的EOS帐户。</a></p><figure class="lk ll lm ln fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mv"><img src="../Images/532f7f3d356f0f958ce25004b258bff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lftuwt0aH4RhSyIJXZND6Q.png"/></div></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">*Don’t forget to add ‘@permission’ behind the public keys, change the permission to the actual permission (active, owner, etc)</figcaption></figure><p id="c7c0" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">连接您的Scatter帐户后，您可以访问<a class="ae ly" href="https://eostoolkit.io/account/advanced" rel="noopener ugc nofollow" target="_blank">“高级权限”选项卡</a>。我们将从更改帐户的<em class="jg">所有者</em>权限开始。使用正确的信息和密钥填写空白，然后单击更新。如果需要，还可以添加更多的关键点，并更改关键点的阈值和权重。</p><figure class="lk ll lm ln fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mv"><img src="../Images/28a184cb2989b32e5acf832e76dc4d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQVcayCF4t3L-tl0uZNbFw.png"/></div></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">*Don’t forget to add ‘@permission’ behind the public keys, change the permission to the actual permission (active, owner, etc)</figcaption></figure><p id="d68a" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">更新<em class="jg">所有者</em>权限后，您可以更新<em class="jg">活动</em>权限。使用正确的信息和密钥填写空白，然后单击更新。就像拥有<em class="jg">所有者</em>权限一样，如果你愿意，你也可以添加更多的键并改变阈值和键的权重。</p><p id="c55c" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">现在，您有了一个多签名帐户，就像第一个示例中的多签名帐户一样。</p><h1 id="ef5d" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">自定义权限</h1><p id="18bb" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">多重签名帐户只是EOS权限的众多可能性之一。不过，创建多签名帐户只需要更改默认权限。要创建更高级的权限结构，您可以创建新权限，或者管理和设置现有权限。我们将向您展示如何使用Genereos 的<a class="ae ly" href="https://eostoolkit.io/" rel="noopener ugc nofollow" target="_blank">工具包和cleos创建新的权限。</a></p><h2 id="be40" class="mc ke ht bd kf md me mf kj mg mh mi kn ld mj mk kr lf ml mm kv lh mn mo kz mp dt translated">如何创建新权限(工具包)</h2><p id="488b" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">由于有了工具包，管理、设置和创建新权限现在变得非常容易和容易。假设您有一个EOS帐户，但不想使用您的活动密钥来为该帐户投票，因为密钥泄露可能会造成灾难性后果。您可以授予另一个帐户在该帐户上投票的权限。(您可以使用代理做类似的事情，这只是为了解释事情)</p><figure class="lk ll lm ln fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mv"><img src="../Images/8c0f3090906bd3d85cee683a9fafa380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YEqx6OoOGRk3Q-RELkyMjA.png"/></div></div></figure><p id="7e49" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">在上面的图片中，你可以看到如何填写空白，让第二个帐户能够在主帐户上使用<em class="jg"> vote </em>权限。只需要访问第二个帐户上的<em class="jg">活动</em>权限。</p><figure class="lk ll lm ln fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mv"><img src="../Images/4e038c948b6cc286786821df57eaee08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ivdqd-eRUMTMnSTwMEFt6w.png"/></div></div></figure><p id="9544" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">确认上述交易后，您需要将新的<em class="jg">投票</em>权限链接到eosio操作。因为我们希望拥有该权限的第二个帐户能够在主帐户上投票，所以我们使用<a class="ae ly" href="https://eostoolkit.io/account/linkauth" rel="noopener ugc nofollow" target="_blank">“链接授权”工具</a>将<em class="jg">投票</em>权限链接到“voteproducer”操作。</p><p id="b886" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">现在，第二个帐户将能够在主帐户上使用<em class="jg">投票</em>权限。</p><h2 id="30c9" class="mc ke ht bd kf md me mf kj mg mh mi kn ld mj mk kr lf ml mm kv lh mn mo kz mp dt translated">如何创建新权限(cleos)</h2><p id="38af" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated">您还可以使用cleos创建一个新的自定义权限。下面我们将向您展示一个加拿大EOS的例子，关于如何创建一个新的使用cleos申请奖励的许可。</p><p id="1169" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">EOS块生产者每天都得到报酬，所以他们必须每天领取这些报酬。如果他们不认领奖励，奖励就没了，所以每个(付费)区块制作人每天都想认领他们的奖励。默认情况下，领取奖励需要主动密钥，但是将主动密钥放在每天收集奖励的服务器上是非常危险的。这就是为什么需要为此设置一个新的权限，并为此使用一个新的、不太重要的密钥。</p><p id="a103" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">为此，您需要使用cleos运行以下命令:</p><pre class="lk ll lm ln fq mw mx my mz aw na dt"><span id="5d38" class="mc ke ht mx b fv nb nc l nd ne">cleos set account permission PRODUCERACCT claimer '{"threshold":1,"keys":[{"key":"YOUR_PUB_KEY","weight":1}]}' "active" -p PRODUCERACCT@active<!-- --> </span></pre><p id="595d" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated"><code class="eh nf ng nh mx b">PRODUCERACCT</code>是将收集奖励的12个字符的帐户名，<code class="eh nf ng nh mx b">claimer</code>是新权限的名称，<code class="eh nf ng nh mx b">"key":"YOUR_PUB_KEY","weight":1</code>是新的公钥，权重为1，具有新权限，<code class="eh nf ng nh mx b">"active" -p PRODUCERACCT@active</code>意味着新权限的父权限是<em class="jg">活动的</em>权限。</p><p id="cd11" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">运行上面的命令后，您需要将权限链接到某个操作。为此，您需要运行以下命令。</p><pre class="lk ll lm ln fq mw mx my mz aw na dt"><span id="1670" class="mc ke ht mx b fv nb nc l nd ne">cleos set action permission PRODUCERACCT eosio claimrewards claimer<!-- --> </span></pre><p id="de0c" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">运行这个命令将<code class="eh nf ng nh mx b">claimrewards</code>动作链接到<code class="eh nf ng nh mx b">claimer</code>权限，<code class="eh nf ng nh mx b">eosio</code>是智能合约。</p><p id="ce7e" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">现在使用<code class="eh nf ng nh mx b">claimrewards</code>只需要一个新的密钥，这个密钥泄露不会是一个很大的问题，因为你可以用这个密钥做的唯一一件事就是在制作人账户上申请奖励。</p><p id="e0ba" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">*使用本指南和这些工具的风险由您自行承担，错误使用这些工具可能会导致您的帐户无法访问*</p><p id="6016" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">*请记住，遵循这些教程可能会导致您的帐户更难使用。支持自定义权限的工具还不多*</p><p id="0793" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated">特别感谢Genereos的Nathan Rempel帮助编写本指南。</p><h2 id="ae5b" class="mc ke ht bd kf md me mf kj mg mh mi kn ld mj mk kr lf ml mm kv lh mn mo kz mp dt translated">我们的社交</h2><p id="0fb5" class="pw-post-body-paragraph je jf ht jh b ji lb jk jl jm lc jo jp ld le js jt lf lg jw jx lh li ka kb kc hm dt translated"><a class="ae ly" href="http://blockgenic.io" rel="noopener ugc nofollow" target="_blank">网站</a> <br/> <a class="ae ly" href="https://twitter.com/blockgenic" rel="noopener ugc nofollow" target="_blank">推特</a><br/><a class="ae ly" href="https://www.youtube.com/channel/UCXTaehuAs3UWKnMVnT71MMQ" rel="noopener ugc nofollow" target="_blank">Youtube</a><br/><a class="ae ly" href="https://www.meetup.com/nl-NL/Seattle-EOS/" rel="noopener ugc nofollow" target="_blank">Meetup</a><br/><a class="ae ly" href="https://steemit.com/@block21" rel="noopener ugc nofollow" target="_blank">Steem</a></p><p id="b792" class="pw-post-body-paragraph je jf ht jh b ji jj jk jl jm jn jo jp ld jr js jt lf jv jw jx lh jz ka kb kc hm dt translated"><em class="jg">由</em> <a class="ae ly" href="https://www.linkedin.com/in/yannick-slenter/" rel="noopener ugc nofollow" target="_blank"> <em class="jg">写成</em></a>为 <a class="ae ly" href="https://blockgenic.website/" rel="noopener ugc nofollow" target="_blank"> <em class="jg">为</em> </a></p><blockquote class="lo"><p id="0ec1" class="lp lq ht bd lr ls lt lu lv lw lx kc ek translated"><a class="ae ly" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nj nk nl nm nn iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ni"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>