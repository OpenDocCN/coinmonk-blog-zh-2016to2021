<html>
<head>
<title>zk-SNARKs — A Realistic Zero-Knowledge Example and Deep Dive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ZK-SNARKs——一个现实的零知识示例和深度探究</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/zk-snarks-a-realistic-zero-knowledge-example-and-deep-dive-c5e6eaa7131c?source=collection_archive---------0-----------------------#2018-06-09">https://medium.com/coinmonks/zk-snarks-a-realistic-zero-knowledge-example-and-deep-dive-c5e6eaa7131c?source=collection_archive---------0-----------------------#2018-06-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/5a6cabe941599913dd61ebfb48bfafa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14EEvrMrHQWcaczjUbo_MQ.png"/></div></div></figure><p id="ce3b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">欢迎回来！让我们更深入地了解zk-SNARKs。</p><p id="d120" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">注意:除非你对zk-SNARKs很熟悉，否则我会建议你阅读这个博客系列的<a class="ae jz" rel="noopener" href="/@adamluc/digital-identity-privacy-and-zero-knowledge-proofs-zk-snarks-3d092b509990">第1部分</a>。</p><p id="89d9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="ka">快速回顾:zk-SNARK中有两个主要团体，证明者和验证者。使用zk-SNARK，证明者希望向验证者保证一个知识声明，而不向验证者透露确切的知识是什么。</em></p><blockquote class="kb"><p id="810e" class="kc kd ht bd ke kf kg kh ki kj kk jy ek translated"><a class="ae jz" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><p id="ab8f" class="pw-post-body-paragraph jb jc ht jd b je kl jg jh ji km jk jl jm kn jo jp jq ko js jt ju kp jw jx jy hm dt translated"><strong class="jd hu">什么是zk-SNARK？</strong></p><p id="aa13" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在讨论一个更技术性的例子之前，让我们先来看看zk-SNARK必须满足哪些属性:</p><ol class=""><li id="7187" class="kq kr ht jd b je jf ji jj jm ks jq kt ju ku jy kv kw kx ky dt translated"><strong class="jd hu">完备性</strong>:如果陈述为真，并且验证者和证明者诚实，则证明被接受。</li><li id="b49c" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated"><strong class="jd hu">可靠性</strong>:如果陈述是假的，除非有极小的概率，否则欺骗证明者无法说服诚实的验证者这是真的。</li></ol><p id="b09c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">除了以上所述，zk-SNARK(零知识简洁的非交互式知识论证)需要:</p><ol class=""><li id="ba80" class="kq kr ht jd b je jf ji jj jm ks jq kt ju ku jy kv kw kx ky dt translated"><strong class="jd hu">零知识:</strong>如果陈述为真，验证者除了陈述为真的事实之外不会学到任何东西。</li><li id="c3d8" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated"><strong class="jd hu">简洁</strong>:证明的大小需要小到可以在几毫秒内被验证。</li><li id="05b4" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated"><strong class="jd hu">非交互式</strong>:只有一组信息发送给验证者进行验证，因此证明者和验证者之间没有来回通信。</li><li id="b5d2" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated"><strong class="jd hu">论证</strong>:计算上合理的证明:合理性反对利用<a class="ae jz" href="http://1-&#9;http://mathworld.wolfram.com/PolynomialTime.html" rel="noopener ugc nofollow" target="_blank">多项式时间</a>，即有界计算的证明者。</li><li id="8246" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated"><strong class="jd hu">知识</strong>:没有证人(证明陈述所需的私人输入)，证据无法构建。</li></ol><p id="74f5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">给定上述条件，让我们通过一个zk-SNARK的例子，并结合如何将它与区块链结合使用。使用帖子#1中Bob和Alice之间的第一个例子:Alice希望将钱从她的一个银行账户转移到另一个银行账户，并且需要Bob发起转移——让我们描述如何使用zk-SNARKs和区块链来实现该场景。</p><p id="abb5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="ka">注意:下面的例子是不可扩展的，但是提供了一个如何处理zk-SNARK的很好的概述。</em> </strong></p><p id="15ff" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们场景中的四个角色:</p><figure class="le lf lg lh fq iu fe ff paragraph-image"><div class="ab fr cl li"><img src="../Images/b427ef762faf4e0a1367cd9bafe4d4fe.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZEO3lpkfPOpoZyqzg7UQXA.png"/></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">Alice — Prover</figcaption></figure><p id="1e77" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt">2.</p><figure class="le lf lg lh fq iu fe ff paragraph-image"><div class="fe ff ln"><img src="../Images/ab4b93e2d91993bacdd7e82dbd596c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:92/format:webp/1*VGeJEB8CDbk8D1E7EXkK2g.png"/></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">Acme Bank — Verifier, Trusted third party for bank account attestation transaction, &amp; a trusted third party for zk-SNARK setup</figcaption></figure><p id="a954" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt">3.</p><figure class="le lf lg lh fq iu fe ff paragraph-image"><div class="fe ff lo"><img src="../Images/e3d1970c6eb83c3bf458b52a9fb47f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:80/format:webp/1*Y9Q_Nqkp828JKUH5qjFiCQ.png"/></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">Bob — Acme Bank call center representative</figcaption></figure><p id="b8f1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt">4.</p><figure class="le lf lg lh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lp"><img src="../Images/2154557753b2851722d097125a5d8868.png" data-original-src="https://miro.medium.com/v2/resize:fit:112/format:webp/1*CqFnDO_24alaviuzkOA97Q.png"/></div></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">Self-Sovereign Identity Solution — Data provider of digital identity information to Acme Bank App, and a trusted third party for zk-SNARK setup</figcaption></figure><p id="42a8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下面是一个图表示例，说明Alice如何在不提供Bob at Acme银行信息来验证其身份的情况下，将资金从她的一个银行帐户转移到另一个帐户:</p><figure class="le lf lg lh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lq"><img src="../Images/2847ba2e25113f6c712b748fce8f94f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QFdOPqOyFSNKbpmPxWu66Q.png"/></div></div></figure><p id="deaa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> 1。创建一个支持智能合约的区块链，在这个例子中，我们使用一个以太坊实例。</strong></p><p id="d7a3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> 2。创建一个程序，如果该程序评估为真，则返回“1”(博客文章末尾的程序示例)。</strong></p><p id="243f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2a <strong class="jd hu">。</strong>输入包括由多方(Alice，(自我主权身份解决方案)和Acme银行)使用的公共输入，以及只有证明者(Alice)提供的私有输入(秘密，又名见证)。</p><p id="4efa" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2a _ I . Public:Alice作为当前银行账户所有者的姓名、电话号码、区块链数字身份地址、银行证明——最近完成；1小时超时(将在下面进一步描述)</p><p id="093c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2a_ii。私人(爱丽丝或自我主权身份解决方案):社会安全号码(SSN)，出生日期(出生日期)</p><p id="d104" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2a_iii。私人(仅爱丽丝):秘密Pin</p><p id="5827" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">b.设置zk-SNARK参数并生成证明者和验证者密钥。</p><p id="62b7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2b。使用Self-Sovereign Identity solution和Acme Bank之间的多方计算(MPC)来生成设置zk-SNARK的公共参数。MPC允许多方参与可信设置阶段来生成zk-SNARK的参数，这相对于一方创建密钥来说，将风险降至最低。如果参与可信设置阶段的用户之一没有受到危害，则生成的参数是安全的。如果参与设置的所有用户都受到危害，则这些参数可用于生成虚假证明，从而消除zk-SNARK过程的价值。</p><p id="12e3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2c。验证者密钥和验证者程序嵌入在一个智能合同中，该合同在以太坊区块链实例中被实例化。</p><p id="81a9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> 3。Alice打开Acme bank的应用程序，使用她的指纹向应用程序验证她的身份，然后进入应用程序。</strong></p><p id="5b7d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3a。她转到应用程序中的“联系我们”区域，点击“使用预先身份验证呼叫Acme”按钮。</p><p id="4577" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3a_i .在Alice点击“Call Acme with Prior authentic ation”按钮之后，在幕后:1)从Alice的Acme bank应用向Acme Bank发送请求，询问Alice是否仍然是银行客户。2)然后，Acme Bank向区块链发送交易，声明Alice仍然是当前客户。</p><p id="6e90" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3a_ii。在移动应用程序中向Alice询问以下问题(其中一些问题(社会安全号码和出生日期)可以通过向银行应用程序提供数据的数字身份应用程序来回答，如自我主权身份解决方案):</p><p id="8023" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3a_ii_1。你的社会安全号码是多少？爱丽丝进入:123–45–6789</p><p id="42dd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3a_ii_2。你的出生日期是什么时候？爱丽丝进入:2000年1月1日</p><p id="f597" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3a_ii_3。你的秘密密码是什么？爱丽丝进入:7327；为什么是秘密别针？这是为了防止有人以某种方式访问该应用程序，并利用数字身份应用程序填充社会安全号码和出生日期的答案，然后尝试以Alice的身份与银行进行交互，而实际上并不是Alice。秘密pin充当不能被外人知道的验证个人身份的最后一道障碍。</p><p id="1abf" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> 4。Alice的回答(私人输入也称为证人)与Alice的姓名、电话号码、公共数字身份地址和Alice是当前客户的银行证明的公共输入合并，以生成零知识证明(zk-SNARK)。</strong></p><p id="bcb3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">4a。该证明被发送到区块链的验证智能合同。</p><p id="5822" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> 5。智能合约返回“true ”, Acme Bank对此进行监控，并在其内部系统中记录“true”的响应。</strong></p><p id="88dd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> 6。Acme移动应用程序中的一个按钮现在可供Alice呼叫Acme银行。Alice点击按钮，然后被转接到Acme银行呼叫代表Bob，以启动银行转账。</strong></p><p id="42e3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">上面的例子提供了当Alice想要呼叫Acme Bank来启动从她的一个账户到另一个账户的转账时zk-SNARK如何工作的分解。上述示例消除了Alice与Bob共享敏感身份信息的情况，并额外减少了Acme bank的平均处理时间，从而降低了成本，这对Alice和Acme Bank都是双赢的。</p><p id="680c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">当前客户的第三方信任和证明</strong></p><p id="795f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在现实世界中工作的zk-SNARK的上述例子中的一个关键元素是Alice在Acme银行有一个帐户的银行证明。在提供zk-SNARKs的示例时，这是一个经常被忽略的关键因素，即当有第三方需要参与zk-SNARK流程时，如何将其纳入？可以有不同的方法，但是我们可以加入一种形式的<a class="ae jz" href="http://2-&#9;https://en.wikipedia.org/wiki/Proof_of_Existence" rel="noopener ugc nofollow" target="_blank">存在证明</a>，我们称之为当前客户的证明，使上面的例子成为一个更现实的实现。</p><p id="1f6a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对于Acme bank，当前客户的证明可以按以下方式工作:</p><ol class=""><li id="7f28" class="kq kr ht jd b je jf ji jj jm ks jq kt ju ku jy kv kw kx ky dt translated">当Alice首次成为客户或已经是客户时，银行将通过向Alice在相关区块链的公共数字身份地址发送交易来证明Alice是银行的客户。(交易将包含加密的数据有效载荷，Alice的Acme银行移动应用程序将读取该有效载荷，以指示Alice是Acme银行的客户。)</li><li id="fe68" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">将通过检查Acme的公共地址来验证发行者身份(Acme Bank)。在区块链中，智能合同中会有一个公共地址注册中心(该注册中心将存储公共地址及其相关身份)，因此Acme Bank可以被标识为原始证明的颁发者。注册表只能由某些选定的所有者或合同注册表的创建者更新。</li><li id="f055" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">接下来，从Acme Bank向Alice的公共数字身份地址发送一个新交易，该交易带有加密的数据有效负载，表明Alice是Acme Bank的客户，并且她可以在接下来的60分钟内呼叫Acme Bank，而无需事先进行身份验证。</li></ol><p id="4580" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="ka">注意:有多种方法可以达到上述目的。例如，除了使用简单的事务，我们还可以利用存储在分散存储系统中的文档，该系统保存相关数据，然后可以使用这些数据来验证Acme Bank的底层客户数据和数字签名。</em></p><p id="82c4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在上面的例子中，Alice能够与Acme银行的Bob通信而不共享关于她自己的信息，并授权从她的一个银行账户向另一个账户转账。zk-SNARKs和区块链可以很好地合作:在隐私、安全和透明之间架起桥梁，以交换和验证信息。</p><p id="69bc" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">除了上述场景之外，zk-SNARKs还可以用于广泛的领域，例如:</p><p id="cea3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">1.计算验证(集中、分散)</p><p id="d3e6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2.匿名加密货币或能够在智能合约中使用zk-SNARKs的加密货币，例如:Zcash、以太坊(保护用户隐私)</p><p id="34a0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">3.公共/私人区块链之间的出处证明(a .证明可以存储在公共区块链上，而不是将私人区块链中发生的交易的所有数据记录到公共区块链上。这使公司能够保护其敏感数据的安全，同时证明特定交易的来源。)</p><p id="efa7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">4.无需密码的身份验证(如上面Alice和Bob的示例所示)</p><p id="fc11" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">5.有条件地分享关于自己身份的信息，例如:Alice is &gt; 21是真还是假？(年龄未透露)，zk-SNARK可用于证明Alice超过21岁，同时最小化相关方之间所需的信任(例如，共享PII、健康数据、贷款数据)</p><p id="a83c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">zk-SNARKs的广泛应用可能会改变数据的存储方式。也许公司不需要像现在这样保存大量的客户/用户数据。在未来，组织可以与区块链进行交互，并使用零知识证明与当前流程进行通信，从而减少数据泄露，进一步提高用户数据的隐私性，并降低组织的风险。还可以进一步减少人与人之间的机密数据共享。零知识证明和自我主权身份的应用将允许用户更充分地保护他们的数据，并进一步最小化数据泄露，因为拥有个人身份数据的重要方面的组织将开始衰落。</p><p id="3c31" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">可以进一步改进以最小化zk-SNARK用户信任的一个关键领域是删除可信设置阶段。零知识密码术的研究正在进行，正在开发的技术如<a class="ae jz" href="http://3-&#9;https://themerkle.com/mit-review-acclaims-zk-snarks-but-zk-starks-may-steal-the-show/" rel="noopener ugc nofollow" target="_blank"> zk-STARKS </a>消除了可信设置阶段，进一步改进了使用零知识密码术提供知识证明的过程。在下一篇文章中，我将深入研究zk-STARKs。</p><p id="ab07" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">Alice和Bob调用的更深一层的验证示例—仅zk-SNARK程序输入和输出(示例使用了</strong><a class="ae jz" href="http://4-&#9;https://www.coindesk.com/zokrates-seeks-bring-best-zcash-ethereum-devcon-debut/" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">zok rates</strong></a><strong class="jd hu">):</strong></p><p id="bbef" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对于那些对基本的zk-SNARK程序感兴趣的人，我想基于上面的Alice和Bob的例子提供下面的例子。</p><ol class=""><li id="68b4" class="kq kr ht jd b je jf ji jj jm ks jq kt ju ku jy kv kw kx ky dt translated">zk-SNARKs可以很好地处理数字，所以我们需要将字符串输入转换为数字(使用以下网站来转换文本字符串:<a class="ae jz" href="https://cryptii.com/decimal-text)." rel="noopener ugc nofollow" target="_blank"><em class="ka">https://cryptii.com/decimal-text</em>)。</a></li><li id="5709" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">公开名:爱丽丝；运行Unicode十进制转换器得到:65 108 105 99 101，删除所有空格并输入:<strong class="jd hu"> 6510810599101 </strong></li><li id="7619" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">公共电话号码:(555–666–7777)；运行Unicode十进制转换器得到:53 53 53 45 54 54 54 45 55 55 55 55 55，删除所有空格并输入:<strong class="jd hu">53535345545445455555555</strong></li><li id="6a18" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">公有区块链地址:0x4ef 377462 b 03 b 750d 52140 c 482394 a 6703 d0 d 338；运行Unicode十进制转换器得到:0 48 120 52 101 102 51 55 55 52 54 50 98 48 51 98 55 53 48 100 53 50 49 52 48 99 52 56 50 51 57 52 97 54 55 48 51 100 48 100 100 100 51 51 56，删除所有空格并输入:<strong class="jd hu">0481205210101110202</strong></li><li id="f69c" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">公共银行证明设置和调用:<strong class="jd hu"> a. </strong>初始设置:Acme Bank向Alice的公共数字身份地址发送交易，该交易具有指示Alice是客户的数据有效载荷。当Alice开立账户时，或者当Alice第一次在Acme Bank的移动应用程序上验证她的账户时，就会发生该交易。<strong class="jd hu"> b. </strong>当Alice开始“具有优先认证的呼叫”过程时，银行将检查Alice的公共数字身份账户交易中来自Acme银行的指示Alice是Acme银行的客户的交易。如果找到，Acme bank将向Alice的公共数字身份地址发送交易，该交易具有加密的数据有效载荷，该数据有效载荷指示Alice是Acme bank的当前客户。Alice的手机会监视来自Acme Bank的新交易的区块链，一旦找到，就会从最近的交易中提取数据有效负载，解密数据，并对数据进行哈希处理。散列后的数据将被转换成Unicode十进制字符串进行输入:<strong class="jd hu">4966566768686675454545250524953485685170555536856548555565556555655655654565456556545654565455655565556953565666666956666956666969700。</strong></li><li id="f3f7" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">私人社会安全号码:123–45–6789；输入方式:<strong class="jd hu"> 123456789 </strong></li><li id="07fd" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">私人出生日期:2000年1月1日；作为输入输入:<strong class="jd hu"> 112000 </strong></li><li id="b09a" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">私人密码输入(这是用户必须记住的密码):<strong class="jd hu"> 7327 </strong></li><li id="8930" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy kv kw kx ky dt translated">公共和私有输入将被输入到下面的程序中，该程序将公共输入与zk-SNARK程序中所写的内容进行比较。如果它们是正确的，程序将把社会安全号码和出生日期的总和乘以秘密pin来生成目标号码。如果该数字与zk-SNARK程序中的数字相同(905388517003)，程序将返回1。下面用ZoKrates编写的代码提供了一个例子:</li></ol><figure class="le lf lg lh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lr"><img src="../Images/c72baf25bb5a44ea7399a2ea00742ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WF-x0hidxO1dQLov_OEdiQ.png"/></div></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">ZoKrates code for zk-SNARK example</figcaption></figure><p id="5601" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">10.程序执行后，会生成一个类似下图的证明:</p><figure class="le lf lg lh fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lr"><img src="../Images/e169386275ed1b230c1ee0bfe61c22b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fiNG2ZQ9ztTYqjtKeVC8cQ.png"/></div></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">zk-SNARK (zero-knowledge proof) output from ZoKrates</figcaption></figure><p id="1c8e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">11.然后，上述证明连同公共输入(Alice的姓名、电话号码、区块链地址、银行证明散列和预期输出‘1’)一起被发送到验证智能合同。如果所有信息都是最新的，则合同将返回“true”，输出存储在智能合同中，因此合同的观察者可以看到结果(Alice的移动应用程序和Acme Bank可以看到合同中的状态变化)。验证契约内部有硬编码的验证密钥，因此它可以根据公共输入和提供的证明来确定证明是否为真。</p><blockquote class="kb"><p id="caee" class="kc kd ht bd ke kf kg kh ki kj kk jy ek translated">加入Coinmonks <a class="ae jz" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jz" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae jz" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="ls lt ht bd lu lv lw lx ly lz ma mb mc jm md me mf jq mg mh mi ju mj mk ml mm dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="kq kr ht jd b je mn ji mo jm mp jq mq ju mr jy ms kw kx ky dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae jz" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae jz" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="874f" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae jz" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="450c" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" href="https://coincodecap.com/pionex-dual-investment" rel="noopener ugc nofollow" target="_blank"> Pionex双投</a> | <a class="ae jz" href="https://coincodecap.com/advcash-review" rel="noopener ugc nofollow" target="_blank"> AdvCash审核</a> | <a class="ae jz" href="https://coincodecap.com/uphold-review" rel="noopener ugc nofollow" target="_blank">光宗耀祖审核</a></li><li id="4c48" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" href="https://coincodecap.com/best-cryptocurrency-apis" rel="noopener ugc nofollow" target="_blank">面向开发者的8个最佳加密货币API</a></li><li id="db49" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" href="https://coincodecap.com/uphold-card-review" rel="noopener ugc nofollow" target="_blank">支持卡审核</a> | <a class="ae jz" href="https://coincodecap.com/trust-wallet-vs-metamask" rel="noopener ugc nofollow" target="_blank">信任钱包vs元掩码</a></li><li id="0843" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" href="https://coincodecap.com/earn-sign-up-bonus" rel="noopener ugc nofollow" target="_blank">赢取注册奖金——10大最佳加密平台</a></li><li id="f33b" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳加密交易所</a> | <a class="ae jz" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度最佳加密交易所</a></li><li id="47a8" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/best-crypto-apis-for-developers-5efe3a597a9f">面向开发人员的最佳加密API</a></li><li id="b359" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated">最佳<a class="ae jz" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">密码借贷平台</a></li><li id="9487" class="kq kr ht jd b je kz ji la jm lb jq lc ju ld jy ms kw kx ky dt translated"><a class="ae jz" rel="noopener" href="/coinmonks/leveraged-token-3f5257808b22">杠杆代币</a>终极指南</li></ul></div></div>    
</body>
</html>