<html>
<head>
<title>Consensus &amp; Endorsement in Hyperledger Fabric</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger结构中的共识和认可</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/consensus-endorsement-in-hyperledger-fabric-5dbf233b452c?source=collection_archive---------0-----------------------#2018-09-15">https://medium.com/coinmonks/consensus-endorsement-in-hyperledger-fabric-5dbf233b452c?source=collection_archive---------0-----------------------#2018-09-15</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/64c58707dd315aab40de82cc397a35c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LI_Zy-N9y4O_gq0O0xQHDg.jpeg"/></div></div></figure><div class=""/><blockquote class="jb jc jd"><p id="2420" class="je jf jg jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">本文是与Hyperledger结构相关的系列文章中的第二篇。如果你没有读过我之前的文章，那么这里有链接。我建议你应该试着建立“第一网络”,这样你就能理解本文中的概念。我的另一个推荐是<a class="ae kd" href="https://www.youtube.com/watch?v=Lx9zgZCMqXE&amp;t=0s&amp;index=2&amp;list=LL7ADdKMsUCKqTlnNsqHBakw" rel="noopener ugc nofollow" target="_blank">这个Youtube视频</a>是20分钟内对比特币最好的解释。</p></blockquote><p id="93ec" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">在关于比特币的讨论中，你应该会遇到这个术语——“采矿”，也就是工作证明(PoW)。什么是采矿，为什么要采矿，这是你必须思考的两个问题。最重要的是为什么这样做；因为那是区块链的核心。总之，挖掘使比特币网络中的所有节点保持同步。它强制所有节点以相同的顺序提交事务，从而防止有人重复花费。<em class="jg">观看Youtube视频了解详细解释</em>。</p><blockquote class="kh"><p id="551a" class="ki kj ie bd kk kl km kn ko kp kq kc ek translated"><a class="ae kd" href="https://coincodecap.com" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳区块链软件</a></p></blockquote><p id="b070" class="pw-post-body-paragraph je jf ie jh b ji kr jk jl jm ks jo jp ke kt js jt kf ku jw jx kg kv ka kb kc hm dt translated">虽然挖掘是比特币(和其他一些区块链框架)特有的，但一个更通用的术语是共识。如果你有一些分布式系统的背景知识，你可能知道让所有节点同意一个特定的值或动作是一个基本问题。在这里，我们处理的是事务。共识帮助我们确定是否提交，而建立这种共识是订购方服务节点的责任。</p><p id="e2fd" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">在更进一步之前，对于那些不太熟悉Hyperledger Fabric架构的人；节点是运行平台的特定服务的系统(或者更具体地说是docker容器)。我们有三种类型的节点，订货方(负责建立共识)、对等方(主机分类帐和链码)和客户(用于提交交易)。</p><p id="cae7" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">让我们回忆一下，Hyperledger结构网络中的参与者不是个人用户，而是整个组织。一个组织托管一个或多个对等节点和客户端节点。尽管事务是由客户机节点提交的，但它们是代表整个组织提交的。因此，验证过程必须确保组织没有搞任何恶作剧。既然是区块链网络，我们没有中央权威机构进行验证，而是有一个政策叫做“背书政策”。</p><p id="ac9a" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">顾名思义，签署政策定义了哪些参与者(组织)必须签署交易。为了理解背书意味着什么，考虑一个类比。假设你要给一个叫鲍勃的人10美元，还有一个叫约翰的第三个人负责背书这个交易。在这里，约翰确保你有足够的钱给鲍勃，你实际上已经给了鲍勃。</p><p id="b228" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">Hyperledger结构中的背书者执行类似的任务。它们确保在更新资产之前，您拥有资产的正确状态，并且链代码中定义的任何验证都不会阻止您修改该资产。Hyperledger Fabric允许我们在选择背书者时进行一些复杂的组合，如两个参与者中的任何一个，或两个参与者中的两个，或五个参与者中的两个等。</p><p id="f65a" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">一旦交易得到相关参与者的认可，订购者服务节点就开始发挥作用。此时，客户在频道中向订购者广播背书(签名)的交易。订购者做两件事。首先，它验证客户机是否具有适当的角色，这是修改分类帐所必需的。确认后，订购方将交易收集到一个块中，如果达到规定的大小或经过了规定的时间，就将该块广播给渠道。</p><p id="c675" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">您可能会认为订购者可能是Hyperledger Fabric系统中的单点故障。这可能是不正确的，因为我们可以在网络中有多个订购者。在1.2版本之前，有两种共识机制可用，即SOLO和Kafka。SOLO是最简单的机制，它只广播交易，而不建立任何真正的共识。显然，不建议在生产中使用。另一方面，Kafka使用了一个容错的分布式流媒体平台，名为Apache Kafka。它还支持分布式订购服务，因此我们可以有多个订购者节点来避免单点故障。</p><p id="7f80" class="pw-post-body-paragraph je jf ie jh b ji jj jk jl jm jn jo jp ke jr js jt kf jv jw jx kg jz ka kb kc hm dt translated">我认为描述卡夫卡式的共识需要一整篇文章。所以现在就这样了。敬请关注更多关于Hyperledger Fabric区块链框架的文章。</p><blockquote class="kh"><p id="f9bf" class="ki kj ie bd kk kl km kn ko kp kq kc ek translated"><a class="ae kd" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="kx ky kz la lb hv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff kw"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>