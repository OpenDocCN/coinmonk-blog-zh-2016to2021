<html>
<head>
<title>Metamask Update — Privacy Mode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">元掩码更新—隐私模式</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/metamask-update-privacy-mode-5439bb6253bb?source=collection_archive---------4-----------------------#2018-11-01">https://medium.com/coinmonks/metamask-update-privacy-mode-5439bb6253bb?source=collection_archive---------4-----------------------#2018-11-01</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="4fbc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">几个月前，Metamask的awesome团队发布了一篇博客文章(<a class="ae jo" rel="noopener" href="/metamask/https-medium-com-metamask-breaking-change-injecting-web3-7722797916a8">https://medium . com/metamask/https-medium-com-meta mask-breaking-change-injecting-web3-7722797916 A8</a>)，声明从11月2日起，meta mask将进行更新，以停止web 3默认暴露用户帐户；而是要求dApp明确请求访问元掩码帐户的许可。</p><p id="4b7d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">目前，“隐私模式”推出时，仍将被默认禁用；但是，在将来的版本中，它最终会默认启用。</p><p id="024a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">所以让我们来看看这个是什么样子的。</p><p id="ea40" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在这里做一个快速测试，用我当前安装的Metamask来检索Metamask的第一个帐户。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/2e9fd45f43ee316ab846a93c94259c45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQU_j5WysF41GYLUib1sXQ.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Works as is.</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kf"><img src="../Images/f5c7ad772bf0528a9f038c62ba54d377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QCZJSfoYko87ro0T3Y8paA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Using a pretty standard provider listener.</figcaption></figure><p id="90f4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一切都很好。现在我们将安装自定义元掩码构建发现<a class="ae jo" href="https://github.com/MetaMask/metamask-extension/pull/4703#issuecomment-434615101" rel="noopener ugc nofollow" target="_blank">这里</a>，并打开隐私模式:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kg"><img src="../Images/b17fd33e1c7a0cc899cf72d90e18e897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZljgufJUYNRhTkn2WAomUA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Turning Privacy Mode on.</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kh"><img src="../Images/8986bca824f5b9cbf05a4ea3ddaeb89a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JfUP5j0NcQxTHopN6wrULA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">And it fails to get the address now!</figcaption></figure><p id="b7a6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在我们看到隐私模式确实阻止我们直接访问元掩码，让我们添加启用提供者所需的代码:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff ki"><img src="../Images/26a49c1b4be2acb2474e4c042a35fd6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*CZKJJsSXRbkfOfM-RoQzTw.png"/></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Creating an async function to ask for permission.</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kj"><img src="../Images/001e92204f859a7e20eed420fb7dcbfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-QfER3Qx2FRgANMXDTx6w.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Detect web3 provider and calling for permission.</figcaption></figure><p id="f2a2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">刷新我们的测试，我们应该会看到一个提示:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kk"><img src="../Images/3a50f5d720f69cdd0a39e55f8120a068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZuolmrfsYn5J5hRDwKlRg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Prompting for permission — Click Reject/Approve to your fancy.</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kl"><img src="../Images/b0a99ef29b8c16b407e46f2e08ad9f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-noQ7yez2ij--VLa4Sd3uA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">After we click Approve — Refresh the page and it works!</figcaption></figure><p id="6a6b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">所选的设置将被Metamask记住，并且可以通过点击选项正上方的“清除隐私数据”来清除，以启用“隐私模式”</p><p id="73ea" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">就是这样！非常简单。非常感谢Metamask团队做出了如此必要的改变——哦，期待着在DevCon4上发布的Metamask移动客户端！；)</p><blockquote class="km"><p id="3b55" class="kn ko ht bd kp kq kr ks kt ku kv jn ek translated"><a class="ae jo" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="kx ky kz la lb ju fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff kw"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>