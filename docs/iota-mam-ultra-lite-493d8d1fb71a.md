# IOTA MAM Ultra Lite

> åŽŸæ–‡ï¼š<https://medium.com/coinmonks/iota-mam-ultra-lite-493d8d1fb71a?source=collection_archive---------1----------------------->

## é¢å‘ IOTA çš„æœ€è½»æŽ©ç è®¤è¯æ¶ˆæ¯åè®®

![](img/496acc0a54c596abe7afafbe44b69013.png)

Created with [Silk â€” Interactive Generative Art](http://weavesilk.com/)

å— [MAM Lite](/@samuel.rufinatscha/mam-lite-a-more-flexible-messaging-protocol-for-iota-562fdd318e1d) åè®®çš„å¯å‘ï¼Œç”±[Samuel rupinatscha](https://medium.com/u/589112703eef?source=post_page-----493d8d1fb71a--------------------------------)ç¼–å†™çš„ IOTA ä¸­ MAM æµçš„è½»é‡çº§æ›¿ä»£æ–¹æ¡ˆï¼Œæˆ‘å†³å®šç”¨ Python é‡æ–°å®žçŽ°å®ƒã€‚è¿™æ ·åšçš„æ—¶å€™ï¼Œæˆ‘æ— æ„ä¸­é‡åˆ°äº†ä¸€äº›é™åˆ¶ï¼Œè¿™äº›é™åˆ¶æºäºŽ MAML ä½¿ç”¨çš„ RSA ç­¾åæ–¹æ¡ˆï¼Œå› æ­¤æˆ‘é€‰æ‹©åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç­¾åæ–¹æ¡ˆï¼Œ[ed 25519](https://github.com/warner/python-ed25519)(NANO ä½¿ç”¨çš„é‚£ä¸ª)ã€‚å®ƒå…·æœ‰çŸ­å¾—å¤šçš„å…¬é’¥å’Œç­¾åï¼Œå› æ­¤æä¾›äº†å‡ ä¸ªä¼˜ç‚¹ï¼Œè¿™å°†åœ¨åŽé¢è®¨è®ºã€‚åŠªåŠ›çš„ç»“æžœæ˜¯æœ‰äº† MAML_Ed25519 åè®®åº“(ä¸ï¼Œä¸æ˜¯ MAMULðŸ˜ƒ)ï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ä»£ç å’Œä¾‹å­[ã€‚
é™¤äº†ä½¿ç”¨ä¸åŒçš„ç­¾åæ–¹æ¡ˆä¹‹å¤–ï¼Œå®ƒå…·æœ‰ç›¸ä¼¼çš„ç‰¹å¾:](https://github.com/stkubr/MAML)

*   è¯æ˜Ž
*   å‰å‘ä¿å¯†
*   ä»Žæ¯ä¸ªåœ°å€è¿›è¡Œæµè®¿é—®
*   é¢‘é“åˆ†è£‚
*   AES åŠ å¯†

çŽ°åœ¨æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹åŒºåˆ«ã€‚

## é¦–å…ˆï¼Œè€ƒè™‘ RSA ç­¾åæ–¹æ¡ˆ:

RSA å¯†é’¥å¯ç”¨äºŽåŠ å¯†å’Œç­¾åï¼Œä½†å®ƒä»¬ç›¸å½“é•¿ï¼Œä¾‹å¦‚ï¼Œtrytes ä¸­çš„ RSA-3072 pubkey å’Œ signature æ˜¯:

å› æ­¤ï¼Œå°† RSA å…¬é’¥ä¸Žæ•°æ®ä¸€èµ·å‘é€å¤§çº¦éœ€è¦ 1000 trytesï¼Œè¿™åªæ˜¯ç›®å‰çš„å…¬é’¥ï¼Œç­¾åä¹Ÿéœ€è¦å¤§çº¦ 1024 trytesã€‚è¯·è®°ä½ï¼ŒTangle ä¸Šçš„ä¸€ä¸ªäº‹åŠ¡çš„é•¿åº¦ä¸º 2187 trytesï¼Œå¾ˆéš¾åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­æ”¾å…¥ä»»ä½•å…¶ä»–æœ‰æ„ä¹‰çš„å†…å®¹ã€‚å¤„ç†è¿™ç§æƒ…å†µæ–¹æ³•æ˜¯åªä¿ç•™ pubkey çš„æ•£åˆ—ï¼Œå¹¶å°† JSON æ•°æ®åˆ†å‰²æˆå—ï¼Œæ”¾åœ¨ä¸€ä¸ªåŒ…ä¸­çš„å‡ ä¸ªçº ç»“çš„äº‹åŠ¡ä¸Šï¼Œå°±åƒ MAML æ‰€åšçš„é‚£æ ·ã€‚

è¿˜æœ‰å¦ä¸€ä¸ªç¼ºç‚¹â€”â€”ä»…æä¾›å…¬é’¥çš„æ•£åˆ—éœ€è¦é¢„å…ˆçŸ¥é“ç›¸åº”çš„å…¬é’¥**å¹¶å­˜å‚¨å®ƒ**,ä»¥ä¾¿èƒ½å¤Ÿåœ¨ MAML éªŒè¯ç­¾åã€‚å¦åˆ™ï¼Œå¦‚æžœä½ ä¸­é€”åŠ å…¥ä¸€ä¸ªå…¬å…±æµï¼Œä½ å°†æ— æ³•éªŒè¯å’Œè¯†åˆ«æ¶ˆæ¯ã€‚æ½œåœ¨åœ°ï¼Œè¿™å¯ä»¥é€šè¿‡ä¸‹é¢çš„æŠ€å·§æ¥è§£å†³:

h(pubkey)â†’try tes[0:81]â†’Addressâ†’send _ tx _ to(Address)with _ data({ ' pubkey ':pubkey })

å› æ­¤ï¼Œä»»ä½•çŸ¥é“ pubkey æ•£åˆ—çš„äººéƒ½ä¼šçŸ¥é“åœ¨å“ªé‡Œæœç´¢æˆ–*ç›‘å¬*ç›¸åº”çš„ pubkeyï¼Œä¸Žæ•£åˆ—è¿›è¡Œæ¯”è¾ƒå¹¶å­˜å‚¨å®ƒã€‚ä½†æ˜¯ä¸Žä¼ ç»Ÿçš„åŒºå—é“¾ä¸åŒï¼ŒTangle ç»å¸¸è‡ªæˆ‘ä¿®å‰ª(çŽ°åœ¨æ›´åŠ é¢‘ç¹äº†)ï¼Œæ‰€ä»¥æœ‰å¿…è¦å®šæœŸé‡æ’­ä½ çš„ pubkeyã€‚

æœ€åŽï¼Œä½¿ç”¨ç›¸åŒçš„ RSA å¯†é’¥åŒæ—¶å¯¹å—é™è®¿é—®æ¶ˆæ¯è¿›è¡Œç­¾åå’ŒåŠ å¯†å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºç­¾åå’ŒåŠ å¯†å¯†é’¥åº”è¯¥å…·æœ‰ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸã€‚

## Ed25519 signature çš„æ ¸å¿ƒæ˜¯çŸ­é”®å’Œé€Ÿåº¦:

ä¸€åˆ†é’Ÿæœ‰å¤šçŸ­ï¼Ÿè®©æˆ‘ä»¬æ¥çœ‹çœ‹:

è¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„å·®å¼‚ï¼çŽ°åœ¨ï¼Œæ‚¨å¯ä»¥ä¸ºæ‚¨çš„ JSON æä¾› pubkeyï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ª hashï¼Œå®ƒå…·æœ‰ä¸Žä¸Šé¢çš„ RSA-3072 å¤§è‡´ç›¸ä¼¼çš„å®‰å…¨çº§åˆ«ã€‚

ç”±äºŽ Ed25519 ä¸èƒ½ç”¨äºŽåŠ å¯†ï¼Œå› æ­¤å¯¹äºŽæµå†…çš„ç»†ç²’åº¦è®¿é—®æ¶ˆæ¯ä¼ é€’ï¼Œé€šä¿¡å®žä½“ä»éœ€è¦äº¤æ¢å®ƒä»¬çš„ RSA å…¬é’¥ï¼Œä»Žè€Œç¡®ä¿ç­¾åå¯†é’¥å’Œéžå¯¹ç§°åŠ å¯†å¯†é’¥çš„ä¸åŒç”Ÿå‘½å‘¨æœŸã€‚

ä½œä¸ºç»“è®ºï¼Œæˆ‘æƒ³æŒ‡å‡ºï¼Œè¿™ä¸æ˜¯ MAML åè®®â€œå“ªä¸ªæ›´å¥½â€çš„äº‰è®ºï¼Œè€Œæ˜¯å¯¹ç»Ÿä¸€ MAML æµçš„å»ºè®®ï¼Œè¿™å¯ä»¥é€šè¿‡å‘ JSON æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å­—æ®µæ¥è½»æ¾å®Œæˆ:

```
{**'MAML_protocol': MAML_Ed25519 (or MAML_RSA)**
'data_payload': Some data here ....
'pubkey/hash': fgdwer8s7d6gdfg6d6fg8.....
'signature': fd7g9s8df7g98df7g...}
```

ä»¥ä¾¿ä»£ç å¯ä»¥åˆ‡æ¢ï¼Œå¹¶ä¸”ä¸Ž MAML åè®®çš„ç±»åž‹æ— å…³ã€‚

åŸºäºŽè¿™ä¸ªå»ºè®®ï¼Œæˆ‘è®¡åˆ’æ‰©å±•ä»£ç ï¼Œä»¥ä¾¿èƒ½å¤ŸåŠ¨æ€å¤„ç† Ed25519 å’Œ RSA æµã€‚ä»£ç åº“å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ã€‚ä½ å¯ä»¥é€šè¿‡ **stkubr#1936** æˆ– Twitter [@KubrakStan](https://twitter.com/KubrakStan) è”ç³»æˆ‘ã€‚å¦‚æžœä½ å–œæ¬¢æˆ‘çš„å·¥ä½œï¼Œæƒ³è®©æˆ‘ç»§ç»­ä¸‹åŽ»ï¼Œè¯·éšæ—¶ç»™æˆ‘ä¹°ç“¶å•¤é…’ï¼Œåœ°å€æ˜¯:

ehnqjbgfaiutjkpmsucsdmih 9 xthanmjbvezlfyuruxjuartgkg 9 kdbhtczhdkzzogt 9 engemhposlhpwxaelupsdx

æ„Ÿè°¢æ‚¨çš„å…³æ³¨:)

**UPD** :æ˜¯çš„ï¼Œè®¾è®¡æ–¹æ¡ˆè¢«ç ´åäº†â€”â€”è¯·çœ‹[è¿™é‡Œ](https://www.di.ens.fr/~pnguyen/pub_DuNg12a.htm)

> [ç›´æŽ¥åœ¨æ‚¨çš„æ”¶ä»¶ç®±ä¸­èŽ·å¾—æœ€ä½³è½¯ä»¶äº¤æ˜“](https://coincodecap.com/?utm_source=coinmonks)

[![](img/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png)](https://coincodecap.com/?utm_source=coinmonks)