<html>
<head>
<title>Hyperledger: How to build your own docker container for Node.js Web app (Ubuntu 16.04)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger:如何为Node.js Web app构建自己的docker容器(Ubuntu 16.04)</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/hyperledger-how-to-build-your-own-docker-container-for-node-js-web-app-ubuntu-16-04-c0ed7653adc1?source=collection_archive---------8-----------------------#2018-06-25">https://medium.com/coinmonks/hyperledger-how-to-build-your-own-docker-container-for-node-js-web-app-ubuntu-16-04-c0ed7653adc1?source=collection_archive---------8-----------------------#2018-06-25</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/4c795621966dda26ce97a7fc60ffed2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oYYo65dqtctgJQ7wn9EpvQ.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Image <a class="ae jf" href="https://www.siliconian.com/blog/15-tutorials/27-hyperledger-fabric-v0-6-on-a-fresh-ubuntu-16-04" rel="noopener ugc nofollow" target="_blank">source</a></figcaption></figure><p id="1d74" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最近，我需要构建自己的docker容器来触发node.js服务器应用程序，我需要将它与Hyperledger Fabric服务器集成。</p><p id="a997" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我尝试了许多步骤，但最终以NodeJS的这个漂亮的官方文档结束(在本文中称之为官方文档)</p><blockquote class="ke kf kg"><p id="d53f" class="jg jh kh ji b jj jk jl jm jn jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kd hm dt translated"><a class="ae jf" href="https://nodejs.org/en/docs/guides/nodejs-docker-webapp/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/docs/guides/nodejs-docker-webapp/</a></p></blockquote><p id="f917" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">虽然你可以按照上面的文章来构建你的docker容器，但是你可能会面临一些问题。我想在这里谈谈这些问题。</p><p id="8ea9" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们开始吧..</p><h2 id="d4e5" class="kl km ht bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">假设:</h2><ol class=""><li id="5fe2" class="lg lh ht ji b jj li jn lj jr lk jv ll jz lm kd ln lo lp lq dt translated">您已经设置了nodejs应用程序，并准备好构建容器</li><li id="23e6" class="lg lh ht ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">你对docker的工作原理有所了解吗？</li><li id="4f4b" class="lg lh ht ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">你应该已经准备好你的系统并安装了docker，如果没有的话，按照这篇文章安装同样的<em class="kh">(</em><a class="ae jf" href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#supported-storage-drivers" rel="noopener ugc nofollow" target="_blank"><em class="kh">)https://docs . docker . com/install/Linux/docker-ce/Ubuntu/# supported-storage-drivers</em></a><em class="kh">)</em></li></ol><p id="1fe6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">a)官方提到的Setup Package.json</p><p id="0265" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">b)官方提到的Setup server.js</p><p id="6268" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">c)创建Dockerfile，如官方所述(注意，这里您可能会在从服务器设置不同的端口号时出错。JS和Dockerfile:保持不变)</p><p id="4b87" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">d)创建。官方文件中提到的档案</p><p id="0df3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">使用此命令构建您的映像，这里node-web-app是用户定义的，您可以随意命名。</p><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="0c63" class="kl km ht mb b fv mf mg l mh mi">docker build -t &lt;your username&gt;/node-web-app .</span></pre><p id="f737" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最后使用下面的代码运行你的docker</p><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="0ea9" class="kl km ht mb b fv mf mg l mh mi">docker run --rm -i -t -p 49160:8080 &lt;your username&gt;/node-web-app</span></pre><p id="e0b3" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">它应该显示在结果下面</p><figure class="lw lx ly lz fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mj"><img src="../Images/d47fcd686e277104de951a57d9585c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G0W1Ek-pGkkYkSUSb8RlTg.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Results after Docker Run command</figcaption></figure><p id="7c4d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">您可能遇到的错误:</p><ul class=""><li id="1d14" class="lg lh ht ji b jj jk jn jo jr mk jv ml jz mm kd mn lo lp lq dt translated">curl: (7)无法连接到本地主机端口49160:连接被拒绝</li></ul><blockquote class="ke kf kg"><p id="446b" class="jg jh kh ji b jj jk jl jm jn jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kd hm dt translated">检查:<a class="ae jf" rel="noopener" href="/coinmonks/hyperledger-fabric-composer-errors-solutions-827112a3fce6">https://medium . com/coin monks/hyperledger-fabric-composer-errors-solutions-827112 a3 FCE 6</a></p></blockquote><p id="9217" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">感谢您花时间阅读，如果您有任何问题，请评论。</p><p id="8134" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">乐意帮忙…</p></div></div>    
</body>
</html>