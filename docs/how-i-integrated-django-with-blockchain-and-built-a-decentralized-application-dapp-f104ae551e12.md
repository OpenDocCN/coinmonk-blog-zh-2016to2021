# æˆ‘æ˜¯å¦‚ä½•å°† Django ä¸åŒºå—é“¾èåˆï¼Œæ„å»ºå»ä¸­å¿ƒåŒ–åº”ç”¨(DAPP)çš„ï¼Ÿ

> åŸæ–‡ï¼š<https://medium.com/coinmonks/how-i-integrated-django-with-blockchain-and-built-a-decentralized-application-dapp-f104ae551e12?source=collection_archive---------0----------------------->

## Python å¼€å‘è€…å¼€å§‹åŒºå—é“¾å¼€å‘ä¹‹æ—…çš„æœ‰æ•ˆæŒ‡å—ã€‚

![](img/cb0b99e82505ce34474befee42b1e088.png)

ä¸å¯å¦è®¤çš„äº‹å®æ˜¯ï¼Œåœ¨ä½¿ç”¨ DAPP development çš„æ—¶å€™ï¼Œæœ€å¤§çš„æŒ‘æˆ˜ä¹‹ä¸€å°±æ˜¯å°†æ™ºèƒ½åˆåŒä¸ç½‘ç«™çš„å‰ç«¯è¿æ¥èµ·æ¥ã€‚

æœ€æœ‰æ•ˆçš„æ–¹æ³•æ— ç–‘æ˜¯ä½¿ç”¨ Web3(Python æˆ– Javascript)åº“æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚è™½ç„¶å¯¹äº Javascript å¼€å‘äººå‘˜æ¥è¯´ï¼Œå®Œæˆè¿™ä¸€éƒ¨åˆ†å¯èƒ½å®¹æ˜“å¾—å¤š(å› ä¸ºäº’è”ç½‘ä¸Šå……æ–¥ç€ [Web3.js æ•™ç¨‹ã€‘](/coinmonks/simplest-way-to-connect-your-smart-contracts-to-the-front-end-react-with-web3-js-1e75702ea36a?source=your_stories_page---------------------------)ï¼Œä½†æ˜¯å¯¹äº Python å¼€å‘äººå‘˜æ¥è¯´ï¼Œå®ŒæˆåŒæ ·çš„ä»»åŠ¡å¯èƒ½åŒæ ·éº»çƒ¦ã€‚

***åº”è¯¥é€‰æ‹©* Web3.py å—ï¼Ÿ**

> å°½ç®¡ä¸ç”¨è¯´ï¼ŒWeb3.js ç¤¾åŒºæ˜¯è¿„ä»Šä¸ºæ­¢æœ€å¤§çš„ä¸€ä¸ªï¼Œä½†å¦ä¸€æ–¹é¢ï¼ŒWeb3.py åœ¨ [Github ä¸Šæœ‰è¶…è¿‡ 1.5k ä¸ªæ˜æ˜Ÿï¼Œ](https://github.com/ethereum/web3.py) 133 ä¸ªè´¡çŒ®è€…ï¼Œå¹¶ä¸”æ­£åœ¨ä½¿ç”¨ä¸€äº›éå¸¸å¼•äººæ³¨ç›®çš„ä»¥å¤ªåŠ APIï¼Œå·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œæ¯«æ— ç–‘é—®å¯ä»¥æŠ•å…¥ç”Ÿäº§ã€‚

è¿™ä»…ä»…æ„å‘³ç€ Python å¼€å‘è€…æ˜¯æ—¶å€™ç”¨ Web3.py å¼€å§‹ä»–ä»¬åŸºäºåŒºå—é“¾çš„ DAPP å¼€å‘ä¹‹æ—…äº†ã€‚

ç„¶è€Œï¼Œåˆå§‹é˜¶æ®µå¯èƒ½æ˜¯æœ€å›°éš¾çš„éƒ¨åˆ†ï¼Œå› ä¸ºé™¤äº†å®˜æ–¹æ–‡æ¡£(å­—é¢ä¸Šå¾ˆæœ‰å¸®åŠ©)ï¼Œä¾‹å¦‚[https://web3py.readthedocs.io/en/stable/](https://web3py.readthedocs.io/en/stable/)ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„åœ¨çº¿å¸®åŠ©è®© Python å¼€å‘è€…ä½¿ç”¨ Web3.py æ„å»ºä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åº”ç”¨ç¨‹åºã€‚

å› æ­¤ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯ä¸€å Python å¼€å‘è€…ï¼Œå¹¶å¸Œæœ›ä½¿ç”¨ Python å¼€å‘åŒºå—é“¾ä¸Šçš„åˆ†æ•£åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆè¿™å°†æ˜¯ä½ çš„å¿…è¯»æ–‡ç« ã€‚

è¯è™½å¦‚æ­¤ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¼€å§‹å§ã€‚

# æ‰€éœ€å·¥å…·

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹æˆ‘æ˜¯å¦‚ä½•å°† Django ä¸åŒºå—é“¾é›†æˆå¹¶æ„å»ºä¸€ä¸ªå»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åº(DAPP)çš„ï¼Ÿæˆ‘ä»¬å°†éœ€è¦è¿™ä¸ªé¡¹ç›®ã€‚

1.  ***Remix IDE:*** Remix æ˜¯ä¸€æ¬¾å¼€æºå·¥å…·ï¼Œä¸ä»…å¯ä»¥è®©ä½ ç¼–å†™è‡ªå·±çš„æ™ºèƒ½åˆçº¦ï¼Œè¿˜æ”¯æŒæ™ºèƒ½åˆçº¦çš„æµ‹è¯•ã€è°ƒè¯•ä»¥åŠéƒ¨ç½²ã€‚é˜…è¯»å®˜æ–¹æ–‡ä»¶äº†è§£æ›´å¤šä¿¡æ¯:ã€https://remix-ide.readthedocs.io/en/latest/[ã€‚**å›¾ç‰‡**](https://remix-ide.readthedocs.io/en/latest/)
2.  ***Infura:*** Infura æ— ç–‘æ˜¯è®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—ç®€å•å¾ˆå¤šçš„å·¥å…·ã€‚æ›´ç®€å•åœ°è¯´ï¼Œå®ƒç”±ä¸€å¥—å·¥å…·ç»„æˆï¼Œå…è®¸ä»»ä½•äººä¸ä»¥å¤ªåŠåŒºå—é“¾è¿›è¡Œäº¤äº’(å¦åˆ™è¿™å°†æ˜¯ä¸€é¡¹éå¸¸éº»çƒ¦çš„ä»»åŠ¡ã€‚)

3. ***Django 3.0:*** å—¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å°†è¦ç€æ‰‹çš„ Python æ¡†æ¶ã€‚

> å®‰è£…:$ python -m pip install Django

4. ***Web3.py:*** è¿™æ˜¯å…è®¸æˆ‘ä»¬ä¸æ™ºèƒ½åˆçº¦å¯¹è¯å¹¶è°ƒç”¨å…¶åŠŸèƒ½çš„å·¥å…·ã€‚é˜…è¯»å®˜æ–¹æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯:[https://web3py.readthedocs.io/en/stable/quickstart.html](https://web3py.readthedocs.io/en/stable/quickstart.html)

> å®‰è£…:$ pip3 å®‰è£… web3

# è®©æˆ‘ä»¬è¿çº¿åŒºå—é“¾

é¦–å…ˆï¼Œå°† Remix ä¸Šçš„ç¯å¢ƒæ›´æ”¹ä¸º***Injected web 3****ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¹¶è¿æ¥åˆ° Metamask ä¸Šçš„ **Ropsten ç½‘ç»œã€‚***

*![](img/ec8d29d9db7142f7f10aa6f74c486317.png)*

*Remix IDE for contract deployment on ROPSTEN Network*

*åœ¨å¼€å§‹å®é™…çš„ web3.py äº¤äº’ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªä¸åŒºå—é“¾çš„å®‰å…¨å¯é çš„è¿æ¥ã€‚*

*å¦‚æœæ²¡æœ‰ Infuraï¼Œæƒ³è¿™ä¹ˆåšç®€ç›´å°±æ˜¯ä¸€åœºå™©æ¢¦ã€‚ç„¶è€Œï¼Œåœ¨ç›®å‰çš„åœºæ™¯ä¸­æ˜¯ç›¸å½“ç®€å•çš„ï¼Œå› ä¸ºæ‚¨æ‰€éœ€è¦çš„åªæ˜¯ä¸€ä¸ª Infura API å¯†é’¥ã€‚*æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è·å– API å¯†é’¥-* [*è·å– infura API å¯†é’¥*](https://ethereumico.io/knowledge-base/infura-api-key-guide/)*

*ä¸€æ—¦ä½ å¾—åˆ°äº† API å¯†åŒ™å’Œä¸Šé¢æåˆ°çš„æ‰€æœ‰è¦æ±‚ï¼Œæˆ‘ä»¬å°±ä¸ºä¸‹ä¸€æ­¥åšå¥½äº†å‡†å¤‡ã€‚*

> *æ³¨æ„:ä¸ºäº†è·Ÿè¿›è¿™ä¸ªé¡¹ç›®ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¸º ***ROPSTEN ç½‘ç»œè·å–ä¸€ä¸ª Infura å¯†é’¥ã€‚****

## *è¿æ¥åˆ° WEB3ã€‚PY å¹¶å¼€å§‹äº’åŠ¨*

*![](img/9a4751ee3ea552340a7e292fd17cf70e.png)*

*Basic Set Up for Proper Interaction with Web3*

*è™½ç„¶è¿™æ®µä»£ç å·²ç»å¾ˆå®¹æ˜“ç†è§£äº†ï¼Œä½†æ˜¯è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆéœ€è¦ç†è§£çš„ã€‚è¿™åªæ˜¯ä¸€ä¸ªåŸºæœ¬çš„è®¾ç½®ï¼Œå…¶ä¸­æˆ‘é‡‡ç”¨äº†ä¸€äº›å¿…è¦çš„å› ç´ ï¼Œ*

**a .ç­¾åäº¤æ˜“çš„ç§é’¥å’Œå…¬é’¥**

**b .ä¸º web3 åˆ›å»ºä¸€ä¸ª http provider**

*å­˜å‚¨åˆåŒçš„ ABI å’Œåœ°å€ã€‚*

**d .é€šè¿‡å°† ABI å’Œåœ°å€ä½œä¸ºå‚æ•°ä¼ é€’æ¥åˆ›å»ºåˆåŒå®ä¾‹ã€‚**

*å¥½å§ï¼ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå¯é çš„æ™ºèƒ½åˆçº¦è®¾ç½®ã€‚ç„¶è€Œï¼Œåœ¨äº†è§£å¦‚ä½•å¯¹æ™ºèƒ½åˆçº¦è¿›è¡Œè°ƒç”¨ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆäº†è§£æˆ‘ä»¬å¯èƒ½åœ¨ç¬¬ä¸€æ—¶é—´è¿›è¡Œä»€ä¹ˆç±»å‹çš„è°ƒç”¨ã€‚*

## *ä½ æƒ³ä»æ™ºèƒ½åˆåŒä¸­å¾—åˆ°ä»€ä¹ˆï¼Ÿ*

*è™½ç„¶äººä»¬å¯ä»¥åšçš„åŠŸèƒ½èŒƒå›´å¾ˆå¹¿ï¼Œä½†æ‚¨å¯èƒ½å¸Œæœ›ä»[æ™ºèƒ½åˆåŒ](https://blog.coincodecap.com/tag/smart-contact/)ä¸­è·å¾—çš„ 5 ä»¶æœ€é‡è¦çš„äº‹æƒ…å¦‚ä¸‹ã€‚*

## *a.ä»å¥‘çº¦ä¸­è°ƒç”¨ Getter å‡½æ•°(é•¿æ—¶é—´):*

*![](img/9705670065a06116af823ed18ef7ddd5.png)*

*Calling a getter function from the contract*

*è™½ç„¶è¿™çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†è¿™å°±æ˜¯æˆ‘ä»¬ä»å¥‘çº¦ä¸­è°ƒç”¨ä»»ä½• getter å‡½æ•°çš„æ–¹å¼ã€‚*

*è™½ç„¶è¿™çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªéå¸¸å†—é•¿çš„è¿‡ç¨‹ï¼Œä½†æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢æåˆ°çš„è°ƒç”¨ getter å‡½æ•°çš„ç®€å•æ–¹æ³•ã€‚*

*![](img/428475d3f9eeeadf5820264efde3f331.png)*

*Function that returns total number of posts*

***b .è°ƒç”¨ä¸€ä¸ªç®€å•çš„åªè¯»å‡½æ•°(ç®€å•çš„æ–¹æ³•):***

*å¥‘çº¦ä¸­çš„ read_only å‡½æ•°å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªåœ¨è¢«è°ƒç”¨æ—¶åªè¿”å›ç‰¹å®šæ•°æ®çš„å‡½æ•°ã€‚*

*ä¾‹å¦‚ï¼Œè¿™ä¸ªå¸¦æœ‰ ***è§†å›¾*** å…³é”®å­—çš„ get_count å‡½æ•°ï¼Œåœ¨è¢«è°ƒç”¨æ—¶åªè¿”å›å¸–å­çš„æ€»æ•°ã€‚*

> **åšå›ºæ€§ä»£ç :**
> 
> ***å‡½æ•° get _ count()view public returns(uint){
> return post countï¼›
> }***

*ä¸ºäº†è°ƒç”¨è¿™æ ·çš„å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€è¡Œç®€å•çš„ä»£ç ã€‚*

*è¿™å¾ˆç®€å•ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦åšçš„ã€‚*

***c .ä½¿ç”¨åŠŸèƒ½è¿›è¡Œäº¤æ˜“***

*å› ä¸ºæˆ‘ä»¬å·²ç»çŸ¥é“äº†åªè¯»å‡½æ•°ï¼Œæ‰€ä»¥åœ¨ä½ çš„å¥‘çº¦ä¸­å¯èƒ½æœ‰å…¶ä»–å‡½æ•°ä¼šè¦æ±‚ä¸€äº›å‚æ•°ï¼Œç„¶åæ‰§è¡Œä¸€äº›å‡½æ•°ã€‚*

*ç”¨æŠ€æœ¯æœ¯è¯­æ¥è¯´ï¼Œè°ƒç”¨è¿™æ ·çš„å‡½æ•°è¢«è§†ä¸ºè¿›è¡Œäº¤æ˜“ï¼Œå› ä¸ºè¿™äº›ç±»å‹çš„å‡½æ•°è°ƒç”¨åŒ…æ‹¬å¤©ç„¶æ°”ä»·æ ¼ã€‚*

*è®©æˆ‘ä»¬è€ƒè™‘æ™ºèƒ½åˆçº¦ä¸­çš„è¿™ä¸ªå‡½æ•°:*

> *åšå›ºæ€§ä»£ç :*
> 
> *å‡½æ•° create post(string memory _ content)public*
> 
> *{
> è¦æ±‚(å­—èŠ‚(_ å†…å®¹)ã€‚é•¿åº¦>0)ï¼›
> post count++ï¼›
> posts[Post count]= Post(Post countï¼Œ_contentï¼Œ0ï¼Œmsg . sender)ï¼›
> emit PostCreated(postCountï¼Œ_contentï¼Œ0ï¼Œmsg . sender)ï¼›
> }*

*ç°åœ¨è¿™æ®µä»£ç ä»ç”¨æˆ·é‚£é‡Œè·å–å‚æ•°*å†…å®¹*ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°å¸–å­åˆ—è¡¨ä¸­ã€‚ç°åœ¨è°ƒç”¨è¿™æ ·çš„äº‹åŠ¡éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå› ä¸ºç”¨æˆ·è¯•å›¾æ›´æ–°åŒºå—é“¾ä¸Šçš„ç‰¹å®šæ•°æ®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ€ç»ˆè¾¾æˆäº†äº¤æ˜“ã€‚*

****é‚£ä¹ˆå¦‚ä½•è¿›è¡Œè¿™ç¬”äº¤æ˜“å‘¢ï¼Ÿ****

*![](img/3dfae12e03817e8a1beca24875f47932.png)*

*Function for writing post on Blockchain*

*è¿™ä¸ªé—®é¢˜å¾ˆå¤æ‚ã€‚æ‰€ä»¥æˆ‘ä»¬æ¥åˆ†è§£ä¸€ä¸‹ã€‚*

*å¦‚ç¬¬ 259 è¡Œæ‰€ç¤ºï¼Œæˆ‘ä»¬æ²¡æœ‰è°ƒç”¨å‡½æ•° *createPost* ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€ä¸ªäº‹åŠ¡ã€‚ç„¶è€Œï¼Œæ­£å¦‚æ‚¨æ‰€è§ï¼Œ***build transaction***å‡½æ•°å°†æ•°æ®å­—å…¸ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿™æ˜¯éå¸¸éœ€è¦ç†è§£çš„ã€‚*

****chainId*** *:* ç®€å•è¡¨ç¤ºæˆ‘ä»¬è¿æ¥çš„ç½‘ç»œå·ï¼Œå› ä¸ºæ¯ä¸ªä»¥å¤ªåŠç½‘ç»œéƒ½æœ‰è‡ªå·±çš„é“¾ Idã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ3 ä»£è¡¨ Ropsten ç½‘ç»œã€‚*

****gas:*** ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“æ¯ä¸ªäº‹åŠ¡éƒ½éœ€è¦ gas æ¥æ‰§è¡Œã€‚è¿™ä¸ªå‚æ•°ç®€å•åœ°è¡¨ç¤ºæˆ‘ä»¬æ„¿æ„ä¸ºæ‰§è¡Œäº¤æ˜“æ”¯ä»˜çš„æœ€é«˜æ±½æ²¹é‡ã€‚*

****æ°”ä»·:*** æ°”ä»·è¡¨ç¤ºæ¯å•ä½æ°”æ‰€æ”¯ä»˜çš„æ°”ä»·ï¼Œå•ä½ä¸ºé­*

****nonce:*** è¿™åªæ˜¯ä¿å­˜ç”¨æˆ·ä»¥å‰è¿›è¡Œçš„äº¤æ˜“çš„è®¡æ•°ã€‚*

*ä¸€æ—¦æˆ‘ä»¬æŒ‰ç…§æˆ‘ä»¬çš„é€‰æ‹©å»ºç«‹äº†è¿™ä¸ªäº¤æ˜“å¹¶å¡«å……äº†æ‰€æœ‰å‚æ•°ï¼Œç°åœ¨æ˜¯æ—¶å€™ç”¨***sign transaction***å‡½æ•°æœ¬èº«ç­¾ç½²è¿™ä¸ªäº¤æ˜“äº†ã€‚*æ­¤å‡½æ•°å°†äº¤æ˜“å’Œç§é’¥ä½œä¸ºå‚æ•°ã€‚**

*æœ€åï¼Œå½“æˆ‘ä»¬ä½¿ç”¨***waitForTransactionReceipt***å‡½æ•°æ”¶åˆ°äº¤æ˜“æ”¶æ®æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“äº¤æ˜“å·²ç»å®Œæˆã€‚ä¸€æ—¦æˆ‘ä»¬æ”¶åˆ°æ”¶æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿è®°å½•å·²è¢«æˆåŠŸæ·»åŠ åˆ°åŒºå—é“¾ã€‚*

***d .ç”¨ä¹™é†šä»˜æ¬¾***

*![](img/a6b7a296e68702c0ae83a12f64e9d4a9.png)*

*Function for sending ether*

*å°†ä»¥å¤ªç½‘å‘é€åˆ°åˆåŒæˆ–ä¸åŒçš„å¸æˆ·æ¶‰åŠç±»ä¼¼çš„æ­¥éª¤ï¼Œå¦‚å‰æ‰€è¿°ï¼Œå¦‚å»ºç«‹äº¤æ˜“ã€ç”¨ç§é’¥ç­¾åä»¥åŠè·å¾—ç¡®è®¤æ”¶æ®ã€‚*

*ç„¶è€Œï¼Œå®ƒç¡®å®æ¶‰åŠä¸¤ä¸ªé¢å¤–çš„é¢†åŸŸï¼Œ*

****è‡³:*** *è±¡å¾ä»˜æ¬¾çš„æ¥æ”¶æ–¹**

****å€¼:*** *è¿™æ˜¯è¦è½¬è´¦çš„é‡‘é¢ã€‚**

*å—¯ï¼Œè¿™å°±æ˜¯æŠŠèµ„é‡‘ä»ä¸€ä¸ªè´¦æˆ·è½¬åˆ°å¦ä¸€ä¸ªè´¦æˆ·æ‰€éœ€è¦åšçš„ä¸€åˆ‡ã€‚*

***e .è°ƒç”¨äº‹ä»¶***

*é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯äº‹ä»¶ï¼Ÿ*

**Solidity ä¸­çš„äº‹ä»¶å¯ä»¥è¢«è§†ä¸ºäº¤æ˜“æ—¥å¿—å½¢å¼çš„å®æ—¶è®°å½•ï¼Œè¿™äº›è®°å½•ä¸ä»…å­˜å‚¨åœ¨åŒºå—é“¾ï¼Œè¿˜å¯ä»¥åœ¨åˆåŒåœ°å€çš„å¸®åŠ©ä¸‹éšæ—¶è®¿é—®ã€‚**

*è™½ç„¶ï¼Œæˆ‘æ²¡æœ‰åœ¨æˆ‘çš„ä»£ç ä¸­ä½¿ç”¨ä»»ä½•äº‹ä»¶ï¼Œä½†æ˜¯ Web3.py çš„[å®˜æ–¹æ–‡æ¡£æ˜¾ç¤ºäº†è°ƒç”¨äº‹ä»¶çš„æ¸…æ™°è¿‡ç¨‹ã€‚](https://web3py.readthedocs.io/en/stable/contracts.html#events)*

```
*myContract = web3.eth.contract(address=contract_address, abi=contract_abi)
tx_hash = myContract.functions.myFunction().transact()
receipt = web3.eth.getTransactionReceipt(tx_hash)
myContract.events.myEvent().processReceipt(receipt)*
```

*å¥½å§ã€‚è¿™äº›æ˜¯æ‚¨åœ¨ä¸æ™ºèƒ½åˆçº¦äº¤äº’æ—¶å¯èƒ½æƒ³è¦ä½¿ç”¨çš„æœ€å¿…è¦çš„è°ƒç”¨ã€‚*

****è™½ç„¶æˆ‘ä»¬å·²ç»éå¸¸æ¸…æ¥šåœ°ç†è§£äº†ä½¿ç”¨ web3.py ä¸å¥‘çº¦äº¤äº’å¹¶è°ƒç”¨ç‰¹å®šå‡½æ•°çš„æ¨èè¿‡ç¨‹ï¼Œä½†æ˜¯è¿˜æœ‰æœ€åä¸€ä»¶äº‹éœ€è¦ç†è§£ï¼Œå³åœ¨å¥‘çº¦å“åº”å›æ¥ä¹‹åæˆ‘ä»¬è¯¥åšä»€ä¹ˆï¼Ÿ****

*å› ä¸ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ Django Web æ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éå¸¸éœ€è¦äº†è§£å¦‚ä½•å¤„ç†å¥‘çº¦çš„å“åº”ï¼Œå¹¶æ ¹æ®æˆ‘ä»¬çš„éœ€è¦ä½¿ç”¨å®ƒã€‚*

# *åœ¨ Django å¤„ç†åˆåŒå›å¤*

*åˆåŒå¯èƒ½ä¼šä»¥ä¸¤ç§æ–¹å¼åšå‡ºå›åº”ã€‚*

> *é¦–å…ˆï¼Œä½ å¯èƒ½è¿›è¡Œäº†ä¸€æ¬¡äº¤æ˜“(åœ¨åŒºå—é“¾ä¸Šæ·»åŠ äº†ä¸€äº›ä¸œè¥¿æˆ–è¿›è¡Œäº†æ”¯ä»˜)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†ç®€å•åœ°å–å›ä¸€å¼ äº¤æ˜“æ”¶æ®ã€‚å› ä¸ºå®ƒåªæ˜¯ç¡®è®¤æ‚¨çš„äº¤æ˜“å·²ç»æ‰§è¡Œï¼Œæ‰€ä»¥æ‚¨ä¸éœ€è¦å†åšä»€ä¹ˆäº†ã€‚*
> 
> *ç¬¬äºŒï¼Œä½ å¯ä»¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥è¿”å›æ•°æ®åˆ—è¡¨ã€‚è¿™æ‰æ˜¯æˆ‘ä»¬çœŸæ­£æ„Ÿå…´è¶£çš„ã€‚*

*æ‰€ä»¥è®©æˆ‘ä»¬å€ŸåŠ©æˆ‘å†™çš„ä¸€äº›å¤„ç†ç±»ä¼¼æƒ…å†µçš„ä»£ç æ¥ç†è§£ç¬¬äºŒç§æƒ…å†µã€‚*

*![](img/f079465c882e15710d842e489583db50.png)*

*Function To pass posts_data to the template*

*è¿™ç¡®å®æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œä¸æ˜¯å—ï¼Ÿ*

*åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å®é™…åšçš„åªæ˜¯è°ƒç”¨ get_posts_from_contract()å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°åšä»€ä¹ˆï¼Ÿè™½ç„¶è¿™æ˜¯ä¸è¨€è‡ªæ˜çš„ï¼Œä½†æ˜¯ä½ è‡ªå·±çœ‹çœ‹å§ã€‚*

*![](img/9734b5d3738178ead3257b6925a5274e.png)*

*Function To Call **posts** array from contract*

*æˆ‘ä»¬çš„æ™ºèƒ½åˆåŒæœ‰ä¸€ç»„æ•°æ®ï¼ŒåŒ…å«ç”¨æˆ·çš„æ‰€æœ‰å¸–å­ã€ä»–ä»¬çš„å°è´¹é‡‘é¢ä»¥åŠä½œè€…çš„åœ°å€ã€‚åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ç®€å•åœ°è°ƒç”¨æ•°ç»„å¹¶è¿”å›å®ƒã€‚*

*å› æ­¤ï¼Œå½“ posts()å‡½æ•°è°ƒç”¨ get_post_from_smart_contract()å‡½æ•°æ—¶ï¼Œå®ƒåŸºæœ¬ä¸Šä¼šè·å¾—ä¸€ä¸ªç±»ä¼¼äºä¸‹é¢è¿™æ ·çš„åµŒå¥—æ•°æ®åˆ—è¡¨ã€‚*

*![](img/6ded0c7e7039b096b0696e7ed1a77dca.png)*

*Nested List Returned By WEB3.py*

*å¾ˆä¸‘ï¼Œå¯¹å§ï¼Ÿ*

*ç°åœ¨å‡ºç°çš„æœ€å…³é”®çš„é—®é¢˜æ˜¯ï¼Œ ***æˆ‘ä»¬å¦‚ä½•åœ¨æ¨¡æ¿ä¸­å¤„ç†è¿™ä¸ªåˆ—è¡¨ï¼Ÿ****

## *è®©æˆ‘ä»¬è½¬åˆ° Django ä¸­çš„æ¨¡æ¿éƒ¨åˆ†*

*ç”±äºå¥‘çº¦ä¸­çš„æ•°æ®æ˜¯ä¸€ä¸ªåµŒå¥—åˆ—è¡¨ï¼Œåœ¨ Django æ¨¡æ¿ä¸­å¤„ç†æ•°æ®åˆ—è¡¨çš„æ•ˆæœæ˜¯:*

```
*{% for data in data_from_views.py %}

...
<h1>{{ data.0 }}</h2><h1>{{ data.1 }}</h2>...

{% endfor %}*
```

*è¿™æ­£æ˜¯æˆ‘åœ¨æ¨¡æ¿ä¸­å¤„ç†å®ƒçš„æ–¹å¼ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤º:*

*![](img/c5f4a544aff1a8a4cd9df434db36dca1.png)*

*Template Handling all the posts from the list*

# *è®©æˆ‘ä»¬ç»“æŸå§*

*å¥½äº†ï¼Œæ‚¨å·²ç»å­¦ä¹ äº†æ•´ä¸ªè¿‡ç¨‹ï¼Œä¸ä»…ä¸ Python çš„æ™ºèƒ½å¥‘çº¦è¿›è¡Œäº¤äº’ï¼Œè¿˜ä»¥æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼å¤„ç†å®ƒçš„å“åº”ã€‚*

*![](img/75ae9ad2a534b4a510ccd807ffac0384.png)*

*My Front-End Skill Sucks*

*ä¸€æ—¦ä½ è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼Œä¸Šè¿°æ¨¡æ¿å°†è¢«æ¸²æŸ“ï¼Œä½ å¯ä»¥æœ‰ä¸€ä¸ªå®Œæ•´çš„ç½‘ç«™ï¼Œä¸ä»…å¯ä»¥ä¸åŒºå—é“¾äº’åŠ¨ï¼Œè€Œä¸”è¿˜å¯ä»¥è®©ä½ åœ¨ä¸Šé¢å†™ä½œä»¥åŠæ”¯ä»˜ã€‚*

*![](img/745881f24b1b5b117737b3c52524d201.png)*

*All the posts from Blockchain*

*å¤ªå¥½äº†ï¼æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å®Œæˆäº†ï¼Œä½ å¯ä»¥å–æ¯å’–å•¡ï¼Œè‡ªå·±é‡æ–°å°è¯•ä¸€ä¸‹ã€‚*

# *å…³äºæˆ‘è‡ªå·±*

## *æˆ‘æ˜¯è°ï¼ŸğŸ™‹ğŸ»â€â™‚ï¸*

*ğ™ƒğ™, ğ™„ ğ™–ğ™¢ ğ™•ğ™–ğ™§ğ™®ğ™–ğ™— ğŸ‘‹ğŸ»
æˆ‘æ˜¯ä¸€åç²¾é€šåŒºå—é“¾å’Œæ™ºèƒ½åˆåŒçš„å·¥ç¨‹å¸ˆï¼Œæˆ‘çš„æ„¿æ™¯æ˜¯ç”¨ Web3 å»ä¸­å¿ƒåŒ–å’Œä¿æŠ¤ä¼ ç»Ÿ Webã€‚ä¸»è¦ä»äº‹æ™ºèƒ½åˆçº¦å·¥ä½œï¼Œåœ¨å¼€å‘å’Œæ™ºèƒ½åˆçº¦å®‰å…¨æ–¹é¢éƒ½æœ‰ä¸°å¯Œçš„ç»éªŒã€‚*

## *æˆ‘åšä»€ä¹ˆğŸ§‘ğŸ¼â€ğŸ’»*

*   *æˆ‘æ’°å†™å®‰å…¨å’Œä¼˜åŒ–çš„æ™ºèƒ½åˆåŒ*
*   *æˆ‘å¯¹æ™ºèƒ½åˆåŒè¿›è¡Œå®‰å…¨å®¡è®¡ï¼Œå¹¶æé«˜ EVM è¿é”åº—æ™ºèƒ½åˆåŒçš„æ•´ä½“å®‰å…¨æ€§*
*   *æˆ‘æ’°å†™å’Œè°ˆè®º Web3 å’Œæ™ºèƒ½åˆçº¦&ä¸ºæ‰©å±• Web3 çš„è¾¹ç•Œè´¡çŒ®æˆ‘çš„ä¸€ä»½åŠ›é‡ã€‚*

## *æ‰“å£°æ‹›å‘¼ï¼Œä¿æŒè”ç³»ğŸ¤*

*[Linkedin](https://www.linkedin.com/in/zaryab-afser-97085b157/) ã€‚| [æ¨ç‰¹](https://twitter.com/zaryab_eth)ã€‚| [Github](https://github.com/zaryab2000) ã€‚| [é‚€è¯·æˆ‘å‚åŠ  Web3 æ´»åŠ¨](https://zaryab2000.notion.site/Invite-me-to-your-Next-Web3-Event-78bcd204b866426687e1afbcdc61c5c7)*

> *åŠ å…¥ Coinmonks [ç”µæŠ¥é¢‘é“](https://t.me/coincodecap)å’Œ [Youtube é¢‘é“](https://www.youtube.com/c/coinmonks/videos)è·å–æ¯æ—¥[åŠ å¯†æ–°é—»](http://coincodecap.com/)*

## *å¦å¤–ï¼Œé˜…è¯»*

*   *[å¤åˆ¶äº¤æ˜“](/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c) | [åŠ å¯†ç¨åŠ¡è½¯ä»¶](/coinmonks/crypto-tax-software-ed4b4810e338)*
*   *[ç½‘æ ¼äº¤æ˜“](https://coincodecap.com/grid-trading) | [åŠ å¯†ç¡¬ä»¶é’±åŒ…](/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069)*
*   *[å¯†ç ç”µæŠ¥ä¿¡å·](http://Top 4 Telegram Channels for Crypto Traders) | [å¯†ç äº¤æ˜“æœºå™¨äºº](/coinmonks/crypto-trading-bot-c2ffce8acb2a)*
*   *[Pionex åŒæŠ•](https://coincodecap.com/pionex-dual-investment) | [AdvCash å®¡æ ¸](https://coincodecap.com/advcash-review) | [æ”¯æŒå®¡æ ¸](https://coincodecap.com/uphold-review)*
*   *[é¢å‘å¼€å‘è€…çš„ 8 ä¸ªæœ€ä½³åŠ å¯†è´§å¸ API](https://coincodecap.com/best-cryptocurrency-apis)*
*   *[ç»´æŠ¤å¡å®¡æ ¸](https://coincodecap.com/uphold-card-review) | [ä¿¡ä»»é’±åŒ… vs å…ƒæ©ç ](https://coincodecap.com/trust-wallet-vs-metamask)*
*   *[èµ¢å–æ³¨å†Œå¥–é‡‘â€”â€”10 å¤§æœ€ä½³åŠ å¯†å¹³å°](https://coincodecap.com/earn-sign-up-bonus)*
*   *[æœ€ä½³åŠ å¯†äº¤æ˜“æ‰€](/coinmonks/crypto-exchange-dd2f9d6f3769) | [æœ€ä½³åŠ å¯†äº¤æ˜“æ‰€](/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9)*
*   *é¢å‘å¼€å‘è€…çš„æœ€ä½³åŠ å¯† API*
*   *æœ€ä½³[å¯†ç å€Ÿè´·å¹³å°](/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa)*
*   *[æ æ†ä»£å¸çš„ç»ˆææŒ‡å—](/coinmonks/leveraged-token-3f5257808b22)*