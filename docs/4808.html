<html>
<head>
<title>BBS+, JSON-LD and Interoperability of Verifiable Credentials</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BBS+、JSON-LD与可验证凭证的互操作性</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/bbs-json-ld-and-interoperability-of-verifiable-credentials-8bd26b4d3261?source=collection_archive---------4-----------------------#2021-06-20">https://medium.com/coinmonks/bbs-json-ld-and-interoperability-of-verifiable-credentials-8bd26b4d3261?source=collection_archive---------4-----------------------#2021-06-20</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="13b6" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">介绍</h2></div><p id="4918" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">本文将帮助读者了解JSON-LD、BBS+签名的概念，以及它们如何帮助构建可互操作的可验证凭证。</p></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><h2 id="b06e" class="kl km ht bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">JSON-LD</h2><p id="a187" class="pw-post-body-paragraph ji jj ht jk b jl lg iu jn jo lh ix jq jr li jt ju jv lj jx jy jz lk kb kc kd hm dt translated">JSON-LD代表链接数据的JavaScript对象符号。JSON-LD有助于向JSON数据添加上下文。</p><p id="a9bf" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们举一个例子来帮助我们理解，假设您正在构建一个web服务，它返回您站点上每个注册用户的名字和主页，您决定使用老式的JSON格式，如下所示</p><blockquote class="ll lm ln"><p id="e525" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt">{</p><p id="0f81" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">【姓名】:“约翰·史密斯”，</p><p id="11cb" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">" home page ":" https://www . example . com/"</p><p id="37cc" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt">}</p></blockquote><p id="6dd1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">数据是可读的，非常容易集成到您的前端组件。您后来发现还有其他人提供类似的服务，并且您希望能够彼此交换数据。这里有一个问题，您正在使用的另一个服务具有如下所示的格式</p><blockquote class="ll lm ln"><p id="4730" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt">{</p><p id="5301" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">“姓名”:“约翰”，</p><p id="cfee" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">" home page ":" https://www . example . com/"</p><p id="cb67" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt">}</p></blockquote><p id="3574" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">正如我们所看到的，JSON非常有表现力，但是我们可能会遇到不同服务的互操作性问题。在上面的例子中,“姓名”字段只返回名字。</p><p id="4a81" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如前所述，JSON-LD为JSON中表示的数据提供了上下文。让我们来看一个我从维基百科上截取的例子。</p><blockquote class="ll lm ln"><p id="fc1f" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">{<br/>" @ context ":{<br/><strong class="jk hu">" name "</strong>:" http://xmlns . com/foaf/0.1/name "，<br/><strong class="jk hu">" home page "</strong>:{<br/>" @ id ":" http://xmlns . com/foaf/0.1/work place home page "，<br/> "@type": "@id" <br/> }，<br/><strong class="jk hu">【Person】</strong>:" http://XM</p></blockquote><p id="0d3c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们可以在示例中看到，有一个名为“@context”的新键，它有“name”、“homepage”、“Person”等字段，那么这些是什么意思呢？</p><p id="a153" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">从本质上讲，上下文部分帮助开发人员包括他在JSON内部的属性以及整个JSON对象本身时所遵循的规范。</p><p id="7b0a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在我们的例子中，我们看到对象现在有了一个类型(名为Person ), Person的规范被链接到上下文块中。该对象还有一个唯一的id，可以帮助识别这个用户。</p><h2 id="3263" class="kl km ht bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">BBS+签名</h2><p id="79a9" class="pw-post-body-paragraph ji jj ht jk b jl lg iu jn jo lh ix jq jr li jt ju jv lj jx jy jz lk kb kc kd hm dt translated">BBS+签名是一种多消息数字签名。通常，我们使用密钥对(私钥和公钥)中的数据密钥来签署消息，但是签名在整个消息上，因此我们不能共享消息的一部分来证明其真实性。多消息系统允许用私钥签名的消息被分解成更小的属性以供共享和验证。</p><p id="b09a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">与CL签名相比，BBS+签名更小更快(CL签名是另一种类型的多消息签名，用于匿名凭证，并且基于RSA)。</p><h2 id="edee" class="kl km ht bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">JSON-LD和BBS+</h2><p id="8ae3" class="pw-post-body-paragraph ji jj ht jk b jl lg iu jn jo lh ix jq jr li jt ju jv lj jx jy jz lk kb kc kd hm dt translated">BBS+提供了对选择性公开的支持，而JSON-LD帮助管理凭证内部的数据模式。</p><p id="cd06" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了从凭证中请求属性<a class="ae ls" href="https://www.w3.org/TR/json-ld11-framing/" rel="noopener ugc nofollow" target="_blank">，使用了JSON-LD帧</a> <em class="lo"> </em>。由BBS+签名创建的凭证和证明是自描述的，并且不需要分类帐(不像基于CL签名的系统，如Hyperledger Indy)。</p><p id="b14e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这种对分类帐依赖性的降低使它们成为构建可验证凭证的可互操作解决方案的理想选择。</p><p id="0021" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">其他解决的问题包括属性的排序，减少对发行者和验证者的设置要求。</p><p id="8b4a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">下面是一个使用BBS+JSON-LD签名的例子，它摘自一个<a class="ae ls" href="https://github.com/mattrglobal/jsonld-signatures-bbs" rel="noopener ugc nofollow" target="_blank">开源实现</a>。</p><p id="c68c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">发行人已向持有人签发了以下凭证。</p><blockquote class="ll lm ln"><p id="fa16" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">{<br/>"<a class="ae ls" href="http://twitter.com/context" rel="noopener ugc nofollow" target="_blank">@ context</a>":[<br/>"<a class="ae ls" href="https://www.w3.org/2018/credentials/v1" rel="noopener ugc nofollow" target="_blank"/>"，<br/>"<a class="ae ls" href="https://w3id.org/citizenship/v1" rel="noopener ugc nofollow" target="_blank">https://w3id.org/citizenship/v1</a>"，<br/>"<a class="ae ls" href="https://w3id.org/security/bbs/v1" rel="noopener ugc nofollow" target="_blank">https://w3id.org/security/bbs/v1</a>"<br/>，<br/>" id ":"<a class="ae ls" href="https://issuer.oidp.uscis.gov/credentials/83627465" rel="noopener ugc nofollow" target="_blank">https://issuer.oidp.uscis.gov/credentials/83627465</a>"，<br/>" type ":[" verifiable credential "，" PermanentResidentCard"]，<br/> "issuer": "did:示例:48939855、<br/>" issuanceDate ":" 2019–12–03t 12:19:52Z "、<br/>" expiration date ":" 2029–12–03t 12:19:52Z "、<br/>" credential subject ":{<br/>" id ":" did:example:b 34 ca 6 CD 37 bbf 23 "、<br/> "type": ["PermanentResident "，" Person"]、<br/> "givenName "base64，iVBORw0KGgokJggg== "，<br/>" resident since ": " 2015–01–01 "，<br/> "lprCategory": "C09 "，<br/>" lpr number ":" 999–999–999 "，<br/>" commutorclassification ":" C1 "，<br/>"出生地":"巴哈马群岛"，<br/>"出生日期":" 1958–07–1958</p></blockquote><p id="2965" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">验证者向持有者发送以下请求(前面提到的JSON-LD帧)。</p><blockquote class="ll lm ln"><p id="e14d" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">{<br/>"<a class="ae ls" href="http://twitter.com/context" rel="noopener ugc nofollow" target="_blank">" @ context</a>":[<br/>"<a class="ae ls" href="https://www.w3.org/2018/credentials/v1" rel="noopener ugc nofollow" target="_blank">https://www.w3.org/2018/credentials/v1</a>"<br/>"<a class="ae ls" href="https://w3id.org/citizenship/v1" rel="noopener ugc nofollow" target="_blank">https://w3id.org/citizenship/v1</a>"，<br/>"<a class="ae ls" href="https://w3id.org/security/bbs/v1" rel="noopener ugc nofollow" target="_blank">https://w3id.org/security/bbs/v1</a>"<br/>，<br/>"类型":["VerifiableCredential "，" PermanentResidentCard"]，<br/> "credentialSubject": { <br/>"类型":[" permanent resident resident "，" Person"]，【人】，【类型】。</p></blockquote><p id="95c8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">正如我们所看到的，验证者只想要持有者的名、姓和性别。</p><p id="ab86" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">持有者然后接受该请求并生成以下证明。</p><blockquote class="ll lm ln"><p id="8bec" class="ji jj lo jk b jl jm iu jn jo jp ix jq lp js jt ju lq jw jx jy lr ka kb kc kd hm dt translated">{<br/>"<a class="ae ls" href="http://twitter.com/context" rel="noopener ugc nofollow" target="_blank">@ context</a>":[<br/>"<a class="ae ls" href="https://www.w3.org/2018/credentials/v1" rel="noopener ugc nofollow" target="_blank"/>"，<br/>"<a class="ae ls" href="https://w3id.org/citizenship/v1" rel="noopener ugc nofollow" target="_blank">https://w3id.org/citizenship/v1</a>"，<br/>"<a class="ae ls" href="https://w3id.org/security/bbs/v1" rel="noopener ugc nofollow" target="_blank">https://w3id.org/security/bbs/v1</a>"<br/>，<br/>" id ":"<a class="ae ls" href="https://issuer.oidp.uscis.gov/credentials/83627465" rel="noopener ugc nofollow" target="_blank">https://issuer.oidp.uscis.gov/credentials/83627465</a>"，<br/>" type ":[" PermanentResidentCard "，" VerifiableCredential"]，<br/> "description ":"政府示例永久居民卡。"、<br/> "identifier": "83627465 "、<br/> "name ":"永久居民卡"、<br/>" credential subject ":{<br/>" id ":" did:example:b 34 ca 6 CD 37 bbf 23 "、<br/> "type": ["Person "、" PermanentResident"]、<br/> "familyName": "SMITH "、<br/> "gender": "Male "，<br/>" given name ":" JOHN "<br/></p></blockquote><p id="fd2e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">可以看出，证明仅包含所请求的属性，仅此而已。</p><h2 id="e5ca" class="kl km ht bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">参考</h2><p id="e4ac" class="pw-post-body-paragraph ji jj ht jk b jl lg iu jn jo lh ix jq jr li jt ju jv lj jx jy jz lk kb kc kd hm dt translated">下面列出的链接用于研究和认证，请求和证明如<a class="ae ls" href="https://github.com/mattrglobal/jsonld-signatures-bbs" rel="noopener ugc nofollow" target="_blank"> jsonld-singatures-bbs </a>所述。</p><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="ly lz l"/></div></figure><div class="ma mb fm fo mc md"><a href="https://en.wikipedia.org/wiki/JSON-LD" rel="noopener  ugc nofollow" target="_blank"><div class="me ab ej"><div class="mf ab mg cl cj mh"><h2 class="bd hu fv z el mi eo ep mj er et hs dt translated">JSON-LD -维基百科</h2><div class="mk l"><h3 class="bd b fv z el mi eo ep mj er et ek translated">JSON-LD(链接数据的JavaScript对象符号)是一种使用JSON编码链接数据的方法。一个目标是…</h3></div><div class="ml l"><p class="bd b gc z el mi eo ep mj er et ek translated">en.wikipedia.org</p></div></div></div></a></div><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="mm lz l"/></div></figure><div class="ma mb fm fo mc md"><a href="https://www.evernym.com/blog/bbs-verifiable-credentials/" rel="noopener  ugc nofollow" target="_blank"><div class="me ab ej"><div class="mf ab mg cl cj mh"><h2 class="bd hu fv z el mi eo ep mj er et hs dt translated">为什么可验证的证书社区应该汇聚在BBS+上</h2><div class="mk l"><h3 class="bd b fv z el mi eo ep mj er et ek translated">由首席密码学架构师Brent Zundel于2017年夏天在Evernym开始。这是我的第一次创业，我…</h3></div><div class="ml l"><p class="bd b gc z el mi eo ep mj er et ek translated">www.evernym.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms mt md"/></div></div></a></div></div></div>    
</body>
</html>