# 以太网上的键值存储

> 原文：<https://medium.com/coinmonks/key-value-storage-on-the-ethereum-network-1f1e11bfac7a?source=collection_archive---------0----------------------->

![](img/c37b0436d75fcfd96c4326095db8164f.png)

在过去的几个星期里，我一直在学习块菌以太网开发框架和以太网脚本语言 Solidity 的底细。

我的第一个项目是一个工具，它可以在区块链的以太网上存储任何特定于您的以太网地址的数据。只有您自己才能更改与您的地址相关的数据。

[](https://github.com/willhay/kvstore) [## willhay/kvstore

### kvstore -将数据绑定到您的以太网地址

github.com](https://github.com/willhay/kvstore) 

# **使用合同(Remix IDE)**

这些说明将帮助您使用 Remix 连接到主以太网上的 KVStore 合同，Remix 是一个基于网络的 Solidity IDE。

# **先决条件**

下载[元面膜](https://metamask.io)

添加扩展并创建新帐户后，打开元掩码。

给你的新账户寄些乙醚。根据您想要存储的数据量，我建议至少 0 **。** 001 Ether，在当前(4/18)汽油价格下，存储一个字符串大约需要 0.0002 Ether(5-10 美分)。

# **履行合同**

1.  前往[remix.ethereum.org](https://remix.ethereum.org)。

2.退出浏览器/选票. sol 文件，并通过单击左上角的加号按钮创建一个名为 KVStore.sol 的新文件。

3.将[中的合同编码复制粘贴到文本编辑器中。](https://github.com/willhay/kvstore/blob/master/contracts/KVStore.sol)

4.在右上角，单击“开始编译”按钮或选中“自动编译”

5.单击右上角的“运行”选项卡。

6.您的“环境”应设置为 Injected Web3 (Main (1))

7.该帐户应设置为您之前发送 Ether 到的元掩码地址。

8.现在粘贴此地址:

> 0xd 5598441 FB 71 CBE 19 c 16d 25864 CB 8 a3 E3 f 0 b 77 e 5

进入右侧页面下方的“从地址加载合同”字段。

9.然后单击“地址”按钮加载合同。

现在您应该看到一个带有" *Set* "和" *Get* "字段的元素弹出窗口。

10.把某物放在…的旁边

> “钥匙”，“一些我想储存在区块链的数据”

在输入框中点击*设置*。

11.然后，您会看到一个弹出窗口，详细说明您将要创建的事务。单击确认，然后打开元掩码并提交交易。

您的数据现在被写入区块链以太博物馆，您可以使用 Get 函数访问它。

12.在 Get 函数输入中，将元掩码地址放在*地址点，然后将键值作为 Get 函数的第二个参数。

请注意，中使用的*地址不应该是合同地址，而是您发送 Ether 的元掩码帐户地址，您可以在右上角的帐户输入中找到该地址，或者如果您单击元掩码扩展，您可以在那里找到该地址。

> *地址，"键"

在 Get()正确返回值之前，您可能需要等待一两分钟，让您刚刚设置的数据通过网络传播并包含在下一个块中。

如果你输入的参数正确， *Get* 函数会返回你刚才设置的数据！

***恭喜*** ，你刚刚将数据存储到以太坊区块链，一个由全球数千台电脑组成的分布式网络。只有你可以更改或删除数据，它基本上可以在任何地方访问！

# **压力测试成本**

我尝试在一个" *Set"* 调用中存储最大数量的数据，一个长度为 1000 的字符串，它花费了 0.00618 以太网($2.56)，在我看来这还不错。显然，它并不适合存储大量数据，这不是以太坊真正的目的。

> [直接在您的收件箱中获得最佳软件交易](https://coincodecap.com/?utm_source=coinmonks)

[![](img/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png)](https://coincodecap.com/?utm_source=coinmonks)