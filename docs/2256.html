<html>
<head>
<title>(Very) Basic intro to AES-256 Cipher</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AES-256密码的(非常)基础介绍</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/very-basic-intro-to-aes-256-cipher-a60104847776?source=collection_archive---------0-----------------------#2019-06-11">https://medium.com/coinmonks/very-basic-intro-to-aes-256-cipher-a60104847776?source=collection_archive---------0-----------------------#2019-06-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="7ce6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">AES代表“高级加密标准”，是一种选择Rijndael密码作为其对称密钥加密算法的规范。使用AES，消息可以用密钥(像密码一样)加密，除了密钥持有者没有人可以解密消息。这在很多方面都很有用，但一个很好的例子是使用一个主密码加密所有用户密码的密码管理器。这就是免费开源密码管理器Qvault T1的运作方式。</p><h1 id="7a43" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">对称加密与非对称加密</h1><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff kn"><img src="../Images/515b75955559baffeb3eb603a5b0700d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Th9nPlIhYveMMsG9RvqQsQ.png"/></div></div><figcaption class="kz la fg fe ff lb lc bd b be z ek"><a class="ae jo" href="https://learn.g2.com/what-is-encryption" rel="noopener ugc nofollow" target="_blank">https://learn.g2.com/what-is-encryption</a></figcaption></figure><p id="b41f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">如上图所示，<strong class="is hu">对称加密使用相同的密钥</strong>进行加密和解密，<strong class="is hu">非对称加密使用不同的密钥。</strong></p><p id="6764" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">非对称</strong>当你希望某人能够给你发送加密数据，但<strong class="is hu">你又不想给他们你的私钥</strong>时，加密是首选。</p><p id="bfe3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">当您只为自己</strong>加密<strong class="is hu">时，最好使用对称</strong>加密。</p><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div class="fe ff ld"><img src="../Images/b9843aed7eac4c6d437b7754aaf962f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*oe-Kk1FfLPNO5sAAl-4N-g.jpeg"/></div><figcaption class="kz la fg fe ff lb lc bd b be z ek"><a class="ae jo" href="https://www.google.com/url?sa=i&amp;source=images&amp;cd=&amp;ved=2ahUKEwicx_jLitbiAhUNEHwKHeZtCPMQjRx6BAgBEAU&amp;url=https%3A%2F%2Fkullabs.com%2Fclasses%2Fsubjects%2Funits%2Flessons%2Fnotes%2Fnote-detail%2F7346&amp;psig=AOvVaw0z771qbnVkU95xmpfNxnyH&amp;ust=1559952561231880" rel="noopener ugc nofollow" target="_blank">Kullabs</a></figcaption></figure><h1 id="9534" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">AES-256密钥</h1><p id="66ec" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">AES-256中使用的密钥长度必须为256位。为了使用密码或口令作为密钥，可以使用<a class="ae jo" href="https://blog.goodaudience.com/very-basic-intro-to-hash-functions-sha-256-md-5-etc-ed721622ff8" rel="noopener ugc nofollow" target="_blank">散列算法</a>来扩展长度。</p><p id="44cf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">密码或密码短语越短，攻击者就越容易通过猜测密码、对密码进行哈希运算并尝试解密消息来解密数据。为了减轻这种威胁，一些应用程序实施了安全措施。</p><p id="5b8a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在<a class="ae jo" href="https://qvault.io" rel="noopener ugc nofollow" target="_blank"> Qvault </a>的情况下，使用<a class="ae jo" href="https://en.wikipedia.org/wiki/Scrypt" rel="noopener ugc nofollow" target="_blank"> scrypt </a>算法对主密码进行哈希运算，以生成私钥。Scrypt是一个非常慢的基于密码的密钥派生函数(类似于哈希算法的属性)，可以减缓攻击。Qvault还要求密码长度至少为12个字符，或者鼓励用户使用密码短语。</p><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff lj"><img src="../Images/477b16073779a9cd90e2dd20783951d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7v6djGHv-AC6Jeg9I5Eamg.png"/></div></div><figcaption class="kz la fg fe ff lb lc bd b be z ek"><a class="ae jo" href="https://xkcd.com/936/" rel="noopener ugc nofollow" target="_blank">https://xkcd.com/936/</a></figcaption></figure><h1 id="c4ce" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">Rijndael加密流程(简化)</h1><ol class=""><li id="a982" class="lk ll ht is b it le ix lf jb lm jf ln jj lo jn lp lq lr ls dt translated">选择一个密码，然后从该密码中导出一个短密钥(使用类似于<a class="ae jo" href="https://en.wikipedia.org/wiki/Scrypt" rel="noopener ugc nofollow" target="_blank"> Scrypt </a>或<a class="ae jo" href="https://en.bitcoinwiki.org/wiki/SHA-256" rel="noopener ugc nofollow" target="_blank"> SHA-256 </a>的函数)。然后，将使用<a class="ae jo" href="https://en.wikipedia.org/wiki/Rijndael_key_schedule" rel="noopener ugc nofollow" target="_blank">密钥表</a>扩展该短密钥，以获得AES-256每轮的单独“轮密钥”。</li></ol><blockquote class="lt"><p id="c61f" class="lu lv ht bd lw lx ly lz ma mb mc jn ek translated">密码:password12345678 →</p><p id="bfd4" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">快捷键:aafeeba 6959 ebeeb 96519 D5 DCF 0 bcc 069 f 81 e 4 bb 56 c 246d 04872 db 92666 E6 d 4 b→</p><p id="6ffd" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">第一轮密钥:a567fb105ffd90cb</p></blockquote><p id="090f" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">从短密钥派生圆密钥超出了本文的范围。我们需要理解的重要一点是，密码被转换成在AES加密过程中使用的轮密钥。</p><p id="b1ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">2.选择一条秘密消息:</p><blockquote class="lt"><p id="ad39" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">这里有一个秘密</p></blockquote><p id="564e" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">3.将第一轮密钥和消息编码为十六进制字节，并将其格式化为4x4表格(从上到下，从左到右):</p><p id="8143" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">第一轮密钥:</p><blockquote class="lt"><p id="a3a0" class="lu lv ht bd lw lx md me mf mg mh jn ek">61 66 35 39</p><p id="3979" class="lu lv ht bd lw lx md me mf mg mh jn ek">35 62 66 30</p><p id="192e" class="lu lv ht bd lw lx md me mf mg mh jn ek">36 31 66 63</p><p id="c3a1" class="lu lv ht bd lw lx md me mf mg mh jn ek">37 30 64 62</p></blockquote><p id="a6f0" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">消息:</p><blockquote class="lt"><p id="870c" class="lu lv ht bd lw lx md me mf mg mh jn ek">48 20 61 63</p><p id="641c" class="lu lv ht bd lw lx md me mf mg mh jn ek">65 69 20 72</p><p id="fa8d" class="lu lv ht bd lw lx md me mf mg mh jn ek">72 73 73 65</p><p id="e4d5" class="lu lv ht bd lw lx md me mf mg mh jn ek">65 20 65 74</p></blockquote><p id="2d25" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">4.将轮密钥添加到消息中(XOR)。消息和键表中的相应单元格相加在一起。输出矩阵将用于下一步。</p><blockquote class="mn mo mp"><p id="ac59" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt">61 ⊕ 48 = 29</p><p id="041d" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt">35 ⊕ 65 = 50</p><p id="c17f" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt translated">…等等</p></blockquote><blockquote class="lt"><p id="db52" class="lu lv ht bd lw lx ly lz ma mb mc jn ek translated">29 46 54 5a</p><p id="2845" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">50 0b 46 42</p><p id="1254" class="lu lv ht bd lw lx md me mf mg mh jn ek">44 42 15 06</p><p id="5069" class="lu lv ht bd lw lx md me mf mg mh jn ek">52 10 01 16</p></blockquote><p id="c576" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">5.在结果表中，使用<a class="ae jo" href="https://www.researchgate.net/figure/Rijndael-S-box-S-RD_fig7_325428613" rel="noopener ugc nofollow" target="_blank">替换框</a>将每个2字符字节改变为其对应的字节:</p><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff mu"><img src="../Images/147c429feea23df23e4a5f4141c09f3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLuZtQ6nFl0ADElv8lTSyg.png"/></div></div><figcaption class="kz la fg fe ff lb lc bd b be z ek"><a class="ae jo" href="https://www.researchgate.net/figure/Rijndael-S-box-S-RD_fig7_325428613" rel="noopener ugc nofollow" target="_blank">https://www.researchgate.net/figure/Rijndael-S-box-S-RD_fig7_325428613</a></figcaption></figure><blockquote class="lt"><p id="536b" class="lu lv ht bd lw lx ly lz ma mb mc jn ek translated">a5 5a 20 be</p><p id="2ced" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">53 2b 5a 2c</p><p id="f4e3" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">1b 2c 59 6f</p><p id="8164" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">00 7c 7c 47</p></blockquote><p id="1bb7" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">6.移动行。第一排不移位，第二排移位一次，第三排移位两次，最后一排移位3次。</p><blockquote class="mn mo mp"><p id="afc7" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt translated">a5 5a 20 be</p><p id="d618" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt translated">53 2b 5a 2c → 2b 5a 2c 53</p><p id="f9c3" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt translated">1b 2c 59 6f → 2c 59 6f 1b → 59 6f 1b 2c</p><p id="c9a0" class="iq ir mq is b it iu iv iw ix iy iz ja mr jc jd je ms jg jh ji mt jk jl jm jn hm dt translated">00 7c 7c 47→7c 7c 47 00→7c 47 00 7c→47 00 7c→47 00 7c 7c</p></blockquote><blockquote class="lt"><p id="bafc" class="lu lv ht bd lw lx ly lz ma mb mc jn ek translated">a5 5a 20 be</p><p id="9925" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">2b 5a 2c 53</p><p id="c7d4" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">59 6f 1b 2c</p><p id="a087" class="lu lv ht bd lw lx md me mf mg mh jn ek translated">47 00 7c 7c</p></blockquote><p id="3c13" class="pw-post-body-paragraph iq ir ht is b it mi iv iw ix mj iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hm dt translated">7.混合列。每一列模乘上<a class="ae jo" href="https://www.samiam.org/galois.html" rel="noopener ugc nofollow" target="_blank"> Rijndael的伽罗瓦域</a>。所涉及的数学问题超出了本文的范围，所以我不包括示例输出矩阵。</p><figure class="ko kp kq kr fq ks fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/a90e86dc51e4dab540803f3375c416c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*RIsEo_r50T1595fhc7CKEw.png"/></div><figcaption class="kz la fg fe ff lb lc bd b be z ek"><a class="ae jo" href="https://www.commonlounge.com/discussion/e32fdd267aaa4240a4464723bc74d0a5" rel="noopener ugc nofollow" target="_blank">https://www.commonlounge.com/discussion/e32fdd267aaa4240a4464723bc74d0a5</a></figcaption></figure><p id="2359" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">8.乘法的输出被用作下一轮AES的输入“消息”。每一步总共重复10次或更多次，最后还有一个额外的“添加密钥”步骤。每一轮“添加密钥”将使用一个新的轮密钥，但每个新的轮密钥仍然是从相同的密码和短密钥中导出的。</p><ul class=""><li id="29c5" class="lk ll ht is b it iu ix iy jb mw jf mx jj my jn mz lq lr ls dt translated">添加密钥</li><li id="eaa3" class="lk ll ht is b it na ix nb jb nc jf nd jj ne jn mz lq lr ls dt translated">替代字节</li><li id="55e7" class="lk ll ht is b it na ix nb jb nc jf nd jj ne jn mz lq lr ls dt translated">移动行</li><li id="84a2" class="lk ll ht is b it na ix nb jb nc jf nd jj ne jn mz lq lr ls dt translated">多列</li></ul><h1 id="e9ad" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">就是这样！/s</h1><p id="fff4" class="pw-post-body-paragraph iq ir ht is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hm dt translated">显然，AES中使用的Rijndael密码相当复杂，但我希望我能够从更高的层次上了解其内部的情况！感谢阅读。</p><p id="7cbb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">一定要检查一下<a class="ae jo" href="https://qvault.io" rel="noopener ugc nofollow" target="_blank"> Qvault </a>，它是一个使用AES-256作为密码的开源密码管理器。</p><h1 id="51be" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">来源</h1><div class="nf ng fm fo nh ni"><a href="https://qvault.io" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab ej"><div class="nk ab nl cl cj nm"><h2 class="bd hu fv z el nn eo ep no er et hs dt translated">q金库-私人和安全。加密、密码和秘密管理。</h2><div class="np l"><h3 class="bd b fv z el nn eo ep no er et ek translated">除了我们业界领先的加密技术之外，请购买Qvault卡进行双重加密。Qvault卡不需要…</h3></div><div class="nq l"><p class="bd b gc z el nn eo ep no er et ek translated">qvault.io</p></div></div></div></a></div><div class="nf ng fm fo nh ni"><a href="https://github.com/q-vault/qvault" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab ej"><div class="nk ab nl cl cj nm"><h2 class="bd hu fv z el nn eo ep no er et hs dt translated">Q-Vault/qvault</h2><div class="np l"><h3 class="bd b fv z el nn eo ep no er et ek translated">在GitHub上创建一个帐户，为Q-Vault/qvault的开发做出贡献。</h3></div><div class="nq l"><p class="bd b gc z el nn eo ep no er et ek translated">github.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw kx ni"/></div></div></a></div><div class="nf ng fm fo nh ni"><a href="https://www.tutorialspoint.com/cryptography/advanced_encryption_standard.htm" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab ej"><div class="nk ab nl cl cj nm"><h2 class="bd hu fv z el nn eo ep no er et hs dt translated">高级加密标准</h2><div class="np l"><h3 class="bd b fv z el nn eo ep no er et ek translated">高级加密标准-以简单易行的步骤学习密码学。密码学的起源，现代…</h3></div><div class="nq l"><p class="bd b gc z el nn eo ep no er et ek translated">www.tutorialspoint.com</p></div></div><div class="nr l"><div class="nx l nt nu nv nr nw kx ni"/></div></div></a></div><div class="nf ng fm fo nh ni"><a href="https://crypto.stackexchange.com/questions/16125/does-the-secret-key-used-in-aes-have-to-prime" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab ej"><div class="nk ab nl cl cj nm"><h2 class="bd hu fv z el nn eo ep no er et hs dt translated">AES用的密钥一定要质数吗？</h2><div class="np l"><h3 class="bd b fv z el nn eo ep no er et ek translated">我在这个网站和网上看了很多，但是找不到一个明确的答案，关于这个秘密是否…</h3></div><div class="nq l"><p class="bd b gc z el nn eo ep no er et ek translated">crypto.stackexchange.com</p></div></div><div class="nr l"><div class="ny l nt nu nv nr nw kx ni"/></div></div></a></div><div class="nf ng fm fo nh ni"><a href="https://en.wikipedia.org/wiki/Scrypt" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab ej"><div class="nk ab nl cl cj nm"><h2 class="bd hu fv z el nn eo ep no er et hs dt translated">scrypt -维基百科</h2><div class="np l"><h3 class="bd b fv z el nn eo ep no er et ek translated">在密码学中，scrypt(读作“ess crypt”)是由Colin Percival创建的基于密码的密钥派生函数…</h3></div><div class="nq l"><p class="bd b gc z el nn eo ep no er et ek translated">en.wikipedia.org</p></div></div></div></a></div><p id="58d5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae jo" href="https://www.youtube.com/watch?v=gP4PqVGudtg" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=gP4PqVGudtg</a></p><div class="nf ng fm fo nh ni"><a href="https://www.samiam.org/galois.html" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab ej"><div class="nk ab nl cl cj nm"><h2 class="bd hu fv z el nn eo ep no er et hs dt translated">萨姆·特伦霍尔姆的网页</h2><div class="np l"><h3 class="bd b fv z el nn eo ep no er et ek translated">更详细地说，Rijndael的伽罗瓦域只允许一个8位数(从0到255的数)适合它。所有…</h3></div><div class="nq l"><p class="bd b gc z el nn eo ep no er et ek translated">www.samiam.org</p></div></div></div></a></div></div></div>    
</body>
</html>