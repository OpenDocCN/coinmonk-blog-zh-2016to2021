# æž„å»ºçœŸå®žä¸–ç•Œ DAPP çš„ Solidity æ™ºèƒ½åˆåŒæ•™ç¨‹â€”ç¬¬ 2 éƒ¨åˆ†:åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªåˆåŒ

> åŽŸæ–‡ï¼š<https://medium.com/coinmonks/solidity-smart-contract-tutorial-with-building-real-world-dapp-part-2-create-your-first-contract-e7cd4fdf4e98?source=collection_archive---------0----------------------->

![](img/5b78b2b5a94f546e2e377a14f689c0a3.png)

åœ¨æˆ‘ä»¬ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬ç†Ÿæ‚‰äº†æˆ‘ä»¬å°†è¦æž„å»ºçš„é¡¹ç›®çš„ç»“æž„ã€‚çŽ°åœ¨æ˜¯æ—¶å€™ç”¨ä»£ç å¼„è„ä½ çš„æ‰‹ï¼Œåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªå¥‘çº¦äº†ã€‚

# è®¾ç½®æ‚¨çš„å¼€å‘çŽ¯å¢ƒ

å¦‚ä½ æ‰€çŸ¥ï¼Œåœ¨å¼€å§‹ä¸€ä¸ªé¡¹ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹æˆ‘ä»¬çš„å¼€å‘çŽ¯å¢ƒã€‚å¯¹å—ï¼Ÿ
æˆ‘ä»¬å°†ä½¿ç”¨æˆ‘ä»¬æœ€å–œæ¬¢çš„ç¼–è¾‘å™¨è¿›è¡Œç¼–ç ï¼Œåœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­è¿è¡Œæœ¬åœ°åŒºå—é“¾æ¥éƒ¨ç½²å’Œæµ‹è¯•åˆåŒï¼Œæœ€åŽï¼Œå°†æˆ‘ä»¬çš„å‰ç«¯è¿žæŽ¥åˆ°éƒ¨ç½²çš„åˆåŒã€‚ä½†æ˜¯ï¼ŒçŽ°åœ¨ï¼Œè®©æˆ‘ä»¬ä»Žä¸€ä¸ªåä¸º Remix IDE çš„åœ¨çº¿ IDE å¼€å§‹ã€‚
Remix IDE æ˜¯é¢å‘ Solidity DAPP å¼€å‘è€…çš„å¼€æº IDEã€‚ä½ ä¸éœ€è¦åœ¨ä½ çš„ç³»ç»Ÿä¸Šå®‰è£…ä»»ä½•ä¸œè¥¿ã€‚åªéœ€ç‚¹å‡»ä¸‹é¢çš„é“¾æŽ¥ï¼Œæ‚¨å°†èŽ·å¾—ä¸€ä¸ª IDEï¼Œå…¶ä¸­åŒ…å«ä¸€äº›ä»¥å¤ªåŠå¸æˆ·å’Œä¸€ä¸ªå†…ç½®çš„åŒºå—é“¾ï¼Œä»¥ä¾¿ä¸Žæ‚¨çš„åˆåŒä¸€èµ·éƒ¨ç½²ã€‚ã€https://remix.ethereum.orgã€‘T5


æˆ‘è‡ªå·±é€šå¸¸åœ¨æˆ‘çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿™ä¸ªåœ¨çº¿ IDEã€‚ä¸åªæ˜¯ä¸ºäº†æ•™è‚²ç›®çš„ï¼Œè€Œæ˜¯ä¸ºäº†æˆ‘æ‰€æœ‰çš„é¡¹ç›®ï¼å› ä¸ºå®ƒæé«˜äº†æ‚¨çš„å¼€å‘é€Ÿåº¦ï¼Œå¹¶å¸®åŠ©æ‚¨è½»æ¾è°ƒè¯•ä»£ç ã€‚å¤§å¤šæ•° Ethereum DAPP å¼€å‘äººå‘˜å¼€å§‹åœ¨è¿™ä¸ª IDE ä¸­ç¼–å†™ä»–ä»¬çš„å¥‘çº¦ï¼Œå¹¶æ‰‹åŠ¨æµ‹è¯•ä»£ç ã€‚ä¹‹åŽï¼Œå°†ä»£ç ç§»åŠ¨åˆ° [VS Code](https://code.visualstudio.com) æˆ– [Atom](https://atom.io) ä¸­ç¼–å†™æµ‹è¯•ï¼Œå¹¶åœ¨ä»¥å¤ªåŠä¸»ç½‘ä¸­éƒ¨ç½²å¥‘çº¦ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚

## æ··åˆ IDE

åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€[IDE](https://remix.ethereum.org)ã€‚åœ¨å·¦ä¾§åž‚ç›´èœå•ä¸­ï¼Œæ··éŸ³å›¾æ ‡ä¸‹æ–¹ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå›¾æ ‡ã€‚å…¶ä¸­ä¸€ä¸ªæ˜¯æ–‡ä»¶æµè§ˆå™¨ï¼Œæ˜¾ç¤ºé¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¾ç¤ºæ’ä»¶ã€‚æˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å¯ç”¨ä¸¤ä¸ªæ’ä»¶: **Solidity ç¼–è¯‘å™¨**å’Œ**éƒ¨ç½²&è¿è¡Œäº‹åŠ¡**æ’ä»¶ã€‚å®žé™…ä¸Šåœ¨ Remix IDE ä¸ŠåŠ é€Ÿå¼€å‘çš„å”¯ä¸€åŽŸå› å°±æ˜¯è¿™ä¸¤ä¸ªæ’ä»¶ã€‚
åœ¨æ’ä»¶ç®¡ç†å™¨æœç´¢æ¡†ä¸­æœç´¢è¿™ä¸¤ä¸ªåå­—å¹¶æ¿€æ´»å®ƒä»¬ã€‚

![](img/e203d6d89fad2a0b171d04b775ffaf34.png)

åœ¨å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆè°ˆè°ˆ**éƒ¨ç½²**å’Œ**ç¼–è¯‘**çš„è¿‡ç¨‹ã€‚
å—¯ï¼Œsolidity æœ¬èº«æ˜¯ä¸€ç§äººç±»å¯è¯»çš„è¯­è¨€ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹åˆ°ä»£ç ï¼Œå¹¶æ‰¾å‡ºä»£ç é€»è¾‘ã€‚ä½†æ˜¯ï¼Œè¿™ä¸Žä»¥å¤ªåŠç½‘ç»œå°†è¦ä½¿ç”¨çš„ä»£ç ç‰ˆæœ¬ä¸åŒã€‚æˆ‘ä»¬éœ€è¦ç¼–è¯‘æˆ‘ä»¬çš„ä»£ç ã€‚ç¼–è¯‘åŽæœ‰ä¸€äº›è¾“å‡ºï¼Œå…¶ä¸­ä¸¤ä¸ªå¯¹æˆ‘ä»¬éžå¸¸é‡è¦ã€‚å­—èŠ‚ç **å’Œ ABI**è§ä¸‹å›¾ã€‚è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ [truffle](https://www.trufflesuite.com) ç¼–è¯‘çš„å¥‘çº¦çš„ JSON è¾“å‡ºã€‚æˆ‘ä»¬è¿˜æ²¡æœ‰è§£é‡Šå—èŒã€‚åœ¨æœ¬æ•™ç¨‹çš„åŽé¢ï¼Œæˆ‘ä»¬å°†ç†Ÿæ‚‰è¿™äº›å·¥å…·ã€‚****

![](img/f585cec0fa36dde94390e66bb74c5e45.png)

**å­—èŠ‚ç **:è¿™äº›ä»£ç ä¸Žä»¥å¤ªåŠç½‘ç»œä¸Šå°†è¦éƒ¨ç½²çš„ä»£ç ç›¸åŒã€‚ABI:è¿™äº›ä»£ç å¸®åŠ©æˆ‘ä»¬ä½¿ç”¨ Javascript ä¸ŽåˆåŒè¿›è¡Œäº¤äº’ã€‚Javascript æœ¬èº«æ— æ³•è¿žæŽ¥ä»¥å¤ªåŠç½‘ç»œå¹¶è°ƒç”¨å‡½æ•°ã€‚ç›¸åï¼Œå®ƒä½¿ç”¨ä¸€äº›å·¥å…·æ¥è¿žæŽ¥ç½‘ç»œï¼Œå¹¶ä½¿ç”¨ ABI æ¥è°ƒç”¨æˆ‘ä»¬éƒ¨ç½²çš„å¥‘çº¦çš„åŠŸèƒ½ã€‚

# ä½ çš„ç¬¬ä¸€ä»½åˆåŒ

æ˜¯æ—¶å€™å†™ä½ çš„ç¬¬ä¸€ä»½åˆåŒäº†ã€‚å›žåˆ°æ··éŸ³ IDEã€‚åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­ï¼Œæœ‰ä¸€ä¸ªåŠ å·å›¾æ ‡ã€‚ç‚¹å‡»å›¾æ ‡ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸º *Delance.sol* æˆ–ä»»ä½•æ‚¨å–œæ¬¢çš„åç§°ã€‚è¿™é‡Œå”¯ä¸€é‡è¦çš„æ˜¯ä½ åˆ›å»ºçš„æ–‡ä»¶åº”è¯¥ä»¥*ç»“å°¾ã€‚ç´¢å°”*ã€‚

## æ–°åˆåŒ

ç¬¬ä¸€ä»¶äº‹æ˜¯å®šä¹‰å¯é çš„ç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä»»ä½•ç‰ˆæœ¬çš„ solidityï¼Œä½†ä½¿ç”¨æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬æ€»æ˜¯å¥½çš„ã€‚å®ƒä¸ºæ‚¨æä¾›äº† solidity çš„æ–°ç‰¹æ€§å’Œæ–°åŠŸèƒ½ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯ 0.6.9:

```
pragma solidity 0.6.9;
```

åŸºæœ¬ä¸Šï¼Œå®šä¹‰å¥‘çº¦å‡ ä¹Žå°±åƒåœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­å®šä¹‰ä¸€ä¸ªç±»ã€‚åœ¨ solidity ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆåŒå…³é”®å­—æ¥å®šä¹‰åˆåŒã€‚åœ¨å¥‘çº¦ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›å…¬å…±çš„æˆ–ç§æœ‰çš„æ–¹æ³•å’Œå±žæ€§ã€‚åˆåŒä¹Ÿå¯ä»¥ç›¸äº’ç»§æ‰¿ã€‚çŽ°åœ¨ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸º *Delance* çš„åˆåŒ:

```
pragma solidity 0.6.9;contract Delance{

}
```

æ­£å¦‚æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹çš„[ç¬¬ä¸€éƒ¨åˆ†](/@bitnician/solidity-smart-contract-tutorial-with-building-full-stack-dapp-part-1-introduction-65988e83b4a3)ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬çš„åˆåŒéœ€è¦*è‡ªç”±èŒä¸šè€…åœ°å€*å’Œ*æˆªæ­¢æ—¥æœŸ*ã€‚æˆ‘ä»¬è¿˜åº”è¯¥åœ¨åˆåŒä¸­åŠ å…¥ä¸€äº›å®šé‡‘ã€‚åˆåŒçš„å‰©ä½™éƒ¨åˆ†å°†æ˜¯æˆ‘ä»¬çš„é¡¹ç›®è´¹ç”¨ã€‚è®©æˆ‘ä»¬åœ¨åˆåŒä¸­åˆ›å»ºä¸€äº›çŠ¶æ€å˜é‡:

```
pragma solidity 0.6.9;contract Delance{

    address public freelancer;
    uint public deadline;
}
```

å¦‚æ‚¨æ‰€è§ï¼Œsolidity æ˜¯ä¸€ç§å¼ºç±»åž‹è¯­è¨€ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦å®šä¹‰å˜é‡çš„ç±»åž‹ã€‚
æ‚¨è¿˜å¯ä»¥å®šä¹‰å¦‚ä½•è®¿é—®å˜é‡:å¦‚æžœæ‚¨æƒ³ä»Žæ™ºèƒ½åˆçº¦å¤–éƒ¨è®¿é—®å˜é‡ï¼Œæ‚¨éœ€è¦æ·»åŠ  *public* å…³é”®å­—ï¼Œå¦åˆ™ï¼Œå®ƒå°†è¢«è§†ä¸ºç§æœ‰å˜é‡ï¼Œåªèƒ½åœ¨åˆçº¦å†…éƒ¨å¯è§ã€‚

## ç±»åž‹

åœ¨ solidity ä¸­æœ‰ä¸€äº›é‡è¦çš„ç±»åž‹æˆ‘å–œæ¬¢åœ¨è¿™é‡Œæåˆ°å®ƒä»¬:
**string** ï¼Œ **bool** ï¼Œ **int** ï¼Œ **uintï¼Œ**å’Œ **address**

è¿˜æœ‰ä¸€äº›å…¶ä»–ç±»åž‹ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹çš„åŽé¢æåˆ°ã€‚å¦‚æžœä½ æœ‰ä»»ä½•å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ç»éªŒï¼Œä½ å¯èƒ½çŸ¥é“ä»¥ä¸Šç±»åž‹ã€‚ä½†æ˜¯ï¼Œå…¶ä¸­ä¸€ä¸ªä¼¼ä¹Žæ˜¯å…¨æ–°çš„:åœ°å€ç±»åž‹ï¼
åœ¨ä»¥å¤ªåŠçš„ä¸–ç•Œé‡Œï¼Œæ¯ä¸ªè´¦æˆ·æˆ–åˆåŒéƒ½æ˜¯ç”±ä»¥å¤ªåŠçš„åœ°å€æ¥æ ‡è¯†çš„ã€‚ç½‘ç»œä¸­çš„æ‰€æœ‰èº«ä»½éƒ½å¯ä»¥ä½¿ç”¨ä»¥å¤ªåŠåœ°å€æ‰¾åˆ°å½¼æ­¤ã€‚ä»¥å¤ªåŠåœ°å€åªæ˜¯ä¸€ä¸ª 64 ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²:*0x e 349 FB peda 6642 BF 459 f 4957 b 6d 6 abccba 8 ba 74 c* åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åœ¨éƒ¨ç½²åŽèŽ·å–æˆ‘ä»¬çš„åˆåŒåœ°å€ã€‚

è®©æˆ‘ä»¬å›žåˆ°æˆ‘ä»¬çš„åˆåŒä¸Šæ¥ã€‚å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º freelancer çš„å…¬å…±å˜é‡ï¼Œå®ƒçš„ç±»åž‹æ˜¯ addressã€‚è¿™æ„å‘³ç€å®ƒå°†å­˜å‚¨ç±»ä¼¼äºŽ*0xe 349 FB peda 6642 BF 459 f 4957 b 6d 6 abccba 8 ba 74 c*çš„å†…å®¹ðŸ™‚

## åŠŸèƒ½

çŽ°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€äº›å‡½æ•°æ¥è®¾ç½®è‡ªç”±èŒä¸šè€…çš„å€¼å’Œæˆªæ­¢æ—¥æœŸ:

```
pragma solidity 0.6.9;contract Delance{

    address public freelancer;
    uint public deadline;

    function setFreelancer(address _freelancer) public {
     freelancer = _freelancer;
    }

    function setDeadline(uint256 _deadline) public {
     deadline = _deadline;
    }
}
```

å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºå‡½æ•°å’Œå˜é‡å®šä¹‰å¯è§æ€§ç±»åž‹ã€‚å®šä¹‰å‡½æ•°å¯è§æ€§ç±»åž‹çš„å¯ç”¨ç±»åž‹æœ‰å…¬å…±ã€ç§æœ‰ã€å†…éƒ¨å’Œå¤–éƒ¨ã€‚
**å…¬æœ‰**:å¯ä»¥ä»Žå¥‘çº¦å†…éƒ¨å’Œå¤–éƒ¨è°ƒç”¨
**ç§æœ‰**:åªèƒ½ä»Žæ™ºèƒ½å¥‘çº¦å†…éƒ¨è°ƒç”¨ã€‚ç§æœ‰å‡½æ•°åœ¨æ´¾ç”Ÿå¥‘çº¦ä¸­ä¸å¯ç”¨ã€‚
**å†…éƒ¨**:åªèƒ½åœ¨åˆåŒæœ¬èº«ä»¥åŠä»»ä½•æ´¾ç”Ÿçš„åˆåŒå†…éƒ¨è°ƒç”¨ã€‚
**å¤–éƒ¨**:å¯ä»¥ä»Žæ™ºèƒ½åˆçº¦å¤–éƒ¨è°ƒç”¨ï¼Œä½†ä¸èƒ½ä»Žå†…éƒ¨è°ƒç”¨ã€‚
**é™¤äº†å¤–éƒ¨ç±»åž‹ï¼Œä»¥ä¸Šæ‰€æœ‰ç±»åž‹éƒ½å¯ä»¥ç”¨äºŽå˜é‡ã€‚**

## æž„é€ å™¨

å¦‚æžœä½ äº†è§£ OOPï¼Œä½ åº”è¯¥çŸ¥é“åœ¨æž„é€ å‡½æ•°ä¸­å®šä¹‰å¿…è¦çš„å˜é‡æ˜¯å¾ˆå¥½çš„å®žè·µã€‚æ²¡æœ‰è‡ªç”±èŒä¸šè€…å’Œæˆªæ­¢æ—¥æœŸï¼Œæˆ‘ä»¬çš„åˆåŒæ˜¯æ²¡æœ‰ç”¨çš„ï¼æ­£å¦‚æˆ‘å‘Šè¯‰ä½ çš„ï¼Œå¥‘çº¦å°±åƒé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€ä¸ªç±»ã€‚å…¶ä¸­ä¸€ä¸ªç›¸ä¼¼ä¹‹å¤„æ˜¯æž„é€ å‡½æ•°æ–¹æ³•ã€‚åœ¨æˆ‘ä»¬çš„å¥‘çº¦ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤æœ€åŽä¸¤ä¸ªå‡½æ•°ï¼Œç„¶åŽå®šä¹‰ä¸€ä¸ªæž„é€ å‡½æ•°å¹¶æœŸæœ›ä¸¤ä¸ªå±žæ€§:è‡ªç”±èŒä¸šè€…åœ°å€å’Œæˆªæ­¢æ—¥æœŸã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬æƒ³è¦éƒ¨ç½²å¥‘çº¦æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å®šä¹‰è¿™ä¸¤ä¸ªå±žæ€§ã€‚åœ°å€ç±»åž‹å’Œå•ä½ç±»åž‹ã€‚å¦åˆ™ï¼Œå°†ä¼šäº§ç”Ÿé”™è¯¯ã€‚

```
pragma solidity 0.6.9;contract Delance{

    address public freelancer;
    uint public deadline;

    constructor(address _freelancer,uint _deadline) public {
        freelancer = _freelancer;
        deadline = _deadline;
    }
}
```

æ³¨æ„**æž„é€ å‡½æ•°**çš„ç±»åž‹åº”è¯¥æ€»æ˜¯**å…¬å…±**ã€‚æˆ‘ä»¬ä¹Ÿä¸éœ€è¦ä½¿ç”¨' function 'å…³é”®å­—æ¥å®šä¹‰æž„é€ å‡½æ•°ã€‚

*** * *æ›´æ–°(2020 å¹´ 10 æœˆ):**åœ¨ä¸‹ä¸€ç‰ˆæœ¬çš„ solidity (Solidity 7)ä¸­ï¼Œæž„é€ å‡½æ•°çš„å¯è§æ€§è¢«å¿½ç•¥ï¼Œé™¤éžä½ æƒ³åˆ›å»ºä¸€ä¸ª [**æŠ½è±¡**](https://solidity.readthedocs.io/en/v0.7.4/contracts.html#abstract-contracts) å¥‘çº¦ã€‚æŠ½è±¡å¥‘çº¦åªæ˜¯ä¸€ä¸ªä¸å¯éƒ¨ç½²çš„å¥‘çº¦ã€‚
æˆ‘ä»¬çš„å¥‘çº¦ä¸æ˜¯æŠ½è±¡çš„ï¼Œæ‰€ä»¥å¦‚æžœæˆ‘ä»¬æŠŠ solidity çš„ç‰ˆæœ¬æ”¹æˆ 7 å°±æ²¡å¿…è¦ç”¨ public å…³é”®å­—äº†ï¼

## å…¨å±€å˜é‡

åœ¨ Solidity ä¸­ï¼Œæœ‰ä¸€äº›å˜é‡å’Œå‡½æ•°å·²ç»åœ¨å…¨çƒèŒƒå›´å†…å­˜åœ¨ï¼Œå¹¶ä¸”ä¸»è¦ç”¨äºŽæä¾›å…³äºŽåŒºå—é“¾çš„ä¿¡æ¯ã€‚
msg å…¨å±€å˜é‡æ˜¯ç‰¹æ®Šçš„å…¨å±€å˜é‡ï¼ŒåŒ…å«å…è®¸è®¿é—®åŒºå—é“¾çš„å±žæ€§ã€‚ä¾‹å¦‚ï¼Œmsg.sender å¯ä»¥è¿”å›žå‘é€äº‹åŠ¡çš„åœ°å€(å‡è®¾å‘é€äº‹åŠ¡å°±åƒè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œç¨åŽæˆ‘ä»¬å°†è§£é‡Šäº‹åŠ¡)ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„å¥‘çº¦ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åœ°å€ç±»åž‹å®šä¹‰ä¸€ä¸ªåä¸º employer çš„çŠ¶æ€å˜é‡ã€‚ç„¶åŽï¼Œåœ¨æž„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–å‘é€äº‹åŠ¡çš„åœ°å€(è°ƒç”¨æž„é€ å‡½æ•°æ–¹æ³•çš„åœ°å€)å¹¶å°†å…¶å­˜å‚¨åœ¨é›‡ä¸»å˜é‡ä¸­:

```
pragma solidity 0.6.9;contract Delance{

    address public employer;
    address public freelancer;
    uint public deadline;

    constructor (address _freelancer, uint _deadline) public {
        employer = msg.sender;
        freelancer = _freelancer;
        deadline = _deadline;

    }
}
```

æˆ‘ä»¬å·²ç»åœ¨åˆåŒä¸­å­˜å‚¨äº†æ‰€æœ‰é‡è¦çš„åˆå§‹ä¿¡æ¯ã€‚åªå‰©ä¸‹ä¸€ä»¶äº‹äº†ã€‚é¡¹ç›®è´¹ï¼æˆ‘ä»¬å°†åœ¨æ•™ç¨‹çš„åŽé¢è§£é‡Šå­˜æ¬¾è¿‡ç¨‹ã€‚çŽ°åœ¨ï¼Œè®©æˆ‘ä»¬éƒ¨ç½²æˆ‘ä»¬çš„åˆåŒã€‚

## ç¼–åˆ¶

çŽ°åœ¨æ˜¯æ—¶å€™ä½¿ç”¨æ¿€æ´»çš„æ’ä»¶äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç¼–è¯‘å¥‘çº¦ï¼Œç„¶åŽéƒ¨ç½²å®ƒã€‚
è®©æˆ‘ä»¬ç‚¹å‡» solidity ç¼–è¯‘å™¨å›¾æ ‡ã€‚å°†ç¼–è¯‘å™¨ç‰ˆæœ¬æ›´æ”¹ä¸º 0.6.9ã€‚æ‚¨ä¹Ÿå¯ä»¥å¯ç”¨è‡ªåŠ¨ç¼–è¯‘é€‰é¡¹ã€‚æ‰€ä»¥ï¼ŒRemix IDE ä¼šåœ¨ä½ æ‰“å­—çš„æ—¶å€™è‡ªåŠ¨ç¼–è¯‘åˆåŒã€‚å½“ä½ å‡†å¤‡å¥½æ—¶ï¼Œç‚¹å‡»ç¼–è¯‘æŒ‰é’®ã€‚

![](img/fe28ff7f59a170a81ee3950270d252b9.png)

## éƒ¨ç½²

ç¼–è¯‘å®ŒåˆåŒåŽï¼Œå•å‡» deploy æ’ä»¶ã€‚
-ä¸ºçŽ¯å¢ƒé€‰æ‹© Javascript è™šæ‹Ÿæœºã€‚
-æœ‰ä¸€äº›å†…ç½®è´¦æˆ·æœ‰ 100 ä¹™é†šçš„ä½™é¢ã€‚ä½ å¯ä»¥é€‰æ‹©å…¶ä¸­ä¹‹ä¸€ã€‚
â€”â€”æ¯’æ°”ä¸Šé™å·²è®¾ä¸º 3000000ã€‚è¿™å¯¹æˆ‘ä»¬çš„äº¤æ˜“æœ‰å¥½å¤„(ç¨åŽæˆ‘ä»¬ä¼šè§£é‡Šæ°”ä»·å’Œæ°”é™)
â€”â€”æŠŠå€¼ç•™ä¸ºé›¶ï¼Œå°±åƒæˆ‘è¯´çš„ï¼Œåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä¼šåœ¨åˆåŒä¸­å†™ä¸€ä¸ªå‡½æ•°æ¥æŽ¥å—ä¹™é†šã€‚
é€‰æ‹©æ‚¨çš„åˆåŒï¼Œå¹¶å¡«å†™å¿…éœ€çš„å‚æ•°ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ°å€ç±»åž‹å’Œ uint ç±»åž‹ã€‚
_ è‡ªç”±èŒä¸šè€…å¯ä»¥æ˜¯:0xe 349 FB beda 6642 BF 459 f 4957 b 6d 6 abccba 8 ba 74 c
è€Œ _deadline å¯ä»¥æ˜¯:123456789

æ­å–œï¼Œä½ åˆšåˆšå®Œæˆäº†ä½ çš„ç¬¬ä¸€ä»½åˆåŒã€‚ðŸ¥³

![](img/7ae1b3dac6525758660a5c9d1fb361f5.png)

çŽ°åœ¨ï¼Œæ‚¨å¯ä»¥ä»ŽåŒºå—é“¾è¯»å–å­˜å‚¨çš„æ•°æ®ã€‚
æ¯æ¬¡ä½ åœ¨å¥‘çº¦ä¸­å®šä¹‰ä¸€ä¸ªå…¬å…±çŠ¶æ€å˜é‡ï¼Œsolidity éƒ½ä¼šä¸ºä½ åˆ›å»ºä¸€ä¸ª getter å‡½æ•°ã€‚
ä¾‹å¦‚ï¼Œä¸ºäº†è¯»å–â€œFreelancerâ€å˜é‡çš„å€¼ï¼Œæ‚¨ä¸éœ€è¦åˆ›å»º getFreelancer()å‡½æ•°æ¥è¿”å›ž freelancer å€¼ã€‚æ‚¨å·²ç»è®¿é—®äº†ä¸€ä¸ªåä¸º freelancer çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ž freelancer å€¼ã€‚

åœ¨ä¸‹å›¾ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°é›‡ä¸»åœ°å€ä¸Žæˆ‘ä»¬ç”¨äºŽå‘é€äº¤æ˜“çš„åœ°å€ç›¸åŒã€‚

![](img/bfbe9f3746abb79e3702bfeeacb28d3b.png)

# ç»“è®º

æˆ‘è§‰å¾—è¿™ä¸ªå¸–å­å°±å¤Ÿäº†ã€‚ä½ çŽ°åœ¨çŸ¥é“äº†å¦‚ä½•åˆ›å»ºä½ çš„å¥‘çº¦ï¼Œå¹¶å¯¹ solidity ä¸­çš„å˜é‡å’Œå‡½æ•°ç±»åž‹æœ‰äº†å¾ˆå¥½çš„äº†è§£ã€‚ä½ ä¹Ÿå·²ç»äº†è§£äº†ä¸€äº›å…³äºŽ solidity å’Œ Ethereum å¦‚ä½•åœ¨å¹•åŽå·¥ä½œçš„ä¸€èˆ¬ä¿¡æ¯ã€‚åœ¨æœ¬æ•™ç¨‹çš„åŽé¢ï¼Œæˆ‘ä»¬å°†æ·±å…¥è§£é‡Šä¸€äº›ä½œä¸ºåŒºå—é“¾å¼€å‘è€…ä½ éœ€è¦çŸ¥é“çš„ç†è®ºçŸ¥è¯†ã€‚

# é¡¹ç›®æºä»£ç 

å¯ä»¥åœ¨æˆ‘çš„ GitHub repo ä¸­æ‰¾åˆ°è¯¥é¡¹ç›®çš„æºä»£ç :
[**https://github.com/bitnician/Delance-truffle**](https://github.com/bitnician/Delance-truffle)

æ¯ä¸€è¯¾éƒ½ä¼šæœ‰è‡ªå·±çš„åˆ†æ”¯ã€‚

æˆ‘å«è´æ‰Žå¾·ã€‚æˆ‘æ˜¯ä¸€ååŒºå—é“¾å¼€å‘äººå‘˜ï¼Œæ‹¥æœ‰ä¸ºä¼ä¸šåŒºå—é“¾å¹³å°å¼€å‘ä»¥å¤ªåŠå’Œ Hyperledger fabric çš„ç»éªŒã€‚ä½ å¯ä»¥é€šè¿‡æˆ‘çš„ç”¨æˆ·ååœ¨ twitter ä¸Šæ‰¾åˆ°æˆ‘: [Bitnician](https://twitter.com/bitnician) ã€‚
æ¬¢è¿Žåœ¨è¿™é‡Œæˆ– twitter ä¸Šæå‡ºä»»ä½•é—®é¢˜ã€‚

> [ç›´æŽ¥åœ¨æ‚¨çš„æ”¶ä»¶ç®±ä¸­èŽ·å¾—æœ€ä½³è½¯ä»¶äº¤æ˜“](https://coincodecap.com/?utm_source=coinmonks)

[![](img/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png)](https://coincodecap.com/?utm_source=coinmonks)