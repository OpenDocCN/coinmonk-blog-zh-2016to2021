<html>
<head>
<title>Analyzing the hardware requirements to be an Ethereum full validated node</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析成为以太坊完全验证节点的硬件要求</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/analyzing-the-hardware-requirements-to-be-an-ethereum-full-validated-node-dc064f167902?source=collection_archive---------0-----------------------#2018-09-24">https://medium.com/coinmonks/analyzing-the-hardware-requirements-to-be-an-ethereum-full-validated-node-dc064f167902?source=collection_archive---------0-----------------------#2018-09-24</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="cf5a" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">不要相信。核实</h2></div><p id="6dbd" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">加密的<em class="ke">咒语</em>之一是:</p><blockquote class="kf"><p id="4061" class="kg kh ht bd ki kj kk kl km kn ko kd ek translated"><em class="kp">不信任。验证</em></p></blockquote><p id="b188" class="pw-post-body-paragraph ji jj ht jk b jl kq iu jn jo kr ix jq jr ks jt ju jv kt jx jy jz ku kb kc kd hm dt translated">但是，<em class="ke">验证</em>是什么意思呢？当我们谈到区块链时，它意味着从区块链(创世纪块)的起点开始，并从与您连接的对等体中提取块上记录的每个事务。然后，执行每一个交易来计算中间状态(比特币中的UTXO或以太坊中的accounts状态)并重复它，直到到达最新的块。这个过程称为完全验证(比特币中的完全节点)节点的同步。</p><p id="5ec1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">您可以删除旧的状态和块(修剪模式),并且仍然是完全验证的节点，因为您已经验证了所有区块链以达到最新状态。你没有相信过任何人。</p><p id="d4d4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最近，由于DoS攻击和任意代码的部署(为了从一个状态转移到另一个状态，必须执行智能合约)，这个过程对于以太坊来说非常昂贵。那么，运行一个完全有效的以太坊节点，并且能够在不信任任何人的情况下执行验证，在硬件方面需要什么要求呢？</p><h2 id="81ef" class="kv kw ht bd kx ky kz la lb lc ld le lf jr lg lh li jv lj lk ll jz lm ln lo lp dt translated">监控同步过程</h2><p id="ee1c" class="pw-post-body-paragraph ji jj ht jk b jl lq iu jn jo lr ix jq jr ls jt ju jv lt jx jy jz lu kb kc kd hm dt translated">我选择了奇偶校验，因为它是唯一能够验证完整区块链并即时删除旧状态的客户端(并避免存储+1TB的数据)。Geth正在努力，但还没有完成。</p><p id="0f9d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">执行的命令行是:</p><blockquote class="lw lx ly"><p id="3358" class="ji jj ke jk b jl jm iu jn jo jp ix jq lz js jt ju ma jw jx jy mb ka kb kc kd hm dt translated">奇偶校验-无偏差缓存-大小= 4096-db-压缩= SSD-规模-验证器-验证器数量=2</p></blockquote><p id="3c63" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">同步过程开始于:2018年9月19日14时13分22秒<br/>同步过程结束于:2018年9月23日17时38分24秒</p><p id="6b9e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">大约4天来验证所有的以太坊区块链。没那么多。但是…硬件消耗是多少？</p><p id="c1af" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我已经使用Collectd + Influxdb + Grafana来监控这种消耗。</p><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mc"><img src="../Images/ec2f9e411f0e13186c357252262019cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tOG7L3ILQkchZsrfkjV4Dg.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Consider it random writes!</figcaption></figure><p id="2888" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">可以看到最小值，最大值，平均值。</p><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff ms"><img src="../Images/d9a188d0cb1fc26e683e214fd1e71505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cqh7N85Re20-TH5kZYtVMg.png"/></div></div></figure><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mt"><img src="../Images/292e9003658f162e0425bcb358cd4670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9jV_wtinFp6mtX9yKiCoTg.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">We can see that Parity makes an intensive use of syscalls</figcaption></figure><p id="6686" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">每秒有大量的系统调用(CPU中断)。</p><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mu"><img src="../Images/016b83df059ee3bcca44db82bb4acb7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EUOspbwypzmKhth3deOyEQ.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Intel(R) Core(TM) i7–2600 CPU @ 3.40GHz</figcaption></figure><p id="599e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">尽管有系统调用，但CPU似乎还可以。如果客户机与他人共享CPU资源，可能会有问题(事实上，由于CPU中断滥用，我不得不从LPAR云提供商迁移过来)。</p><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mu"><img src="../Images/4ee4c07b8c4741d457bac2385dcaeee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w70BbcnTvz1F-cCIpMVqwQ.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">From a total of 16GB</figcaption></figure><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mc"><img src="../Images/3a967e8367a833db87aa94d9537464be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2uk2SSs2zEa4lV8t3K_r9w.png"/></div></div></figure><p id="dfc2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">(y轴标签不正确。<strong class="jk hu">是每秒块数</strong>。刚开始的时候，比率很高。如果我们得到去除一阶矩的平均速率:</p><figure class="md me mf mg fq mh fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mv"><img src="../Images/56579141cebef5575a9b91742700d798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cBDnlgrJwKWSbr1R42Qw9A.png"/></div></div></figure><p id="2a61" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">(y轴标签不正确。它是每秒块数)。如果以太坊中的每个方块平均每14秒被开采一次，这意味着每分钟4.29个方块。我的平均速度是每秒5.67个数据块(每分钟340.2个数据块)，所以<strong class="jk hu">我希望用更少的资源同步一个完整的验证节点，但花费更多的时间</strong>。</p><h2 id="4350" class="kv kw ht bd kx ky kz la lb lc ld le lf jr lg lh li jv lj lk ll jz lm ln lo lp dt translated">结论</h2><ul class=""><li id="94c0" class="mw mx ht jk b jl lq jo lr jr my jv mz jz na kd nb nc nd ne dt translated">为了在不存储+1TB SSD的情况下获得完整验证的以太坊节点，我们目前必须使用奇偶校验，因为它是唯一允许在同步完整区块链时进行修剪的客户端</li><li id="fb53" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">它大量使用随机写入磁盘。对于固态硬盘来说，这已经算很多了</li><li id="bd7d" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">它大量使用经常中断CPU的系统调用</li><li id="5ff9" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">固态硬盘能够执行:平均每秒68 MB的随机写入和每秒30.9 MB的随机读取。+112GB的容量(2018年9月24日)。</li><li id="fb1e" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">13–14GB内存</li><li id="a32a" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">能够处理大量中断的CPU</li><li id="3581" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><strong class="jk hu">这些要求并不是最低要求</strong>。使用上述硬件，您将获得平均每分钟340.2次的块同步。你最终会同步到4.29或更高的速率，但这需要更多的时间</li><li id="e401" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">以太坊社区意识到了这些需求，并试图构建一个更高效的客户端。查看阿列克谢·阿克洪诺夫<a class="ae lv" href="https://www.youtube.com/watch?v=kJi77aV7Fk0" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=kJi77aV7Fk0</a>和<a class="ae lv" rel="noopener" href="/@akhounov/turbo-geth-beta-constantinopole-tests-fda38cbe87a">https://medium . com/@ akhounov/turbo-geth-beta-constantinopole-tests-FDA 38 CBE 87 a</a>的作品</li></ul><h2 id="d6a2" class="kv kw ht bd kx ky kz la lb lc ld le lf jr lg lh li jv lj lk ll jz lm ln lo lp dt translated">未来的工作</h2><p id="6da3" class="pw-post-body-paragraph ji jj ht jk b jl lq iu jn jo lr ix jq jr ls jt ju jv lt jx jy jz lu kb kc kd hm dt translated">这项工作的主要目标是了解运行一个完整的经验证的节点所需的最低硬件要求。我已经分享了一个有效的配置开始。但是，我会限制这些资源以获取最小值，并再次共享结果。(第二部发布:<a class="ae lv" rel="noopener" href="/@albpalau/analyzing-the-hardware-requirements-to-be-an-ethereum-full-validated-node-ii-415b8457c6e8">此处</a>)</p><blockquote class="kf"><p id="3d62" class="kg kh ht bd ki kj kk kl km kn ko kd ek translated">加入Coinmonks <a class="ae lv" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae lv" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>获取每日<a class="ae lv" href="http://coincodecap.com/" rel="noopener ugc nofollow" target="_blank">加密新闻</a></p></blockquote><h2 id="15d6" class="kv kw ht bd kx ky nk la lb lc nl le lf jr nm lh li jv nn lk ll jz no ln lo lp dt translated">另外，阅读</h2><ul class=""><li id="20fb" class="mw mx ht jk b jl lq jo lr jr my jv mz jz na kd nb nc nd ne dt translated"><a class="ae lv" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">复制交易</a> | <a class="ae lv" rel="noopener" href="/coinmonks/crypto-tax-software-ed4b4810e338">加密税务软件</a></li><li id="723e" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" href="https://coincodecap.com/grid-trading" rel="noopener ugc nofollow" target="_blank">网格交易</a> | <a class="ae lv" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">加密硬件钱包</a></li><li id="874f" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" href="http://Top 4 Telegram Channels for Crypto Traders" rel="noopener ugc nofollow" target="_blank">密码电报信号</a> | <a class="ae lv" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="50d2" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" rel="noopener" href="/coinmonks/binance-trading-bots-d0d57bb62c4c">币安交易机器人</a> | <a class="ae lv" rel="noopener" href="/coinmonks/okex-review-6b369304110f"> OKEx审查</a> | <a class="ae lv" href="https://coincodecap.com/atani-review" rel="noopener ugc nofollow" target="_blank">阿塔尼审查</a></li><li id="3b1f" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" rel="noopener" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b">最佳加密交易信号电报</a> | <a class="ae lv" rel="noopener" href="/coinmonks/moonxbt-review-6e4ab26d037"> MoonXBT评论</a></li><li id="c44c" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" href="https://coincodecap.com/buy-shiba-bitbns" rel="noopener ugc nofollow" target="_blank">如何在Bitbns上购买柴犬(SHIB)币？</a> | <a class="ae lv" href="https://coincodecap.com/buy-floki-inu-token" rel="noopener ugc nofollow" target="_blank">购买Floki </a></li><li id="af80" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" href="https://coincodecap.com/coinflex-review" rel="noopener ugc nofollow" target="_blank"> CoinFLEX评论</a> | <a class="ae lv" href="https://coincodecap.com/aex-exchange-review" rel="noopener ugc nofollow" target="_blank"> AEX交易所评论</a> | <a class="ae lv" href="https://coincodecap.com/upbit-review" rel="noopener ugc nofollow" target="_blank"> UPbit评论</a></li><li id="29b5" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" href="https://coincodecap.com/best-cryptocurrency-blogs" rel="noopener ugc nofollow" target="_blank">十大最佳加密货币博客</a> | <a class="ae lv" href="https://coincodecap.com/youhodler-review" rel="noopener ugc nofollow" target="_blank"> YouHodler评论</a></li><li id="f33b" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" rel="noopener" href="/coinmonks/crypto-exchange-dd2f9d6f3769">最佳加密交易所</a> | <a class="ae lv" rel="noopener" href="/coinmonks/bitcoin-exchange-in-india-7f1fe79715c9">印度最佳加密交易所</a></li><li id="47a8" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">开发人员的最佳加密API</li><li id="b359" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated">最佳<a class="ae lv" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">密码借贷平台</a></li><li id="3c98" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" rel="noopener" href="/coinmonks/free-crypto-signals-48b25e61a8da">免费加密信号</a> | <a class="ae lv" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">加密交易机器人</a></li><li id="9487" class="mw mx ht jk b jl nf jo ng jr nh jv ni jz nj kd nb nc nd ne dt translated"><a class="ae lv" rel="noopener" href="/coinmonks/leveraged-token-3f5257808b22">杠杆代币的终极指南</a></li></ul></div></div>    
</body>
</html>