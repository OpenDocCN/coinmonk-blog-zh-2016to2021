<html>
<head>
<title>Learn How to Create a Passion Economy Platform on Blockchain</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解如何在区块链上创建激情经济平台</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/learn-how-to-create-a-passion-economy-platform-on-blockchain-25ea896ae4da?source=collection_archive---------1-----------------------#2020-05-08">https://medium.com/coinmonks/learn-how-to-create-a-passion-economy-platform-on-blockchain-25ea896ae4da?source=collection_archive---------1-----------------------#2020-05-08</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="ddaa" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">"爱好、职业和个人品牌之间的界限正在变得模糊."—《激情经济:21世纪繁荣的新规则》一书的作者亚当·戴维森</h2></div><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/d7ac87c8e8d5d7d47849cfd4e9cfa676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNKY8X501Au0bdO3qz_e3A.png"/></div></div></figure><p id="81ee" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">激情经济就是将个性货币化。成功人士通常拥有一套独特的技能，这种技能不常见，在别处很难找到。当你把激情和技能结合起来，你就能在经济中开拓出一个完美的利基市场。</p><p id="911c" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">我们今天看到的工作性质正在迅速变化。后新冠肺炎危机，我们不知道我们是否能回到从前。谁想到他们会在宿舍里写期末考试！？我们真的需要实体办公吗？新冠肺炎让我们挑战现状。</p><p id="3ecd" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">激情经济之旅从你开始。(这通常是最难的一步。激情经济就是将你的个性货币化，所以第一步是反思，找到你真正热爱的东西。这种想法与许多宗教产生了共鸣，这些宗教的重点是寻找更大的生活目标，并带着原始的激情为之努力。</p><p id="d0d1" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">激情会带来回报。据<a class="ae kq" href="https://a16z.com/2019/10/08/passion-economy/" rel="noopener ugc nofollow" target="_blank"> a16z </a>报道，付费时事通讯平台Substack上收入最高的作家每年从读者订阅中获得超过50万美元的收入。Podia是一个视频课程和数字会员平台，其顶级内容创作者每月收入超过10万美元。美国各地的教师每月通过在校外和由尼学习网上直播虚拟课堂教学，可以获得数千美元的收入。</p><p id="9316" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">然而，许多平台对内容创作者来说缺乏透明度。在这篇博文中，我们将重点关注如何利用区块链为作家们创造一个激情经济平台。</p><h1 id="eeb6" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">以下是如何使用Sia作为分散存储平台在以太坊区块链上开发日志条目原型的分步指南。</h1><p id="6182" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">我们将建立一个平台，用户可以创建一个日志条目，并将其推送到一个分散的存储平台。日记条目的唯一哈希将存储在区块链上。我们还将获取以前的日志条目。</p><p id="cd9b" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">Sia是一个开源的分散式存储平台，它利用区块链技术创建了一个数据存储市场。与传统云存储提供商相比，它更强大、更经济。你不需要任何注册，服务器，也不需要信任第三方。Sia保护您的数据隐私。你控制你的私人加密密钥，你拥有你的数据。与传统的云存储提供商不同，没有第三方可以访问您的文件。点击了解更多关于新航<a class="ae kq" href="https://sia.tech/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="90f7" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">DappStarter是一个全栈区块链应用生成器。我们将使用DappStarter在5分钟内旋转一个极简的区块链dapp。DappStarter使开发更快、更有效，因此开发人员可以专注于智能合约的业务逻辑，从而节省数周的学习和开发时间。点击了解更多关于DappStarter <a class="ae kq" href="http://trycrypto.com/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><h1 id="2457" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">开始前的清单:</h1><ul class=""><li id="e3e5" class="lo lp ht jw b jx lj ka lk kd lq kh lr kl ls kp lt lu lv lw dt translated"><a class="ae kq" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a>(或任何用于编辑JavaScript的IDE)</li><li id="345f" class="lo lp ht jw b jx lx ka ly kd lz kh ma kl mb kp lt lu lv lw dt translated"><a class="ae kq" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank"> NodeJS v10.x </a></li><li id="da22" class="lo lp ht jw b jx lx ka ly kd lz kh ma kl mb kp lt lu lv lw dt translated"><a class="ae kq" href="https://www.npmjs.com/package/solc" rel="noopener ugc nofollow" target="_blank">坚实度v0.5.11 </a></li><li id="c26e" class="lo lp ht jw b jx lx ka ly kd lz kh ma kl mb kp lt lu lv lw dt translated"><a class="ae kq" href="https://truffleframework.com/truffle" rel="noopener ugc nofollow" target="_blank">松露v5.0.7 </a></li><li id="64c3" class="lo lp ht jw b jx lx ka ly kd lz kh ma kl mb kp lt lu lv lw dt translated"><a class="ae kq" href="https://truffleframework.com/ganache" rel="noopener ugc nofollow" target="_blank"> Ganache v2.0.0 </a> —以太坊区块链模拟器</li></ul><h1 id="8f0d" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">第一步:去<a class="ae kq" href="https://dappstarter.trycrypto.com/" rel="noopener ugc nofollow" target="_blank">dappstarter.trycrypto.com</a>生成你的区块链dapp</h1><p id="534f" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">DappStarter支持您选择区块链和区块链语言，以及您选择的客户端框架中的集成前端用户体验。</p><h2 id="3741" class="mc ks ht bd kt md me mf kx mg mh mi lb kd mj mk ld kh ml mm lf kl mn mo lh mp dt translated">步骤1.1:选择你所选择的区块链。对于本教程，我们将使用以太坊。</h2><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff mq"><img src="../Images/fa481eacb75513c9e867cd83aa5a74c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VDUzp4cGxUE8bZRy"/></div></div></figure><h2 id="1fa1" class="mc ks ht bd kt md me mf kx mg mh mi lb kd mj mk ld kh ml mm lf kl mn mo lh mp dt translated">步骤1.2:选择可靠性作为智能合同语言</h2><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff mr"><img src="../Images/1a44e5c40371ea27c6f02dde332c0464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BFMmiUcpkCQbFyFI"/></div></div></figure><h2 id="3563" class="mc ks ht bd kt md me mf kx mg mh mi lb kd mj mk ld kh ml mm lf kl mn mo lh mp dt translated">步骤1.3:现在我们将使用普通的JS</h2><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ms"><img src="../Images/3bd9d8d0aa0bc14540758178c52b81cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WZYNAvoWLLBwtIVO"/></div></div></figure><h2 id="7fb0" class="mc ks ht bd kt md me mf kx mg mh mi lb kd mj mk ld kh ml mm lf kl mn mo lh mp dt translated">步骤1.4:为您的dapp选择一个名称，然后单击“创建DAPP”按钮！🎉</h2><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/5807d01bfa53bc77e627c1e8abf6d86d.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*XtmY1UFSb9O8_OFO"/></div></figure><p id="eb65" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">如果你成功地遵循了所有这些步骤，你应该有一个独特的github资源库链接，在那里你可以找到你的dapp！</p><h1 id="6868" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">第2步:进入GitHub库，使用README启动dapp</h1><p id="1f25" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">一旦您成功启动了dapp，您应该会看到类似这样的内容</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/391d6aee7fd119f44511736154b5f015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0zIsE_He0WaXOlMv"/></div></div></figure><p id="a73b" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">要了解DappStarter的概况，请访问<a class="ae kq" href="https://www.trycrypto.com/blockchain-bootcamp-get-your-dapp-running-in-1-hour" rel="noopener ugc nofollow" target="_blank">trycrypto.com/</a>。</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/39672d5687e1a5ae6475e8c8ab28a28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nhhA8Aw_3eMkfelB"/></div></div></figure><h1 id="457c" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">第三步:定制你的dapp</h1><p id="f208" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">让我们看看如何修改导航窗格。转到<code class="eh mu mv mw mx b">src/dapp/pages/components/page-navigation.js</code></p><p id="3799" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">你可以在这里找到所有与dapp导航相关的代码。</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="e7d8" class="mc ks ht mx b fv nc nd l ne nf">…</span><span id="7cc1" class="mc ks ht mx b fv ng nd l ne nf">getPages() {</span><span id="bc45" class="mc ks ht mx b fv ng nd l ne nf">let staticPages = [{</span><span id="17d8" class="mc ks ht mx b fv ng nd l ne nf">name: ‘dapp’,</span><span id="b234" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">title: ‘Start Writing!’,</strong></span><span id="75ca" class="mc ks ht mx b fv ng nd l ne nf">route: ‘/’</span><span id="5d87" class="mc ks ht mx b fv ng nd l ne nf">}, {</span><span id="8a2e" class="mc ks ht mx b fv ng nd l ne nf">name: ‘admin’,</span><span id="238d" class="mc ks ht mx b fv ng nd l ne nf">title: ‘Dapp Admin’,</span><span id="62f3" class="mc ks ht mx b fv ng nd l ne nf">route: ‘/admin’,</span><span id="26e0" class="mc ks ht mx b fv ng nd l ne nf">hidden: true</span><span id="17fd" class="mc ks ht mx b fv ng nd l ne nf">}]</span><span id="97a4" class="mc ks ht mx b fv ng nd l ne nf">return staticPages.concat([{“name”:”administrator_role”,”title”:”Administrator Role”,”description”:”Define accounts that can perform certain admin functions.”,”category”:”Access Control”,”route”:”/administrator_role”},{“name”:”contract_access”,”title”:”Contract Access”,”description”:”Control which external contracts can interact with your contract.”,”category”:”Access Control”,”route”:”/contract_access”},{“name”:”contract_runstate”,”title”:”Contract Run State”,”description”:”Ability to pause operation of your smart contract.”,”category”:”Access Control”,”route”:”/contract_runstate”}]);</span><span id="d4b6" class="mc ks ht mx b fv ng nd l ne nf">…</span></pre><p id="d4a0" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">保存文件时，dapp会自动重新加载，因为DappStarter使用webpack。现在，您应该会看到一个导航面板，并开始编写这样的页面</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/a677075ab56a3e8fa1d58de2ec277ee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rbZdGJn_bIu3tX_j"/></div></div></figure><h1 id="48bb" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">步骤4:创建一个新的小部件，使我们的dapp模块化</h1><p id="398f" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">为不同的功能创建小部件是一个很好的实践。在<code class="eh mu mv mw mx b">src/lib/components/widgets</code>中创建一个名为<code class="eh mu mv mw mx b">html-widget.js</code>的文件。</p><p id="501a" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">在该文件中插入以下代码</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="2b14" class="mc ks ht mx b fv nc nd l ne nf">import CustomElement from ‘../shared/custom-element’;</span><span id="b261" class="mc ks ht mx b fv ng nd l ne nf">export default class HtmlWidget extends CustomElement {</span><span id="c471" class="mc ks ht mx b fv ng nd l ne nf">static get ATTRIBUTE_FIELD() {</span><span id="ed77" class="mc ks ht mx b fv ng nd l ne nf">return ‘field’</span><span id="4bfb" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="8e33" class="mc ks ht mx b fv ng nd l ne nf">static get ATTRIBUTE_LABEL() {</span><span id="fc06" class="mc ks ht mx b fv ng nd l ne nf">return ‘label’</span><span id="04a2" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="ce07" class="mc ks ht mx b fv ng nd l ne nf">static get ATTRIBUTE_PLACEHOLDER() {</span><span id="e3b7" class="mc ks ht mx b fv ng nd l ne nf">return ‘placeholder’</span><span id="04d8" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="db57" class="mc ks ht mx b fv ng nd l ne nf">static get observedAttributes() {</span><span id="e397" class="mc ks ht mx b fv ng nd l ne nf">return HtmlWidget.attributes;</span><span id="09d6" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="e6bd" class="mc ks ht mx b fv ng nd l ne nf">static get attributes() {</span><span id="82b0" class="mc ks ht mx b fv ng nd l ne nf">return [</span><span id="bf6d" class="mc ks ht mx b fv ng nd l ne nf">HtmlWidget.ATTRIBUTE_FIELD,</span><span id="3222" class="mc ks ht mx b fv ng nd l ne nf">HtmlWidget.ATTRIBUTE_LABEL,</span><span id="d9b1" class="mc ks ht mx b fv ng nd l ne nf">HtmlWidget.ATTRIBUTE_PLACEHOLDER</span><span id="b201" class="mc ks ht mx b fv ng nd l ne nf">];</span><span id="1790" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="e3d5" class="mc ks ht mx b fv ng nd l ne nf">constructor(…args) {</span><span id="7d62" class="mc ks ht mx b fv ng nd l ne nf">super(HtmlWidget.attributes, …args);</span><span id="9149" class="mc ks ht mx b fv ng nd l ne nf">this.quill = null;</span><span id="87b2" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="70e2" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">get value() {</strong></span><span id="010e" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">let markup = this.quill.container.querySelector(‘.ql-editor’).innerHTML;</strong></span><span id="db4c" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">return `&lt;html&gt;</strong></span><span id="f5c2" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;head&gt; &lt;/head&gt;</strong></span><span id="27af" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;body&gt;</strong></span><span id="29dd" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;div style=”font-family:lato;”&gt;</strong></span><span id="189a" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">${markup}</strong></span><span id="910a" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;/div&gt;</strong></span><span id="8203" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;/body&gt;</strong></span><span id="2528" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;/html&gt;`</strong></span><span id="136a" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">}</strong></span><span id="5051" class="mc ks ht mx b fv ng nd l ne nf">render() {</span><span id="9225" class="mc ks ht mx b fv ng nd l ne nf">let self = this;</span><span id="328d" class="mc ks ht mx b fv ng nd l ne nf">let content = `</span><span id="7901" class="mc ks ht mx b fv ng nd l ne nf">&lt;div class=”input-group”&gt;</span><span id="092f" class="mc ks ht mx b fv ng nd l ne nf">&lt;div id = “editor” class = “form-control”&gt; &lt;/div&gt;</span><span id="05cb" class="mc ks ht mx b fv ng nd l ne nf">&lt;/div&gt;</span><span id="ed68" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="d40e" class="mc ks ht mx b fv ng nd l ne nf">self.style.display = ‘block’;</span><span id="5824" class="mc ks ht mx b fv ng nd l ne nf">if (self.nextSibling) {</span><span id="b53b" class="mc ks ht mx b fv ng nd l ne nf">self.classList.add(‘mb-3’)</span><span id="b1f6" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="f3cc" class="mc ks ht mx b fv ng nd l ne nf">self.innerHTML = content;</span><span id="312c" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">var toolbarOptions = [</strong></span><span id="9081" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[‘bold’, ‘italic’, ‘underline’, ‘strike’], // toggled buttons</strong></span><span id="04e9" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[‘blockquote’, ‘code-block’],</strong></span><span id="b094" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[{ ‘header’: 1 }, { ‘header’: 2 }], // custom button values</strong></span><span id="7ddf" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[{ ‘list’: ‘ordered’}, { ‘list’: ‘bullet’ }],</strong></span><span id="7005" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[{ ‘script’: ‘sub’}, { ‘script’: ‘super’ }], // superscript/subscript</strong></span><span id="df9b" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// [{ ‘indent’: ‘-1’}, { ‘indent’: ‘+1’ }], // outdent/indent</strong></span><span id="8a27" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// [{ ‘direction’: ‘rtl’ }], // text direction</strong></span><span id="6f1d" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// [{ ‘size’: [‘small’, false, ‘large’, ‘huge’] }], // custom dropdown</strong></span><span id="0554" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[{ ‘header’: [1, 2, 3, 4, 5, 6, false] }],</strong></span><span id="5732" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[{ ‘color’: [] }, { ‘background’: [] }], // dropdown with defaults from theme</strong></span><span id="9f4b" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// [{ ‘font’: [] }],</strong></span><span id="a1d2" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// [{ ‘align’: [] }],</strong></span><span id="4199" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">[‘clean’] // remove formatting button</strong></span><span id="95f2" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">];</strong></span><span id="97fd" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">self.quill = new Quill(‘#editor’, {</strong></span><span id="3b1a" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">modules: {</strong></span><span id="9e10" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">toolbar: toolbarOptions</strong></span><span id="65ba" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">},</strong></span><span id="e3e7" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">theme: ‘snow’</strong></span><span id="01d4" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">});</strong></span><span id="a3ad" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="5a53" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="53f1" class="mc ks ht mx b fv ng nd l ne nf">customElements.define(‘html-widget’, HtmlWidget);</span></pre><p id="d2f3" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">在这个文件中，我们已经集成了<a class="ae kq" href="https://quilljs.com/" rel="noopener ugc nofollow" target="_blank"> Quill到</a> make富文本日志条目。Quill是一个免费的、开源的、为现代网络构建的所见即所得编辑器。</p><p id="1c8e" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">要使用Quill的功能，请确保在<code class="eh mu mv mw mx b">dapp/index.html</code>中添加Quill CDNs。在<code class="eh mu mv mw mx b">head</code>中增加<code class="eh mu mv mw mx b">&lt;link href=”<a class="ae kq" href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="noopener ugc nofollow" target="_blank">https://cdn.quilljs.com/1.3.6/quill.snow.css</a>" rel=”stylesheet”&gt;</code>，在<code class="eh mu mv mw mx b">body</code>关闭前增加<code class="eh mu mv mw mx b">&lt;script src=”<a class="ae kq" href="https://cdn.quilljs.com/1.3.6/quill.js" rel="noopener ugc nofollow" target="_blank">https://cdn.quilljs.com/1.3.6/quill.js</a>"&gt;&lt;/script&gt;</code></p><p id="c899" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">要增加文本编辑器的长度，对<code class="eh mu mv mw mx b">src/dapp/index.css</code>进行以下更改-</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="f642" class="mc ks ht mx b fv nc nd l ne nf">…</span><span id="97fc" class="mc ks ht mx b fv ng nd l ne nf">#editor {</span><span id="fa7b" class="mc ks ht mx b fv ng nd l ne nf">height: 375px;</span><span id="26e7" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="1981" class="mc ks ht mx b fv ng nd l ne nf">strong { font-weight: bold !important; }</span><span id="5df8" class="mc ks ht mx b fv ng nd l ne nf">…</span></pre><h1 id="10cf" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">步骤5:在我们的dapp中使用html-widget</h1><p id="1935" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">转到<code class="eh mu mv mw mx b">src/dapp/pages/dapp-page.js</code>(这是我们所有dapp前端逻辑将驻留的地方)并进行以下更改。在那里导入创建的html-widget。我们将能够像使用常规html标签一样使用这个小部件，在dapp的任何地方使用Quill editor。</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="3bd1" class="mc ks ht mx b fv nc nd l ne nf">import DappLib from ‘../../lib/dapp-lib’;</span><span id="d709" class="mc ks ht mx b fv ng nd l ne nf">import CustomElement from ‘../../lib/components/shared/custom-element’;</span><span id="086d" class="mc ks ht mx b fv ng nd l ne nf">import DOM from ‘../../lib/components/shared/dom’;</span><span id="1507" class="mc ks ht mx b fv ng nd l ne nf">import ‘../../lib/components/shared/action-card.js’;</span><span id="90d3" class="mc ks ht mx b fv ng nd l ne nf">import ‘../../lib/components/widgets/number-widget.js’;</span><span id="ca39" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">import ‘../../lib/components/widgets/html-widget.js’;</strong></span><span id="428d" class="mc ks ht mx b fv ng nd l ne nf">import ActionButton from ‘../../lib/components/shared/action-button’;</span><span id="974c" class="mc ks ht mx b fv ng nd l ne nf">import canvas from ‘../assets/img/canvas.jpg’;</span><span id="213d" class="mc ks ht mx b fv ng nd l ne nf">export default class SiaPage extends CustomElement {</span><span id="a529" class="mc ks ht mx b fv ng nd l ne nf">constructor(…args) {</span><span id="87e0" class="mc ks ht mx b fv ng nd l ne nf">super([], …args);</span><span id="de12" class="mc ks ht mx b fv ng nd l ne nf">this.mode = ‘multiple’;</span><span id="2ebd" class="mc ks ht mx b fv ng nd l ne nf">this.files = [];</span><span id="4f92" class="mc ks ht mx b fv ng nd l ne nf">this.eventHandlerRegistered = false;</span><span id="3c52" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="e7c5" class="mc ks ht mx b fv ng nd l ne nf">render() {</span><span id="6934" class="mc ks ht mx b fv ng nd l ne nf">let self = this;</span><span id="6a8b" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">self.category = “Maintain your journal on decentralized web”;</strong></span><span id="f1bf" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">self.description = “Store your journal on decentralized file storage”;</strong></span><span id="dad8" class="mc ks ht mx b fv ng nd l ne nf">let uiHtml = {</span><span id="0a84" class="mc ks ht mx b fv ng nd l ne nf">[CustomElement.UI_READ]: ‘’,</span><span id="1815" class="mc ks ht mx b fv ng nd l ne nf">[CustomElement.UI_WRITE]: ‘’,</span><span id="f092" class="mc ks ht mx b fv ng nd l ne nf">[CustomElement.UI_ADMIN]: ‘’</span><span id="da2f" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="243d" class="mc ks ht mx b fv ng nd l ne nf">uiHtml[CustomElement.UI_READ] =</span><span id="9c42" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="e5dc" class="mc ks ht mx b fv ng nd l ne nf">&lt;action-card</span><span id="3638" class="mc ks ht mx b fv ng nd l ne nf">title=”Get Document” description=”Get Sia document using its ID”</span><span id="fc0e" class="mc ks ht mx b fv ng nd l ne nf">action=”getSiaDocument” method=”${CustomElement.METHOD_GET}” fields=”id”&gt;</span><span id="7960" class="mc ks ht mx b fv ng nd l ne nf">&lt;number-widget</span><span id="17a9" class="mc ks ht mx b fv ng nd l ne nf">field=”id” label=”Doc ID” placeholder=”Document ID”&gt;</span><span id="4222" class="mc ks ht mx b fv ng nd l ne nf">&lt;/number-widget&gt;</span><span id="9a1e" class="mc ks ht mx b fv ng nd l ne nf">&lt;/action-card&gt;</span><span id="480c" class="mc ks ht mx b fv ng nd l ne nf">&lt;action-card</span><span id="1c8b" class="mc ks ht mx b fv ng nd l ne nf">title=”Get Documents by Owner” description=”Get all Sia documents for any account”</span><span id="d188" class="mc ks ht mx b fv ng nd l ne nf">action=”getSiaDocumentsByOwner” method=”${CustomElement.METHOD_GET}” fields=”account”&gt;</span><span id="f377" class="mc ks ht mx b fv ng nd l ne nf">&lt;account-widget</span><span id="29c6" class="mc ks ht mx b fv ng nd l ne nf">field=”account” label=”Account” placeholder=”Account address”&gt;</span><span id="a345" class="mc ks ht mx b fv ng nd l ne nf">&lt;/account-widget&gt;</span><span id="41f3" class="mc ks ht mx b fv ng nd l ne nf">&lt;/action-card&gt;</span><span id="ea82" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="6957" class="mc ks ht mx b fv ng nd l ne nf">uiHtml[CustomElement.UI_WRITE] =</span><span id="377d" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="9f3b" class="mc ks ht mx b fv ng nd l ne nf">&lt;action-card</span><span id="2966" class="mc ks ht mx b fv ng nd l ne nf">title=”Make a journal entry” description=”Upload entry to Sia and add hash to contract”</span><span id="4ef8" class="mc ks ht mx b fv ng nd l ne nf">action=”addSiaDocument” method=”${CustomElement.METHOD_POST}” fields=”myText”</span><span id="79b8" class="mc ks ht mx b fv ng nd l ne nf">target=”card-body-addSiaDocument”</span><span id="7b97" class="mc ks ht mx b fv ng nd l ne nf">message=”Waiting for Sia upload and smart contract transaction”&gt;</span><span id="51d8" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;h2&gt; Start Writing! &lt;/h2&gt;</strong></span><span id="1fa2" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;html-widget</strong></span><span id="ddd7" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">data-field= “myText” field=”label” label=”Label”</strong></span><span id="1c9d" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">placeholder=”Description”&gt;</strong></span><span id="10f4" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;/html-widget&gt;</strong></span><span id="583b" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;input type=”hidden” data-field=”mode” value=”${self.mode}” style=”display:none;”&gt;&lt;/input&gt;</strong></span><span id="4340" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">&lt;/action-card&gt;</strong></span><span id="6d31" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="4de8" class="mc ks ht mx b fv ng nd l ne nf">let content =</span><span id="000e" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="e92a" class="mc ks ht mx b fv ng nd l ne nf">&lt;page-body title=”${self.title}” category=”${self.category}” description=”${self.description}”&gt;</span><span id="8b52" class="mc ks ht mx b fv ng nd l ne nf">${uiHtml[CustomElement.UI_READ]}</span><span id="1b39" class="mc ks ht mx b fv ng nd l ne nf">${uiHtml[CustomElement.UI_WRITE]}</span><span id="fd29" class="mc ks ht mx b fv ng nd l ne nf">${uiHtml[CustomElement.UI_ADMIN]}</span><span id="857f" class="mc ks ht mx b fv ng nd l ne nf">&lt;/page-body&gt;</span><span id="3911" class="mc ks ht mx b fv ng nd l ne nf">&lt;page-panel id=”resultPanel”&gt;&lt;/page-panel&gt;</span><span id="5f93" class="mc ks ht mx b fv ng nd l ne nf">`</span><span id="6bd1" class="mc ks ht mx b fv ng nd l ne nf">self.innerHTML = content;</span><span id="57b4" class="mc ks ht mx b fv ng nd l ne nf">// self.querySelector(‘upload-widget’).addEventListener(UploadWidget.EVENT_FILES_CHANGED, (e) =&gt; {</span><span id="0430" class="mc ks ht mx b fv ng nd l ne nf">// //Could do something here</span><span id="8eb6" class="mc ks ht mx b fv ng nd l ne nf">// //let files = e.detail.files;</span><span id="2b82" class="mc ks ht mx b fv ng nd l ne nf">// });</span><span id="828c" class="mc ks ht mx b fv ng nd l ne nf">if (!self.eventHandlerRegistered) {</span><span id="e267" class="mc ks ht mx b fv ng nd l ne nf">self.eventHandlerRegistered = true;</span><span id="b650" class="mc ks ht mx b fv ng nd l ne nf">DappLib.onAddSiaDocument((result) =&gt; {</span><span id="ac82" class="mc ks ht mx b fv ng nd l ne nf">let resultPanel = self.querySelector(‘#resultPanel’);</span><span id="1a31" class="mc ks ht mx b fv ng nd l ne nf">resultPanel.append(DappLib.getFormattedResultNode(result));</span><span id="b68f" class="mc ks ht mx b fv ng nd l ne nf">resultPanel.open();</span><span id="1146" class="mc ks ht mx b fv ng nd l ne nf">});</span><span id="5eaf" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="ba79" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="5c44" class="mc ks ht mx b fv ng nd l ne nf">async fetchAndDisplayCounter() {</span><span id="3109" class="mc ks ht mx b fv ng nd l ne nf">let result = await DappLib[‘getStateCounter’].call();</span><span id="0620" class="mc ks ht mx b fv ng nd l ne nf">DOM.elid(‘counter’).innerHTML = result.callData;</span><span id="787b" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="9d0f" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="124e" class="mc ks ht mx b fv ng nd l ne nf">customElements.define(‘dapp-page’, DappPage);</span></pre><p id="5f70" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">你的dapp现在应该是这个样子-</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/ff05ed8dd26f68a3934e70ea2855451c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8TfCz40iu9NCDcls"/></div></div></figure><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/119339cd4dc1b267f4a58314765d8096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UL1kJWpCWh52An9z"/></div></div></figure><h1 id="0bdf" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">第六步:删除多余的块和改变标志</h1><p id="56cb" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">让我们将dapp的定制提升到一个新的高度。让我们看起来像这样-</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/8a947bc719a9521319e85056c6c52100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cbQ0huryMB6dYzPZ"/></div></div></figure><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/baaa3dba2384f182416e1ff481cd791a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*438FshaeFl9UjHs9"/></div></div></figure><p id="b1b4" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">先换个logo吧。你可以使用任何图像。保存在<code class="eh mu mv mw mx b">src/dapp/assets/img</code>中。姑且称之为<code class="eh mu mv mw mx b">YOUR_FILE_NAME.png</code>。现在转到<code class="eh mu mv mw mx b">src/dapp/pages/components/page-navigation.js</code>。你在代码中看到这一行-</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="980a" class="mc ks ht mx b fv nc nd l ne nf">import logo from “../../../dapp/assets/img/dappstarter.png”;</span></pre><p id="58a3" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">把它改成</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="b2e5" class="mc ks ht mx b fv nc nd l ne nf"><strong class="mx hu">import logo from “../../../dapp/assets/img/YOUR_FILE_NAME.png”;</strong></span></pre><p id="7af0" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">我们还需要对<code class="eh mu mv mw mx b">webpack.config.dapp.js</code>进行更改(这是在项目的根目录中)</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="440f" class="mc ks ht mx b fv nc nd l ne nf">…</span><span id="11f5" class="mc ks ht mx b fv ng nd l ne nf">plugins: [</span><span id="80f5" class="mc ks ht mx b fv ng nd l ne nf">new HtmlWebpackPlugin({</span><span id="f873" class="mc ks ht mx b fv ng nd l ne nf">template: path.join(__dirname, ‘src/dapp/index.html’)</span><span id="71d5" class="mc ks ht mx b fv ng nd l ne nf">}),</span><span id="1288" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">new FaviconsWebpackPlugin(‘src/dapp/assets/img/YOUR_FILE_NAME.png’)</strong></span><span id="8207" class="mc ks ht mx b fv ng nd l ne nf">],</span><span id="e071" class="mc ks ht mx b fv ng nd l ne nf">…</span></pre><p id="ef9a" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">这是你的dapp现在应该的样子-</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/e544687673d76aa9f5fafbae01553dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V_OOOA2zpf8IFq6t"/></div></div></figure><p id="dffa" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">现在，让我们从左侧导航面板中删除功能块。转到<code class="eh mu mv mw mx b">src/dapp/pages/components/page-navigation.js</code>。</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="1ed5" class="mc ks ht mx b fv nc nd l ne nf">…</span><span id="03c9" class="mc ks ht mx b fv ng nd l ne nf">// Remove the block between //BEGIN //END below to remove feature blocks from navigation</span><span id="94af" class="mc ks ht mx b fv ng nd l ne nf">// BEGIN: Feature Blocks</span><span id="eea1" class="mc ks ht mx b fv ng nd l ne nf">// DOM.h4({</span><span id="4359" class="mc ks ht mx b fv ng nd l ne nf">// className: ‘mt-5 mb-2’</span><span id="5460" class="mc ks ht mx b fv ng nd l ne nf">// },</span><span id="fd77" class="mc ks ht mx b fv ng nd l ne nf">// “Feature Blocks”),</span><span id="a858" class="mc ks ht mx b fv ng nd l ne nf">// DOM.ul({</span><span id="2248" class="mc ks ht mx b fv ng nd l ne nf">// id: self.listId + ‘-blocks’,</span><span id="4e00" class="mc ks ht mx b fv ng nd l ne nf">// className: ‘list-group list-group-flush’</span><span id="8cba" class="mc ks ht mx b fv ng nd l ne nf">// },</span><span id="0070" class="mc ks ht mx b fv ng nd l ne nf">// listItems.slice(1)</span><span id="7ba1" class="mc ks ht mx b fv ng nd l ne nf">// ),</span><span id="71d6" class="mc ks ht mx b fv ng nd l ne nf">// END: Feature Blocks</span><span id="8eb7" class="mc ks ht mx b fv ng nd l ne nf">…</span></pre><p id="b227" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">你的dapp现在应该是这个样子-</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/fd5f497ac7e77a2e45c46101dac865a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sYpTwpoRPVWmgiEZ"/></div></div></figure><p id="c83e" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">我们快到了！！最后，让我们去掉顶部的导航栏。转到<code class="eh mu mv mw mx b">src/dapp/pages/components/top-navigation.js</code>并删除所有正在渲染的html。</p><p id="f655" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated"><code class="eh mu mv mw mx b">src/dapp/pages/components/top-navigation.js</code>应该是这样的——</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="b063" class="mc ks ht mx b fv nc nd l ne nf">import CustomElement from ‘../../../lib/components/shared/custom-element’;</span><span id="dbc7" class="mc ks ht mx b fv ng nd l ne nf">export default class TopNavigation extends CustomElement {</span><span id="9481" class="mc ks ht mx b fv ng nd l ne nf">static get ATTRIBUTE_COLLAPSE() {</span><span id="5058" class="mc ks ht mx b fv ng nd l ne nf">return ‘collapse’</span><span id="aa75" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="4eac" class="mc ks ht mx b fv ng nd l ne nf">static get observedAttributes() {</span><span id="4fb8" class="mc ks ht mx b fv ng nd l ne nf">return TopNavigation.attributes;</span><span id="6929" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="bbcb" class="mc ks ht mx b fv ng nd l ne nf">static get attributes() {</span><span id="89f7" class="mc ks ht mx b fv ng nd l ne nf">return [</span><span id="1452" class="mc ks ht mx b fv ng nd l ne nf">TopNavigation.ATTRIBUTE_COLLAPSE</span><span id="b83a" class="mc ks ht mx b fv ng nd l ne nf">];</span><span id="d400" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="9f01" class="mc ks ht mx b fv ng nd l ne nf">constructor(…args) {</span><span id="1949" class="mc ks ht mx b fv ng nd l ne nf">super(TopNavigation.attributes, …args);</span><span id="2a08" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="0c8c" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="0b26" class="mc ks ht mx b fv ng nd l ne nf">customElements.define(‘top-navigation’, TopNavigation);</span></pre><p id="bc17" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">这是你的dapp现在应该的样子-</p><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="fe ff ji"><img src="../Images/ea93ee337cacf2230313abd05abe96db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vSE9etuTXkYwXeG-"/></div></div></figure><h1 id="d674" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">步骤7:用Sia处理日志条目</h1><p id="de0a" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">与Sia文件上传相关的所有代码都存放在<code class="eh mu mv mw mx b">src/lib/dapp-lib.js</code>中。转到文件存储:SIA部分。这里唯一需要编辑的代码块是<code class="eh mu mv mw mx b">addSiaDocument()</code>。</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="bdb0" class="mc ks ht mx b fv nc nd l ne nf">static async addSiaDocument(data) {</span><span id="4086" class="mc ks ht mx b fv ng nd l ne nf">let folder = data.mode === ‘folder’;</span><span id="9960" class="mc ks ht mx b fv ng nd l ne nf">let config = DappLib.getConfig();</span><span id="a71c" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">//Name of the journal entry is the date and time when it was written</strong></span><span id="cb1d" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">const timeStamp = new Date().toString();</strong></span><span id="ca89" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// Convert data received from html-widget into a file</strong></span><span id="8c09" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">data.files = [new File([data.myText], `${timeStamp}.html`, {</strong></span><span id="7889" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">type: “text/html”,</strong></span><span id="d9ce" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">})];</strong></span><span id="295d" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">// Push files to SIA</strong></span><span id="bb42" class="mc ks ht mx b fv ng nd l ne nf"><strong class="mx hu">let siaResult = await DappLib.siaUpload(config, data.files, folder);</strong></span><span id="f566" class="mc ks ht mx b fv ng nd l ne nf">let results = [];</span><span id="f252" class="mc ks ht mx b fv ng nd l ne nf">for(let f=0; f&lt;siaResult.length; f++) {</span><span id="a2d7" class="mc ks ht mx b fv ng nd l ne nf">let file = siaResult[f];</span><span id="e947" class="mc ks ht mx b fv ng nd l ne nf">let result = await Blockchain.post({</span><span id="1272" class="mc ks ht mx b fv ng nd l ne nf">config: config,</span><span id="a68e" class="mc ks ht mx b fv ng nd l ne nf">contract: DappLib.DAPP_STATE_CONTRACT,</span><span id="8378" class="mc ks ht mx b fv ng nd l ne nf">params: {</span><span id="9963" class="mc ks ht mx b fv ng nd l ne nf">from: null,</span><span id="70ec" class="mc ks ht mx b fv ng nd l ne nf">gas: 2000000</span><span id="7ce0" class="mc ks ht mx b fv ng nd l ne nf">}</span><span id="3645" class="mc ks ht mx b fv ng nd l ne nf">},</span><span id="0382" class="mc ks ht mx b fv ng nd l ne nf">‘addSiaDocument’,</span><span id="87df" class="mc ks ht mx b fv ng nd l ne nf">file.docId,</span><span id="152f" class="mc ks ht mx b fv ng nd l ne nf">DappLib.fromAscii(data.label || ‘’, 32)</span><span id="7059" class="mc ks ht mx b fv ng nd l ne nf">);</span><span id="cc45" class="mc ks ht mx b fv ng nd l ne nf">results.push({</span><span id="c6fd" class="mc ks ht mx b fv ng nd l ne nf">transactionHash: DappLib.getTransactionHash(result.callData),</span><span id="c705" class="mc ks ht mx b fv ng nd l ne nf">docId: file.docId</span><span id="43ba" class="mc ks ht mx b fv ng nd l ne nf">});</span><span id="fc65" class="mc ks ht mx b fv ng nd l ne nf">}</span></pre><h1 id="7d9d" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">第八步:最后的润色</h1><p id="b67f" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">我们的dapp快好了。我们只需要在<code class="eh mu mv mw mx b">src/dapp/index.css</code>做几个礼拜。将以下几行添加到文件中-</p><pre class="jj jk jl jm fq my mx mz na aw nb dt"><span id="b2c4" class="mc ks ht mx b fv nc nd l ne nf">.markup {</span><span id="9dcc" class="mc ks ht mx b fv ng nd l ne nf">font-family:courier;</span><span id="a191" class="mc ks ht mx b fv ng nd l ne nf">}</span></pre><h1 id="a4e5" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">这些都是我们必须做出的改变！现在让我们看看我们的dapp在行动。</h1><figure class="jj jk jl jm fq jn fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/354238d5e488415a687c9068190b62fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*sKVJUncgu4PgE2Fq"/></div></figure><h1 id="2b48" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">祝贺你，如果你坚持到了这里！🎉</h1><p id="f308" class="pw-post-body-paragraph ju jv ht jw b jx lj iu jz ka lk ix kc kd ll kf kg kh lm kj kk kl ln kn ko kp hm dt translated">你可以修改你的dapp来为作者开发更复杂的平台。我们所构建的仅仅是您作为开发人员可以构建的众多用例中的一个例子。</p><p id="90fd" class="pw-post-body-paragraph ju jv ht jw b jx jy iu jz ka kb ix kc kd ke kf kg kh ki kj kk kl km kn ko kp hm dt translated">激情经济的未来取决于内容创作者的透明和公平理念。区块链提供了一种独特的基础设施，通过确保创作者的努力得到公平的补偿，鼓励他们制作精彩的内容。为激情经济建立一个dapp不仅仅是为了将内容货币化，而是为了提供一个透明、开放的系统，在这个系统中，创作者可以创造和分享让他们独一无二的东西。</p><h1 id="ef70" class="kr ks ht bd kt ku kv kw kx ky kz la lb iz lc ja ld jc le jd lf jf lg jg lh li dt translated">使用DappStarter开始构建您的dapp。</h1><blockquote class="nh"><p id="1cb2" class="ni nj ht bd nk nl nm nn no np nq kp ek translated"><a class="ae kq" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="ns nt nu nv nw jn fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nr"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>