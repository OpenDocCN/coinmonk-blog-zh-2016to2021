<html>
<head>
<title>Getting started with Solidity development using Truffle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Truffle开始Solidity开发</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/getting-started-with-solidity-development-using-truffle-2cc6c1df9133?source=collection_archive---------1-----------------------#2018-04-09">https://medium.com/coinmonks/getting-started-with-solidity-development-using-truffle-2cc6c1df9133?source=collection_archive---------1-----------------------#2018-04-09</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/8e19f3921aaa640f91f91a9fa3f5c7a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PRxtljcUPuD0Ea-FHdwC8g.png"/></div></div></figure><p id="998f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">由</strong> <a class="ae jz" href="https://www.linkedin.com/in/yorke-rhodes-iv/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">约克罗德斯</strong></a><strong class="jd hu">T22】2017年1月31日</strong></p><p id="8a8b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">更新于</strong> <a class="ae jz" href="https://www.linkedin.com/in/joseph-delong-b3084332/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">约瑟夫·德龙</strong></a>2018年4月9日</p><h1 id="f85e" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">先决条件</h1><ul class=""><li id="8148" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated"><a class="ae jz" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a></li><li id="70ab" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><a class="ae jz" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">节点包管理器(NPM) </a></li></ul><h1 id="e8d0" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">游戏攻略</h1><h2 id="bcb1" class="lo kb ht bd kc lp lq lr kg ls lt lu kk jm lv lw ko jq lx ly ks ju lz ma kw mb dt translated"><strong class="ak">安装</strong></h2><ol class=""><li id="ac4b" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy mc lg lh li dt translated">我们需要先安装松露包<code class="eh md me mf mg b">sudo npm install -g truffle</code></li><li id="1c07" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy mc lg lh li dt translated">验证是否已成功下载<code class="eh md me mf mg b">truffle</code></li><li id="9c20" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy mc lg lh li dt translated">我们还需要安装TestRPC <code class="eh md me mf mg b">sudo npm install -g ethereumjs-testrpc</code></li><li id="db7b" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy mc lg lh li dt translated">验证是否已成功下载<code class="eh md me mf mg b">testrpc</code></li></ol><p id="4e27" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">设置初始化一个默认的truffle项目，导航到所需的目录并运行<code class="eh md me mf mg b">truffle init</code></p><p id="be4b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">要配置truffle来使用我们的testRPC客户端，用以下内容填充<code class="eh md me mf mg b">truffle.js</code>:</p><figure class="mh mi mj mk fq iu"><div class="bz el l di"><div class="ml mm l"/></div></figure><h2 id="e43e" class="lo kb ht bd kc lp lq lr kg ls lt lu kk jm lv lw ko jq lx ly ks ju lz ma kw mb dt translated">合同</h2><p id="0c24" class="pw-post-body-paragraph jb jc ht jd b je la jg jh ji lb jk jl jm mn jo jp jq mo js jt ju mp jw jx jy hm dt translated">让我们写下我们的第一份合同。在contracts目录下创建一个名为<code class="eh md me mf mg b">SimpleStorage.sol</code>的新文件</p><p id="b03e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">用以下内容填充<code class="eh md me mf mg b">SimpleStorage.sol</code>:</p><figure class="mh mi mj mk fq iu"><div class="bz el l di"><div class="ml mm l"/></div></figure><p id="20e3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们起草合同吧。在我们的块菌项目的根目录中运行<code class="eh md me mf mg b">truffle compile</code>。您应该会收到一些有用的警告。您还应该被通知一个新的工件已经被编写。</p><h2 id="8e0c" class="lo kb ht bd kc lp lq lr kg ls lt lu kk jm lv lw ko jq lx ly ks ju lz ma kw mb dt translated">部署</h2><p id="8f88" class="pw-post-body-paragraph jb jc ht jd b je la jg jh ji lb jk jl jm mn jo jp jq mo js jt ju mp jw jx jy hm dt translated">我们现在必须配置truffle来将这个工件部署到我们的网络中。在迁移目录中创建一个名为<code class="eh md me mf mg b">2_deploy_contracts.js</code>的新文件。</p><p id="593e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">用以下内容填充<code class="eh md me mf mg b">2_deploy_contracts.js</code>:</p><figure class="mh mi mj mk fq iu"><div class="bz el l di"><div class="ml mm l"/></div></figure><p id="f5c9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在，如果我们运行<code class="eh md me mf mg b">truffle deploy</code>,我们应该会看到我们的迁移脚本正在运行，最终truffle会告诉我们创建合同帐户的地址。</p><h2 id="3820" class="lo kb ht bd kc lp lq lr kg ls lt lu kk jm lv lw ko jq lx ly ks ju lz ma kw mb dt translated">试验</h2><p id="920d" class="pw-post-body-paragraph jb jc ht jd b je la jg jh ji lb jk jl jm mn jo jp jq mo js jt ju mp jw jx jy hm dt translated">我们现在能拿合同做什么？我们应该在考虑永久部署它之前对它进行测试(在一个活跃的以太网上)！</p><p id="23b4" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">让我们编写第一个测试。在测试目录中创建一个名为<code class="eh md me mf mg b">simpleStorage.js</code>的新文件。</p><p id="548d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">用以下内容填充<code class="eh md me mf mg b">simpleStorage.js</code>:</p><figure class="mh mi mj mk fq iu"><div class="bz el l di"><div class="ml mm l"/></div></figure><p id="a9cb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在运行我们的测试之前，我们需要确保我们的以太坊客户端正在运行。打开另一个终端窗口并运行<code class="eh md me mf mg b">testrpc</code>(如果你还没有运行的话)。</p><p id="34f6" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在回到你的松露项目并运行<code class="eh md me mf mg b">truffle test</code>。我们的一项测试应该会失败。找到错误并修复它。</p><h1 id="c7d7" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">解决纷争</h1><p id="c6df" class="pw-post-body-paragraph jb jc ht jd b je la jg jh ji lb jk jl jm mn jo jp jq mo js jt ju mp jw jx jy hm dt translated">如果您遇到问题，我有一个GitHub存储库，里面有本指南的工作版本。在您的终端运行中:</p><p id="1fdb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><code class="eh md me mf mg b">git clone <a class="ae jz" href="https://github.com/dangerousfood/hello_contract.git" rel="noopener ugc nofollow" target="_blank">https://github.com/dangerousfood/hello_contract.git</a></code></p><p id="542b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果<code class="eh md me mf mg b">truffle compile</code>或<code class="eh md me mf mg b">truffle test</code>在新克隆的文件夹中失败，那么可能存在环境问题。确保NodeJS和NPM安装正确。</p><h1 id="9c8f" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">进一步链接</h1><ul class=""><li id="8299" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated"><a class="ae jz" href="https://solidity.readthedocs.io/en/develop/index.html#" rel="noopener ugc nofollow" target="_blank">稠度文件</a></li><li id="fbb9" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><a class="ae jz" href="http://truffleframework.com/docs/" rel="noopener ugc nofollow" target="_blank">松露文件</a></li></ul><blockquote class="mq"><p id="1b75" class="mr ms ht bd mt mu mv mw mx my mz jy ek translated"><a class="ae jz" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获取最佳软件交易</a></p></blockquote><figure class="nb nc nd ne nf iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff na"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>