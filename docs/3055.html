<html>
<head>
<title>Hyperledger Fabric Best Practices #2 Connect Hyperledger Explorer To Your Network The Easiest Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger结构最佳实践#2以最简单的方式将Hyperledger Explorer连接到您的网络</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/hyperledger-fabric-best-practices-in-production-2-connect-hyperledger-explorer-to-your-network-bf0810b3a7c9?source=collection_archive---------0-----------------------#2020-06-08">https://medium.com/coinmonks/hyperledger-fabric-best-practices-in-production-2-connect-hyperledger-explorer-to-your-network-bf0810b3a7c9?source=collection_archive---------0-----------------------#2020-06-08</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/334ffb6c096bd2dadadcfa37f86ee47c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0EYcerZmvMTcbA1m3Ta7lQ.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Image Source: <a class="ae jf" href="https://www.hyperledger.org/" rel="noopener ugc nofollow" target="_blank">hyperledger.org</a></figcaption></figure><p id="7ecc" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这里，我假设您已经设置了结构网络，并尝试将explorer连接到网络。你查看了explorer的官方文档，不知何故你在设置时遇到了很多问题。于是你打开medium，搜索“连接hyperledger explorer到网络”。嘣！外面有很多文章。你一个接一个地打开，不知何故，它们都让你感到害怕，你需要设置Nodejs、Postgres DB、创建表和行，以及在每个子目录上安装一堆npm命令。你做梦去吧。不记得怎么可能忘记？好吧，没关系！。我们大多数人都不知道，我们可以用docker轻松设置hyperledger explorer。甚至，官方文档总是强调本机设置。如果我们可以在三个简单的步骤内将explorer连接到我们的网络，而不发生任何戏剧性的事情，会怎么样？好吧，dockerizing hyperledger浏览器..！本文的目的是提升被低估的dockerized explorer设置。Dockerizing hyperledger explorer解决了原生设置带来的许多棘手问题。我谅你也不敢用这三个步骤来设置hyperledger explorer到你的网络。让我们跳进来。</p><p id="1375" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">等等，关于Hyperledger Explorer的小背景:</strong></p><p id="5ba6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">人们注意到，账本中的其他原始<a class="ae jf" href="https://blog.coincodecap.com/what-is-blockchain-a-simple-guide-for-dummies/" rel="noopener ugc nofollow" target="_blank">区块链</a>数据格式困难，因此人工阅读存在障碍。区块链就是交易，区块，对吧？因此，作为开发人员，在演示区块链应用程序时，我们需要向客户展示我们的事务活动、统计数据，或者向非技术人员展示区块链是如何工作的。这就是Hyperledger Explorer发挥作用的地方。Hyperledger Explorer在模板、图表、图片和图形的帮助下，创建了一个简单而有吸引力的可视化界面。Hyperledger Explorer是一个用户友好的Web应用程序工具，用于查看或查询块、事务和相关数据、网络信息(名称、状态、节点列表)、链代码和事务系列，以及存储在分类帐中的任何其他相关信息。事不宜迟，让我们进入设置。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ke"><img src="../Images/b6b81cd87304cd5a2d6243ea91c08c60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mLAB2PlUnMwHDzEwPAtY9w.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Image Source: <a class="ae jf" href="https://blockchain-explorer.readthedocs.io/en/master/presentation/" rel="noopener ugc nofollow" target="_blank">https://blockchain-explorer.readthedocs.io/en/master/presentation/</a></figcaption></figure><h2 id="d762" class="kj kk ht bd kl km kn ko kp kq kr ks kt jr ku kv kw jv kx ky kz jz la lb lc ld dt translated">步骤:</h2><p id="2d04" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated"><strong class="ji hu">步骤1: </strong>将b <a class="ae jf" href="https://github.com/hyperledger/blockchain-explorer" rel="noopener ugc nofollow" target="_blank">锁链浏览器</a>存储库克隆到您的项目根目录。</p><p id="6dfe" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">步骤2: </strong>将您的对等证书复制到区块链浏览器目录，并根据您的网络设置更新连接配置文件。</p><p id="3829" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">步骤3: </strong>根据您的网络修改explorer的docker-compose文件。</p><p id="c98b" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">先决条件:</strong></p><ol class=""><li id="e066" class="lj lk ht ji b jj jk jn jo jr ll jv lm jz ln kd lo lp lq lr dt translated"><strong class="ji hu">网络名称:</strong></li></ol><p id="ee91" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了将hyperledger explorer连接到您的网络，您的网络应该在设置explorer的同一台主机上启动并运行。检查您正在运行的网络，并复制网络名称，因为我们稍后需要这样做。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ls"><img src="../Images/c9a539fa26caca2bc55d90bcf4a53fe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VoxGin5fN2FiMjypU0eq0g.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">docker network list</figcaption></figure><p id="954f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu"> 2。组织的管理员私钥:</strong></p><p id="d15f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">由于hyperledger fabric是一个许可网络，具有适当身份验证的参与者只能查看特定网络的分类帐数据。因此，我们需要复制参与者(组织)的私有密钥来装载admin用户，以便他可以访问分类帐数据。因此，请转到该组织的管理目录。即<code class="eh lt lu lv lw b">crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/keystore</code>，并复制包含字母数字字符串并以<code class="eh lt lu lv lw b">_sk</code>结尾的私钥文件名(仅文件名)。请注意，文件夹结构因网络而异。您所要做的就是复制特定组织的管理私钥。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lx"><img src="../Images/761c3d119b96301baac71c0c6fc73164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43_6D8Je3XbI7cnpEGAg4w.jpeg"/></div></div></figure><h1 id="e18f" class="ly kk ht bd kl lz ma mb kp mc md me kt mf mg mh kw mi mj mk kz ml mm mn lc mo dt translated">步骤:</h1><p id="6c0d" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated"><strong class="ji hu">步骤1:将区块链资源管理器存储库克隆到您的项目根目录:</strong></p><p id="e9f2" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在所有网络工件所在的项目根目录下，克隆官方的区块链资源管理器存储库。</p><pre class="kf kg kh ki fq mp lw mq mr aw ms dt"><span id="e4dc" class="kj kk ht lw b fv mt mu l mv mw">git clone <a class="ae jf" href="https://github.com/hyperledger/blockchain-explorer.git" rel="noopener ugc nofollow" target="_blank">https://github.com/hyperledger/blockchain-explorer.git</a></span></pre><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/eda93b4c4ea84de4acaae52028d1afdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*cAWEqWnYFCBbTRHp28lsPg.jpeg"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Project Root Directory where ‘hlf-raft’ is the running fabric network artifacts directory.</figcaption></figure><p id="674d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">步骤2: </strong> <strong class="ji hu">将您的</strong> <code class="eh lt lu lv lw b"><strong class="ji hu">crypto-config/peerOrganizations</strong></code> <strong class="ji hu">目录复制到</strong> <code class="eh lt lu lv lw b"><strong class="ji hu">blockchain-explorer/examples/net1/crypto</strong></code> <strong class="ji hu">目录，并根据您的网络设置更新连接配置文件:</strong></p><pre class="kf kg kh ki fq mp lw mq mr aw ms dt"><span id="bb42" class="kj kk ht lw b fv mt mu l mv mw">cd crypto-config<br/>cp -r peerOrganizations ../blockchain-explorer/examples/net1/crypto</span></pre><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff my"><img src="../Images/188e4009d087e5bef84d3b5f82c98ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*op-xLRxotinNqsnJrlyJfw.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">peerOrganizations directory in “blockchain-explorer/examples/net1/crypto/</figcaption></figure><p id="dfbb" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">根据您的网络组件配置修改<code class="eh lt lu lv lw b">blockchain-explorer/examples/net1/connection-profile/first-network.json</code>中的连接配置文件，即修改通道名称、组织名称、MSP和对等名称。如果您的组织有多个同级，您不需要定义所有同级。定义一个对等点就足够了。如果您正在将explorer连接到第一网络(BYFN)，您不需要更改配置。默认情况下，所有这些命名约定都与第一网络相关。然而，作为先决条件(2)，您仍然需要用您之前复制的私钥的文件名来修改<code class="eh lt lu lv lw b">adminPrivateKey</code> path。只需用复制的密钥替换默认密钥。</p><p id="8e8a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">注意:如果您的网络结构不同于BYFN或传统的命名约定，即org1.example.com。您需要根据您的网络证书路径修改<code class="eh lt lu lv lw b">signedCert</code>的<code class="eh lt lu lv lw b">path</code>和对等方的<code class="eh lt lu lv lw b">tlsCaCerts</code>。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mz"><img src="../Images/e04364ae28b3435bd79d0fc13cdda4a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oJ7cbaCZIxI2n13w5FfZaA.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">File Path — “blockchain-explorer/examples/net1/connection-profile/first-network.json”</figcaption></figure><p id="1fe0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第三步:根据你的网络修改资源管理器的docker-compose文件。</p><p id="ff9e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">回到<code class="eh lt lu lv lw b">blockchain-explorer</code>根目录，打开名为<code class="eh lt lu lv lw b">docker-compose.yaml</code>的文件。在这里，您需要做的只是使用您之前作为先决条件(1)复制的运行结构网络名称修改外部网络<code class="eh lt lu lv lw b">name</code>，并保存它。</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div class="fe ff na"><img src="../Images/895a2b0a1703f1266c5d754186b239e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*zP8T0z0srGqJ6pSsUdwSvA.jpeg"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">File Path — “blockchain-explorer/docker-compose.yaml”</figcaption></figure><p id="96e7" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在，在您的<code class="eh lt lu lv lw b">blockchain-explorer</code>目录中，运行</p><pre class="kf kg kh ki fq mp lw mq mr aw ms dt"><span id="a43c" class="kj kk ht lw b fv mt mu l mv mw">sudo docker-compose up -d</span></pre><p id="360e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在一分钟内，Hyperledger explorer与您的网络连接，您可以查看它的运行情况。</p><pre class="kf kg kh ki fq mp lw mq mr aw ms dt"><span id="0342" class="kj kk ht lw b fv mt mu l mv mw"><a class="ae jf" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a>    #Internal<br/>http://&lt;machine Ip&gt;:8090 #External</span></pre><h2 id="4674" class="kj kk ht bd kl km kn ko kp kq kr ks kt jr ku kv kw jv kx ky kz jz la lb lc ld dt translated">故障排除:</h2><p id="88ea" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated">如果您无法在上述任何端点上查看explorer，请使用命令<code class="eh lt lu lv lw b">docker ps -a</code>检查是否所有容器都已启动并运行。如果有任何容器关闭，请检查该容器的日志。在大多数情况下，如果您的连接配置文件中有任何配置错误或者提供了错误的管理员私有密钥，<code class="eh lt lu lv lw b">explorer.mynetwork.com </code>容器将会退出。请确保您的连接配置文件配置正确，并检查您是否提供了正确的管理密钥和管理私钥的路径。</p><h1 id="d216" class="ly kk ht bd kl lz ma mb kp mc md me kt mf mg mh kw mi mj mk kz ml mm mn lc mo dt translated">结论</h1><p id="4284" class="pw-post-body-paragraph jg jh ht ji b jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz li kb kc kd hm dt translated">社区中有许多关于设置Hyperledger Explorer的问题，因此我们决定与您分享我们的知识。感谢您的阅读，如果您有任何问题，请随时提问。这是关于"<a class="ae jf" rel="noopener" href="/series/bf95a7f80d74"> Hyperledger Fabric最佳实践</a>"的系列文章，我将在这个系列中添加更多的实践和技巧。你们有兴趣吗？跟我来。</p><p id="2da8" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">快乐超帐织物🙌</p><figure class="kf kg kh ki fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff nb"><img src="../Images/e9dbce386c4f90837b5db529a4c87766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fZu_SfnNF6m_BGbXlsl-A@2x.png"/></div></div></figure><blockquote class="nc"><p id="7fab" class="nd ne ht bd nf ng nh ni nj nk nl kd ek translated"><a class="ae jf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="nn no np nq nr iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nm"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>