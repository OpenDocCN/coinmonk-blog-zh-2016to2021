<html>
<head>
<title>Introducing the Ethereum Development Environment: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊开发环境简介:第1部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/introducing-the-ethereum-development-environment-part-1-bed0a273e55?source=collection_archive---------1-----------------------#2021-08-23">https://medium.com/coinmonks/introducing-the-ethereum-development-environment-part-1-bed0a273e55?source=collection_archive---------1-----------------------#2021-08-23</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="bc9c" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated"><strong class="ak">我的以太坊开发工具链</strong></h2></div><p id="e37b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">像所有其他软件开发过程一样，在以太坊中构建<a class="ae ke" href="https://ethereum.org/en/dapps/" rel="noopener ugc nofollow" target="_blank">分散式应用</a>会附带一套开发工具。其实有很多选择。</p><p id="4a61" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在这个由2部分组成的教程中，我将通过构建<a class="ae ke" rel="noopener" href="/coinmonks/the-freelancers-smart-contract-how-it-works-fda5e1fddf8d">自由职业者分散应用</a>的例子来展示我的以太坊开发工具链:</p><ol class=""><li id="3c77" class="kf kg ht jk b jl jm jo jp jr kh jv ki jz kj kd kk kl km kn dt translated">编写和测试Solidity Smart契约</li><li id="7017" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd kk kl km kn dt translated"><a class="ae ke" href="https://jacksonngtech.medium.com/introducing-the-ethereum-development-environment-part-2-5fc49a62621d" rel="noopener">构建和部署DApp </a></li></ol><p id="536c" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我在本教程中使用的脚本和配置文件可以在我的GitHub库<a class="ae ke" href="https://github.com/jacksonng77/GettingStartedEthereum" rel="noopener ugc nofollow" target="_blank">这里</a>找到</p><p id="cecc" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">有很多方法可以建造DApp，这是我的方法。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff kt"><img src="../Images/20df42c2ddba6e9cb80d8fdfdd65d658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OGx_GOmvZSWshYAAkoEEbQ.jpeg"/></div></div><figcaption class="lf lg fg fe ff lh li bd b be z ek">Photo by <a class="ae ke" href="https://unsplash.com/@alexacea?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Alexandru Acea</a> on <a class="ae ke" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="d23d" class="lj lk ht bd ll lm ln lo lp lq lr ls lt jr lu lv lw jv lx ly lz jz ma mb mc md dt translated"><strong class="ak">加纳切</strong></h2><p id="cd6c" class="pw-post-body-paragraph ji jj ht jk b jl me iu jn jo mf ix jq jr mg jt ju jv mh jx jy jz mi kb kc kd hm dt translated"><a class="ae ke" href="https://www.trufflesuite.com/ganache" rel="noopener ugc nofollow" target="_blank"> Ganache </a>是基于桌面的个人以太坊区块链。一个本地的、独立的以太坊区块链网络是测试你的代码的最快方式，因为交易是瞬间执行的。</p><p id="c0db" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">访问Ganache，下载、安装并在您的计算机上启动它。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mj"><img src="../Images/758640d69f22755bd69fc544ccf6a399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dBk9BmzWM3LbbOKZ.png"/></div></div></figure><p id="656d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">添加新的工作空间。称之为“自由职业者合同”，因为我们将在这个独立的本地以太坊区块链网络中测试我们的自由职业者合同。保存工作空间并启动它。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/7ce6881fa195919e8ac7d3a006986426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Jdk2WUEpOjotNwWs.png"/></div></div></figure><p id="d0ad" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">请注意，已经生成了一些帐户，每个帐户都有100个ETH。点按“显示密钥”以显示第一个帐户的私钥。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/6f37ede4d3e85a9aa416447d3abb7759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4nHq_Vos98vYHwW2.png"/></div></div></figure><p id="42a3" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">复制私钥。我们将在下一步中使用这个密钥。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff ml"><img src="../Images/fd965208b02e01ed72a71af8f3679af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K-riROohKUefk4mt.png"/></div></div></figure><h2 id="4000" class="lj lk ht bd ll lm ln lo lp lq lr ls lt jr lu lv lw jv lx ly lz jz ma mb mc md dt translated"><strong class="ak">元掩码</strong></h2><p id="79d6" class="pw-post-body-paragraph ji jj ht jk b jl me iu jn jo mf ix jq jr mg jt ju jv mh jx jy jz mi kb kc kd hm dt translated">MetaMask是一款以太坊钱包。就像你存放美元钞票的实体钱包一样，MetaMask可以让你在账户之间存钱、消费和转账。MetaMask还允许您执行以太坊交易和运行分散的应用程序。</p><p id="5331" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在Chrome或Firefox浏览器上下载并设置MetaMask。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mm"><img src="../Images/1555f4735cb13464ff44349c119c7050.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vcg-BBBNtxRlpz0i.png"/></div></div></figure><p id="4982" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">默认情况下，您的新MetaMask钱包连接到主以太坊网络。我们会将其重新连接到我们本地的Ganache以太坊区块链。为此，请访问元掩码上的设置。添加具有下列设置的网络:</p><ul class=""><li id="6d6c" class="kf kg ht jk b jl jm jo jp jr kh jv ki jz kj kd mn kl km kn dt translated"><strong class="jk hu">网络名称:</strong>本地(您可以称之为Ganache，或者任何您喜欢的名称)</li><li id="3d1b" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><strong class="jk hu">新建RPC URL:</strong><a class="ae ke" href="http://HTTP://127.0.0.1:7545" rel="noopener ugc nofollow" target="_blank">HTTP://127 . 0 . 0 . 1:7545</a>(你可以在RPC服务器下的Ganache上找到这个</li><li id="9286" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><strong class="jk hu">链ID: </strong> 1337(这是Ganache的默认设置)</li></ul><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/b79c7fcb5efbdbe0a5a9293c4a1ef7bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jU3npTwofX3SaSit.png"/></div></div></figure><p id="27d1" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">导入帐户。将您之前复制的私钥粘贴到私钥文本字段中。这会将相应的Ganache帐户导入到您的MetaMask wallet中。如果你这样做是正确的，你会在这个账户中看到100 ETH。如果你愿意，你可以从Ganache导入更多的账户到MetaMask。</p><h2 id="49b3" class="lj lk ht bd ll lm ln lo lp lq lr ls lt jr lu lv lw jv lx ly lz jz ma mb mc md dt translated"><strong class="ak"> Visual Studio代码</strong></h2><p id="3a65" class="pw-post-body-paragraph ji jj ht jk b jl me iu jn jo mf ix jq jr mg jt ju jv mh jx jy jz mi kb kc kd hm dt translated">我使用Visual Studio代码作为我的集成开发环境(IDE)。我喜欢它，因为它附带了我喜欢使用的Solidity开发扩展。使用哪种IDE并不重要。在这里下载并安装你的<a class="ae ke" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff mo"><img src="../Images/f9f9359896e6e611789eef368d6a147c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/0*RTZS_68zlVIwzDJ6.png"/></div></figure><p id="d730" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">搜索“Solidity Visual Developer”扩展并安装它。这将在你编码时提供坚实的语言支持。我喜欢它时髦的彩色代码亮点！</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/65de219e81ad889248a502823abc8f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*D9J7Al8HTyLTr9HU.png"/></div></div></figure><h2 id="435b" class="lj lk ht bd ll lm ln lo lp lq lr ls lt jr lu lv lw jv lx ly lz jz ma mb mc md dt translated"><strong class="ak">松露盒</strong></h2><p id="8bf7" class="pw-post-body-paragraph ji jj ht jk b jl me iu jn jo mf ix jq jr mg jt ju jv mh jx jy jz mi kb kc kd hm dt translated">构建Ganache的人还构建了"<a class="ae ke" href="https://www.trufflesuite.com/boxes" rel="noopener ugc nofollow" target="_blank">Truffle box</a>"，这是带有<a class="ae ke" href="https://docs.soliditylang.org/en/v0.4.24/" rel="noopener ugc nofollow" target="_blank"> Solidity </a>、<a class="ae ke" href="https://web3js.readthedocs.io/en/v1.4.0/" rel="noopener ugc nofollow" target="_blank"> Web3 </a>和其他库的样板文件，开发人员需要这些库来编译和测试他们的智能合约，并为您的分散式应用构建前端。有用于<a class="ae ke" href="https://www.trufflesuite.com/boxes/react" rel="noopener ugc nofollow" target="_blank"> React应用</a>、<a class="ae ke" href="https://www.trufflesuite.com/boxes/drizzle-react-native" rel="noopener ugc nofollow" target="_blank"> React原生</a>和<a class="ae ke" href="https://www.trufflesuite.com/boxes/pet-shop" rel="noopener ugc nofollow" target="_blank">项目样本</a>的松露盒。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mp"><img src="../Images/275ee7434e421843a79e3339a6386791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SOcgnbMgXAWU7xCE.png"/></div></div></figure><p id="ca06" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在本教程中，我们正在构建自由职业者DApp，一个简单的基于HTML/JavaScript/Bootstrap的Web应用程序。所以我们将使用webpack盒子。</p><p id="67a4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">安装松露</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="4d2b" class="lj lk ht mr b fv mv mw l mx my">npm install -g truffle</span></pre><p id="b64d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们现在准备开发我们的自由职业者DApp项目。在你的电脑上创建一个新文件夹“自由职业者”。输入以下命令，将webpack样板文件解压缩到文件夹中:</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="dde0" class="lj lk ht mr b fv mv mw l mx my">npx truffle unbox webpack</span></pre><p id="08a5" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在VS代码中打开文件夹。我们准备开始建设。</p><p id="14db" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">编辑<code class="eh mz na nb mr b">truffle-config.js</code>。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/ed7987bd81414af313c0f5311fa3e7db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V2GFfs6HlguOq1cR.png"/></div></div></figure><p id="5951" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">更改network下的<code class="eh mz na nb mr b">develop</code>设置，使其指向Ganache，因为这是我们测试合同的地方:</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="e6b5" class="lj lk ht mr b fv mv mw l mx my">develop: {<br/>      host: "127.0.0.1",     // Localhost (default: none)<br/>      port: 7545,            // Standard Ethereum port (default: none)<br/>      network_id: "*",       // Any network (default: none)<br/>    },</span></pre><p id="f201" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">将Solidity编译器版本改为0.8.0，因为自由职业者智能合约是用Solidity 0.8.0编写的:</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="b205" class="lj lk ht mr b fv mv mw l mx my">solc: {<br/>       version: "0.8.0",    // Fetch exact version from solc-bin (default: truffle's version)<br/>    }</span></pre><p id="5ab5" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是webpack样板文件的迁移智能合同。将迁移智能契约的Solidity版本也更改为0.8.0，以便它可以使用我们在truffle-config.js中指明的正确版本的Solidity编译器进行编译。</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="987a" class="lj lk ht mr b fv mv mw l mx my">// SPDX-License-Identifier: MIT<br/>pragma solidity ^0.8.0;</span><span id="915c" class="lj lk ht mr b fv nc mw l mx my">contract Migrations {<br/>    address public owner;<br/>    uint public last_completed_migration;</span><span id="d008" class="lj lk ht mr b fv nc mw l mx my">    constructor() public {<br/>        owner = msg.sender;<br/>    }</span><span id="6b98" class="lj lk ht mr b fv nc mw l mx my">    modifier <strong class="mr hu">restricted</strong>() {<br/>        <strong class="mr hu">if</strong> (msg.sender == owner) _;<br/>    }</span><span id="c5d9" class="lj lk ht mr b fv nc mw l mx my">    function <strong class="mr hu">set</strong>Completed(uint completed) public restricted {<br/>        last_completed_migration = completed;<br/>    }<br/>}</span></pre><h2 id="b275" class="lj lk ht bd ll lm ln lo lp lq lr ls lt jr lu lv lw jv lx ly lz jz ma mb mc md dt translated"><strong class="ak">编译&amp;部署freelancer.sol </strong></h2><p id="f0a2" class="pw-post-body-paragraph ji jj ht jk b jl me iu jn jo mf ix jq jr mg jt ju jv mh jx jy jz mi kb kc kd hm dt translated">将<a class="ae ke" href="https://github.com/jacksonng77/GettingStartedEthereum/blob/main/freelancer.sol" rel="noopener ugc nofollow" target="_blank"> freelancer.sol </a>复制到/contract文件夹中。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/1aa94cb8fe4e67d8f94d069b5a1b12f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nR2oWX2BaWxfL6ZR.png"/></div></div></figure><p id="ef74" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">然后运行以下命令编译freelancer.sol和migration.sol:</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="a3e7" class="lj lk ht mr b fv mv mw l mx my">truffle compile</span></pre><p id="eaa8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们现在准备迁移部署freelancer.sol智能合同。</p><p id="174b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在我的迁移脚本中，我编写了一个基本场景来执行一个<a class="ae ke" rel="noopener" href="/coinmonks/the-freelancers-smart-contract-how-it-works-fda5e1fddf8d">端到端流程</a>，从合同启动到最终付款。</p><p id="20a6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">迁移脚本有两个用途——作为自由职业者智能合同的部署脚本，以及作为测试脚本，每当我进行代码更改时对智能合同进行回溯测试，这样我就可以确保每次调整时没有破坏任何东西。</p><p id="8600" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">以下是一些代码片段:</p><p id="d336" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="nd">连接到本地Ganache区块链上的第一个和第二个地址。第一个账户属于自由职业者，第二个账户属于委托人:</em></p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="a59a" class="lj lk ht mr b fv mv mw l mx my">//get address <strong class="mr hu">for</strong> programmer and client wallet<br/>    await web3.eth.getAccounts().then(function(result){<br/>        programmerWallet = result[0];<br/>        clientWallet = result[1];<br/>    });</span></pre><p id="0ff6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="nd">自由职业者部署自由职业者合同:</em></p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="946c" class="lj lk ht mr b fv mv mw l mx my">//<strong class="mr hu">deploy</strong> freelancer contract<br/>    <strong class="mr hu">await</strong> deployer.deploy(freelancer, {from: programmerWallet}).then(()=&gt; {<br/>        <strong class="mr hu">console</strong>.log("Freelance Contract:" + freelancer.address);<br/>      }<br/>    );</span></pre><p id="e719" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="nd">自由职业者在合同中加入“设计阶段”:</em></p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="72ca" class="lj lk ht mr b fv mv mw l mx my">//<strong class="mr hu">add</strong> design phase to freelancer contract<br/>    <strong class="mr hu">await</strong> freelancer.deployed().then(<br/>        <strong class="mr hu">async</strong> function(contractInstance) {<br/>            <strong class="mr hu">await</strong> contractInstance.addSchedule('DSP','Design Phase', web3.utils.toWei('1.25', 'ether'), {from: programmerWallet}).then(<br/>              <strong class="mr hu">function</strong>(v) {<br/>                <strong class="mr hu">console</strong>.log("Schedule Added:"+v.receipt.logs[0].args.shortCode);<br/>              }<br/>            )<br/>        }<br/>    );</span></pre><p id="f18b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="nd">客户接受合同并为设计阶段提供资金:</em></p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="19e0" class="lj lk ht mr b fv mv mw l mx my">//client accept freelancer contract<br/>    await freelancer.deployed().then(<br/>        async function(contractInstance) {<br/>            await contractInstance.acceptProject({from: clientWallet}).then(<br/>              function(v) {<br/>                console.log("Contract Accepted By:"+v.receipt.logs[0].args.clientAddress);<br/>              }<br/>            )<br/>        }<br/>    );<br/>    <br/>    //client funds design phase<br/>    await freelancer.deployed().then(<br/>        async function(contractInstance) {<br/>            await contractInstance.fundTask(0, {from: clientWallet, value: web3.utils.toWei("1.25", "ether")}).then(<br/>              function(v) {<br/>                console.log("Task Funded:"+v.receipt.logs[0].args.scheduleID);<br/>              }<br/>            )<br/>        }<br/>    );</span></pre><p id="a78d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="nd">自由职业者从项目中释放资金给自己，然后结束项目:</em></p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="85ee" class="lj lk ht mr b fv mv mw l mx my">//<strong class="mr hu">programmer</strong> releases funds to himself<br/>    <strong class="mr hu">await</strong> freelancer.deployed().then(<br/>        <strong class="mr hu">async</strong> function(contractInstance) {<br/>            <strong class="mr hu">await</strong> contractInstance.releaseFunds(2, {from: programmerWallet}).then(<br/>                <strong class="mr hu">function</strong>(v) {<br/>                    <strong class="mr hu">console</strong>.log("Funds Released:"+v.receipt.logs[0].args.scheduleID);<br/>                }<br/>            )<br/>        }<br/>    ); </span><span id="232e" class="lj lk ht mr b fv nc mw l mx my">    //<strong class="mr hu">programmer</strong> ends project<br/>    <strong class="mr hu">await</strong> freelancer.deployed().then(<br/>        <strong class="mr hu">async</strong> function(contractInstance) {<br/>            <strong class="mr hu">await</strong> contractInstance.endProject({from: programmerWallet}).then(<br/>                <strong class="mr hu">function</strong>(v) {<br/>                    <strong class="mr hu">console</strong>.log("Project Ended");<br/>                }<br/>            )<br/>        }<br/>    );</span></pre><p id="50a5" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">要运行迁移脚本，请将<a class="ae ke" href="https://github.com/jacksonng77/GettingStartedEthereum/blob/main/2_deploy_contracts.js" rel="noopener ugc nofollow" target="_blank"> 2_deploy_contracts.js </a>复制到/migrations。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff mk"><img src="../Images/6805ad2cb7394dae2117dd5a86650f14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yGTBIkxO0ku_JI2V.png"/></div></div></figure><p id="b3fe" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">现在运行以下命令来迁移、部署和测试自由职业者智能合同:</p><pre class="ku kv kw kx fq mq mr ms mt aw mu dt"><span id="e0d0" class="lj lk ht mr b fv mv mw l mx my">truffle migrate</span></pre><p id="7e51" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">观察加纳切。如果运行成功，您的第一个钱包中的ETHs将被转移到第二个钱包中。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="fe ff ne"><img src="../Images/9281e7f97c7e51e958253aaecb2f2a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d9oDEIG3Bxa6XXpX.png"/></div></div></figure><h2 id="2679" class="lj lk ht bd ll lm ln lo lp lq lr ls lt jr lu lv lw jv lx ly lz jz ma mb mc md dt translated"><strong class="ak">接下来是什么？</strong></h2><p id="7585" class="pw-post-body-paragraph ji jj ht jk b jl me iu jn jo mf ix jq jr mg jt ju jv mh jx jy jz mi kb kc kd hm dt translated">既然已经开发、测试和迁移了自由职业者智能合同，下一步就是构建这个分散应用程序的前端。我们将在教程的<a class="ae ke" href="https://jacksonngtech.medium.com/introducing-the-ethereum-development-environment-part-2-5fc49a62621d" rel="noopener">第二部分对此进行探讨。</a></p><p id="b61f" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">如果您喜欢本教程，也许您也希望阅读:</p><ul class=""><li id="cf62" class="kf kg ht jk b jl jm jo jp jr kh jv ki jz kj kd mn kl km kn dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/nft-based-luxury-watch-certificate-how-it-works-71d715914006">总部位于NFT的豪华手表证书</a>:演示如何在以太坊区块链上用不可替代的令牌(NFT)取代纸质证书。</li><li id="19cd" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated">自由职业者<a class="ae ke" rel="noopener" href="/coinmonks/the-freelancers-smart-contract-how-it-works-fda5e1fddf8d">智能<em class="nd">合同</em>合同</a>:自由职业者和他的客户之间的一种支付系统，以确保交货和付款。</li><li id="217d" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated">Ropsten以太坊水龙头:我在Ropsten网络上做了一个以太坊水龙头发出ETH。</li><li id="9153" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/voting-on-a-blockchain-how-it-works-3bb41582f403">在区块链上投票</a>:以太坊上投票DApp的实现。</li><li id="ece4" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/deploy-a-private-ethereum-blockchain-in-10-minutes-with-kaleido-73c21a26d5bb">使用Kaleido </a>在10分钟内部署一个私有以太坊区块链:瞬间启动并运行一个私有以太坊区块链。</li><li id="523f" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/smart-contract-explained-by-demonstration-93b06e938474">通过演示解释智能合约</a>:托管服务智能合约DApp的演示——在我看来，这是向外行人解释区块链是什么的最快方式。</li><li id="eed1" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/ethereum-iot-kid-grounding-device-iv-arduino-in-retrospect-b7a32e5ec185">以太坊IOT Kid Grounding Device </a>:我将区块链与物联网结合的尝试。</li><li id="e3c5" class="kf kg ht jk b jl ko jo kp jr kq jv kr jz ks kd mn kl km kn dt translated"><a class="ae ke" rel="noopener" href="/coinmonks/lottery-as-a-smart-contract-the-business-logic-3bd22d3a6c4e">彩票作为智能合约</a>:去中心化彩票，在以太坊区块链上构建彩票系统的尝试。</li></ul><blockquote class="nf"><p id="a82e" class="ng nh ht bd ni nj nk nl nm nn no kd ek translated">加入<a class="ae ke" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank"> Coinmonks电报频道</a>，了解加密交易和投资</p></blockquote><h2 id="3856" class="lj lk ht bd ll lm np lo lp lq nq ls lt jr nr lv lw jv ns ly lz jz nt mb mc md dt translated">另外，阅读</h2><div class="nu nv fm fo nw nx"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">加密货币交易所的加密交易需要了解市场，这可以帮助你获得利润…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">blog.coincodecap.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a href="https://blog.coincodecap.com/crypto-lending" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">2021年9大最佳加密借贷平台</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">当谈到加密货币贷款时，大量因素等同于良好的收入状况。此外，借款的一部分…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">blog.coincodecap.com</p></div></div><div class="og l"><div class="om l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">2021年最佳加密交易机器人(免费和付费)</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">medium.com</p></div></div><div class="og l"><div class="on l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">最佳4个加密交易信号电报通道</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">这是乏味的找到正确的加密交易信号提供商。因此，在本文中，我们将讨论最好的…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">medium.com</p></div></div><div class="og l"><div class="oo l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a href="https://blog.coincodecap.com/blockfi-review" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">BlockFi评论2021:利弊和利率</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">今天，我们提出了一个全面的BlockFi评论，这是一个成立于2017年的加密贷款平台，拥有其…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">blog.coincodecap.com</p></div></div><div class="og l"><div class="op l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a rel="noopener follow" target="_blank" href="/coinmonks/buy-bitcoin-in-india-feb50ddfef94"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">如何在印度购买比特币？2021年购买比特币的7款最佳应用[手机版]</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">如何使用移动应用程序购买比特币印度</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">medium.com</p></div></div><div class="og l"><div class="oq l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">加密税务软件——五大最佳比特币税务计算器[2021]</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">不管你是刚接触加密还是已经在这个领域呆了一段时间，你都需要交税。</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">medium.com</p></div></div><div class="og l"><div class="or l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a href="https://blog.coincodecap.com/pionex-review-exchange-with-crypto-trading-bot" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">Pionex评论-被动交易者的简单交易机器人</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">在本文中，我们将回顾Pionex，它提供了加密交易机器人自动化工具，集成了一个…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">blog.coincodecap.com</p></div></div><div class="og l"><div class="os l oi oj ok og ol ld nx"/></div></div></a></div><div class="nu nv fm fo nw nx"><a href="https://blog.coincodecap.com/best-hardware-wallet-bitcoin" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab ej"><div class="nz ab oa cl cj ob"><h2 class="bd hu fv z el oc eo ep od er et hs dt translated">存储比特币的最佳加密硬件钱包[2021]</h2><div class="oe l"><h3 class="bd b fv z el oc eo ep od er et ek translated">保管您的数字资产很容易，但找到正确的存储方式却是一项繁琐的任务。在线钱包有一个风险…</h3></div><div class="of l"><p class="bd b gc z el oc eo ep od er et ek translated">blog.coincodecap.com</p></div></div><div class="og l"><div class="ot l oi oj ok og ol ld nx"/></div></div></a></div></div></div>    
</body>
</html>