<html>
<head>
<title>Basic wallet app tutorial using ethers.js — PART 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用ethers.js的基本钱包应用教程—第1部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/basic-wallet-app-tutorial-using-ethers-js-part-1-a5ebcafaf94?source=collection_archive---------1-----------------------#2019-02-26">https://medium.com/coinmonks/basic-wallet-app-tutorial-using-ethers-js-part-1-a5ebcafaf94?source=collection_archive---------1-----------------------#2019-02-26</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/d4c0e9ec944e34d2b95982e2006eb66a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qNetPbbCbgAJk5KHG_PmTQ.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/photos/chB-ff0cgCU?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Charles 🇵🇭</a> on <a class="ae jf" href="https://unsplash.com/search/photos/wallet?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8d29" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是系列教程的第1部分，我们将使用<a class="ae jf" href="https://docs.ethers.io/ethers.js/html/" rel="noopener ugc nofollow" target="_blank"> ethers.js </a>和<a class="ae jf" href="https://github.com/jorgebucaran/hyperapp" rel="noopener ugc nofollow" target="_blank"> hyperapp </a>构建一个基本的钱包应用。我们将使用<a class="ae jf" href="https://parceljs.org/getting_started.html" rel="noopener ugc nofollow" target="_blank">包裹</a>和<a class="ae jf" href="https://surge.sh/" rel="noopener ugc nofollow" target="_blank">浪涌</a>启动应用程序。</p><p id="1ec0" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第1部分— <a class="ae jf" href="http://basic-wallet.surge.sh/" rel="noopener ugc nofollow" target="_blank">这是我之前准备的一张</a>。</p><p id="b9aa" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">源代码:<a class="ae jf" href="https://github.com/JessTaDa/basic-wallet" rel="noopener ugc nofollow" target="_blank">https://github.com/JessTaDa/basic-wallet</a></p><h1 id="0dcb" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">安装软件包</h1><p id="130b" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">创建一个新文件夹来存放您的项目。从项目文件夹的根目录运行:</p><p id="617d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lh li lj lk b">$ npm init</code></p><p id="419e" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lh li lj lk b">$ npm install --save ethers</code></p><p id="c8b9" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lh li lj lk b">$ npm install --save hyperapp</code></p><p id="16d2" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lh li lj lk b">$ npm install -g parcel</code></p><p id="f1e6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><code class="eh lh li lj lk b">$ npm install -g surge</code></p><h1 id="172f" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">创建您的基本应用程序</h1><ol class=""><li id="f1bd" class="ll lm ht ji b jj lc jn ld jr ln jv lo jz lp kd lq lr ls lt dt translated">在文本编辑器中打开项目根目录。</li><li id="4cea" class="ll lm ht ji b jj lu jn lv jr lw jv lx jz ly kd lq lr ls lt dt translated">在您的项目根目录下创建一个文件夹<code class="eh lh li lj lk b">src</code>。我们将在这里保存我们所有的前端相关文件。</li><li id="136a" class="ll lm ht ji b jj lu jn lv jr lw jv lx jz ly kd lq lr ls lt dt translated">在<code class="eh lh li lj lk b">src</code>文件夹中，创建文件<code class="eh lh li lj lk b">index.js</code>和<code class="eh lh li lj lk b">index.html</code>。</li><li id="9a2c" class="ll lm ht ji b jj lu jn lv jr lw jv lx jz ly kd lq lr ls lt dt translated">根据<a class="ae jf" href="https://parceljs.org/getting_started.html" rel="noopener ugc nofollow" target="_blank">包裹</a>设置说明，将以下代码放入您的<code class="eh lh li lj lk b">index.html</code>文件:</li></ol><pre class="lz ma mb mc fq md lk me mf aw mg dt"><span id="7033" class="mh kf ht lk b fv mi mj l mk ml">&lt;html&gt;<br/>&lt;body&gt;<br/>  &lt;script src="./index.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><ol class=""><li id="e8f0" class="ll lm ht ji b jj jk jn jo jr mm jv mn jz mo kd lq lr ls lt dt translated">将下面的代码粘贴到<code class="eh lh li lj lk b">index.js</code>中。有关更多信息，请参见<a class="ae jf" href="https://docs.ethers.io/ethers.js/html/api-wallet.html?highlight=createrandom" rel="noopener ugc nofollow" target="_blank">ethers . js wallet和signers </a>文档和<a class="ae jf" href="https://github.com/jorgebucaran/hyperapp" rel="noopener ugc nofollow" target="_blank"> hyperapp </a>示例:</li></ol><pre class="lz ma mb mc fq md lk me mf aw mg dt"><span id="e864" class="mh kf ht lk b fv mi mj l mk ml">// importing the ethers.js library<br/><strong class="lk hu">const ethers = require('ethers');</strong></span><span id="bbf6" class="mh kf ht lk b fv mp mj l mk ml">// importing hyperapp<br/><strong class="lk hu">import { h, app } from "hyperapp";</strong></span><span id="4136" class="mh kf ht lk b fv mp mj l mk ml">// Create a wallet object with privateKey and address attributes with a default state set to null.<br/><strong class="lk hu">const state = {<br/>  wallet: {<br/>    privateKey: null,<br/>    address: null<br/>  }<br/>}</strong></span><span id="a3ad" class="mh kf ht lk b fv mp mj l mk ml">// Create a generateWallet action in wallet, that calls the ethers.js library wallet.createRandom() method and returns a newly created privateKey and address. Set the created privateKey and address to the app state.<br/><strong class="lk hu">const actions = {<br/>  wallet: {<br/>    generateWallet: () =&gt; state =&gt; {<br/>      const wallet = ethers.Wallet.createRandom();<br/>      return {<br/>        privateKey: wallet.privateKey,<br/>        address: wallet.address<br/>      };<br/>    },<br/>  },<br/>};</strong></span><span id="6fec" class="mh kf ht lk b fv mp mj l mk ml">// Displays the wallet address and privateKey states.<br/>// Create a button that calls the generateWallet action.<br/><strong class="lk hu">const view = (state, actions) =&gt; (<br/>  &lt;div&gt;<br/>    &lt;h1&gt;Address:{state.wallet.address}&lt;/h1&gt;<br/>    &lt;h1&gt;Private Key:{state.wallet.privateKey}&lt;/h1&gt;<br/>    &lt;button onclick={() =&gt; actions.wallet.generateWallet()}&gt;<br/>      Generate Wallet<br/>    &lt;/button&gt;<br/>  &lt;/div&gt;<br/>);</strong></span><span id="adc0" class="mh kf ht lk b fv mp mj l mk ml"><strong class="lk hu">app(state, actions, view, document.body)</strong></span></pre><p id="d010" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">此外，根据hyperapp设置说明，记得用以下内容创建一个<code class="eh lh li lj lk b">.babelrc</code>文件:</p><pre class="lz ma mb mc fq md lk me mf aw mg dt"><span id="d057" class="mh kf ht lk b fv mi mj l mk ml">{<br/>  "plugins": [["@babel/plugin-transform-react-jsx", { "pragma": "h"  }]]<br/>}</span></pre><ol class=""><li id="753f" class="ll lm ht ji b jj jk jn jo jr mm jv mn jz mo kd lq lr ls lt dt translated">在您的终端窗口中(您应该在<code class="eh lh li lj lk b">src</code>目录中)，运行<code class="eh lh li lj lk b">$ parcel index.html</code>。这会将<code class="eh lh li lj lk b">index.html</code>设置为您的parcel条目文件，并为您开始构建。默认情况下，它应该启动一个运行在<code class="eh lh li lj lk b">http://localhost:1234</code>上的服务器。在你的浏览器中打开一个新标签，然后访问<code class="eh lh li lj lk b">http://localhost:1234</code>，看看你的基本hyperapp反例是否正常工作。</li></ol><h1 id="0155" class="ke kf ht bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">启动您的应用</h1><p id="ff3b" class="pw-post-body-paragraph jg jh ht ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hm dt translated">一旦您的项目准备好被部署，运行<code class="eh lh li lj lk b">$ parcel build index.html</code>。构建文件将自动创建在一个<code class="eh lh li lj lk b">dist</code>目录中。</p><p id="8154" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">导航到<code class="eh lh li lj lk b">src/dist</code>目录并运行<code class="eh lh li lj lk b">$ surge</code>。这将提示来自surge.sh的登录信息。如果需要，请创建一个新帐户并登录。一旦完成，surge将向您提供您的应用程序已经启动的url。点击打开url，然后点击“生成钱包”按钮。您应该看到两个字符串，一个地址和一个私钥。</p><p id="e1bf" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">搞定了。简单的柠檬汽水！</p><p id="c235" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">请继续关注第2部分！</p><p id="cfc5" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="mq">特别感谢</em> <a class="mr ms gr" href="https://medium.com/u/587e336ec1ea?source=post_page-----a5ebcafaf94--------------------------------" rel="noopener" target="_blank"> <em class="mq">尼克·多德森</em> </a> <em class="mq">给予的灵感、耐心、信念、提示和希望:)</em></p><blockquote class="mt"><p id="f251" class="mu mv ht bd mw mx my mz na nb nc kd ek translated">另请阅读:<a class="ae jf" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069">最佳硬件钱包</a></p></blockquote><figure class="ne nf ng nh ni iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nd"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>