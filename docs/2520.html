<html>
<head>
<title>CCXT Cryptocurrency Trading — Limit Orders and Market Orders [Tutorial]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CCXT加密货币交易-限价单和市价单[教程]</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/ccxt-cryptocurrency-trading-limit-orders-and-market-orders-tutorial-26a5697fe076?source=collection_archive---------0-----------------------#2019-11-16">https://medium.com/coinmonks/ccxt-cryptocurrency-trading-limit-orders-and-market-orders-tutorial-26a5697fe076?source=collection_archive---------0-----------------------#2019-11-16</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/f2665fcfb6178755ad1e412a4c3f0830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0O33A-Ug-AroOP3C.jpg"/></div></div></figure><p id="7649" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">对于像“加密货币交易所交易库”这样的名称，您可能想对CCXT库做的第一件事就是执行交易。</p><p id="f1b5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">加密货币交易所在处理交易的方式、为开发人员提供的终端以及如何将这些终端集成到应用程序方面有很大不同。</p><blockquote class="jz ka kb"><p id="94fa" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">这就是CCXT发挥作用的地方。</p></blockquote><p id="0400" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">加密货币交易所的复杂性导致了对库的迫切需求，库可以统一开发人员与每个交易所的交互方式。</p><p id="3950" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在本教程中，我们将探索流行的订单类型以及如何在交易所执行这些不同的订单。</p><blockquote class="jz ka kb"><p id="68ab" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">加密货币中流行的交易指令类型有哪些？</p></blockquote><p id="8666" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有许多不同的订单类型，但本教程的主要重点将是限价订单和市价订单。</p><blockquote class="kg"><p id="087d" class="kh ki ht bd kj kk kl km kn ko kp jy ek translated"><a class="ae kq" href="https://coincodecap.com/category/trading-automation" rel="noopener ugc nofollow" target="_blank">发现并回顾最佳交易自动化软件</a></p></blockquote><h1 id="147e" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">限价订单</h1><p id="c9fe" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">限价订单是以特定价格或更好的价格出售或购买加密货币的订单。在限价订单的情况下，必须指定订单的价格和数量。</p><p id="7667" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">虽然这似乎是一个简单的概念，不能进一步细分，但我们发现交易所已经实施了多种类型的限价单。两种最常见的限价订单是“取消前有效”(GTC)和“立即或取消”(国际奥委会)订单。</p><p id="8136" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这两种订单都以指定的价格和数量下单，但GTC订单在交易所中是未平仓的，直到它们被交易员取消或被接受未平仓订单的另一个市场参与者填充。</p><p id="3036" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">与GTC的订单不同，国际奥委会的订单一旦下达，交易所就会立即取消。订单中未完成的任何数量将被退回给交易商。国际奥委会的订单通常是通过接受交易而立即执行的。</p><blockquote class="jz ka kb"><p id="71f6" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">虽然我们不会深究何时使用这些不同订单类型的策略，但在制定您的交易策略时，最好记住这些差异。</p></blockquote><h2 id="1171" class="lu ks ht bd kt lv lw lx kx ly lz ma lb jm mb mc lf jq md me lj ju mf mg ln mh dt translated">CCXT示例</h2><p id="0a92" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">对于我们的第一个例子，我们将探索如何使用CCXT库在Bittrex交易所执行限价单。为了成功地连接交易所并执行订单，我们需要首先生成API密钥来验证我们对交易所的访问。</p><p id="f322" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><a class="ae kq" href="https://help.shrimpy.io/en/articles/2438628-how-to-link-bittrex-api-keys" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">按照本指南中的步骤1–3生成您的Bittrex API密钥。</strong> </a></p><p id="3541" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">准备好API密钥后，使用下面的脚本，将API密钥分配给适当的“apiKey”和“secret”字段。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="d36f" class="lu ks ht mn b fv mr ms l mt mu">import ccxt</span><span id="8893" class="lu ks ht mn b fv mv ms l mt mu">bittrex = ccxt.bittrex({<br/>    'apiKey': '...',<br/>    'secret': '...',<br/>})</span><span id="bc0d" class="lu ks ht mn b fv mv ms l mt mu"># fetch your account balances for each asset<br/>account_balance = bittrex.fetch_balance()</span><span id="e528" class="lu ks ht mn b fv mv ms l mt mu"># execute the order<br/>limit_order_placement =  bittrex.create_limit_buy_order('ETH/BTC', '0.01', '0.014'))</span></pre><blockquote class="jz ka kb"><p id="3389" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">注意:我们已经对“ETH/BTC”交易的价格进行了硬编码。为了确定执行交易的准确价格点，最好评估Bittrex上订单簿的当前状态，以选择交易的具体价格和数量。因为这是一个示例，所以不建议使用默认值。</p></blockquote></div><div class="ab cl mw mx hb my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="hm hn ho hp hq"><p id="0386" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了自动化<a class="ae kq" href="http://blog.coincodecap.com/tag/trading" rel="noopener ugc nofollow" target="_blank">交易</a>的过程，我们需要从交易所收集订单簿数据，以评估我们应该在哪里下单。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="6bc3" class="lu ks ht mn b fv mr ms l mt mu">account_balance = bittrex.fetch_balance()</span><span id="a040" class="lu ks ht mn b fv mv ms l mt mu">orderbook = bittrex.fetch_order_book('ETH/BTC')</span></pre><p id="b726" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">有关如何收集订单簿数据的更多信息，请参见我们的最新教程:</p><div class="nd ne fm fo nf ng"><a href="https://blog.shrimpy.io/blog/ccxt-crypto-exchange-order-book-snapshot" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab ej"><div class="ni ab nj cl cj nk"><h2 class="bd hu fv z el nl eo ep nm er et hs dt translated">CCXT加密交换订单簿数据[示例教程] | Shrimpy</h2><div class="nn l"><h3 class="bd b fv z el nl eo ep nm er et ek translated">订单簿指定了交易所中当前开放的所有可用订单。每个订单代表一个…</h3></div><div class="no l"><p class="bd b gc z el nl eo ep nm er et ek translated">blog.shrimpy.io</p></div></div><div class="np l"><div class="nq l nr ns nt np nu iz ng"/></div></div></a></div><h2 id="fff4" class="lu ks ht bd kt lv lw lx kx ly lz ma lb jm mb mc lf jq md me lj ju mf mg ln mh dt translated">简单的例子</h2><p id="a1b7" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">由于CCXT库的限制，我们还将探讨如何使用<a class="ae kq" href="https://developers.shrimpy.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> Shrimpy通用加密交易API</strong></a>来实现这一点。</p><blockquote class="jz ka kb"><p id="7c66" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">为了完成下面的例子，用<a class="ae kq" href="https://developers.shrimpy.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> Shrimpy加密数据&amp;交易API</strong></a>注册一个账户。登录到Shrimpy后，通过选择“创建Api主密钥”按钮来生成主API密钥。从该过程中生成的密钥将在以下脚本中使用。您还需要购买至少最低的用户订阅层来执行交易。</p></blockquote><h2 id="9206" class="lu ks ht bd kt lv lw lx kx ly lz ma lb jm mb mc lf jq md me lj ju mf mg ln mh dt translated">安装</h2><p id="af35" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">在进入我们的Shrimpy示例之前，让我们从安装Shrimpy Python库开始。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="5aaf" class="lu ks ht mn b fv mr ms l mt mu">pip install shrimpy-python</span></pre><h2 id="d490" class="lu ks ht bd kt lv lw lx kx ly lz ma lb jm mb mc lf jq md me lj ju mf mg ln mh dt translated">例子</h2><p id="1296" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">现在库已经安装好了，让我们构建我们的脚本，它将在Bittrex上执行交易。同样，如果您需要<a class="ae kq" href="https://help.shrimpy.io/en/articles/2438628-how-to-link-bittrex-api-keys" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">生成新的Bittrex API密钥，请遵循本指南中的步骤1–3。</strong>T13】</a></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="4e6e" class="lu ks ht mn b fv mr ms l mt mu">import shrimpy<br/>import time</span><span id="8bd8" class="lu ks ht mn b fv mv ms l mt mu"># use your Shrimpy API public and private keys to create the client<br/>public_key = '...' # shrimpy_public_key (aka Shrimpy Master Key)<br/>secret_key = '...' # shrimpy_secret_key (aka Shrimpy Master Key)</span><span id="a076" class="lu ks ht mn b fv mv ms l mt mu">client = shrimpy.ShrimpyApiClient(public_key, secret_key)</span><span id="79e3" class="lu ks ht mn b fv mv ms l mt mu"># create a new user<br/>user = client.create_user(<br/>    'mycustomname' # (optional) name<br/>)</span><span id="0123" class="lu ks ht mn b fv mv ms l mt mu"># link up to 20 exchange accounts for each user<br/>account = client.link_account(<br/>    user['id'], # user_id<br/>    'bittrex',  # exchange<br/>    '...',      # public_key (aka exchange apiKey)<br/>    '...'       # private_key (aka exchange secretKey)<br/>)</span><span id="ba5f" class="lu ks ht mn b fv mv ms l mt mu"># access balance data for each of your user's accounts<br/>balance = client.get_balance(<br/>    user['id'],   # user_id<br/>    account['id'] # account_id<br/>)</span><span id="5589" class="lu ks ht mn b fv mv ms l mt mu"># sleep for 5 seconds the first time linking an account<br/>time.sleep(5)</span><span id="8827" class="lu ks ht mn b fv mv ms l mt mu"># place an IOC or GTC limit order for your user<br/>place_limit_order_response = client.place_limit_order(<br/>    user['id'],    # user_id<br/>    account['id'], # account_id<br/>    'ETH',         # base_symbol<br/>    'BTC',         # quote_symbol<br/>    '0.01',        # quantity of base_symbol<br/>    '0.026',       # price<br/>    'SELL',        # side<br/>    'IOC'          # time_in_force ('IOC' or 'GTC')<br/>)</span></pre></div><div class="ab cl mw mx hb my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="hm hn ho hp hq"><p id="d397" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了执行精确的交易，我们需要从交易所收集精确的订单簿数据。这可以通过下面的简单例子来实现。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="d183" class="lu ks ht mn b fv mr ms l mt mu">orderbooks = client.get_orderbooks(<br/>    'bittrex', # exchange<br/>    'ETH',     # base_symbol<br/>    'BTC',     # quote_symbol<br/>    10         # limit of how much depth to return on each side <br/>)</span></pre><blockquote class="jz ka kb"><p id="4634" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">注意:这个交易示例只执行单个交易，如果您想使用限价单将您的整个投资组合交易到一个资产，Shrimpy支持端点来完成这一操作。</p></blockquote><p id="386d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">您可以使用以下请求来分配投资组合。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="44f3" class="lu ks ht mn b fv mr ms l mt mu">client.allocate(<br/>    '<!-- -->701e0d16-1e9e-42c9-b6a1-4cada1f395b8'<!-- -->, # user_id<br/>    123,                                    # account_id<br/>    {<br/>        'isDynamic': False,<br/>        'allocations': [<br/>            { 'symbol': 'BTC', 'percent': '100' }<br/>        ]<br/>    }<br/>)</span></pre><p id="025c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="kc">轰！就像那个</em></strong><a class="ae kq" href="https://shrimpy.io/referral?r=I6VFZ7d2E" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu"><em class="kc">Shrimpy</em></strong></a><strong class="jd hu"><em class="kc">会自动翻遍你的整个投资组合，把你所有的东西卖给</em> </strong> <a class="ae kq" href="https://blog.coincodecap.com/a-candid-explanation-of-bitcoin" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> <em class="kc">比特币</em> </strong> </a> <strong class="jd hu"> <em class="kc">。这甚至可以处理基础货币和BTC之间没有交易对的边缘情况。</em> </strong></p><h1 id="4b51" class="kr ks ht bd kt ku kv kw kx ky kz la lb lc nv le lf lg nw li lj lk nx lm ln lo dt translated">市场订单</h1><p id="09a8" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">执行市价单比不同类型的限价单更容易掌握。市场订单不是以特定的价格下单，而是简单地以给定时间的最佳价格下单，直到订单金额被满足。</p><blockquote class="kg"><p id="e6b7" class="kh ki ht bd kj kk kl km kn ko kp jy ek translated">这意味着如果你想卖出LTC来购买BTC，交易所将继续以市场价格卖出LTC，直到达到你指定的订单数量。</p></blockquote><h2 id="8484" class="lu ks ht bd kt lv nz lx kx ly oa ma lb jm ob mc lf jq oc me lj ju od mg ln mh dt translated">CCXT示例</h2><p id="0b1e" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">我们的第一个例子将介绍如何用CCXT实现这一点。像以前的脚本一样，它将要求我们输入API公钥和密钥，以便连接到我们想要的交换。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="8ff8" class="lu ks ht mn b fv mr ms l mt mu">import ccxt</span><span id="3533" class="lu ks ht mn b fv mv ms l mt mu">bittrex = ccxt.bittrex({<br/>    'apiKey': '...',<br/>    'secret': '...',<br/>})</span><span id="113d" class="lu ks ht mn b fv mv ms l mt mu"># get account balances to determine how much can be traded<br/>account_balance = bittrex.fetch_balance()</span><span id="976f" class="lu ks ht mn b fv mv ms l mt mu"># sell .001 ETH for market price and receive BTC right now<br/>market_order_placement = bittrex.create_market_sell_order('ETH/BTC', .001)</span></pre><p id="743c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了制定买卖加密货币的完整策略，我们需要获取更多的市场数据来做出交易决策。例如，如果我们想要基于一项资产的当前市场价格触发交易，我们将需要访问跟踪每项资产价格的实时价格行情。</p><p id="346b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在上一篇文章中，我们讨论了如何使用CCXT构建加密价格报价器。</p><div class="nd ne fm fo nf ng"><a href="https://blog.shrimpy.io/blog/ccxt-live-crypto-exchange-price-ticker" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab ej"><div class="ni ab nj cl cj nk"><h2 class="bd hu fv z el nl eo ep nm er et hs dt translated">CCXT实时加密交易所报价器[示例教程] | Shrimpy</h2><div class="nn l"><h3 class="bd b fv z el nl eo ep nm er et ek translated">我们将介绍两种不同的方法来生成实时价格行情。第一个策略是访问数据…</h3></div><div class="no l"><p class="bd b gc z el nl eo ep nm er et ek translated">blog.shrimpy.io</p></div></div><div class="np l"><div class="oe l nr ns nt np nu iz ng"/></div></div></a></div><h2 id="1074" class="lu ks ht bd kt lv lw lx kx ly lz ma lb jm mb mc lf jq md me lj ju mf mg ln mh dt translated">微不足道的例子</h2><p id="5a1a" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">既然我们已经演示了如何使用CCXT执行市场订单，那么让我们构建一个脚本来展示如何使用<a class="ae kq" href="https://developers.shrimpy.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> Shrimpy加密交易API</strong></a>来执行。</p><blockquote class="jz ka kb"><p id="70e6" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">注意:如果您遵循了上一个Shrimpy限价单示例，那么您应该已经创建了一个用户，并且已经将一个exchange帐户链接到了您的Shrimpy开发人员API密钥。这意味着对于下一个示例，我们不需要创建另一个用户或链接一个新的exchange帐户。您可以简单地检索您以前创建的用户和余额数据，以执行更多的交易。</p></blockquote><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="6ff3" class="lu ks ht mn b fv mr ms l mt mu">import shrimpy</span><span id="2368" class="lu ks ht mn b fv mv ms l mt mu"># use your Shrimpy API public and private keys to create the client<br/>public_key = '...'<br/>secret_key = '...'</span><span id="2b56" class="lu ks ht mn b fv mv ms l mt mu">client = shrimpy.ShrimpyApiClient(public_key, secret_key)</span><span id="94f9" class="lu ks ht mn b fv mv ms l mt mu"># note: since we created a user in our last example script, <br/># we can just retrieve our list of users.<br/>users = client.list_users()<br/>first_user_id = users[0]['id']</span><span id="aa89" class="lu ks ht mn b fv mv ms l mt mu"># retrieve the accounts associated with this user<br/>accounts = client.list_accounts(<br/>    first_user_id<br/>)<br/>first_account_id = accounts[0]['id']</span><span id="b5a4" class="lu ks ht mn b fv mv ms l mt mu"># access balance data for the user account you previously created<br/>balance = client.get_balance(<br/>    first_user_id,   # user_id<br/>    first_account_id # account_id<br/>)</span><span id="c0d6" class="lu ks ht mn b fv mv ms l mt mu"># execute a market order<br/>smart_order_response = client.create_trade(<br/>    first_user_id,    # user_id<br/>    first_account_id, # account_id<br/>    'BTC',            # from_symbol<br/>    'ETH',            # to_symbol<br/>    '0.01'            # amount of from_symbol<br/>)</span></pre><p id="9382" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">请注意如何访问与用户相关联的所有帐户。如果您为一个用户链接了1个币安、3个Bittrex、2个KuCoin和4个北海巨妖exchange帐户，则可以通过同一个用户访问它们，而无需每次重新链接密钥。这使您可以轻松地管理成千上万的用户，而不必为每个用户维护API密钥。</p><h2 id="1daf" class="lu ks ht bd kt lv lw lx kx ly lz ma lb jm mb mc lf jq md me lj ju mf mg ln mh dt translated">智能交易</h2><p id="e9d0" class="pw-post-body-paragraph jb jc ht jd b je lp jg jh ji lq jk jl jm lr jo jp jq ls js jt ju lt jw jx jy hm dt translated">作为奖励，我们将提供一个智能订单路由的例子。如果不仔细看，您可能会认为下一个脚本与上一个示例相同。但是，如果您仔细观察“创建交易”的请求，您会注意到添加了一个参数，它自动允许我们执行智能订单路由策略。</p><blockquote class="kg"><p id="69d1" class="kh ki ht bd kj kk kl km kn ko kp jy ek translated"><em class="ny">太简单了！</em></p></blockquote><pre class="of og oh oi oj mm mn mo mp aw mq dt"><span id="cce2" class="lu ks ht mn b fv mr ms l mt mu">import shrimpy</span><span id="5f49" class="lu ks ht mn b fv mv ms l mt mu"># use your Shrimpy API public and private keys to create the client<br/>public_key = '...'<br/>secret_key = '...'</span><span id="80c7" class="lu ks ht mn b fv mv ms l mt mu">client = shrimpy.ShrimpyApiClient(public_key, secret_key)</span><span id="f456" class="lu ks ht mn b fv mv ms l mt mu"># note: since we created a user in our last example script, <br/># we can just retrieve our list of users.<br/>users = client.list_users()<br/>first_user_id = users[0]['id']</span><span id="84b8" class="lu ks ht mn b fv mv ms l mt mu"># retrieve the accounts associated with this user<br/>accounts = client.list_accounts(<br/>    first_user_id<br/>)<br/>first_account_id = accounts[0]['id']</span><span id="d549" class="lu ks ht mn b fv mv ms l mt mu"># access balance data for the user account you previously created<br/>balance = client.get_balance(<br/>    first_user_id,   # user_id<br/>    first_account_id # account_id<br/>)</span><span id="a297" class="lu ks ht mn b fv mv ms l mt mu"># execute a market order<br/>smart_order_response = client.create_trade(<br/>    first_user_id,    # user_id<br/>    first_account_id, # account_id<br/>    'BTC',            # from_symbol<br/>    'ETH',            # to_symbol<br/>    '0.01'            # amount of from_symbol<br/>    True              # enable smart_routing<br/>)</span></pre><blockquote class="jz ka kb"><p id="8b5e" class="jb jc kc jd b je jf jg jh ji jj jk jl kd jn jo jp ke jr js jt kf jv jw jx jy hm dt translated">请注意Shrimpy如何通过一个请求执行完整的智能订单路由(SOR)策略。不需要不断地重新评估市场，也不需要在整个交易所谨慎下单，以执行完美的SOR策略。Shrimpy会为你做所有的重活！</p></blockquote><p id="acad" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">今天试试<a class="ae kq" href="https://developers.shrimpy.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">虾米交易&amp;数据API</strong></a>。这是在加密货币交易所开始交易的最简单方式。收集历史市场数据，访问实时websockets，执行高级交易策略，并管理无限数量的用户。</p><ul class=""><li id="c663" class="ok ol ht jd b je jf ji jj jm om jq on ju oo jy op oq or os dt translated"><a class="ae kq" href="https://github.com/shrimpy-dev/shrimpy-python" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> Shrimpy Python库</strong> </a></li><li id="27fe" class="ok ol ht jd b je ot ji ou jm ov jq ow ju ox jy op oq or os dt translated"><a class="ae kq" href="https://github.com/shrimpy-dev/shrimpy-node" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu"> Shrimpy Node.js库</strong> </a></li></ul><p id="2147" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">不要忘记在<a class="ae kq" href="https://twitter.com/ShrimpyApp" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae kq" href="https://www.facebook.com/ShrimpyApp" rel="noopener ugc nofollow" target="_blank">脸书</a>上关注我们的更新，并在<a class="ae kq" href="https://t.me/ShrimpyGroup" rel="noopener ugc nofollow" target="_blank"> Telegram </a>上向我们令人惊叹的活跃社区提出任何问题。</p><p id="e421" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">捕虾队</p><blockquote class="kg"><p id="367b" class="kh ki ht bd kj kk kl km kn ko kp jy ek translated"><a class="ae kq" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="of og oh oi oj iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff oy"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>