<html>
<head>
<title>Yallo, a new Tezos language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Yallo，一种新的特佐语</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/yallo-a-new-tezos-language-f1298069d268?source=collection_archive---------3-----------------------#2020-07-07">https://medium.com/coinmonks/yallo-a-new-tezos-language-f1298069d268?source=collection_archive---------3-----------------------#2020-07-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/a640e682905f1fe280dadf0f7edde5ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dM0rJWz2jhICmWIyUuVB-A.png"/></div></div></figure><p id="b077" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">正如有人从<a class="ae jz" rel="noopener" href="/@dakk/king-of-tezos-a-smart-ponzi-on-tezos-db381b84c3c9">之前的帖子中注意到的，</a>上周我开始为Tezos智能合约编写新的编程语言。这个项目最初是作为研究解析器、ast和其他编译器的个人练习，但是代码很快就失控了。这个笑话编译器现在正在变成一种“真正的语言”，我会把它作为一个爱好项目继续下去【https://github.com/dakk/yallo-lang<a class="ae jz" href="https://github.com/dakk/yallo-lang" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0292" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><em class="ka"> Yallo </em>(代表另一种语言lo？)本质上是一种函数式语言，它集成了(一种)面向对象的范例。在yallo中，我们有契约、契约接口和契约实例，而不是类、接口和对象。这里有一个例子来说明它是如何工作的。</p><p id="6a9b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">假设我们想要创建一个定义新令牌的契约；我们首先定义它的接口(这对于令牌协定不是强制性的，但对于调用令牌协定实例的其他协定很有用):</p><figure class="kb kc kd ke fq iu"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="0fd3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如您所见，我们的接口有两个入口点:<em class="ka"> transfer </em>允许将令牌从一个地址发送到另一个地址，另一个契约使用<em class="ka"> getBalance </em>来检索给定地址的令牌余额。注意，我们将<em class="ka"> getBalance </em>定义为一个“视图”,它是回调到作为参数传递的契约的入口点的语法糖。</p><p id="fbb7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">接口也可以被扩展，所以我们可以创建一个接口<em class="ka">imintertabletoken</em>，它也有一个<em class="ka"> mint </em> entrypoint <em class="ka">。</em></p><p id="bbc9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">现在让我们看看这个接口的实现，契约(类似于类)；首先我们声明我们的存储，它由类型化字段组成。然后，我们声明一个参数化的构造函数，这对于契约部署是有用的(我们将在后面对此进行研究)。最后我们声明两个入口点。</p><figure class="kb kc kd ke fq iu"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="ac6b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在编译和部署了我们惊人的Token契约之后，其他yallo契约可以很容易地与之交互。在我们的新契约入口点中，我们使用<em class="ka"> IToken.of(address) </em>调用令牌<em class="ka"> getBalance </em>，它返回<em class="ka"> IToken </em>的类型化契约实例；然后我们调用<em class="ka"> getBalance </em>传递一个地址和我们的回调。</p><figure class="kb kc kd ke fq iu"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="b5d8" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我介绍的另一个强大特性是从另一个契约部署一个契约的能力，如下所示。我们调用<em class="ka"> createContract </em>传递<em class="ka"> Token(…) </em>的结果，它创建一个由Token的代码组成的对，以及由其构造函数生成的初始存储。</p><figure class="kb kc kd ke fq iu"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="db44" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">目前，编译器将把cameligo作为唯一的目标语言，但是我也将在T2 Coq编译后端工作。代码和语言本身正在开发中，还没有准备好投入使用，但是欢迎任何想法和评论。</p><p id="362f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果你喜欢<em class="ka">亚洛</em>，请在<a class="ae jz" href="https://github.com/dakk/yallo-lang" rel="noopener ugc nofollow" target="_blank">https://github.com/dakk/yallo-lang</a>上画一颗星</p><blockquote class="kh"><p id="dacb" class="ki kj ht bd kk kl km kn ko kp kq jy ek translated"><a class="ae jz" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="ks kt ku kv kw iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff kr"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>