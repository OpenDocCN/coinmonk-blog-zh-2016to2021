# 金字塔！

> 原文：<https://medium.com/coinmonks/pyramids-f73b20c3aa2d?source=collection_archive---------0----------------------->

![](img/55662898df7fcf5311bf0da31021545b.png)

# 摘要

本文的灵感来自概念验证应用
[Eternitas](https://gateway.pinata.cloud/ipfs/Qmf2Cnz214u5vQgaMqaE7BE93KKuWr6HZ162Y9YyjowWmG/) 。它展示了一种存储、加密和签名文档的新方法。这篇文章和[应用程序](https://gateway.pinata.cloud/ipfs/Qmf2Cnz214u5vQgaMqaE7BE93KKuWr6HZ162Y9YyjowWmG/)都提出了这些概念。

文章的第一部分是关于主题的一般思考和主题。第二部分描述了[应用](https://gateway.pinata.cloud/ipfs/Qmf2Cnz214u5vQgaMqaE7BE93KKuWr6HZ162Y9YyjowWmG/)。(如果您记住概念证明不是现成的防弹应用程序，您可以点击[链接](https://gateway.pinata.cloud/ipfs/Qmf2Cnz214u5vQgaMqaE7BE93KKuWr6HZ162Y9YyjowWmG/)。)

这个概念有一些惊人的好处:你的数据永远不会丢失，可以在不同的人之间共享，没有今天的限制和愚蠢的障碍。各种各样的业务都可以基于 [Eternitas](https://gateway.pinata.cloud/ipfs/Qmf2Cnz214u5vQgaMqaE7BE93KKuWr6HZ162Y9YyjowWmG/) ，在法律技术领域也有很多很多的用例。

这是怎么回事？

*   任何东西都不会存储在本地。
*   数据也不会存储在云中。
*   不使用特定的存储提供程序

*–那么数据是如何存储的呢？*

数据进入名为 [IPFS](https://ipfs.io/) 的分布式文件系统。IPFS 是一个点对点的网络。它是完全分散的，不直接为您的数据提供存储。相反，网络中的任何一个对等点都可以通过一个叫做 *pinning 的过程来决定存储一个文件。*如果节点*钉住*一个文件，它可以提供其内容并通知网络中的所有其他对等体。

该系统固有地提供了冗余，因为任何文件都可以被多次固定。理论上，文件可以被网络中的每一个对等体锁定。因此，可以达到高度的数据安全性，因为只要至少一个锁定文件的对等体保持在线，任何文件都将保持可用。但是如果一个文件被认为是重要的，它将被多次锁定。这个网络是全球性的。没有一个国家或当局可以决定删除文件，因为没有人能够关闭整个网络。

# 皮纳塔

Eternitas 使用 [Pinata](https://pinata.cloud/) 作为固定服务，从而作为持久层。该公司是一家专注于 IPFS 的存储提供商。他们的商业理念相当新颖:公司正把成功押在一项新技术上，但他们的未来一片光明。传统存储提供商永远无法像 IPFS 这样的技术那样实现简单性和普遍性。他们的维护成本也会更低。

对他们的客户来说，风险甚至更小。一个固定服务可以很容易地被另一个服务所取代，并且基本的技术接口不会有太大的变化。此外，可以使用多个存储提供商，这将大大提高数据冗余和数据安全性。

这项技术在某些方面可能还不成熟，但另一方面，它的优势是如此巨大，以至于它的潜力不能被估计得足够高。

# 块堆栈

通常，当你在编程领域做一些你认为是新的或原创的事情时，你突然发现其他人已经在做类似的事情了。

直到最近我才发现这发生在我身上:我了解了 [Blockstack](https://blockstack.org/) 。这个雄心勃勃的项目致力于建立一个全新的生态系统，远远超出了数据持久性和加密。这些人用他们的分散存储系统 *Gaia* 讨论了持久性话题。

但是这个项目——和其他许多项目一样——只有未来才能告诉我们它是成功还是失败。不知道未来的结果让在区块链和 P2P 领域工作变得如此迷人！每天晚上你上床睡觉，你不知道第二天早上醒来会发生什么变化。

如我所说，Blockstack 雄心勃勃。就我个人而言，如果你想获得好的结果，谦虚有时应该先于雄心。我们应该关注 Blockstack！

# 点对点世界中的隐私

那么，我们如何确保控制我们的数据，保证它的安全，并且只让我们信任的人使用它呢？基本上有两种可能性:

1.  在使用 IPFS 存储数据之前，请对其进行加密
2.  使用专用的 IPFS 网络

第二种可能性非常适合大公司或机构:在这种情况下，你可以控制你自己网络中的所有 IPFS 同行，但你只能拥有你自己设置的数量。如果你的公司破产了，或者你的机构因为什么原因没能坚持下来，你的网络就瘫痪了。你将失去公共和全球网络带来的大部分弹性，但你可能会获得信心和信任，因为你保护自己免受来自外部的许多威胁。

尽管如此，我确信许多全球玩家会选择第二种可能性——如果他们考虑建立这样一个网络的话。第一种可能性只是意味着你的数据分布在世界各地，即使它是加密的，不可读的，只要你控制你的加密密钥。因此，在这种情况下，您的数据就像您的加密能力一样安全。但是许多公司在这方面并不自信。关于数据泄露的故事太多了。每个月都有新的事件发生。这就是为什么许多人会尽可能地结束事情——他们会选择第二种可能性。

最终，这将取决于您的使用案例，哪种解决方案最适合您。这主要取决于您的特定安全需求。

# 金字塔-隐喻

这里我们将把你用来存储数据的地方称为**金字塔。**这暗指古代法老试图通过被埋葬在像奇阿普斯金字塔这样的巨大坟墓中而获得永生。今天，我们声明，在我们的*金字塔*中，你的数据将被**永久安全地保存**，就像法老们希望他们的尸体一样。

在*金字塔内*数据储存在小室中，每个小室都是密封的。随着*密封*我们的意思是，数据不能改变，除非打破密封，所以一个变化永远不会被忽视。

这个应用程序总是加密数据，加密是在你的机器上的浏览器中完成的。因此，不会有关于你和你的数据的未加密信息离开浏览器。

# 签名

您还可以通过对数据应用数字签名来对数据进行签名。这种签名可以与用笔完成的传统签名相比较，但是它是通过现代密码术来执行的。

通过签署您的数据，您获得了与传统签名相同的效果:您可以表达您对内容的同意，就像您在一张纸上签署一份合同一样。或者它确认你自己写了一个文档。

在许多情况下，一份文件只有经过签名才变得有价值或重要。此外，一个文档可以由多方签署，就像在现实世界中一样。

# 这是 DApp 吗？

**某种程度上:是的！但是关于 DApps 的炒作太多了，这导致了很多困惑、误解和夸大的期望。**

任何用例都不能完全建立在 P2P 网络之上，这是不正确的。无论是智能合约还是像 IPFS 这样的分散式存储网络，都无法完全取代当今的主流基础设施。DApps 还没有准备好黄金时间。我希望他们是！

各种问题仍然没有答案，在一些领域有这么多的竞争努力正在进行，根本无法预见哪一个将获胜。以区块链为例:在软件开发中，给定一个特定的需求，只有有限数量的区块链平台被认为是合适的。这个数字不能太大，这样就可以在没有太大风险的情况下做出选择。需要确定的是，在几年内，所选择的区块链将仍然保持和成功。但目前的形势还不够明朗，不允许做出如此深思熟虑的决定。

今天一个人只能尽最大努力。所以我个人对 DApp 的定义略有不同:**DApp 是一个尽量避免集中化的 web 应用。从这个角度来说，Eternitas 确实是一个 DApp，因为已经尽一切可能避免中央服务器。**

DApps 有一个很多人还不知道的巨大优势:**编写它们的工作量更少。普通的网络应用要复杂得多。这并不明显，因为没有多少程序员受过编程 DApps 的培训。诀窍、文档和所需的编程基础设施(例如，对公共 ide 的支持)并不普遍。这就是为什么事情看起来比实际更复杂。**

对于传统的 web 应用程序，你通常需要一个后端。运行前端的 web 浏览器与后端进行通信。浏览器不仅通过服务器接收网页布局，还接收大多数其他信息。编程逻辑倾向于在服务器上实现。通常有几种通信协议负责客户端和服务器之间的数据交换。

这一切都需要*配置甚至编程*。也就是说，服务器需要进行*配置，甚至是*编程，并且需要在应用程序的整个生命周期中进行维护。如果根本没有**后台，事情就变得**容易多了**。这就是为什么到处都会有 DApps！**

在 P2P 网络中，维护工作由非常多的人来承担。首先:你不必自己编程或配置它。它的接口和协议可能会随着时间的推移而改变，但它们将在全世界范围内被标准化。你作为一个应用开发者，肯定不会是对它们负责的人。因此，这些协议迟早会比您自己实现的任何专有解决方案得到更好的建立和支持。

作为一名开发人员，我做了很多自己喜欢的项目。这意味着我自己对整个事情负责，我可以做任何我喜欢的事情，而不必问任何人。但是当你做这些事情时，你会很快发现，作为一名程序员，你的能力总是有限的，而且你很可能**永远**也达不到更远大的目标，因为这需要整个团队。

因此，我艰难地认识到，我必须用有限的资源生活，不能超出它们。如果我必须同时实现客户机和服务器，只是为了构建一个小的概念验证，我非常乐意节省一些工作。P2P 网络再次派上了用场:如果你找到了使用它们的方法，你的工作已经完成了一半，而不是从头开始编写一个全新的后端(或者更糟:使用一个现有的应用服务器)。

还有一个原因: *DApps 将更容易与传统应用程序合并*。原因类似于已经描述的:当合并时，将不需要合并服务器端应用程序。对于 web 应用程序，您经常会遇到这样的情况:所有组件使用的唯一公共环境是浏览器的 [DOM](https://de.wikipedia.org/wiki/Document_Object_Model) 。在最好的情况下，让一些 JavaScript 模块共存并与网页的 DOM 一起工作就足够了。完了！对于传统的应用程序，合并它们几乎是不可能的。—但有时是不可避免的！

如果两家银行合并，您通常会有两个不兼容的 IT 平台，它们绝对需要融合在一起。但是合并它们是一项极其昂贵和耗时的任务。几十年来开发的软件有时不可维护——即使不需要合并。这种模块几年前就应该退役了，但为了节省成本，它们经常保持运行。

最后，问题来了，如果这样的软件组件可以生存的合并。这就是为什么即使在许多人努力工作多年之后，这些合并还是会失败。

在(希望是更好的)未来，如果服务器端逐渐被 P2P 网络取代，这类问题将变得不那么复杂。如果这种网络是公司内部的，或者可能只在合作公司或机构之间共享，这甚至会有所帮助。在任何这样的情况下，合并会更容易，组织之间的合作也有许多其他方式。

# 关键是密码术

如果你能掌握，加密技术会给你巨大的力量。这也可能是为什么这门艺术的基础知识很少教授给年轻人的原因。如果大多数人知道它的可能性，他们就更难控制或统治。政府没有多少动力去教他们的人民这些东西。这可能会让公民更加自主，透明度更低。

加密电子邮件就是一个很好的例子。这在今天是可能的，所有主要的电子邮件客户端都有支持这一功能的插件。但很少使用。它总是伴随着许多人逃避的可用性损失。或者他们可能只是不知道这些可能性。写一封简单的电子邮件实在是太容易了。为什么要破坏这个过程，让它变得更复杂呢？简单是电子邮件如此成功的主要原因。如果你拿走了简单，人们就会离开。

如果你给电子邮件加密，你就把事情搞砸了。你突然需要处理不兼容的问题。甚至可能需要交换公共密钥。要做到这一点，你必须了解基本知识。我们到了:**永远不会发生！**对于有权势的人来说，让其他人不知道某些事情总是更好…

然而，由于在许多情况下仍然需要加密，所以它几乎在任何地方都可用。最重要的是，它可以在浏览器中使用。

在我的调查中，我发现大多数流行的浏览器都支持[子加密](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto)，只要浏览器访问的页面被认为*安全*。任何不提供私有连接和有效安全证书的页面都被认为是不安全的。从这个意义上来说，我检查过的所有 IPFS 网关都是安全的，因此它们可以通过使用 SubtleCrypto 来为页面提供加密。

很可能是出于有效的安全考虑，由旧的`HTTP`-协议服务的页面或任何没有安全证书的服务器被排除在 SubtleCrypto 之外。这意味着提供加密内容的内容提供商或用户加密内容的可能性本身不能保持匿名。如果有人想提供这样的内容，他总是需要注册并给出他的地址。在尊重人权和坚持某种道德法律体系的国家，这可能是有意义的。但是其他国家呢？

# 再次加密！

那么加密在 [Eternitas](https://gateway.pinata.cloud/ipfs/Qmf2Cnz214u5vQgaMqaE7BE93KKuWr6HZ162Y9YyjowWmG/) 中是如何工作的呢？

像往常一样，保存凭证是棘手的部分。每次加载页面时，都会发生三件事:

1.  创建了用于不对称加密的新密钥对。
2.  创建了用于对称加密的新密钥。
3.  创建用于签名和签名验证的密钥对。

这些是你的证件。如果你点击左上角的金钥匙，你可以下载你的凭证并保存在某个地方。**你是唯一对这些敏感数据负责的人。你必须保守秘密，决不能泄露出去。**

Eternitas 没有常规的登录过程，因为除了您自己，任何人都不知道您的凭证。只需将文件(之前通过单击金钥匙创建的)再次拖放到金钥匙上，就可以将凭证加载回页面。什么也不会发生，因为这个应用程序在某种程度上是极简的。

实际上，您需要变得更聪明，编辑您的凭据，使更有用一点。我告诉你如何…

# 编辑您的凭据

您通过点击金钥匙创建的文件代表您的金字塔。也是这座金字塔的关键。所以让我们给它一个名字。

在文本编辑器中打开文件，并查找如下所示的部分:

```
"title": {
   "text": "THIS IS YOUR PYRAMID"
}
```

只要改变这一点:

```
"title": {
   "text": "PYRAMID OF ALICE AND BOB"
}
```

并输入您的签名:

```
"sign": {
     "name" : "Alice and Bob Carter",
     "private": {
                 "crv": "P-384",
     [...]
```

(您可以在包含签名密钥的部分找到它)

(好的:对于大多数人来说，使用一个编辑 JSON 文件不是一件容易的事情。未来将需要提供一个图形用户界面。我们正在努力！)

最重要的部分还没找到。如果您想使您的一些数据持久化，您将需要向该文件添加更多的凭证。坚持总是意味着有人必须为你提供磁盘空间，而且这个人需要为此向你收费。

如前所述，我们只支持 [Pinata](https://pinata.cloud/pinexplorer) 作为我们的存储提供商。所以你去他们的页面注册。之后，你将拥有你的 *api 密匙*和你的*秘密*，就像他们在他们的网站上解释的那样，你在这里输入它们。

```
"credentials": {
           "pinataApi"      : "XXXXXXXXXXXXXXXXXXXX",
           "pinataApiSecret": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
```

# 上传文件

现在您已经成功地“推销”了您的凭证，您可以将文件拖放回金钥匙上。这应该会改变页面一点点，你现在可以看到你的金字塔的名字写在天空，在底部你可以找到你的名字作为签名者。

现在，您可以将一个(不太大的)文件拖放到标有**拖放区**的区域。该文件将被加密并保存到 IPFS。但是发生的不止这些:你刚刚在你的金字塔里创造并密封了你的第一个房间。你房间的封印在这页的左下方。你刚刚上传的文件也以 *IPFS 风格*命名，并写在你的金字塔名称下面。

您可以用同样的方法添加更多的文件。在每次迭代中，将会创建一个新的腔室，其中包含新项目以及您之前添加的所有项目。

每次你在底部发现一个新的印章，你的金字塔名字下面的列表就会增长。

如果您不点击“CHAMBER:”旁边的链接并保存该文件，您将再也找不到您的数据。如果你想找回你保存的东西，你可以点击金字塔名称下面的链接，然后你可以再次下载你的文件。它会自动为您解密。

如果你没有保存你的密室，不要重新加载页面，也不要点击金字塔的名字！现在让我们假设，你**确实保住了**你的枪膛。如果你现在点击金字塔的名字，密室将会消失。如果您将与您的密室相关的文件拖放回**拖放区**，您将取回所有文件。但是不要重新加载页面，因为在这种情况下，您的凭据将会丢失并被重新创建。确定—您已经保存了您的凭据。所以，现在就重新加载页面吧！我们又回到了起点。现在，您将凭据拖放回金钥匙上，您将再次“登录”。现在将你的密室拖放回**拖放区**，你就可以取回所有数据了。

# 签署

你的房间总是密封的，但他们还没有签字。这只是意味着，任何人都可以密封它们。你还不能证明是你干的。所以让我们现在签署这个房间。点击羽毛。这是一个复杂的过程。祝你一切顺利！这需要一段时间，当它完成并顺利进行时，你会发现你的签名写在**落区**上方。底线也有了新的入口。点击“签名:”旁边的链接，下载并保存您的签名。它将证明你已经密封了密室，并且你同意它的内容。找到你房间里的东西就足够了。密室永远不会变。没人能进去，除非他有你的证件。

# 蓝色毛里求斯

蓝色的毛里求斯只是页面顶部的第三个图标。老实说:这个图标没有触发任何动作。它没有实现。之后，它会帮助你与他人分享你的房间。例如，这样的房间可以包含你的全部遗产。点击邮票，你就可以把所有的东西转移给你的继承人。

# 哈希或 cid

仍然需要解释**拖放区**下面的两个文本字段是什么意思。

CHAMBER 和签名都与唯一标识您的内容的一个[散列或 CID](https://docs.ipfs.io/guides/concepts/cid/) 相关联。如果你有那个标识符，你总是能从 IPFS 网络重新获得你的数据。在标记为 *UNSIGNED* 的文本框中，您可以输入您的房间的 CID。在标有*签名*的文本框中，您可以输入您签名的 CID。在你按下回车键后，你总是可以取回你的内容。总是吗？不尽然！你需要准备好你的证件，就像上面描述的那样。

# 结论

我只能用非常简洁的方式描述其功能。一个密室的真正含义是什么，以及你可以用这些签名做什么，这些不会马上变得显而易见。开始考虑吧！你将开始意识到，一系列的用例都可以用这个概念来实现。

不要把金字塔比喻得太严肃。其他的隐喻也同样适用，它们会帮助你发现更多的含义和可能性。也许需要一些想象力才能走得更远。还有，很多事情还是要做的。让我们去争取吧！

> [在您的收件箱中直接获得最佳软件交易](https://coincodecap.com/?utm_source=coinmonks)

[![](img/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png)](https://coincodecap.com/?utm_source=coinmonks)