<html>
<head>
<title>How to build your own tradebot on hybrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在hybrix上构建自己的tradebot</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-build-your-own-tradebot-on-hybrix-9c7906b539bb?source=collection_archive---------6-----------------------#2020-07-14">https://medium.com/coinmonks/how-to-build-your-own-tradebot-on-hybrix-9c7906b539bb?source=collection_archive---------6-----------------------#2020-07-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><h1 id="305f" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">介绍</h1><p id="5f7b" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated"><em class="km">这篇文章是关于写一个运行在hybrix上的真实的</em> <a class="ae kn" href="https://blog.coincodecap.com/a-guide-to-cryptocurrency-trading-bots" rel="noopener ugc nofollow" target="_blank"> <em class="km">交易机器人</em> </a> <em class="km">。这很简单，不超过30分钟就可以启动并运行。</em></p><p id="19b6" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">在开始之前，请确保您熟悉hybrix，并且您正在自己的计算机上运行hybrix节点。了解一些Linux终端命令也很重要，这样您才能找到自己的路。</p><blockquote class="kt ku kv"><p id="ad36" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">关于运行你自己的节点的信息可以在这里找到:<a class="ae kn" href="https://api.hybrix.io/helpgetting-startedAlso" rel="noopener ugc nofollow" target="_blank">https://api.hybrix.io/helpgetting-started</a></p></blockquote><p id="b053" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated"><a class="ae kn" href="https://api.hybrix.io/helpgetting-startedAlso" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hu">亦作</strong> </a> <strong class="jq hu">你必须明白，你正在建造一个实验性的机器人。当使用它进行实时交易时，这意味着您可能会失去加密货币。</strong></p><p id="a5dd" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">你还需要一个在Biki和几个USDT的交易账户来进行交易。在开发和测试期间，保持你的Biki账户上的USDT数额较低，将确保你的风险很小。</p><blockquote class="kt ku kv"><p id="ac69" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">对于<strong class="jq hu">比基</strong>(英语)访问:<a class="ae kn" href="https://www.biki.cc/en_USThe" rel="noopener ugc nofollow" target="_blank">https://www.biki.cc/en_US</a></p></blockquote><h1 id="a695" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">第一步</h1><p id="be0b" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">在您的hybrix节点文件夹中，首先发出以下命令来查看您的节点是否正常运行。</p><blockquote class="kt ku kv"><p id="9441" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">。/hybrixd /command/exec</p></blockquote><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff kz"><img src="../Images/e914c76ea2f478cd7fbab38835508779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPWJ8mZQgb6Poec83Atv9A.png"/></div></div></figure><p id="b67c" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">该节点应响应以下消息:</p><p id="f045" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">这意味着节点正在运行，并希望您提供一个文件来执行。现在您已经准备好开始编写您的第一个Qrtz脚本了！</p><h1 id="96a8" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">你好世界</h1><p id="6efc" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">在您最喜欢的文本编辑器中，您现在应该创建一个名为test.json的文件，并将该文件保存在hybrix节点文件夹中。</p><p id="fb54" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">现在将以下内容添加到文件中。</p><pre class="la lb lc ld fq ll lm ln lo aw lp dt"><span id="5915" class="lq ir ht lm b fv lr ls l lt lu">{<br/>  “quartz” : {<br/>    “main” : [<br/>      “done ‘hello world!’”<br/>    ]<br/>  }<br/>}</span></pre><p id="efc2" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">这个文件现在包含一个JSON对象。JSON对象用大括号{}括起来，并以键/值对的形式编写。键必须是字符串，值必须是有效的JSON数据类型(字符串、数字、对象、数组、布尔值或null)。</p><p id="9358" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">hybrix的Qrtz脚本封装在一个对象中，实际的脚本在“quartz”键下，这个对象包含一个主程序“main”和可能的子例程。</p><p id="c1ef" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">保存文件，现在您就可以在命令行上运行您的第一个Qrtz程序了:</p><blockquote class="kt ku kv"><p id="4eda" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">。/hybrixd/command/exec/test . JSON</p></blockquote><p id="e811" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">或者更简单的运行脚本的方法是直接通过Qrtz解释器引擎:</p><blockquote class="kt ku kv"><p id="af55" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">。/qrtz test.json</p></blockquote><p id="1aa2" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">在这两种情况下，您应该看到您的脚本返回文本“hello world”。</p><p id="a2ab" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">如果你想了解更多关于Qrtz编程的知识，可以去看看https://api.hybrix.io/help/qrtz的文档。</p><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff lv"><img src="../Images/9b42d100ef8228d0febbaa44eaf8fa2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nfj735N3WpBG-7crMZcU6Q.jpeg"/></div></div></figure><p id="6198" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated"><strong class="jq hu">祝贺你！您已经编写了您的第一个Qrtz脚本！</strong></p><h1 id="3513" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">查看订单簿</h1><p id="8b97" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">是时候使用hybrix首次查看HY/USDT订单簿了。</p><p id="b206" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">在hybrix节点文件夹的recipes目录中，您会发现许多Qrtz示例引擎。其中一个对我们的第一笔交易很有用。它叫做engine.exchange_biki.json，你可以在你的下一个脚本中导入这个引擎的函数，用它们在biki上执行交易动作。</p><pre class="la lb lc ld fq ll lm ln lo aw lp dt"><span id="4636" class="lq ir ht lm b fv lr ls l lt lu">{<br/>  “engine” : ”test”, <br/>  “name” : “Trading bot”,<br/>  “import” : “exchange_biki”,<br/>  “apiKey” : “your_Biki_API_key”,<br/>  “secretKey” : “your_Biki_secret_key”,<br/>  “quartz” : {<br/>    “main” : [<br/>      “call orderBook/hy/usdt” <br/>    ] <br/>  }<br/>}</span></pre><p id="b224" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">使用Qrtz命令调用你可以调用一个子程序。在本例中，您调用了从引擎enchange_biki导入的子例程，该引擎位于/recipes目录中。您可以通过在文本编辑器中打开文件engine.exchange_biki.json来查看这个引擎的内容。</p><p id="3c2b" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">保存包含上面示例内容的文件，现在您可以在命令行上运行它了。</p><blockquote class="kt ku kv"><p id="8b28" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">。/qrtz test.json</p></blockquote><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff lv"><img src="../Images/fd2015685ac2ee6964bc601a20dccfc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZR08fn8CH1oiNzza9N8I1g.jpeg"/></div></div></figure><p id="2ac6" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">您将看到在命令行中返回的HY/USDT的订单簿，该订单簿位于包含交易对的买价和卖价的对象中。</p><h1 id="15b8" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated">你的第一笔交易</h1><p id="431f" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">现在你已经准备好进行你的第一笔交易了。确保你有来自Biki的API密钥和秘密来尝试交易。</p><pre class="la lb lc ld fq ll lm ln lo aw lp dt"><span id="dbae" class="lq ir ht lm b fv lr ls l lt lu">{ <br/>  “engine” : ”test”,<br/>  “name” : “Trading bot”,<br/>  “import” : “exchange_biki”,<br/>  “apiKey” : “your_Biki_API_key”,<br/>  ”secretKey” : “your_Biki_secret_key”,<br/>  “token” : “hy”,<br/>  “against” : “usdt”,<br/>  “quartz” : { <br/>    “main” : [ <br/>      “call trade/$token/$against” <br/>    ],<br/>    ”trade/symbol/base” : [<br/>      “call orderBook/$symbol/$base”,<br/>      “tran ‘.asks’ @getNearestOrder”,<br/>      “fail ‘Cannot get orderbook data!’”,<br/>      ”@getNearestOrder”,<br/>      “pick”,<br/>      “poke nearestOrder”,<br/>      “with price [data,$nearestOrder] [pick]”,<br/>      “with amount [data,$nearestOrder] [pick,-1]”,<br/>      “@buyNearestOrder”,<br/>      “call orderCreate/bid/$symbol/$amount/$base/$price”,<br/>      “done ‘Created order to buy $amount $symbol for a price of <br/>             $price $base.’” <br/>    ] <br/>  }<br/>}</span></pre><p id="2d7a" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">这个例子使用了两个变量token和against，它们可以在主脚本中被引用。它调用子例程trade，该子例程有两个参数<strong class="jq hu"> <em class="km">符号</em> </strong>和<strong class="jq hu"> <em class="km">基址</em> </strong>，它们被传递给交换引擎的子例程。</p><p id="a9ef" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">像<strong class="jq hu"> @getNearestOrder </strong>这样的标签可以用于根据命令的成功或失败跳转到Qrtz脚本中的某个位置。</p><p id="e6fe" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">最后，命令'<strong class="jq hu"> <em class="km"> done </em> </strong>'结束脚本，并传递一个字符串作为结果，其中包含HY在USDT以什么价格买了多少东西的信息。</p><p id="9b89" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">通过仔细观察命令和阅读文档，您可以掌握强大的Qrtz语言，并立即开始编写自己的交易机器人或多分类帐应用程序。</p><h1 id="b59f" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated"><strong class="ak">推进发展</strong></h1><p id="eeb5" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">在Qrtz中开发时，能够快速调试代码是很有用的。如果您刚刚开始，调试对您来说可能有点太深了。然而，如果你是一个更有经验的开发人员，你可能会感激能够确切地看到你的代码在做什么，什么是正确的，什么是错误的。</p><p id="da43" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">使用调试模式运行程序是可能的。</p><blockquote class="kt ku kv"><p id="2ea2" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">。/hybrixd/command/exec/test . JSON-d</p></blockquote><p id="5429" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">这将使您能够看到一个包含有关脚本执行的每一步的信息的树，以及数据缓冲区的样子。</p><p id="a1e9" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">除了调试，您还可以指定可以通过路由器(和命令行)传递的参数，如下所示。</p><pre class="la lb lc ld fq ll lm ln lo aw lp dt"><span id="7c2c" class="lq ir ht lm b fv lr ls l lt lu">{<br/>  “quartz” : { <br/>    “main” : [<br/>       “done ‘hello world! $1’”<br/>    ]<br/>  }<br/>}</span></pre><p id="261c" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">现在运行这个例子，给定路由路径<em class="km"> main </em>和参数‘hello’将返回一个更具交互性的结果。</p><blockquote class="kt ku kv"><p id="7193" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">。/hybrixd/command/exec/test . JSON/main/hello-d</p></blockquote><figure class="la lb lc ld fq le fe ff paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="fe ff lw"><img src="../Images/e7d63ba2c1f9f64dde8a2e8372ce7a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oE9w-xqapJe_OX6j7LMBIg.png"/></div></div></figure><p id="cef2" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">Qrtz脚本中的参数或自变量可以通过使用美元符号和数字来访问，例如$1、$2、$3等。这使得您可以在运行脚本时动态添加数据。</p><h1 id="4115" class="iq ir ht bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn dt translated"><strong class="ak">包装完毕</strong></h1><p id="3a98" class="pw-post-body-paragraph jo jp ht jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hm dt translated">恭喜你！您已经完成了这篇文章的结尾。</p><p id="2a35" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">概括地说，您现在已经学会了如何执行以下操作:</p><blockquote class="kt ku kv"><p id="548e" class="jo jp km jq b jr ko jt ju jv kp jx jy kw kq kb kc kx kr kf kg ky ks kj kk kl hm dt translated">-使用hybrix <br/>运行您自己的Qrtz脚本-编写您的第一个脚本并运行它<br/> -导入并调用外部Qrtz库函数<br/> -执行脚本化交易<br/> -使用调试器查看您的脚本如何运行</p></blockquote><p id="10e5" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">这些信息应该足够让你开始编写自己的交易机器人，或者任何其他与数字账本相关的解决方案。</p><p id="6b3b" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated"><em class="km">在</em><a class="ae kn" href="https://api.hybrix.io" rel="noopener ugc nofollow" target="_blank"><strong class="jq hu"><em class="km">https://API . hybrix . io</em></strong></a><em class="km">有很多文档，您可以在那里了解更多信息。但是，如果您缺少信息，我们欢迎您加入我们的社区，了解更多关于hybrix的信息！</em></p><p id="a1d8" class="pw-post-body-paragraph jo jp ht jq b jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh ks kj kk kl hm dt translated">本文由hybrix创始人Joachim de Koning撰写。</p><blockquote class="lx"><p id="b751" class="ly lz ht bd ma mb mc md me mf mg kl ek translated"><a class="ae kn" href="https://coincodecap.com?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mi mj mk ml mm le fe ff paragraph-image"><a href="https://coincodecap.com?utm_source=coinmonks"><div class="fe ff mh"><img src="../Images/160ce73bd06d46c2250251e7d5969f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*BoDnKUyK8p4hitHAJZ5Pdw.png"/></div></a></figure></div></div>    
</body>
</html>