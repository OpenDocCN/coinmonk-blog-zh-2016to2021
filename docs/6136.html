<html>
<head>
<title>How preventing spam emails led to proof-of-work</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">防止垃圾邮件如何带来工作证明</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-preventing-spam-emails-led-to-proof-of-work-46a294b2435?source=collection_archive---------4-----------------------#2021-11-19">https://medium.com/coinmonks/how-preventing-spam-emails-led-to-proof-of-work-46a294b2435?source=collection_archive---------4-----------------------#2021-11-19</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/329495b2ec489f56a657b5c7a20e7938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tz0bEc2bJn0jWQZsXi19Q.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/@peiobty?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Pierre Borthiry</a> on <a class="ae jf" href="https://unsplash.com/s/photos/proof-of-work?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e172" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">你可能想知道什么是工作证明？让我解释一下，所以你知道比特币(BTC)。BTC使用工作证明生成区块；它使用Hashcash工作证明系统。工作证明的正确定义是一个很难产生但很容易被其他人验证的数据，它必须满足特定的要求。这里的“难”字是指成本高，耗时长。在生成有效的工作证明之前，需要进行大量的试错过程。</p><p id="049d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我说比特币用的是工作证明；怎么会？要使数据块有效，它必须散列到小于给定目标的值，散列是分配给数据的随机值。这是一种证明在特定程序块上已经完成工作的方法，因此有了“工作证明”这个词。因此，对于矿工来说，生成新的区块并保护区块链不被篡改变得很有挑战性。更改块需要重新生成所有以前的块，然后执行它们包含的工作。</p></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="c9a8" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">为了澄清，让我用几行Python代码解释一下它在垃圾邮件防御中的一个应用。在这里，我们将尝试通过对发送的电子邮件做一些工作来防止垃圾邮件，已知的接收者可以很容易地验证这一点(工作证明)。这个想法是让电子邮件在计算上变得昂贵。最广泛使用的工作证明算法是SHA-256，这也是我们在这个简短教程中要用到的。如果你想了解更多关于哈希的信息，你可以在这里阅读。</p><p id="c507" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">代码</strong></p><figure class="km kn ko kp fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff kl"><img src="../Images/fbb40ac33f9d9d1f1a0c54893281548f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wBE16NrHLIt7OWtQOh9B1Q.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Python Code Example</figcaption></figure><p id="afdb" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">解释代码。</strong></p><p id="e9c6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">导入哈希函数— SHA-256</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="1bef" class="kv kw ht kr b fv kx ky l kz la">from hashlib import sha256</span></pre><p id="4e66" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">创建一个秘密短语——这个街头用语只有合法接收者知道。</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="0314" class="kv kw ht kr b fv kx ky l kz la">secret_phase = 'tweet_tutorial'</span></pre><p id="d8a6" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">创建一个散列函数，将电子邮件正文和街头用语作为输入数据。该函数返回一个特殊的8位字符，该字符满足接收方已知的某些特定要求。</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="6b9d" class="kv kw ht kr b fv kx ky l kz la">def get_hash(input_data, secret_phase):     <br/>  combined_string = input_data + secret_phase     <br/>  return int(sha256(combined_string.encode('utf-8')).hexdigest(),   16) % 10**8</span></pre><p id="ea59" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">电子邮件正文</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="eff1" class="kv kw ht kr b fv kx ky l kz la">email_body = "Hey man, The current price of Bitcoin is 56390.83," \     " as at the time of writing this email shehejge2339944502013e3449500020440423432"</span></pre><p id="a65f" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是电子邮件正文，你可以看到我在电子邮件的末尾添加了一些随机字符串，这是我通过大量试验和错误得到的，只是为了让电子邮件正文与机密短语相结合，满足收件人已知的一些特定要求。接收者可以通过调用邮件正文和机密短语上的<em class="lb"> get_hash </em>函数来轻松验证这一点。</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="7ec6" class="kv kw ht kr b fv kx ky l kz la">print(get_hash(email_body, secret_phase)) </span><span id="7e16" class="kv kw ht kr b fv lc ky l kz la"># 55673324</span></pre><p id="c123" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我对所做的是提出一个特定的约束，我只能通过在电子邮件正文中插入任意数据来满足这个约束。当接收者检查email_body和机密短语时，将返回相同的输出，从而证明我所做的工作。如果我添加的任意数据只改变了一个字符串，结果— 55673324也会改变，收件人可以确定电子邮件已经被篡改。下面我把邮件末尾的随机数据的最后一位数改成了5，新的邮件正文是</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="7e68" class="kv kw ht kr b fv kx ky l kz la">email_body = "Hey man, The current price of Bitcoin is 56390.83," \     " as at the time of writing this email shehejge2339944502013e3449500020440423435"</span></pre><p id="5bd7" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我的新成果是</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="ebc1" class="kv kw ht kr b fv kx ky l kz la">28554609</span></pre><p id="f0b1" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">上面的输出与接收者所期望的不同，因此我们知道邮件已经被篡改了。</p><p id="11d9" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">总之，合法的电子邮件将能够轻松地生成证明，但大量垃圾邮件发送者将难以生成所需的证明，这将需要大量的计算资源。并且这被用作在比特币挖掘中使用的共识算法。</p><p id="d8d4" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">推特—<a class="ae jf" href="https://twitter.com/bleso_a" rel="noopener ugc nofollow" target="_blank">https://twitter.com/bleso_a</a></p><p id="828d" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">电子邮件—blessingadesiji96@gmail.com</p><blockquote class="ld"><p id="45a7" class="le lf ht bd lg lh li lj lk ll lm kd ek translated">加入Coinmonks <a class="ae jf" href="https://t.me/coincodecap" rel="noopener ugc nofollow" target="_blank">电报频道</a>和<a class="ae jf" href="https://www.youtube.com/c/coinmonks/videos" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>了解加密交易和投资</p></blockquote><h2 id="6048" class="kv kw ht bd ln lo lp lq lr ls lt lu lv jr lw lx ly jv lz ma mb jz mc md me mf dt translated">也阅读</h2><div class="mg mh fm fo mi mj"><a href="https://blog.coincodecap.com/crypto-exchange" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hu fv z el mo eo ep mp er et hs dt translated">最佳加密交易所| 2021年十大加密货币交易所</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">编辑描述</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">blog.coincodecap.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx iz mj"/></div></div></a></div><div class="mg mh fm fo mi mj"><a href="https://blog.coincodecap.com/crypto-lending" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hu fv z el mo eo ep mp er et hs dt translated">2021年10大最佳加密贷款平台| CoinCodeCap</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">编辑描述</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">blog.coincodecap.com</p></div></div><div class="ms l"><div class="my l mu mv mw ms mx iz mj"/></div></div></a></div><div class="mg mh fm fo mi mj"><a rel="noopener follow" target="_blank" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hu fv z el mo eo ep mp er et hs dt translated">2021年最佳免费加密交易机器人</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">2021年币安、比特币基地、库币和其他密码交易所的最佳密码交易机器人。四进制，位间隙…</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">medium.com</p></div></div><div class="ms l"><div class="mz l mu mv mw ms mx iz mj"/></div></div></a></div><div class="mg mh fm fo mi mj"><a rel="noopener follow" target="_blank" href="/coinmonks/best-crypto-signals-telegram-5785cdbc4b2b"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hu fv z el mo eo ep mp er et hs dt translated">最佳4个加密交易信号电报通道</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">这是乏味的找到正确的加密交易信号提供商。因此，在本文中，我们将讨论最好的…</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">medium.com</p></div></div><div class="ms l"><div class="na l mu mv mw ms mx iz mj"/></div></div></a></div><div class="mg mh fm fo mi mj"><a href="https://blog.coincodecap.com/best-social-trading-platforms" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hu fv z el mo eo ep mp er et hs dt translated">5个最佳社交交易平台[2021] | CoinCodeCap</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">编辑描述</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">blog.coincodecap.com</p></div></div></div></a></div></div></div>    
</body>
</html>