<html>
<head>
<title>Error: Invalid callback object specified. Compile a Solidity Smart Contract Using NodeJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">错误:指定了无效的回调对象。使用NodeJS编译Solidity智能合约</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/error-invalid-callback-object-specified-compile-a-solidity-smart-contract-using-nodejs-4299c0ae5875?source=collection_archive---------0-----------------------#2020-08-28">https://medium.com/coinmonks/error-invalid-callback-object-specified-compile-a-solidity-smart-contract-using-nodejs-4299c0ae5875?source=collection_archive---------0-----------------------#2020-08-28</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="372f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在我升级了solidity编译器“solc”的版本和pragma solidity的版本后，我遇到了一个错误</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="7672" class="jx jy ht jt b fv jz ka l kb kc">AssertionError [ERR_ASSERTION]: Invalid callback object specified.</span><span id="e1d6" class="jx jy ht jt b fv kd ka l kb kc">at runWithCallbacks (/Users/sanghoonshin/solidity-test/node_modules/solc/wrapper.js:97:7)<br/>....</span></pre><p id="e2e3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我不能通过卸载和安装solc的其他版本来解决这个问题。甚至，他们还抛出其他错误。</p><p id="3bde" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我的项目中solidity和solc的当前版本是</p><pre class="jo jp jq jr fq js jt ju jv aw jw dt"><span id="ed61" class="jx jy ht jt b fv jz ka l kb kc">pragma solidity &gt;=0.4.17;<br/>"solc": "^0.6.6"</span></pre></div><div class="ab cl ke kf hb kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hm hn ho hp hq"><p id="f90f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">首先</strong>，之所以会出现这种情况，是因为从新版本的solidity开始就需要严格的规则来编写代码。举个例子，</p><figure class="jo jp jq jr fq kl"><div class="bz el l di"><div class="km kn l"/></div></figure><p id="cf74" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要从编译器导入abi和字节码，您需要指定要从什么地方导入什么。</p><p id="ee15" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">其次，</strong>调用interface(是编译器导入的abi)时，不需要JSON.parse，我觉得是因为interface是已经解析好的javascript对象。</p><figure class="jo jp jq jr fq kl"><div class="bz el l di"><div class="km kn l"/></div></figure><p id="523c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后，您需要在compile.js文件中添加几行代码</p><figure class="jo jp jq jr fq kl"><div class="bz el l di"><div class="km kn l"/></div></figure><figure class="jo jp jq jr fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff ko"><img src="../Images/97ad4e46161403bb6b357bf375f94fac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CkgpsO95UIlfA1vkjd9-NQ.jpeg"/></div></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Photo by <a class="ae kz" href="https://unsplash.com/@frankiefoto?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">frank mckenna</a> on <a class="ae kz" href="https://unsplash.com/@lavn_s/likes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e019" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我从<a class="ae kz" href="https://ethereum.stackexchange.com/questions/68354/how-to-compile-solidity-0-5-5-contract-with-node-js" rel="noopener ugc nofollow" target="_blank">这里</a>得到了很多暗示。</p><p id="ea28" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">希望这有帮助！</p><h2 id="b751" class="jx jy ht bd la lb lc ld le lf lg lh li jb lj lk ll jf lm ln lo jj lp lq lr ls dt translated">另外，阅读</h2><ul class=""><li id="02dc" class="lt lu ht is b it lv ix lw jb lx jf ly jj lz jn ma mb mc md dt translated">最好的<a class="ae kz" rel="noopener" href="/coinmonks/crypto-trading-bot-c2ffce8acb2a">密码交易机器人</a></li><li id="b851" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/top-10-crypto-copy-trading-platforms-for-beginners-d0c37c7d698c">加密复制交易平台</a></li><li id="ae2d" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">最好的<a class="ae kz" rel="noopener" href="/coinmonks/best-crypto-tax-tool-for-my-money-72d4b430816b">加密税务软件</a></li><li id="92e4" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/the-best-crypto-trading-platforms-in-2020-the-definitive-guide-updated-c72f8b874555">最佳加密交易平台</a></li><li id="d8fc" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">最佳<a class="ae kz" rel="noopener" href="/coinmonks/top-5-crypto-lending-platforms-in-2020-that-you-need-to-know-a1b675cec3fa">加密贷款平台</a></li><li id="4f10" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" href="https://bitquery.io/blog/best-blockchain-analysis-tools-and-software" rel="noopener ugc nofollow" target="_blank">最佳区块链分析工具</a></li><li id="d432" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/crypto-arbitrage-guide-how-to-make-money-as-a-beginner-62bfe5c868f6">加密套利</a>指南:新手如何赚钱</li><li id="aa54" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">最佳加密制图工具</li><li id="15e1" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/ledger-vs-trezor-best-hardware-wallet-to-secure-cryptocurrency-22c7a3fd391e">莱杰vs特雷佐</a></li><li id="56fd" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">了解比特币的<a class="ae kz" rel="noopener" href="/coinmonks/what-are-the-best-books-to-learn-bitcoin-409aeb9aff4b">最佳书籍有哪些？</a></li><li id="170f" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/3commas-review-an-excellent-crypto-trading-bot-2020-1313a58bec92">3商业评论</a></li><li id="d145" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/aax-exchange-review-2021-67c5ea09330c"> AAX交易所评论</a> |推荐代码、交易费用、利弊</li><li id="54f9" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/deribit-review-options-fees-apis-and-testnet-2ca16c4bbdb2"> Deribit审查</a> |选项、费用、API和Testnet</li><li id="e34b" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/ftx-crypto-exchange-review-53664ac1198f"> FTX密码交易所评论</a></li><li id="d0c3" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/ngrave-zero-review-c465cf8307fc">n零审核</a></li><li id="1310" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/bybit-exchange-review-dbd570019b71"> Bybit交换审查</a></li><li id="8b1e" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/cryptohopper-vs-3commas-vs-shrimpy-a2c16095b8fe"> 3Commas vs Cryptohopper </a></li><li id="b18b" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">最好的比特币<a class="ae kz" rel="noopener" href="/coinmonks/the-best-cryptocurrency-hardware-wallets-of-2020-e28b1c124069?source=friends_link&amp;sk=324dd9ff8556ab578d71e7ad7658ad7c">硬件钱包</a></li><li id="e7b1" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">最佳<a class="ae kz" href="https://blog.coincodecap.com/best-monero-wallets" rel="noopener ugc nofollow" target="_blank"> monero钱包</a></li><li id="747f" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" href="https://blog.coincodecap.com/ledger-nano-s-vs-x" rel="noopener ugc nofollow" target="_blank">莱杰nano s vs x </a></li><li id="ace6" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" href="https://blog.coincodecap.com/bitsgap-3commas-quadency" rel="noopener ugc nofollow" target="_blank">bits gap vs 3 commas vs quad ency</a></li><li id="a274" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" href="https://blog.coincodecap.com/ledger-nano-s-vs-trezor-one-ledger-nano-x-trezor-t" rel="noopener ugc nofollow" target="_blank">莱杰纳米S vs特雷佐one vs特雷佐T vs莱杰纳米X </a></li><li id="44f0" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/blockfi-vs-celsius-vs-hodlnaut-8a1cc8c26630">block fi vs Celsius</a>vs Hodlnaut</li><li id="52d0" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">Bitsgap评论——一个轻松赚钱的加密交易机器人</li><li id="92c0" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated">为专业人士设计的加密交易机器人</li><li id="22eb" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/primexbt-review-88e0815be858"> PrimeXBT审查</a> |杠杆交易、费用和交易</li><li id="62d2" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/ellipal-titan-review-85e9071dd029">埃利帕尔泰坦评论</a></li><li id="1a26" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" href="https://blog.coincodecap.com/secux-stone-hardware-wallet-review" rel="noopener ugc nofollow" target="_blank"> SecuX Stone评论</a></li><li id="31ff" class="lt lu ht is b it me ix mf jb mg jf mh jj mi jn ma mb mc md dt translated"><a class="ae kz" rel="noopener" href="/coinmonks/blockfi-review-53096053c097"> BlockFi评论</a> |赚取高达8.6%的加密利息</li></ul></div></div>    
</body>
</html>