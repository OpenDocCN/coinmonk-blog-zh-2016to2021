<html>
<head>
<title>Practical ZK-SNARKs for Ethereum</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊实用ZK音乐</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/practical-zk-snarks-for-ethereum-140cbddcb55d?source=collection_archive---------1-----------------------#2019-01-29">https://medium.com/coinmonks/practical-zk-snarks-for-ethereum-140cbddcb55d?source=collection_archive---------1-----------------------#2019-01-29</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/f713e1fc96a011074741bad6619843e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y1Bpyr-sY7V5Y1H2mcVv8w.png"/></div></div></figure><p id="67c2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Artos Systems的区块链开发人员Alexandre为您准备了一篇新的技术文章！</p></div><div class="ab cl jz ka hb kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hm hn ho hp hq"><p id="daf3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">2018年对于加密货币来说是艰难的一年。2017年的平流层高度在1月份坠毁，一年内从未恢复。那是疯狂的一年，充满了ico和对区块链前线无限承诺的狂热。</p><p id="0069" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">但如果2017年是海市蜃楼和期望之年，2018年则是反思或意识到工作仍有待完成的一年。这一年也取得了很多成就，现在远离了媒体的关注和兴奋的投资者的喧嚣。在以太坊方面，我们已经有了几项创新<a class="ae kg" rel="noopener" href="/@jjmstark/the-year-in-ethereum-87a17d6f8276"><em class="kh"/></a><em class="kh"/>，但一个主要话题是使用零知识技术进行扩展。这些目前有两种类型:</p><ul class=""><li id="df62" class="ki kj ht jd b je jf ji jj jm kk jq kl ju km jy kn ko kp kq dt translated"><a class="ae kg" href="https://eprint.iacr.org/2013/879.pdf" rel="noopener ugc nofollow" target="_blank"><em class="kh">-</em></a><a class="ae kg" href="https://github.com/scipr-lab/libsnark#references" rel="noopener ugc nofollow" target="_blank"><em class="kh">SNARKs</em></a>，2013年左右推出，并有众多研究者参与</li><li id="a4b0" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated">ZK-斯塔克斯，<a class="ae kg" href="https://eprint.iacr.org/2018/046.pdf" rel="noopener ugc nofollow" target="_blank"><em class="kh">2018</em></a>由伊莱-本-萨松和<a class="ae kg" href="https://www.starkware.co/" rel="noopener ugc nofollow" target="_blank"> <em class="kh">他的团队</em> </a>推出。</li></ul><p id="7649" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Vitalik Buterin本人一直是使用这项技术来提高以太坊网络吞吐量的热情支持者，ZCash在2018年再次全面实施了ZK-斯纳克法。</p><p id="32d1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">虽然加密社区已经讨论和研究这个概念好几年了，但在区块链地区我们才刚刚起步，仍然很难找到关于如何进入和使用这项技术的文档。有几个我特别喜欢的好参考:</p><ul class=""><li id="604e" class="ki kj ht jd b je jf ji jj jm kk jq kl ju km jy kn ko kp kq dt translated"><a class="ae kg" href="https://z.cash/technology/zksnarks/" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> ZCash的博客</em> </a></li><li id="599a" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated">克里斯蒂安·赖特威斯纳的<a class="ae kg" href="https://blog.ethereum.org/2016/12/05/zksnarks-in-a-nutshell/" rel="noopener ugc nofollow" target="_blank"><em class="kh">ZK——一言以蔽之</em> </a></li><li id="5c25" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated">维塔利科关于ZK的<a class="ae kg" rel="noopener" href="/@VitalikButerin/zk-snarks-under-the-hood-b33151a013f6"> <em class="kh">三贴系列</em></a>-SNARKs</li><li id="3b98" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated">另一个<a class="ae kg" href="https://vitalik.ca/general/2017/11/09/starks_part_1.html" rel="noopener ugc nofollow" target="_blank"> <em class="kh">三柱</em> </a>系列由维塔利克在ZK-斯塔克斯</li><li id="0784" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated">区块极客们的<a class="ae kg" href="https://blockgeeks.com/guides/what-is-zksnarks/" rel="noopener ugc nofollow" target="_blank"><em class="kh">ZK指南——SNARKs和零知识通</em> </a></li></ul><p id="1b31" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我以前在这个博客中写过关于STARKs的文章，主要是作为Vitalik帖子的个人学习指南。这篇文章是我关于ZK-斯纳克的第一篇文章，来自一个不同的角度:它讲述了我去战壕的经历，并实际实现了该技术的一个工作原型。</p><h1 id="b1d8" class="kw kx ht bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt dt translated">从哪里开始？</h1><p id="28d2" class="pw-post-body-paragraph jb jc ht jd b je lu jg jh ji lv jk jl jm lw jo jp jq lx js jt ju ly jw jx jy hm dt translated">上述参考资料很好地引导读者了解了ZK-斯纳克理论中涉及的几个不同概念:什么是零知识(ZK)，什么语句可以在ZK得到证明，什么是NP语言和决策问题，椭圆曲线密码学，椭圆曲线上的配对以及从语句到ZK-斯纳克的整个<a class="ae kg" rel="noopener" href="/@VitalikButerin/quadratic-arithmetic-programs-from-zero-to-hero-f6d558cea649"> <em class="kh">流程。</em> </a></p><p id="2f2d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">读完所有这些之后，我相信我能理解其中的数学原理(尽管不能同时把它们都记在脑子里)，但是有一个基本问题仍然没有解决。我从哪里开始？我如何证明我想要证明的东西？</p><p id="a8b7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这几乎就像有人在你面前手工组装了一辆汽车，告诉你可以把它带到任何你想去的地方，但没有给你钥匙。点火不足。</p><p id="a625" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">问题是你不能只为你想要的任何程序做一个标记，你只能以一种非常特殊的格式将它们与<em class="kh">电路一起使用。</em></p><figure class="ma mb mc md fq iu fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/e0b618181ea71e5455c4018d63b8d1c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*GpIh44DyStkgkGD0"/></div></figure><p id="5d68" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这些参考资料并没有告诉你如何去那里。他们要么会向你展示一个非常简单的计算，可以毫不费力地转化为一个代数电路，要么他们会完全忽略这个问题。当需要证明一个简单的陈述时，像这样</p><blockquote class="me mf mg"><p id="4497" class="jb jc kh jd b je jf jg jh ji jj jk jl mh jn jo jp mi jr js jt mj jv jw jx jy hm dt translated"><em class="ht">“我，证明者，知道一个前像s，使得Hash(s) = H，其中H是公知的”，</em></p></blockquote><p id="e145" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我只是不知道如何开始写必要的相应电路。</p><p id="cc0d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这也不是我的错。Zerocash的作者(同样是Eli Ben-Sasson和Alessandro Chiesa等人)在一篇<a class="ae kg" href="http://zerocash-project.org/media/pdf/zerocash-extended-20140518.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="kh">深刻的技术论文</em> </a>中详细说明了他们是如何为加密货币中使用的ZK-斯纳克构建电路的。这是由几个不同的组件组成的，其中一个是计算单个哈希的电路(技术上来说，是SHA256 的<em class="kh">哈希压缩函数)，它需要将近28000个代数门！这个<em class="kh">不是</em>你想用手做的事情。</em></p><p id="b7b0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">当我到了这个阶段，有一件事变得很清楚:我们需要一个工具来生产电路。撰写Zerocash论文的同一个团队还制作了一个C++库来创建电路，名为<a class="ae kg" href="https://github.com/scipr-lab/libsnark/" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> Libsnark </em> </a>。然而，进入的门槛太高了。为了快速生产出ZK-斯纳克原型，我需要别的东西。而那个东西原来已经存在:<a class="ae kg" href="https://github.com/Zokrates/ZoKrates" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> ZoKrates </em> </a>。我再次感谢一个非常有用的<a class="ae kg" href="https://github.com/jstoxrocky/zksnarks_example" rel="noopener ugc nofollow" target="_blank"> <em class="kh">教程</em> </a>，它指导我如何使用它。</p><h1 id="989a" class="kw kx ht bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt dt translated"><a class="ae kg" href="https://github.com/Zokrates/ZoKrates" rel="noopener ugc nofollow" target="_blank"> ZoKrates </a></h1><p id="9485" class="pw-post-body-paragraph jb jc ht jd b je lu jg jh ji lv jk jl jm lw jo jp jq lx js jt ju ly jw jx jy hm dt translated">ZoKrates是一个在Libsnark和人类理解之间架起桥梁的工具。它通过提供一种简单的语言来编写函数，然后将它们翻译成电路，从而使ZK-斯纳克的建筑变得易于使用。文档不是很好，事实上，它非常稀疏，但给了你一些基础知识。</p><p id="0edb" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">另一方面，有大量的<a class="ae kg" href="https://github.com/Zokrates/ZoKrates/tree/develop/zokrates_cli/examples" rel="noopener ugc nofollow" target="_blank"> <em class="kh">示例</em> </a>向您展示ZoKrates语言的所有功能。ZoKrates只有两种实数类型:固定素数域的数字(<code class="eh mk ml mm mn b">field</code>)和这些数字的有限大小数组(<code class="eh mk ml mm mn b">field[n]</code>)。它有能力评估条件，这些条件本身是布尔型的，但是不能赋给任何变量。</p><p id="9eca" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">记住一件事。<code class="eh mk ml mm mn b">field </code>的元素看起来像整数，但是有一个基本的区别:它们是字段<code class="eh mk ml mm mn b">Zp</code>的成员，其中<code class="eh mk ml mm mn b">p</code>是一个254位的素数。我们唯一可以使用的数字是在<code class="eh mk ml mm mn b">0</code>和<code class="eh mk ml mm mn b">p-1</code>之间(包括在内)。</p><p id="6777" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在编程语言中，用来表示一个数的位数受到限制是很正常的。但通常，我们可以使用任何给定大小的字(例如Solidity的<code class="eh mk ml mm mn b">uint</code>中的256位，C#的<code class="eh mk ml mm mn b">int</code>中的32位)。佐克拉特不一样。所有的算术都是计算出来的<code class="eh mk ml mm mn b">modulo p</code>，因为这是一个质数，所以不可能是2的幂。因此，有许多限制大小(254位)的数字不是组的一部分，因此不能使用。不要对此感到不安，以太坊中的ZK-斯纳克有一个特定的格式，需要在这个领域进行计算，因此这种类型是一个最佳的表示。事实上，素数<code class="eh mk ml mm mn b">p</code>被选择为以太坊的EIP197所使用的组的顺序，这使得以太坊能够执行和调用智能合约中的配对。</p><p id="ab16" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ZoKrates的主要目标是在一个模域中实现一些算术计算的验证。这是有趣的部分:在任何时候，我们都可以使用这种格式来验证等式</p><pre class="ma mb mc md fq mo mn mp mq aw mr dt"><span id="d1b9" class="ms kx ht mn b fv mt mu l mv mw">a == b</span></pre><p id="750d" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这就像断言一样:如果等式失败，程序将中止。因为我们想构建ZK-斯纳克，大多数情况下我们会编码谓词，即评估为真或假的函数。这个ZoKrates习语是写一个断言，我们想要证明什么，并立即遵循它</p><pre class="ma mb mc md fq mo mn mp mq aw mr dt"><span id="66b7" class="ms kx ht mn b fv mt mu l mv mw">return 1</span></pre><p id="51d0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">不等式更加困难，效率也低得多，因为它们明显增加了电路中的门的数量。要断言两个值是不同的，我们可以用这个习语:</p><pre class="ma mb mc md fq mo mn mp mq aw mr dt"><span id="6f70" class="ms kx ht mn b fv mt mu l mv mw">0 == (if a == b then 1 else 0 fi)</span></pre><p id="187f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">也就是说，如果<code class="eh mk ml mm mn b">a == b</code>那么if的结果是<code class="eh mk ml mm mn b">1</code>，并且断言失败。否则，结果为<code class="eh mk ml mm mn b">0</code>，断言成功。</p><p id="5527" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下面是一个非常简单的例子，说明证明者知道某个数的因式分解:</p><pre class="ma mb mc md fq mo mn mp mq aw mr dt"><span id="b998" class="ms kx ht mn b fv mt mu l mv mw">// a and b are factorization of c</span><span id="bc02" class="ms kx ht mn b fv mx mu l mv mw">def main(field c, private field a, private field b) -&gt; (field):</span><span id="9ad9" class="ms kx ht mn b fv mx mu l mv mw">field d = a * b</span><span id="23b5" class="ms kx ht mn b fv mx mu l mv mw">c == d</span><span id="0a2d" class="ms kx ht mn b fv mx mu l mv mw">return 1</span></pre><p id="fed7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就我的兴趣而言，ZoKrates最好的一点是计算SHA256散列函数的能力。这使得证明知道给定散列的前映像变得非常容易:</p><pre class="ma mb mc md fq mo mn mp mq aw mr dt"><span id="2cae" class="ms kx ht mn b fv mt mu l mv mw">import "LIBSNARK/sha256packed" <br/>def main(private field a, private field b, private field c, private field d, <br/>field v0, field v1) -&gt; (field):</span><span id="1ce8" class="ms kx ht mn b fv mx mu l mv mw">h0, h1 = sha256packed(a, b, c, d)</span><span id="151f" class="ms kx ht mn b fv mx mu l mv mw">v0 == h0<br/>v1 == v1</span><span id="fbfb" class="ms kx ht mn b fv mx mu l mv mw">return 1</span></pre><p id="1852" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ZoKrates的一个优点是它不局限于谓词:您可以进行普通的计算，如乘法、求和等，并返回结果。这甚至可以由一种以上的元素组成。</p><h1 id="cf4b" class="kw kx ht bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt dt translated">佐克拉特流动</h1><p id="1000" class="pw-post-body-paragraph jb jc ht jd b je lu jg jh ji lv jk jl jm lw jo jp jq lx js jt ju ly jw jx jy hm dt translated">ZoKrates管道有几个阶段是我们通常想要做的。它们从最初的功能到证明验证。这些包含在以下命令中。</p><ul class=""><li id="7034" class="ki kj ht jd b je jf ji jj jm kk jq kl ju km jy kn ko kp kq dt translated"><strong class="jd hu">编译</strong>:生成原函数的电路。这将返回两个文件，以二进制和人类可读的形式指定电路。要小心，这些文件可能很大。</li><li id="c6cc" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu">设置</strong>:生成该电路的验证密钥和验证密钥。它们只需要生成一次，但是该过程是伪随机的，如果重复，将会产生不同的值。</li><li id="f033" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu">compute-witness</strong>:ZK-斯纳克证明断言证明者知道一些满足原始函数的私人信息。这个私人信息被称为<em class="kh">证人</em>，因此，每个证人都有不同的证据。证人在被ZK-斯纳克使用之前必须被编码，这项工作在这里完成。因此，在生成证明之前需要这一步。</li><li id="38d4" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu">防生成</strong>:这是ZoKrates流程的最后一步。它使用前一步的证明密钥和见证编码生成一个证明。</li><li id="4466" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu"> export-verifier </strong>:这是一个可选步骤，创建一个可靠性契约来验证证据。当然，在全流程中，拥有某种类型的验证器是很重要的，而且ZoKrates创建了一个在链上运行的验证器也很棒。但是这很慢，如果你只想独立于以太坊创建一个ZK-斯纳克，你可以用另一种语言写一个验证器。这需要使用适当的库来计算椭圆曲线对，并不是所有的加密库都可以做到这一点(这将在以后的另一篇文章中讨论)。</li></ul><p id="964e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">ZoKrates是一款非常好的软件，但仍处于开发阶段。例如，文档中没有提到任何关于命令行参数的内容，我必须在源代码中找到这些信息。通过这样做，我还了解到ZoKrates支持两种ZK-斯纳克，并且您有一个命令行选项来指定您想要使用哪一种:Pinnochio协议(<a class="ae kg" href="https://eprint.iacr.org/2013/279.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> PGHR13 </em> </a>)和Groth-Maller构造(<a class="ae kg" href="http://chrome-extension//oemmndcbldboiebfnladdacbdfmadadm/https://eprint.iacr.org/2017/540.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> GM17 </em> </a>)。这可以通过命令<code class="eh mk ml mm mn b">setup</code>、<code class="eh mk ml mm mn b">export-verifier</code>和<code class="eh mk ml mm mn b">generate-proof</code>的选项<code class="eh mk ml mm mn b">-b</code>来指定。</p><p id="e816" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">其他主要命令选项包括:</p><ul class=""><li id="3964" class="ki kj ht jd b je jf ji jj jm kk jq kl ju km jy kn ko kp kq dt translated"><strong class="jd hu">编译-输入-输出</strong>:指定输入输出路径。</li><li id="02ca" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu"> setup -i -p -v -m </strong>:指定输入、证明密钥、验证密钥和元信息的路径。</li><li id="b9a3" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu"> export-verifier -i -o </strong>:指定输入输出路径。</li><li id="a2ce" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu"> compute-witness -i -o -a </strong>:输入输出路径同上；原始函数的公共和私有参数的以空格分隔的列表，这些参数组成见证。</li><li id="90a4" class="ki kj ht jd b je kr ji ks jm kt jq ku ju kv jy kn ko kp kq dt translated"><strong class="jd hu">生成-证明-w -p -j -i </strong>:证人路径、证明密钥、证明和元信息。</li></ul><h1 id="bbe5" class="kw kx ht bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt dt translated">表演</h1><p id="cc8f" class="pw-post-body-paragraph jb jc ht jd b je lu jg jh ji lv jk jl jm lw jo jp jq lx js jt ju ly jw jx jy hm dt translated">在我的第一次尝试中，ZoKrates非常容易使用。如果你不指定任何路径，文件将被创建并从它们的默认位置读取，一切都将顺利进行。原始函数的语言很简洁，可能有点困难，但是我的例子非常简单。几分钟后，我已经生成了一个证明，并用生成的合同进行了验证。</p><p id="5dc0" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">然后我把验证器移植到Python，用<a class="ae kg" href="https://github.com/ethereum/py_pairing/tree/master/py_ecc/optimized_bn128" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> py_pairing </em> </a>然后C++，用<a class="ae kg" href="https://github.com/scipr-lab/libff/tree/master/libff" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> libff </em> </a>。我向三个人核实了同样的证据。Python版本是最慢的。在我的特定计算机上，对于我的特定功能，大约需要4秒钟。固体版本大约是2秒。我实现了C++版本，试图提高速度，我没有失望:我把它降低到了大约40毫秒。</p><p id="3b6b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">根据操作的不同，电路和证明的生成时间在5到15秒之间。密钥和证明的大小是最大的惊喜:在我的例子中，证明密钥非常大，对于一个简单散列的验证有32Mb。验证两个散列产生了大约65Mb的证明。</p><p id="8fe5" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我还简要探讨了这种结构的可伸缩性。研究结果支持了学术论文的预测:证明大小和验证密钥的大小；并且验证时间实际上不随不同的电路而改变。另一方面，证明密钥的大小似乎与门的数量成线性比例，生成电路和见证的时间也是如此。生成证据的时间似乎没有变化。</p><p id="42f1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以上的价值观让我觉得SNARKs很适合在聚光灯下使用。验证可以很快完成，虽然证明生成相对较慢(如果每个事务只需要做一次就可以了，但如果一个事务需要很多证明就不行)，但关键是它只做一次，大多数操作都是验证。</p><p id="1475" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">总的来说，我和ZoKrates在一起很开心。它使用方便，可以帮助你有ZK-斯纳克运行和在一个上午。考虑到这个概念背后的数学是多么令人生畏，我非常高兴地感到惊讶，我相信这将有助于使ZK-斯纳克成为主流。这是一次非常有益的探索。</p><p id="94fd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我希望你和我一样对零知识辩论感兴趣，并决定尝试一下ZoKrates。如果你需要任何帮助，你可以随时联系我。欢迎评论，如果你喜欢这个帖子，请在下面说出来，并与他人分享。</p><p id="0ab9" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下次再见，在区块链开发领域的又一次冒险。</p></div><div class="ab cl jz ka hb kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hm hn ho hp hq"><figure class="ma mb mc md fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff my"><img src="../Images/9c2558d79b8a408e9c5771eb58a52244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xh5WG6RxRX2-sFG8aCqGXQ.jpeg"/></div></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">Alexandre Pinto — Blockchain developer at Artos (Aventus Ecosystem Party)</figcaption></figure><p id="5262" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Alex是我们生态系统合作伙伴Artos的软件工程师，在区块链工程团队工作。他拥有20年的技术工作经验，完成了计算机科学博士学位和密码学博士后学位。作为研究的一部分，Alex <a class="ae kg" href="https://www.researchgate.net/profile/Alexandre_Pinto2" rel="noopener ugc nofollow" target="_blank">发表了关于Kolmogorov复杂性、密码学、数据库匿名化和代码混淆的论文</a>。</p><p id="e3ed" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Pinto还花了七年时间在Maia大学学院讲课，包括指导计算机科学和信息系统与软件学士学位课程。</p><p id="2a86" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这篇文章最初发表在<a class="ae kg" href="http://coders-errand.com/practical-zk-snarks-for-ethereum/" rel="noopener ugc nofollow" target="_blank">的博客</a>上。还有，你可以关注亚历克斯的推特账号——@ alexMirPinto。</p><p id="4b45" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">既然你在这里，我们希望你能在<a class="ae kg" href="http://bit.ly/2A343qG" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">【电报】</strong></a><strong class="jd hu"/><a class="ae kg" href="http://bit.ly/2MExLop" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">Reddit</strong></a><strong class="jd hu"/><a class="ae kg" href="http://bit.ly/2Rlv5Nf" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">Twitter</strong></a><strong class="jd hu"/><a class="ae kg" href="http://bit.ly/2WrJLhH" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu"/></a><strong class="jd hu"/><a class="ae kg" href="http://bit.ly/2HE6fZw" rel="noopener ugc nofollow" target="_blank"><strong class="jd hu">Youtube</strong></a><strong class="jd hu"/><a class="ae kg" href="http://bit.ly/2WsaxGM" rel="noopener ugc nofollow" target="_blank"/><a class="ae kg" href="http://bit.ly/2WsaxGM" rel="noopener ugc nofollow" target="_blank"/></p><p id="65fd" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">我们还为开源开发人员/票务开发人员和票务专业人员创建了一个小组，并邀请您在此加入— <a class="ae kg" href="http://bit.ly/2G65ohO" rel="noopener ugc nofollow" target="_blank">区块链上的票务</a>。</p><blockquote class="nd"><p id="3e22" class="ne nf ht bd ng nh ni nj nk nl nm jy ek translated"><a class="ae kg" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="no np nq nr ns iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff nn"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>