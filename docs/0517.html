<html>
<head>
<title>Neo Smart Contract Development -Part 7</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Neo智能合同开发-第7部分</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/neo-smart-contract-development-part-7-14a590f76c7?source=collection_archive---------12-----------------------#2018-05-14">https://medium.com/coinmonks/neo-smart-contract-development-part-7-14a590f76c7?source=collection_archive---------12-----------------------#2018-05-14</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="2723" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">下载、安装和测试NEO privatenet Docker容器</h2></div><p id="a8d0" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="jk hu">署名— </strong>这个系列是<a class="ae ke" href="https://github.com/mwherman2000" rel="noopener ugc nofollow" target="_blank">迈克尔·赫曼(多伦多)</a>从他的<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart" rel="noopener ugc nofollow" target="_blank"> Git资源库</a>转载的作品。所有的掌声和赞扬都归于他。</p><h1 id="351d" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">目的</h1><p id="89ad" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated">本活动的目的是使用之前活动中安装的Docker平台下载、安装和测试NEO专用网络(privatenet) Docker容器，以确保我们能够构建NEO智能合同并将其部署到privatenet。</p><h1 id="800e" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">目标、非目标和假设</h1><ul class=""><li id="387b" class="lc ld ht jk b jl kx jo ky jr le jv lf jz lg kd lh li lj lk dt translated">确保您有一套正常工作且配置正确的NEO开发人员工具，用于在Visual Studio中使用C#编程语言创建和构建智能合约</li></ul><h1 id="91e8" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">原则</h1><ul class=""><li id="4809" class="lc ld ht jk b jl kx jo ky jr le jv lf jz lg kd lh li lj lk dt translated">提供可靠的文档:及时、准确、直观和完整</li><li id="d918" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">尽可能节省一个人的时间</li><li id="6156" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">尽可能使用开源软件</li></ul><h1 id="3cb7" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">司机</h1><ul class=""><li id="c92d" class="lc ld ht jk b jl kx jo ky jr le jv lf jz lg kd lh li lj lk dt translated">NEO中的需求。NET开发人员社区拥有简明易懂的文档，使人们能够在尽可能短的时间内快速开发NEO智能合同</li></ul><h1 id="3089" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">下载并安装NEO privatenet Docker容器</h1><ol class=""><li id="98b4" class="lc ld ht jk b jl kx jo ky jr le jv lf jz lg kd lq li lj lk dt translated">为了确保Docker已经安装并运行，启动Powershell控制台并输入<code class="eh lr ls lt lu b">docker run hello-world</code>(并按enter)。</li></ol><figure class="lw lx ly lz fq ma fe ff paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="fe ff lv"><img src="../Images/bc12fa9a30a59b8646eb3a89068b53cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VKBXM75z2akaRIdp.png"/></div></div><figcaption class="mh mi fg fe ff mj mk bd b be z ek">Figure 7.1. Docker Run Hello-World</figcaption></figure><p id="2c59" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">2.要下载并运行NEO Docker容器，请运行以下脚本:</p><pre class="lw lx ly lz fq ml lu mm mn aw mo dt"><span id="e655" class="mp kg ht lu b fv mq mr l ms mt">docker pull metachris/neo-privnet-with-gas<br/>docker run -d --name neo-privnet-with-gas -p 20333-20336:20333-20336/tcp -p 30333-30336:30333-30336/tcp metachris/neo-privnet-with-gas<br/>pause</span></pre><p id="4dd6" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">脚本:NEO Docker下载/安装/运行(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerinstall.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodeckerinstall . bat . txt</a></p><p id="d079" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">该脚本产生以下输出:</p><figure class="lw lx ly lz fq ma fe ff paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="fe ff mu"><img src="../Images/993e78de3bd6849f480326f5eeeb8dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kWLzxKqZcHluHIuA.png"/></div></div><figcaption class="mh mi fg fe ff mj mk bd b be z ek">Figure 7.2. NEO Docker Download/Install/Run</figcaption></figure><h1 id="61c2" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">测试NEO privatenet Docker容器</h1><p id="c10e" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated">3.要测试NEO Docker容器，请运行以下脚本:</p><pre class="lw lx ly lz fq ml lu mm mn aw mo dt"><span id="dad2" class="mp kg ht lu b fv mq mr l ms mt">REM cd opt/neo-python<br/>REM python3 prompt.py -p<br/>REM block 0<br/>docker exec -it neo-privnet-with-gas /bin/bash<br/>pause</span></pre><p id="b693" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">脚本:NEO Docker Python CLI/Shell ( <a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerpshell.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodecrpshell . bat . txt</a></p><p id="d279" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">4.上面的脚本将为NEO容器打开一个bash控制台。在Bash控制台中执行以下命令来启动NEO Python CLI:</p><pre class="lw lx ly lz fq ml lu mm mn aw mo dt"><span id="b4b6" class="mp kg ht lu b fv mq mr l ms mt">cd opt/neo-python<br/>python3 prompt.py -p</span></pre><p id="12a8" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">5.上述命令将启动NEO Python CLI。执行以下命令以验证NEO容器(和NEO节点)是否正常工作:</p><pre class="lw lx ly lz fq ml lu mm mn aw mo dt"><span id="b0c5" class="mp kg ht lu b fv mq mr l ms mt">block 0<br/>exit</span></pre><p id="169d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">最后3个任务总共产生以下输出:</p><figure class="lw lx ly lz fq ma fe ff paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="fe ff mu"><img src="../Images/4470df0320a9e77fe724c6af57bf6775.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ISr8PP2K2u_mRtOX.png"/></div></div><figcaption class="mh mi fg fe ff mj mk bd b be z ek">Figure 7.3. NEO Docker Test</figcaption></figure><p id="b87a" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">本活动的任务已经完成。继续进行<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/08-createcompilesmartcontract.md" rel="noopener ugc nofollow" target="_blank">活动8 —创建并编译HelloWorld智能合约样本</a>。</p><h1 id="8f1f" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">附加注释</h1><p id="ce3b" class="pw-post-body-paragraph ji jj ht jk b jl kx iu jn jo ky ix jq jr kz jt ju jv la jx jy jz lb kb kc kd hm dt translated">要让客户端应用程序访问您刚刚创建的NEO privatenet，您的NEO应用程序需要用以下JSON文件的内容替换2个JSON配置文件:</p><ul class=""><li id="2343" class="lc ld ht jk b jl jm jo jp jr mv jv mw jz mx kd lh li lj lk dt translated">config.json: ( <a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/json/config.neodocker.json" rel="noopener ugc nofollow" target="_blank">)。/json/config.neodocker.json </a></li><li id="ad33" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">protocol.json: ( <a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/json/protocol.neodocker.json" rel="noopener ugc nofollow" target="_blank">)。/JSON/protocol . neo docker . JSON</a></li></ul><p id="aafb" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">要从现有NEO网络切换到此privatenet，请确保您:</p><ul class=""><li id="17ce" class="lc ld ht jk b jl jm jo jp jr mv jv mw jz mx kd lh li lj lk dt translated">删除旧的区块链数据库文件夹</li><li id="c16c" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">删除旧的<code class="eh lr ls lt lu b">peers.dat</code>文件</li><li id="d492" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">开始neo-gui.exe</li><li id="d606" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">重新索引您的数据库</li></ul><h1 id="9059" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">脚本库</h1><ul class=""><li id="06a9" class="lc ld ht jk b jl kx jo ky jr le jv lf jz lg kd lh li lj lk dt translated">NEO Docker下载/安装/运行(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerinstall.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodeckerinstall . bat . txt</a></li><li id="8fa5" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">新对接器停止/移除(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockeruninstall.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodecruninstall . bat . txt</a></li><li id="5c64" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">NEO Docker启动(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerstart.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerstart . bat . txt</a></li><li id="3f27" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">新停靠站(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerstop.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerstop . bat . txt</a></li><li id="3d75" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">新对接器重启(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerrestart.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerrestart . bat . txt</a></li><li id="a2dd" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">新对接复位(<a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerreset.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodockerreset . bat . txt</a></li><li id="82f5" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">NEO Docker Python CLI/Shell ( <a class="ae ke" href="https://github.com/mwherman2000/neo-dotnetquickstart/blob/master/EN-us/scripts/neodockerpshell.bat.txt" rel="noopener ugc nofollow" target="_blank">)。/scripts/neodecrpshell . bat . txt</a></li></ul><h1 id="ea95" class="kf kg ht bd kh ki kj kk kl km kn ko kp iz kq ja kr jc ks jd kt jf ku jg kv kw dt translated">参考</h1><ul class=""><li id="4b00" class="lc ld ht jk b jl kx jo ky jr le jv lf jz lg kd lh li lj lk dt translated">【DOCKER】docker.com，<a class="ae ke" href="https://docs.docker.com/docker-for-windows/install/" rel="noopener ugc nofollow" target="_blank">从【https://docs.docker.com/docker-for-windows/install/】T2</a>(<a class="ae ke" href="https://docs.docker.com/docker-for-windows/install/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/docker-for-windows/install/</a>)安装Docker for Windows </li><li id="c69e" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">[<a class="ae ke" href="https://hub.docker.com/r/metachris/neo-privnet-with-gas/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/r/metachris/neo-privnet-with-gas/</a>]<a class="ae ke" href="https://hub.docker.com/r/metachris/neo-privnet-with-gas/()" rel="noopener ugc nofollow" target="_blank">https://hub . docker . com/r/metachris/neo-priv net-with-gas/()</a></li><li id="54a3" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">【新码头2】锡安城项目，<a class="ae ke" href="https://github.com/CityOfZion/neo-privatenet-docker" rel="noopener ugc nofollow" target="_blank">锡安城/新私人码头</a>来自<a class="ae ke" href="https://github.com/CityOfZion/neo-privatenet-docker" rel="noopener ugc nofollow" target="_blank">https://github.com/CityOfZion/neo-privatenet-docker</a></li><li id="de16" class="lc ld ht jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk dt translated">克里斯·哈尔，<a class="ae ke" rel="noopener" href="/proof-of-working/how-to-run-a-private-network-of-the-neo-blockchain-d83004557359">如何运行近地天体区块链的私人网络</a>来自<a class="ae ke" rel="noopener" href="/proof-of-working/how-to-run-a-private-network-of-the-neo-blockchain-d83004557359">https://medium . com/proof-of-work/How-to-run-a-private-network-of-the-NEO-区块链-d83004557359 </a></li></ul></div></div>    
</body>
</html>