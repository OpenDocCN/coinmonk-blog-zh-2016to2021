<html>
<head>
<title>How to build an automated dApp in 4 steps — with Gelato</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过意式冰淇淋用4个步骤构建自动化dApp</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/how-to-build-an-automated-dapp-in-4-steps-with-gelato-633f12206a8e?source=collection_archive---------2-----------------------#2020-07-23">https://medium.com/coinmonks/how-to-build-an-automated-dapp-in-4-steps-with-gelato-633f12206a8e?source=collection_archive---------2-----------------------#2020-07-23</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/4b314b5bc9270eaeeb2fd08142c6cce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBeAX7szWzYQsMIfM28XQA.jpeg"/></div></div></figure><p id="62f2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">意式冰淇淋使开发人员能够快速构建自动化的dapps，而不必担心构建、部署和运行必要的bot基础设施来支持它。T3】</p><p id="a173" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><a class="ae ka" href="https://gelato.network/" rel="noopener ugc nofollow" target="_blank">意式冰淇淋网络</a>是一个机器人基础设施，带有一个简单的、经过审核的链上API，允许开发人员构建几乎任何类型的自动化dapp <strong class="jd hu">。</strong></p><p id="5989" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">Dapp automation包含任何类型的自动智能合约功能执行，例如每周购买ETH、自动化产量养殖或在Uniswap等DEX上下达简单的限价买入或卖出订单。哪些任务应该自动化完全取决于开发人员的想象力。</p><p id="1a41" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">使用意式冰淇淋来自动化你的dapp不仅仅意味着你可以使用它的基础设施，它还带来了很多经过审核的代码可重用性，这取决于你的用例需要的定制程度。请<a class="ae ka" href="https://t.me/joinchat/HcTaO" rel="noopener ugc nofollow" target="_blank">联系我们</a>了解您的具体需求，我们将确保帮助您为您的具体自动化用例准备好智能合同。</p><p id="0544" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在任何情况下，为了利用意式冰淇淋为您自动完成任务，您需要做4件事情。为了让您了解它们，我们将从一个开发者的角度出发，他想要构建一个<a class="ae ka" href="https://blog.coincodecap.com/what-are-dapps-an-ultimate-guide" rel="noopener ugc nofollow" target="_blank"> dapp </a>来为其用户提供<a class="ae ka" href="https://www.investopedia.com/terms/d/dollarcostaveraging.asp" rel="noopener ugc nofollow" target="_blank"> DAI-Cost Averaging </a>，这是一种在更长的时间范围内投资ETH的流行投资策略。换句话说，这个dapp允许用户在Uniswap这样的分散交易平台上通过DAI定期自动购买ETH，以平衡ETH波动的影响。关于本演示的详细<strong class="jd hu">技术</strong> <strong class="jd hu">演练</strong>，请访问我们在Github上的<a class="ae ka" href="https://github.com/gelatodigital/gelato-uniswap" rel="noopener ugc nofollow" target="_blank">教程</a>。</p><p id="e67a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">要创建如上所述的自动化dapp，只需按照以下4个步骤完成提交意式冰淇淋任务:</p><h2 id="a55b" class="kb kc ht bd kd ke kf kg kh ki kj kk kl jm km kn ko jq kp kq kr ju ks kt ku kv dt translated"><strong class="ak">第一步:定义要自动化的任务</strong></h2><p id="1d4f" class="pw-post-body-paragraph jb jc ht jd b je kw jg jh ji kx jk jl jm ky jo jp jq kz js jt ju la jw jx jy hm dt translated">一个意式冰淇淋任务就是<strong class="jd hu">条件</strong>——何时执行交易——和<strong class="jd hu">动作</strong> —交易应该执行什么——智能合约的组合。意式冰淇淋已经为你编写和部署了许多条件和行动，但你也可以创造自己的条件或<a class="ae ka" href="https://t.me/joinchat/HcTaO" rel="noopener ugc nofollow" target="_blank">请求我们</a>来帮助你。对于这个例子，任务是每周五在Kyber上为WETH销售DAI，并且在Javascript中看起来像这样:</p><figure class="lc ld le lf fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lb"><img src="../Images/27d6a9cf4df07dd7f0a8c4cb13a12236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j_1MUbkgmbtTyYC8"/></div></div></figure><h2 id="5c5c" class="kb kc ht bd kd ke kf kg kh ki kj kk kl jm km kn ko jq kp kq kr ju ks kt ku kv dt translated"><strong class="ak">步骤2:为您的用户部署代理智能合约</strong></h2><p id="82c0" class="pw-post-body-paragraph jb jc ht jd b je kw jg jh ji kx jk jl jm ky jo jp jq kz js jt ju la jw jx jy hm dt translated">为了让您的用户能够向意式冰淇淋提交他们的自动化任务，您必须确保您的用户由代理智能合同链代表。你可以重复使用流行的智能合同钱包，比如Gnosis Safe、DappHub的DSProxy或意式冰淇淋自己的审计代理合同。在这种情况下，您只需通过他们的一个工厂，为您的每个用户部署一个代理契约。从技术上来说，每个用户只需做一次，您可以重用已部署的用户代理实例，用于以后的任务自动化。或者，您的dapp可能是所有与意式冰淇淋交互的代理，在这种情况下，您只需在您的dapp中包含一个向意式冰淇淋本地提交任务的功能。</p><figure class="lc ld le lf fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lg"><img src="../Images/621b8bf87d7fa7a5101036767c4a3549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZwL85YUycj4NveHh"/></div></div></figure><p id="0768" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这个代理要求允许用户不必在线执行任务。取而代之的是，他们批准他们的代理来执行他们想要自动化的任何操作，例如，从用户的钱包中交换资金。当他们指定的条件被满足时，机器人将通过他们的代理执行动作。在执行时，代理将允许用户移动资金，并且由于它们是智能合约，将能够执行任何dapp逻辑。这是自动化的关键，因为这意味着用户不需要在任务执行时手动签名或发送事务。请注意，这也意味着用户在技术上永远不必放弃对其资金的托管，以便在自动化操作中使用它们。意式冰淇淋不实行监禁。</p><h2 id="b962" class="kb kc ht bd kd ke kf kg kh ki kj kk kl jm km kn ko jq kp kq kr ju ks kt ku kv dt translated"><strong class="ak">第三步:让用户通过代理在意式冰淇淋上存放ETH</strong></h2><p id="cb31" class="pw-post-body-paragraph jb jc ht jd b je kw jg jh ji kx jk jl jm ky jo jp jq kz js jt ju la jw jx jy hm dt translated">意式冰淇淋的bot基础设施以现收现付的方式执行任务。用户支付机器人产生的天然气费用，外加少量奖励和协议费。<a class="ae ka" href="https://twitter.com/chainlink/status/1279040177973927936?s=20" rel="noopener ugc nofollow" target="_blank">意式冰淇淋使用Chainlink的快速天然气价格oracle，</a>确定在执行时要支付的公平天然气价格。因此，你的用户将不得不在意式冰淇淋上保持一个ETH平衡，以补偿机器人的自动任务执行。一个很好的比喻是，用户必须在冰淇淋上加满他们的“油箱”余额。请记住，与gelato的所有互动都必须通过智能合同进行。因此，用户必须以其代理合同作为<em class="jz">消息发送方</em>存放资金</p><figure class="lc ld le lf fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lh"><img src="../Images/250fd9bb8f3f4475d93750dfda637524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MDMAmlGZyBVYCPoq"/></div></div></figure><p id="7e11" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">或者，如果你不想让你的用户自己负责油箱管理，其他人，比如道或者开发团队也可以选择为他们付费。反过来，他们可以得到补偿，比如从每笔自动交易中赚取佣金。这将在我们的<a class="ae ka" href="https://github.com/gelatodigital/gelato-kyber#demo-part-2-pay-for-you-users-transactions-by-becoming-an-external-gelato-provider" rel="noopener ugc nofollow" target="_blank"> Github教程</a>的第二部分进一步解释。</p><p id="5aad" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">步骤4:让用户通过他们的代理合同向意式冰淇淋提交任务</strong></p><p id="50a3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">最后一步，您只需要让您的用户通过他们的代理向意式冰淇淋提交他们的任务。Javascript看起来会像这样。</p><figure class="lc ld le lf fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff li"><img src="../Images/2af17766917fb95d1a9862a6c12e0b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ertpD3rMlTdKLxA2"/></div></div></figure><p id="1004" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">就是这样！现在，gelato的机器人网络将自动执行行动——每次指定的条件允许时——每个星期五——在Kyber <strong class="jd hu">用戴交换ETH:</strong></p><figure class="lc ld le lf fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lh"><img src="../Images/df4f59c7aef9867258ecc750698a319b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KWiDVcHWVy1Kpmcj"/></div></div></figure><h2 id="5b74" class="kb kc ht bd kd ke kf kg kh ki kj kk kl jm km kn ko jq kp kq kr ju ks kt ku kv dt translated"><strong class="ak">开始构建您自己的用例！</strong></h2><p id="e03a" class="pw-post-body-paragraph jb jc ht jd b je kw jg jh ji kx jk jl jm ky jo jp jq kz js jt ju la jw jx jy hm dt translated">如果你是一名开发者，想要自动化dapp的某个方面，请通过<a class="ae ka" href="https://t.me/joinchat/HcTaO" rel="noopener ugc nofollow" target="_blank"> Telegram </a>或<a class="ae ka" href="https://discord.com/invite/Avmrfg7" rel="noopener ugc nofollow" target="_blank"> Discord </a>联系我们。我们的开发者文档还没有完成——很抱歉——但同时我们会用实际操作的方法帮助你。有利的一面是，我们将投入大量时间来帮助您构建您的特定用例，当然是免费的。另外，请务必查看我们的<a class="ae ka" href="https://github.com/gelatodigital/gelato-kyber" rel="noopener ugc nofollow" target="_blank">教程</a>，了解更多关于gelato的知识。</p><blockquote class="lj"><p id="002d" class="lk ll ht bd lm ln lo lp lq lr ls jy ek translated"><a class="ae ka" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank"> <em class="lt">在您的收件箱中直接获得最佳软件交易</em> </a></p></blockquote><figure class="lv lw lx ly lz iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff lu"><img src="../Images/65187f32a5ebb111a29232c246df750c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*APAosxE1FRls6R-P.png"/></div></a></figure></div></div>    
</body>
</html>