<html>
<head>
<title>Using Waffle â€” Writing &amp; Testing Smart Contracts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨åå¤«â€”â€”æ’°å†™å’Œæµ‹è¯•æ™ºèƒ½åˆåŒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/coinmonks/using-waffle-writing-testing-smart-contracts-b0f350e0f838?source=collection_archive---------0-----------------------#2019-09-30">https://medium.com/coinmonks/using-waffle-writing-testing-smart-contracts-b0f350e0f838?source=collection_archive---------0-----------------------#2019-09-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="fe ff iq"><img src="../Images/38c061b78e02d9c338d7da2533642368.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*TC0x5SrhD-5fzSdBupd8ow.png"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek"><strong class="bd jb">Sweeter, Simpler &amp; Faster</strong></figcaption></figure><h1 id="49c1" class="jc jd ht bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated"><strong class="ak">ä»€ä¹ˆæ˜¯åå¤«é¥¼ï¼Ÿ</strong></h1><p id="f7fd" class="pw-post-body-paragraph ka kb ht kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hm dt translated">Waffleæ˜¯ä¸€ä¸ªç”¨äºç¼–å†™å’Œæµ‹è¯•æ™ºèƒ½åˆåŒçš„åº“ã€‚å®ƒæ›´ç”œï¼Œæ›´ç®€å•ï¼Œæ›´å¿«ã€‚<br/> <strong class="kc hu">æ›´ç”œ</strong>:æç®€ä¸»ä¹‰ï¼Œå¾ˆå°‘ä¾èµ–ã€‚<br/> <strong class="kc hu">æ›´ç®€å•</strong>:è¯­æ³•å¥½ï¼Œæ˜“äºæ‰©å±•ã€‚<br/> <strong class="kc hu">æ›´å¿«</strong>:å…³æ³¨æµ‹è¯•æ‰§è¡Œçš„é€Ÿåº¦ã€‚</p><h1 id="83cf" class="jc jd ht bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated"><strong class="ak">ä½¿ç”¨åå¤«é¥¼</strong></h1><h2 id="9aa8" class="ky jd ht bd je kz la lb ji lc ld le jm kl lf lg jq kp lh li ju kt lj lk jy ll dt translated">æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¼€å§‹ä½¿ç”¨åå¤«é¥¼:</h2><p id="2dc7" class="pw-post-body-paragraph ka kb ht kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hm dt translated">1.åˆ›å»ºé¡¹ç›®ç»“æ„</p><pre class="lm ln lo lp fq lq lr ls lt aw lu dt"><span id="4ba8" class="ky jd ht lr b fv lv lw l lx ly">mkdir using-waffle<br/>cd using-waffle<br/>mkdir build<br/>mkdir contracts<br/>mkdir test</span><span id="db2a" class="ky jd ht lr b fv lz lw l lx ly"><strong class="lr hu">Note:</strong> In case of truffle, <em class="ma">truffle init</em> creates all these directories plus migrations directory, however, there is no <em class="ma">waffle init</em> command as such, thus, creating the project structure is manual.</span></pre><p id="8ada" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">2.å®‰è£…ä¾èµ–é¡¹</p><pre class="lm ln lo lp fq lq lr ls lt aw lu dt"><span id="ab2f" class="ky jd ht lr b fv lv lw l lx ly">Ensure you are in the <em class="ma">using-waffle </em>directory.</span><span id="8371" class="ky jd ht lr b fv lz lw l lx ly">npm i ethereum-waffle -D<br/>npm i chai -D<br/>npm i mocha -D</span></pre><p id="db47" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">3.åˆ›å»ºwaffle.config.jsonæ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </p><figure class="lm ln lo lp fq iu"><div class="bz el l di"><div class="mg mh l"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">using-waffle/waffle.confing.json</figcaption></figure><p id="e9d2" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">4.å°†ä»¥ä¸‹è„šæœ¬æ·»åŠ åˆ°package.json</p><figure class="lm ln lo lp fq iu"><div class="bz el l di"><div class="mg mh l"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">using-waffle/package.json</figcaption></figure><p id="9ed4" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">5.è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å­˜å‚¨å¥‘çº¦</p><pre class="lm ln lo lp fq lq lr ls lt aw lu dt"><span id="a4ad" class="ky jd ht lr b fv lv lw l lx ly">cd contracts<br/>vi SimpleStorage.sol<br/>Paste the below code in it.</span></pre><figure class="lm ln lo lp fq iu"><div class="bz el l di"><div class="mg mh l"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">contracts/SimpleStorage.sol</figcaption></figure><p id="5e3d" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">6.ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¸ºä¸Šé¢çš„å¥‘çº¦åˆ›å»ºæµ‹è¯•æ–‡ä»¶</p><pre class="lm ln lo lp fq lq lr ls lt aw lu dt"><span id="32d9" class="ky jd ht lr b fv lv lw l lx ly">cd test<br/>vi simpleStorage.test.js<br/>Paste the below code in it</span></pre><figure class="lm ln lo lp fq iu"><div class="bz el l di"><div class="mg mh l"/></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">test/simpleStorage.test.js</figcaption></figure><p id="a988" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">æ³¨æ„:</p><ul class=""><li id="d72f" class="mi mj ht kc b kd mb kh mc kl mk kp ml kt mm kx mn mo mp mq dt translated">æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬æ²¡æœ‰æ˜ç¡®è®¨è®ºä»»ä½•åŒºå—é“¾èŠ‚ç‚¹(ç”šè‡³æ²¡æœ‰ganache)ï¼Œè¿™æ˜¯å› ä¸ºåŠŸèƒ½æ€§<strong class="kc hu"> createMockProvider()ã€‚</strong></li><li id="f21b" class="mi mj ht kc b kd mr kh ms kl mt kp mu kt mv kx mn mo mp mq dt translated">å¥‘çº¦å‘å‡ºçš„äº‹ä»¶å¯ä»¥ç”¨ä¸€ä¸¤è¡Œä»£ç æµ‹è¯•å‡ºæ¥(æ›´ç®€å•â€”â€”åå¤«:è¯­æ³•å¾ˆå¥½ï¼Œæ˜“äºæ‰©å±•ğŸ˜„)</li><li id="adf9" class="mi mj ht kc b kd mr kh ms kl mt kp mu kt mv kx mn mo mp mq dt translated">å›å¤æµ‹è¯•ä¹Ÿæ˜¯ä¸€è¡Œç¨‹åº(ç”œèœœåå¤«é¥¼:æç®€ä¸»ä¹‰ğŸ˜)</li></ul><p id="5671" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">7.ç¼–è¯‘å¹¶è¿è¡Œæµ‹è¯•</p><pre class="lm ln lo lp fq lq lr ls lt aw lu dt"><span id="5cc5" class="ky jd ht lr b fv lv lw l lx ly">npm run compile<br/>npm run test</span></pre><figure class="lm ln lo lp fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="fe ff mw"><img src="../Images/bdb371164f8e6160178b353c5545878b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i5YIvqrPiUQCPfRwc06kew.png"/></div></div><figcaption class="ix iy fg fe ff iz ja bd b be z ek">Output of npm run compile and npm run test</figcaption></figure><h1 id="84df" class="jc jd ht bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">ç»“è®º</h1><p id="48b5" class="pw-post-body-paragraph ka kb ht kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hm dt translated">åå¤«é¥¼è‡ªå¸¦ä¼˜åŠ¿ã€‚ä¸Truffleç›¸æ¯”ï¼Œwaffleä¸­çš„æŠ½è±¡æ›´é«˜ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨Truffleï¼Œæ‰€æœ‰çš„è¿ç§»è„šæœ¬éƒ½ä¿å­˜åœ¨è¿ç§»ç›®å½•ä¸‹ï¼Œå¦‚æœæ˜¯waffleï¼Œåˆ™æ²¡æœ‰è¿ç§»ç›®å½•ï¼ŒWaffleä¼šéšæ—¶ä¸ºæ‚¨å®Œæˆã€‚æ•è·å‘å‡ºçš„äº‹ä»¶å’Œæµ‹è¯•è¿˜åŸæ¡ˆä¾‹æ˜¯ä¸€ä¸ªæˆ–ä¸¤ä¸ªè¡¬é‡Œã€‚ä¸€å®šè¦è¯•ä¸€è¯•ï¼Œâ€œæ›´ç”œã€æ›´ç®€å•ã€æ›´å¿«â€”â€”åå¤«é¥¼ã€‚â€</p><p id="dc6a" class="pw-post-body-paragraph ka kb ht kc b kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx hm dt translated">å‚è€ƒèµ„æ–™:</p><div class="nb nc fm fo nd ne"><a href="https://ethereum-waffle.readthedocs.io/en/latest/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab ej"><div class="ng ab nh cl cj ni"><h2 class="bd hu fv z el nj eo ep nk er et hs dt translated">åå¤«é¥¼æ–‡ä»¶-åå¤«é¥¼æ–‡ä»¶</h2><div class="nl l"><h3 class="bd b fv z el nj eo ep nk er et ek translated">Waffleæ˜¯ä¸€ä¸ªç”¨äºç¼–å†™å’Œæµ‹è¯•æ™ºèƒ½åˆåŒçš„åº“ã€‚</h3></div><div class="nm l"><p class="bd b gc z el nj eo ep nk er et ek translated">ä»¥å¤ªåŠ-åå¤«é¥¼. readthedocs.io</p></div></div></div></a></div><div class="nb nc fm fo nd ne"><a href="https://github.com/balajipachai/smart-contract-for-fun" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab ej"><div class="ng ab nh cl cj ni"><h2 class="bd hu fv z el nj eo ep nk er et hs dt translated">balajipachai/æœ‰è¶£çš„æ™ºèƒ½åˆåŒ</h2><div class="nl l"><h3 class="bd b fv z el nj eo ep nk er et ek translated">æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦</h3></div><div class="nm l"><p class="bd b gc z el nj eo ep nk er et ek translated">github.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns iv ne"/></div></div></a></div><figure class="lm ln lo lp fq iu fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff nt"><img src="../Images/e9dbce386c4f90837b5db529a4c87766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fZu_SfnNF6m_BGbXlsl-A@2x.png"/></div></a></figure><blockquote class="nu"><p id="f747" class="nv nw ht bd nx ny nz oa ob oc od kx ek translated"><a class="ae oe" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">ç›´æ¥åœ¨æ‚¨çš„æ”¶ä»¶ç®±ä¸­è·å¾—æœ€ä½³è½¯ä»¶äº¤æ˜“</a></p></blockquote><figure class="og oh oi oj ok iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff of"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>