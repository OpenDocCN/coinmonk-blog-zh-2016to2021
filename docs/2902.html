<html>
<head>
<title>An in Depth Look at the GHOST Protocol: Part 2- How GHOST Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入了解GHOST协议:第2部分-GHOST如何工作</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/an-in-depth-look-at-the-ghost-protocol-part-2-how-ghost-works-50e49edf7a52?source=collection_archive---------1-----------------------#2020-04-07">https://medium.com/coinmonks/an-in-depth-look-at-the-ghost-protocol-part-2-how-ghost-works-50e49edf7a52?source=collection_archive---------1-----------------------#2020-04-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/7a4f50f14f5dad772e27cd8acb684db2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z-9aizxKMUXr2D65AolhnA.jpeg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Photo by <a class="ae jf" href="https://unsplash.com/@heftiba?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Toa Heftiba</a></figcaption></figure><p id="720a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在本系列第一部分  <em class="ke">的</em> <a class="ae jf" rel="noopener" href="/@ChristopherDKSanders/an-in-depth-look-at-the-ghost-protocol-part-1-where-the-longest-chain-rule-breaks-down-628b1aaf76fc"> <em class="ke">中，我们研究了为什么最长链规则在高吞吐量区块链(低安全性/高损耗)中失败。在第2部分中，我们将看看GHOST协议如何解决这个问题，以及</em> </a><a class="ae jf" href="https://blog.coincodecap.com/tag/ethereum/" rel="noopener ugc nofollow" target="_blank"> <em class="ke">以太坊</em> </a> <em class="ke">如何选择实现它。</em></p><p id="6644" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">在他们的论文中，Yonatan Sompolinsky和Aviv Zohar提出，节点应该遵循“最重”的链，而不是遵循“最长”的链。</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div class="fe ff kf"><img src="../Images/71b9681153617b8d7bd567a21ace1d0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*bZA_y-3u_U6SB4Vo1cCA4w.png"/></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Taken from <a class="ae jf" href="https://eprint.iacr.org/2013/881.pdf" rel="noopener ugc nofollow" target="_blank">Secure High-Rate Transaction Processing in Bitcoin</a>. The attacker in this image would overtake a blockchain using the longest chain rule but not one using the GHOST rule.</figcaption></figure><p id="341b" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">通过使用这种方法，攻击者不再能够简单地超越网络。如上图所示，在GHOST中，<strong class="ji hu">在确定整体PoW时，所有块</strong>都被考虑在内。</p><blockquote class="kk"><p id="6f16" class="kl km ht bd kn ko kp kq kr ks kt kd ek translated">这确保了即使吞吐量增加，安全风险也保持不变。</p></blockquote></div><div class="ab cl ku kv hb kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hm hn ho hp hq"><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lb"><img src="../Images/5a91571dc9aacd7fdaa1d6ed3f101bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43redeCcZPAbXcdjVn2RWA.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Taken from <a class="ae jf" href="https://eprint.iacr.org/2013/881.pdf" rel="noopener ugc nofollow" target="_blank">Secure High-Rate Transaction Processing in Bitcoin</a>. In Fig. 4 and 5 we see even as block creation rate increases, security remains constant for blockchains using GHOST rule.</figcaption></figure><p id="f919" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">太好了！现在我们来看看以太坊选择如何实现这个协议。在他的<a class="ae jf" href="https://github.com/ethereum/wiki/wiki/White-Paper#modified-ghost-implementation" rel="noopener ugc nofollow" target="_blank">白皮书</a>中，Vitalik Buterin提到了GHOST协议为以太坊解决的三个问题:</p><ol class=""><li id="2f58" class="lc ld ht ji b jj jk jn jo jr le jv lf jz lg kd lh li lj lk dt translated"><strong class="ji hu">安全漏洞</strong></li><li id="83cb" class="lc ld ht ji b jj ll jn lm jr ln jv lo jz lp kd lh li lj lk dt translated"><strong class="ji hu">损耗</strong></li><li id="71a0" class="lc ld ht ji b jj ll jn lm jr ln jv lo jz lp kd lh li lj lk dt translated"><strong class="ji hu">集权</strong></li></ol><p id="d198" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">前两个我们应该已经非常了解了。这是我想花点时间讨论的第三个话题。为什么高吞吐量的区块链会导致网络更加集中化？白皮书是这样描述的:</p><blockquote class="lq lr ls"><p id="ccd4" class="jg jh ke ji b jj jk jl jm jn jo jp jq lt js jt ju lu jw jx jy lv ka kb kc kd hm dt translated">如果挖掘者A是具有30%散列能力的挖掘池，而B具有10%散列能力，则A将有70%的时间产生陈旧块的风险(因为A的另外30%的时间产生最后的块，因此将立即获得挖掘数据)，而B将有90%的时间产生陈旧块的风险。因此，如果块间隔足够短，使得旧速率足够高，则A将仅仅由于其大小而实质上更有效。”</p></blockquote><p id="893a" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">换句话说，在“最长链”模型中，随着吞吐量的增加，大型矿池将有一个成比例增长的开端来解决对他们有利的分叉，因此给他们更多的网络控制<strong class="ji hu">。</strong></p><p id="2463" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">以太坊的集中化是通过将Sompolinsky和Zohar的协议“进一步”(如白皮书所述)奖励生产大叔块的矿工来打击的，否定了网络传播问题。奖励基于以下计算:</p><p id="8148" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><strong class="ji hu">([uncleHeightNumber+8-block height number]* reward/8)</strong></p><p id="2f09" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这种计算允许7级叔叔块。链条上每多一个叔叔，回报也是递减的。这样做的原因是为了简化奖励计算，并消除在叔叔链上持续采矿的激励，这造成了安全风险。</p><p id="afbc" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们来看看这个公式的实际实现。<a class="ae jf" href="https://etherscan.io/block/9825137" rel="noopener ugc nofollow" target="_blank">街区高度9825137 </a>包括高处的两位大叔<a class="ae jf" href="https://etherscan.io/uncle/0xaa5f9158fe26ccba4b9d8de1e1e8a751e5c71334db7fcbf08c8db71df68c214e" rel="noopener ugc nofollow" target="_blank"> 9825135 </a>和<a class="ae jf" href="https://etherscan.io/uncle/0x3eb97f69944dfa21139e9e93bc48bf2b1ab5b29e5935d311d3b93f7fa869f3bd" rel="noopener ugc nofollow" target="_blank"> 9825136 </a>。如果我们把这三个高度和当前的格挡奖励2代入公式(试试看！)，我们最后会给两位大叔分别1.5和1.75以太的奖励。9825137区块的矿工也将获得3.125%的区块奖励，作为包括2个叔叔的奖励。</p><figure class="kg kh ki kj fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff lw"><img src="../Images/d1b857a020c28be6a0d584cfdf3614f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8yuzGtNxmEMp6U_y0AESSA.png"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">Block #9825137 taken from <a class="ae jf" href="https://etherscan.io/" rel="noopener ugc nofollow" target="_blank">etherscan</a>. Notice that it includes both rewards for Uncle heights 9825135 and 9825136.</figcaption></figure><p id="a169" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">应该注意的是，大叔链很少会延伸超过1或2个街区，因为矿工会在主链上采矿时获得更多奖励(记住大叔奖励会迅速减少)。事实上，为了找到上面的例子，我不得不在etherscan上深入研究了75页！</p><p id="b7ac" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">GHOST协议允许以太坊获得大约每秒20笔交易的吞吐量(考虑到适当的确认数量)。虽然这是对比特币每秒7次交易的重大改进，但它远远达不到与集中式系统竞争所需的吞吐量。</p><p id="5c16" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">也就是说，<a class="ae jf" href="https://blog.coincodecap.com/tag/ethereum/" rel="noopener ugc nofollow" target="_blank">以太坊</a>将在不久的将来切换到Casper协议，这是对GHOST(因此得名)的一种改进，利用利益证明和分片，希望在不牺牲安全性或分散性的情况下加快其网络速度，尽管确切日期尚未公布，但估计将在2021年发布。</p><p id="2c92" class="pw-post-body-paragraph jg jh ht ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">这是我解释GHOST协议如何工作的系列文章的第2部分。</p><blockquote class="kk"><p id="dd9a" class="kl km ht bd kn ko kp kq kr ks kt kd ek translated"><a class="ae jf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="ly lz ma mb mc iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff lx"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="kg kh ki kj fq iu fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff md"><img src="../Images/0ac758d7122ac1c2860cc155daf2c5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*sfsGJhpBk0-yxJur_WuGoQ.png"/></div></a></figure></div></div>    
</body>
</html>