<html>
<head>
<title>Setup Private Ethereum Node On macOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在macOS上设置私有以太坊节点</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/setup-private-ethereum-node-on-macos-9c825da455d8?source=collection_archive---------8-----------------------#2018-06-07">https://medium.com/coinmonks/setup-private-ethereum-node-on-macos-9c825da455d8?source=collection_archive---------8-----------------------#2018-06-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/8987bbaabbe93c5d207e0453ed2f0663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zpdUqbIarc22NzrC.png"/></div></div></figure><p id="af0c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">以太坊</strong>是加密货币的流行平台。为了确保你的合同能在主网络上完美运行，通过设置一个合适的私有节点在<strong class="jd hu">以太坊</strong>节点上测试它们是很重要的。</p><p id="3be1" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">作为我的<a class="ae jz" href="https://walkingtree.tech/setting-ethereum-development-environment-macos/" rel="noopener ugc nofollow" target="_blank">上一篇文章</a>的一部分，您学习了如何在macOS上设置<strong class="jd hu">以太坊</strong>开发环境。接下来，在本文中，你将学习如何在macOS上设置私有<strong class="jd hu">以太坊</strong>节点。</p><h1 id="f356" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">先决条件</h1><ul class=""><li id="be80" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">对区块链和以太坊的基本了解</li><li id="e447" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><a class="ae jz" href="https://github.com/ethereum/go-ethereum/wiki/geth" rel="noopener ugc nofollow" target="_blank"> Geth </a>(如何安装，参见<a class="ae jz" href="https://walkingtree.tech/setting-ethereum-development-environment-macos/" rel="noopener ugc nofollow" target="_blank">篇</a>)</li></ul><h1 id="1553" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">细节</h1><p id="16ac" class="pw-post-body-paragraph jb jc ht jd b je la jg jh ji lb jk jl jm lo jo jp jq lp js jt ju lq jw jx jy hm dt translated"><strong class="jd hu">设置私有以太坊节点的步骤如下:</strong></p><ol class=""><li id="e0de" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lu lg lh li dt translated">创建创世块</li><li id="2d07" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">私有节点的初始化</li><li id="be63" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">创建帐户</li><li id="21f4" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">正在启动私有节点</li><li id="b882" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">正在初始化私有节点的控制台</li><li id="c2ab" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">geth控制台的常用命令</li><li id="d7aa" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">在两个账户之间进行交易并检查其余额</li><li id="2aa8" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lu lg lh li dt translated">停止私有节点</li></ol><p id="b40f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">您将在下面看到每个步骤的详细信息:</strong></p><p id="39ca" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">为了存储私有节点的帐户和数据库，我们需要创建一个如下所示的目录，</p><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="0cbd" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">mkdir &lt;directory name&gt;</em></strong></span></pre><p id="247e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">作为本文的一部分，我将创建目录名为'<strong class="jd hu"> private </strong></p><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="6914" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">mkdir private</em></strong></span></pre><p id="6b4c" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">将目录更改为区块链，</p><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="edc1" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">cd private</em></strong></span></pre><h1 id="fe1a" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">1.创造创世块</h1><ul class=""><li id="6231" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">创世纪区块是区块链的第一块</li><li id="157d" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">它定义了私有节点的初始行为</li><li id="8a6c" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">为了使genesis block与geth兼容，我们将使用<strong class="jd hu"> Puppeth </strong>工具</li><li id="538a" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><a class="ae jz" href="https://github.com/puppeth" rel="noopener ugc nofollow" target="_blank"> Puppeth </a> —命令行工具，默认情况下随geth一起提供</li><li id="e322" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">从上面创建的私有目录在终端中运行以下命令:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="dabe" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">puppeth</em></strong></span></pre><p id="a358" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">这将在终端中显示以下输出:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mk"><img src="../Images/daf6bdadab2aecd43e657efea037fec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QieH9sWMjzGBjU1J.png"/></div></div></figure><ul class=""><li id="3c7c" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">下图将向您展示不同的选项及其正确的值，请查看这些图片了解更多详细信息:</li></ul><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ml"><img src="../Images/ef695ea7848bb9a2ce862a635b9c9c00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AnVZvbr2CJZL_xDS.png"/></div></div></figure><ul class=""><li id="22f8" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">现在键入<strong class="jd hu"> control + c </strong>退出工具。</li><li id="04d4" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">这样，你的创世纪模块就成功创建了</li><li id="917b" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">要查看私有目录的内容，请键入以下命令:</li></ul><p id="44ea" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="mj"> ls </em> </strong></p><ul class=""><li id="0b80" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">这将显示你的名为<strong class="jd hu"> walkingtree.json: </strong>的创世纪块</li></ul><h1 id="34a4" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">2.私有节点的初始化</h1><ul class=""><li id="8f7a" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">要初始化私有的<strong class="jd hu">以太坊</strong>节点，您需要genesis文件，让我们使用在前面步骤中创建的<strong class="jd hu"> walkingtree.json </strong></li><li id="aa61" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">使用以下命令创建私有节点:</li></ul><p id="edee" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"><em class="mj">geth–data dir。init walking tree . JSON</em>T3】</strong></p><ul class=""><li id="2ebf" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated"><strong class="jd hu">以下是对各个参数选项</strong>的解释</li><li id="b1dc" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">–datadir参数代表数据目录，用于存储将要保存的私有节点数据</li><li id="6da6" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">。(点号)代表当前目录</li><li id="9751" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">Init参数，用于指定初始化私有节点的源块</li><li id="fd88" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu">注意</strong> —确保从私有目录运行上述命令</li><li id="710d" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">执行上述命令后，将创建以下两个新目录</li><li id="a0bc" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu"> geth </strong> —存储区块链实例数据</li><li id="09ae" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu">密钥库</strong> —在节点上存储您的帐户</li><li id="33cf" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">键入以下命令以查看私有目录的内容:</li></ul><p id="dd2b" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="mj"> ls </em> </strong></p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mm"><img src="../Images/bc75be28a2bb5c60c0662a35fb297414.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9lQFspQTxS0fE0hh.png"/></div></div></figure><h1 id="450f" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">3.创建帐户</h1><ul class=""><li id="6d31" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">使用以下命令创建新帐户:</li></ul><p id="8526" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"><em class="mj">geth–data dir。</em>账号新建</strong></p><ul class=""><li id="4e6a" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">执行上述命令后，它会要求您输入密码，并提供密码，请参考下图:</li><li id="e575" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">以上步骤将创建一个新的帐户，你可以运行以上命令，次数不限。</li><li id="cb11" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">作为本文的一部分，我将创建另一个帐户，以便我们可以将一些乙醚转移到另一个帐户。</li><li id="fe6c" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">请参见下面创建的另一个帐户的图片:</li><li id="97de" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">您新创建的帐户存储在密钥库目录中，运行以下命令查看密钥库目录的内容:</li></ul><p id="7de2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu"> <em class="mj"> ls密钥库/ </em> </strong></p><p id="1153" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">输出见下图:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mn"><img src="../Images/d1ce1a83d482e3fdd471458fcda12eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MpmlgDUJLep3ml7S.png"/></div></div></figure><h1 id="f28d" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">4.正在启动私有节点</h1><ul class=""><li id="6de6" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">为了启动我们的私有<strong class="jd hu">以太坊</strong>节点，在<strong class="jd hu">私有</strong>目录中创建一个名为<strong class="jd hu"> startmynode.sh </strong>的文件。</li><li id="410e" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">将以下命令复制到文件中并保存</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="7b59" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">geth –networkid 4224 –mine –minerthreads 1 –datadir “~/blockchain/private” –nodiscover –rpc –rpcport “8545” –port “30303” –rpccorsdomain “*” –nat “any” –rpcapi eth,web3,personal,net –unlock 0 –password ~/blockchain/private/password.sec –ipcpath “~/Library/Ethereum/geth.ipc”</em></strong></span></pre><ul class=""><li id="8f38" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">使用以下命令使<strong class="jd hu"> startmynode.sh </strong>可执行:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="6b3b" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">sudo chmod +x startmynode.sh</em></strong></span></pre><ul class=""><li id="aa0d" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">要了解geth命令行选项，请参考下面的URL:<br/><a class="ae jz" href="https://github.com/ethereum/go-ethereum/wiki/Command-Line-Options" rel="noopener ugc nofollow" target="_blank">https://github . com/ether eum/go-ether eum/wiki/Command-Line-Options</a></li><li id="239d" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">启动网络时，注意以下事项:</li><li id="01ed" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">正在启动对等节点</li><li id="cdf7" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">已初始化的链配置(config = " { ChainID:4224 Homestead:1 DAO:<nil>DAO support:false EIP 150:2 EIP 155:3 EIP 158:3拜占庭:4君士坦丁堡:<nil>引擎:ethash} ")</nil></nil></li><li id="b3ce" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">正在初始化以太坊协议(版本="[63 62]"网络=4224)</li><li id="23ab" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">IPC端点已打开(URL =/Users/walking tree/Library/ether eum/geth . IPC)</li><li id="c9c9" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">HTTP端点已打开(url=http://127.0.0.1:8545)</li><li id="ee72" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">未锁定的帐户(地址= 0x 1 fdad 4949 e 4409 c 19 ed 9 e 2683 f 305 a5fc 0000226)</li><li id="f69d" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">交易池价格阈值已更新(价格=18000000000)</li><li id="adf5" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">开始采矿作业</li><li id="6180" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">提交新的采矿工作(数量=1事务=0叔伯=0已用时间=361.017秒)</li><li id="e0b5" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">正在生成DAG(epoch = 0 percentage = 99 elapsed = 2m 36.072s)</li><li id="8578" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">生成的ethash验证缓存(epoch=0 elapsed=2m36.075s)</li><li id="3a89" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">成功密封新块(编号=1哈希=314549…6cd344)</li><li id="ea77" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">已开采的潜在区块(编号=1哈希=314549…6cd344)</li><li id="8769" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">块到达规范链(number=2 hash=d1cb43…2c886f)</li></ul><p id="941e" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您在启动网络时观察到以上所有项目，那么，<strong class="jd hu">太好了…！您的以太坊私有节点已成功设置</strong></p><h1 id="520c" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">5.正在初始化私有节点的控制台</h1><ul class=""><li id="5cf5" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">要打开geth控制台，请打开终端的新标签/窗口(保持您的私有节点运行)</li><li id="9230" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">使用以下命令连接geth控制台:</li></ul><p id="e181" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">T3】geth attachT5】</strong></p><ul class=""><li id="8983" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">这将打开运行geth实例的控制台，它的JavaScript控制台:</li></ul><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mo"><img src="../Images/cd1fc9bc717c31a62fa4bdd59794a235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VvSOeO-2Zc2TBL60.png"/></div></div></figure><ul class=""><li id="6f88" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">您可以从控制台执行各种geth命令。有关命令的更多详细信息，请参考下一节。</li></ul><h1 id="76b3" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">6.geth控制台的常用命令</h1><ul class=""><li id="c65d" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">以下是最常用的命令列表:</li><li id="9169" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu"> eth.accounts </strong> —显示在以太坊节点注册的账户列表</li><li id="739e" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu"> eth.coinbase </strong> —显示用于采矿的主账户的地址</li><li id="fc05" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu">eth . get balance(eth . accounts[1])</strong>—显示节点上账户数组第一个索引处的账户余额</li><li id="c57b" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu"> miner.start() </strong> —在节点上开始挖掘过程</li><li id="8253" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated"><strong class="jd hu"> miner.stop() </strong> —停止节点上的挖掘过程</li><li id="695e" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">有关更多命令，请参考以下链接:</li></ul><p id="f6ad" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><a class="ae jz" href="https://github.com/ethereum/wiki/wiki/JavaScript-API" rel="noopener ugc nofollow" target="_blank">https://github.com/ethereum/wiki/wiki/JavaScript-API</a></p><h1 id="92cc" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">7.在两个账户之间进行交易并检查其余额</h1><ul class=""><li id="c89f" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">现在让我们使用这个控制台在两个帐户之间进行一些交易</li><li id="f18d" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">获取节点上的帐户列表:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="73ac" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">eth.accounts</em></strong></span></pre><p id="a5e7" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">输出见下图:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mp"><img src="../Images/ee3181d21e4650f598cee092dcf32543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*b99UU7h6fufLQjqa.png"/></div></div></figure><ul class=""><li id="14b5" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">要获取coinbase帐户地址:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="f659" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">eth.coinbase</em></strong></span></pre><p id="7584" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">输出见下图:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mq"><img src="../Images/435a56fc473d0082484f5c8ae6647a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DoM1-vqUB-5gFkR_.png"/></div></div></figure><ul class=""><li id="8d34" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">检查coinbase帐户的余额:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="36d5" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">web3.fromWei(eth.getBalance(eth.coinbase),”ether”)</em></strong></span></pre><p id="73f3" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下是上述命令的输出:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mr"><img src="../Images/16a44f52ea55c1cdf47dc817c234a402.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IDxxKF99-qyndRYn.png"/></div></div></figure><ul class=""><li id="477c" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">现在获取另一个帐户的余额:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="7522" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">web3.fromWei(eth.getBalance(eth.accounts[1]),”ether”)</em></strong></span></pre><p id="13c2" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下是运行上述命令后的输出:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff ms"><img src="../Images/5ee4d9d4937b431ca2b4189fbf532866.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q0TNsjwrDME1ZKIh.png"/></div></div></figure><ul class=""><li id="4989" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">为了交换加密货币，即在帐户之间发送以太网，请使用以下命令:</li></ul><pre class="lv lw lx ly fq lz ma mb mc aw md dt"><span id="727c" class="me kb ht ma b fv mf mg l mh mi"><strong class="ma hu"><em class="mj">web3.sendTransaction( {from:eth.accounts[0], to:eth.accounts[1], value:web3.toWei(10,”ether”) })</em></strong></span></pre><p id="a49a" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">下图显示了上述命令的输出:</p><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mt"><img src="../Images/dde513076b7e74a10757758bc8cc18b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YaqPQjQPPMBFukgx.png"/></div></div></figure><ul class=""><li id="a9c9" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">您可以在运行geth节点的终端上观察事务，hash与上图所示相同。</li></ul><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mu"><img src="../Images/f83dcbc1ee0e1c35b6ff3eee3f66d68a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mJSRCXP4qr-T5tFP.png"/></div></div></figure><ul class=""><li id="387e" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">现在检查两个账户的余额，如下图所示:</li></ul><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mv"><img src="../Images/b53ca760e3b4e5b88eeb5a53dffe4e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AShtcghXo6AQy0NG.png"/></div></div></figure><p id="5707" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">如果您能够进行交易，那么您的设置工作正常。</p><h1 id="94cf" class="ka kb ht bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">8.停止私有节点</h1><ul class=""><li id="5519" class="ky kz ht jd b je la ji lb jm lc jq ld ju le jy lf lg lh li dt translated">要停止您的私有节点，您可以按下<strong class="jd hu"> Ctrl + C </strong></li></ul><figure class="lv lw lx ly fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff mw"><img src="../Images/80fba51021df83e656ffa8e66fb9cd0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2ogRkbIYXCLPuCEX.png"/></div></div></figure><ul class=""><li id="45f4" class="ky kz ht jd b je jf ji jj jm lr jq ls ju lt jy lf lg lh li dt translated">上述命令将中断并开始关闭私有节点。</li><li id="04bc" class="ky kz ht jd b je lj ji lk jm ll jq lm ju ln jy lf lg lh li dt translated">它还关闭了HTTP和IPC端点，并关闭了以太坊协议、事务池和数据库等其他项目。</li></ul><p id="177f" class="pw-post-body-paragraph jb jc ht jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated"><strong class="jd hu">来源:</strong> <a class="ae jz" href="https://walkingtree.tech/setup-private-ethereum-node-on-macos/" rel="noopener ugc nofollow" target="_blank"> <strong class="jd hu">在macOS上设置私有以太坊节点</strong> </a></p></div></div>    
</body>
</html>