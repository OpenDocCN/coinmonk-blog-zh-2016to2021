<html>
<head>
<title>Merkle Trees: The Backbone of Distributed Software</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Merkle树:分布式软件的主干</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/merkle-trees-the-backbone-of-distributed-software-4fa0805132c6?source=collection_archive---------3-----------------------#2018-04-07">https://medium.com/coinmonks/merkle-trees-the-backbone-of-distributed-software-4fa0805132c6?source=collection_archive---------3-----------------------#2018-04-07</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="8cc8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我知道这听起来很复杂，但请耐心听我说，这是值得的。</p><p id="f708" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Merkle树是一种在分布式场景中非常有用的数据结构，因为它允许您安全地验证数据结构，而不必传输整个数据结构。</p><h1 id="5d3c" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dt translated">例子</h1><p id="0bc0" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hm dt translated">Thes用例近年来呈爆炸式增长:</p><ul class=""><li id="395c" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated">分布式版本控制(Git/Mercurial)</li><li id="d1f3" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz dt translated">比特流</li><li id="0a3d" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz dt translated">写时复制文件系统(btrfs/ <a class="ae lf" href="https://blogs.oracle.com/bonwick/zfs-end-to-end-data-integrity" rel="noopener ugc nofollow" target="_blank"> ZFS </a></li><li id="228f" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz dt translated">分布式NoSQL数据库(Cassandra、Riak、Dynamo)</li><li id="3d86" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz dt translated">分布式网络！(<a class="ae lf" href="https://taravancil.com/blog/how-merkle-trees-enable-decentralized-web/" rel="noopener ugc nofollow" target="_blank"> IPFS </a></li><li id="1022" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz dt translated">密码(比特币，<a class="ae lf" href="https://blog.ethereum.org/2015/11/15/merkling-in-ethereum/" rel="noopener ugc nofollow" target="_blank">以太坊</a>)</li></ul><p id="66df" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">这些都使用Merkle树来保证数据的一致性。</p><h1 id="7009" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dt translated">Merkle结构</h1><p id="29ec" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hm dt translated">Merkle树的结构“是这样一种树，其中每个叶节点用数据块的散列来标记，每个非叶节点用其子节点的标签的加密散列来标记”</p><p id="ac69" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">Merkle树的各个部分是分支(节点之间的线条)、节点和根(最顶端的节点)。</p><figure class="lh li lj lk fq ll fe ff paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="fe ff lg"><img src="../Images/5c0ff3835161f8219ec35a8d6c7fd028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jY57ovz5FRz05Svg.png"/></div></div></figure><p id="d841" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">哈希0–0和0–1分别是数据块(数据区块)L1和L2的哈希值。散列0是散列0–0和0–1的串联，依此类推。通过遍历这棵树，可以验证一个数据块确实存在！</p><p id="4240" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">我还是不明白，为什么要用它们？</p><h1 id="f4ba" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dt translated">为什么使用Merkle树？</h1><p id="08ce" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hm dt translated">近几年来Merkle树的使用激增，这一定有充分的理由。现在就来列举一下吧！</p><ol class=""><li id="de6b" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn ls kx ky kz dt translated">它们允许您安全地验证数据结构！ZFS利用这一点来确保存储的数据实际上与早期版本的数据一致。</li><li id="7215" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn ls kx ky kz dt translated">它们大大减少了证明数据一致性所需的数据量。比特币“轻客户端”只需要下载其区块链中每个块的块头，而不是整个块，以验证其完整性。这是它们被用于分布式应用的主要原因。</li><li id="2f3b" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn ls kx ky kz dt translated">它将数据的验证与数据本身分开。Cassandra DB的反熵服务使用Merkle树来检测副本之间的数据不一致，因为他们不必跨副本发送数据本身进行验证，只需哈希数据即可。</li></ol><h1 id="7641" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dt translated">有哪几种证明？</h1><p id="1d41" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hm dt translated">有两种Merkle校样，允许您以不同的方式验证Merkle数据。</p><ul class=""><li id="5767" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz dt translated">这种证明可以让你验证一个单独的块确实存在于树中。</li><li id="f8fd" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz dt translated"><code class="eh lt lu lv lw b">Consistency Proof</code>:这种证明只适用于只追加Merkle树。它允许您验证树的早期版本是否与树的较新版本一致，它们的顺序是否相同，以及所有新记录是否在所有旧记录之后。</li></ul><p id="9aa6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">关于这些证明的具体实现的更多信息，你可以参考<a class="ae lf" href="https://www.codeproject.com/Articles/1176140/Understanding-Merkle-Trees-Why-use-them-who-uses-t#WhoUsesMerkleTrees2" rel="noopener ugc nofollow" target="_blank">这篇博文</a>。</p><p id="226d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">希望您现在能更好地理解分布式应用程序中Merkle树的用例。尽情享受吧！</p><blockquote class="lx"><p id="6782" class="ly lz ht bd ma mb mc md me mf mg jn ek translated"><a class="ae lf" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="mi mj mk ml mm ll fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mh"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><p id="d78d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt">—</p><p id="c561" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><a class="ae lf" href="https://en.wikipedia.org/wiki/Merkle_tree" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Merkle_tree</a></p><figure class="lh li lj lk fq ll"><div class="bz el l di"><div class="mn mo l"/></div></figure></div></div>    
</body>
</html>