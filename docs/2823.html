<html>
<head>
<title>Bitcoin Address Generation on Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python上的比特币地址生成</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/bitcoin-address-generation-on-python-e267df5ff3a3?source=collection_archive---------0-----------------------#2020-03-11">https://medium.com/coinmonks/bitcoin-address-generation-on-python-e267df5ff3a3?source=collection_archive---------0-----------------------#2020-03-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="1fc3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt jo translated">itcoin是2009年1月创建的一种数字货币。它遵循了神秘的匿名开发者中本聪在白皮书中提出的想法。比特币地址是一个唯一的标识符，充当加密货币可以被发送或持有的虚拟位置。交易提供在保存私钥和比特币地址的<a class="ae jx" href="https://blog.coincodecap.com/tag/bitcoin-wallet/" rel="noopener ugc nofollow" target="_blank">比特币钱包</a>之间转移资产。私钥确保交易来自钱包的所有者。离线生成比特币地址是可能的。这段代码解释了如何一步一步地生成比特币地址。如下图所示，生成<a class="ae jx" href="https://blog.coincodecap.com/tag/bitcoin/" rel="noopener ugc nofollow" target="_blank">比特币</a>地址时有一些操作。</p><figure class="jz ka kb kc fq kd fe ff paragraph-image"><div class="fe ff jy"><img src="../Images/f6e9a36ce116517db8b3dee729086775.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*rnYa5yAoKcLpPWf19Lv7sg.png"/></div></figure><p id="5b0f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">让我们开始考察如何才能生成比特币地址；</p><ul class=""><li id="cddc" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">第一步:</strong>使用椭圆曲线数字签名算法生成私钥是因为公钥密码提供了比特币的签名原理。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="062f" class="ku kv ht kq b fv kw kx l ky kz">ecdsaPrivateKey = ecdsa.SigningKey.generate(curve=ecdsa.SECP256k1)<br/>print("ECDSA Private Key: ", ecdsaPrivateKey.to_string().hex())</span></pre><ul class=""><li id="bc3f" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">第二步:</strong>由于公钥加密，我们需要依赖于私钥的公钥。所以我们也用椭圆曲线数字签名算法来生成它。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="8cae" class="ku kv ht kq b fv kw kx l ky kz">ecdsaPublicKey = '04' +  ecdsaPrivateKey.get_verifying_key().to_string().hex()<br/>print("ECDSA Public Key: ", ecdsaPublicKey)</span></pre><ul class=""><li id="8f1e" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">步骤3: </strong>我们将SHA256应用于在<em class="la">步骤2 </em>中创建的ECDSA公钥。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="13bc" class="ku kv ht kq b fv kw kx l ky kz">hash256FromECDSAPublicKey = hashlib.sha256(binascii.unhexlify(ecdsaPublicKey)).hexdigest()<br/>print("SHA256(ECDSA Public Key): ", hash256FromECDSAPublicKey)</span></pre><ul class=""><li id="3ebe" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">步骤4: </strong>我们将RIDEMP160应用于在<em class="la">步骤3 </em>中创建的值，并获得20字节的值。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="72de" class="ku kv ht kq b fv kw kx l ky kz">ridemp160FromHash256 = hashlib.new('ripemd160', binascii.unhexlify(hash256FromECDSAPublicKey))<br/>print("RIDEMP160(SHA256(ECDSA Public Key)): ", ridemp160FromHash256.hexdigest())</span></pre><ul class=""><li id="dd47" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">步骤5: </strong>我们将00作为网络字节添加到在<em class="la">步骤4 </em>中创建的值中。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="15b4" class="ku kv ht kq b fv kw kx l ky kz">prependNetworkByte = '00' + ridemp160FromHash256.hexdigest()<br/>print("Prepend Network Byte to RIDEMP160(SHA256(ECDSA Public Key)): ", prependNetworkByte)</span></pre><ul class=""><li id="fcfe" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">步骤6: </strong>我们将双精度SHA256应用于在<em class="la">步骤5 </em>中创建的值，以进行校验和检查。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="ab46" class="ku kv ht kq b fv kw kx l ky kz">hash = prependNetworkByte<br/>for x in range(1,3):<br/>    hash = hashlib.sha256(binascii.unhexlify(hash)).hexdigest()<br/>    print("\t|___&gt;SHA256 #", x, " : ", hash)</span></pre><ul class=""><li id="5949" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">步骤7: </strong>我们得到在<em class="la">步骤6 </em>中创建的4个字节的值作为校验和。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="4cc1" class="ku kv ht kq b fv kw kx l ky kz">cheksum = hash[:8]<br/>print("Checksum(first 4 bytes): ", cheksum)</span></pre><ul class=""><li id="e374" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">步骤8: </strong>我们将在<em class="la">步骤7 </em>中创建的校验和值附加到在步骤#5中创建的值上。</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="ac12" class="ku kv ht kq b fv kw kx l ky kz">appendChecksum = prependNetworkByte + cheksum<br/>print("Append Checksum to RIDEMP160(SHA256(ECDSA Public Key)): ", appendChecksum)</span></pre><ul class=""><li id="9c15" class="kg kh ht is b it iu ix iy jb ki jf kj jj kk jn kl km kn ko dt translated"><strong class="is hu">第9步:</strong>我们对在<em class="la">第8步</em>中创建的值应用了Base58编码。经过Base58编码后，我们得到的值就是比特币地址。(在Python中，b58编码结果应该解码为utf-8以便显示)</li></ul><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="de83" class="ku kv ht kq b fv kw kx l ky kz">bitcoinAddress = base58.b58encode(binascii.unhexlify(appendChecksum))<br/>print("Bitcoin Address: ", bitcoinAddress.decode('utf8'))</span></pre><p id="620c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">最后，结果被包含，源代码在这里<a class="ae jx" href="https://github.com/burakcanekici/BitcoinAddressGenerator" rel="noopener ugc nofollow" target="_blank">可用</a>；</p><pre class="jz ka kb kc fq kp kq kr ks aw kt dt"><span id="75a1" class="ku kv ht kq b fv kw kx l ky kz"><strong class="kq hu">ECDSA Private Key:  </strong>58d31714300fcf58434422014defce57d53f4cc3b76314d34dee729dcb7fc07e<br/>------------------------------------------------------<br/><strong class="kq hu">ECDSA Public Key: </strong> 0478e410b429fcc6b9d46d30526fdb6d1fa292f38ce02bd2c6c569a4d0c06ab7b0bf2c7444f95064b5b4e9ed2ef2eb96425a3e9873315cbeb6a2e3b22e7978d304<br/>------------------------------------------------------<br/><strong class="kq hu">SHA256(ECDSA Public Key):  </strong>558f16eb2e93084f763b20a0005734ff32f134ef53990da26273166bb7afc28c<br/>------------------------------------------------------<br/><strong class="kq hu">RIDEMP160(SHA256(ECDSA Public Key)):  </strong>daa4e87dcb30d406d24f76bcc2afe2ef550c9068<br/>------------------------------------------------------<br/><strong class="kq hu">Prepend Network Byte to RIDEMP160(SHA256(ECDSA Public Key)):</strong>  00daa4e87dcb30d406d24f76bcc2afe2ef550c9068<br/>------------------------------------------------------<br/><strong class="kq hu">|___&gt;SHA256 #1  :</strong>  1d7d571d176f378eabd73b1e3ac0fb5a688855d41ae5ee8956afb9c13b5c7027<br/><strong class="kq hu">|___&gt;SHA256 #2  :</strong>  b0a511fb05bcf1872be44d98dad592c9641fe47ee7f48f1ecee18b6805bd4ba4<br/>------------------------------------------------------<br/><strong class="kq hu">Checksum(first 4 bytes):<br/></strong>b0a511fb<br/>------------------------------------------------------<br/><strong class="kq hu">Append Checksum to RIDEMP160(SHA256(ECDSA Public Key)): </strong> 00daa4e87dcb30d406d24f76bcc2afe2ef550c9068b0a511fb<br/>------------------------------------------------------<br/><strong class="kq hu">Bitcoin Address:</strong>  1Lw5rqh94dWzArQ9tDY6Ucswxo3Ums7VWi</span></pre><blockquote class="lb lc ld"><p id="1a33" class="iq ir la is b it iu iv iw ix iy iz ja le jc jd je lf jg jh ji lg jk jl jm jn hm dt translated"><strong class="is hu">也可阅读:</strong> <a class="ae jx" href="https://blog.coincodecap.com/what-is-bitcoin-paper-wallet/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">比特币纸质钱包终极指南</strong> </a></p></blockquote><figure class="jz ka kb kc fq kd fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff lh"><img src="../Images/e9dbce386c4f90837b5db529a4c87766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fZu_SfnNF6m_BGbXlsl-A@2x.png"/></div></a></figure><blockquote class="li"><p id="a680" class="lj lk ht bd ll lm ln lo lp lq lr jn ek translated"><a class="ae jx" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="lt lu lv lw lx kd fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ls"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>