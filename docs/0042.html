<html>
<head>
<title>ERC20-K: Formal Executable Specification of ERC20</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ERC 20-K:ERC 20的正式可执行规范</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/erc20-k-formal-executable-specification-of-erc20-442b9030a29e?source=collection_archive---------1-----------------------#2017-12-06">https://medium.com/coinmonks/erc20-k-formal-executable-specification-of-erc20-442b9030a29e?source=collection_archive---------1-----------------------#2017-12-06</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><div class=""><h2 id="858d" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ek translated">作者格里戈雷·罗苏</h2></div><p id="a1fd" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">运行时验证公司提供<a class="ae ke" href="https://runtimeverification.com/smartcontract" rel="noopener ugc nofollow" target="_blank">正式的智能合同验证</a>服务。</p><p id="db29" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><a class="ae ke" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20-token-standard.md" rel="noopener ugc nofollow" target="_blank"> ERC20标准</a>是在<a class="ae ke" href="https://ethereum.org/" rel="noopener ugc nofollow" target="_blank">以太坊</a>智能合约中实现令牌的最重要标准之一。ERC20提供了转移代币并获得批准的基本功能，以便其他链上第三方可以使用代币。不幸的是，ERC20留下了几个未指定的极限情况，这使得它在令牌实现的正式验证中使用起来不够理想。事实上，我们RV，Inc .已经被要求验证智能合同是否符合<em class="kf">ERC 20</em>。然而，我们发现ERC20合规性的含义并不清楚，因为现有的ERC20演示远远不能作为标准令牌的数学模型。因此，我们决定创建ERC20-K，这是ERC20的一种数学上严格的形式化，确保所有的极限情况都经过深思熟虑、明确涵盖和彻底测试。从这里开始，当我们声称我们证明了ERC20令牌的实现是正确的时，我们的意思是它们可以证明满足ERC20-K的13条规则。</p><h1 id="83b0" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">为什么是K</h1><p id="d41f" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">出于几个原因，我们选择了K作为我们形式化工作的语义框架。</p><p id="af16" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">首先，<em class="kf"> K是可执行的</em>。因此，可以对定义的语义模型进行测试，以发现其设计中的早期错误，并积累对其充分性的信心。</p><p id="302b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">其次，<em class="kf"> K提供了一套形式分析工具</em>，可以与任何语义结合使用:</p><figure class="le lf lg lh fq li fe ff paragraph-image"><div class="fe ff ld"><img src="../Images/ec5f33f1884ac92b1dcb433a9b223be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/0*3aAjYK7TPbRVHKlc.png"/></div></figure><p id="d800" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">因此，我们可以证明关于ERC20规范本身的属性，例如一方面“总供应量不会因ERC20操作的应用而改变”，并且还可以证明关于ERC20令牌的智能合约实现的属性。</p><p id="5e98" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第三，<em class="kf"> K是模块化的</em>。这允许我们在ERC20-K上为执行环境或编程语言组合定义语义，给人一种“即插即用ERC20成为您最喜欢的语言”的感觉。此外，一旦完成，我们就可以用生成的语言来验证复杂的程序。</p><p id="764d" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">第四，<em class="kf"> K正在积极开发</em>，我们对其设计和实现有控制权，因此它可以快速响应ERC20-K的未来需求。例如，我们计划将ERC20-K并入<a class="ae ke" href="https://github.com/runtimeverification/iele-semantics" rel="noopener ugc nofollow" target="_blank"> IELE </a> VM，并为K 实现一个<a class="ae ke" href="https://runtimeverification.com/blog/?p=459" rel="noopener ugc nofollow" target="_blank">快速LLVM后端；如果成功，这将消除对虚拟机及其之上的ERC20令牌的即席实施的需求。通过其</a><a class="ae ke" href="https://github.com/kframework/evm-semantics" rel="noopener ugc nofollow" target="_blank"> KEVM </a>语义，EVM也可以做到这一点，只要充分定义了ERC20-K配置(基于语义单元)到EVM配置(基于部分映射)的注入态射。</p><h1 id="ffe6" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">ERC20-K的亮点</h1><p id="a803" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">ERC20-K在地址、值和最大值方面是<em class="kf">参数。这样可以很容易地实例化到除EVM之外的各种目标执行环境，如<a class="ae ke" href="https://github.com/ewasm/" rel="noopener ugc nofollow" target="_blank"> eWASM </a>或<a class="ae ke" href="https://github.com/runtimeverification/iele-semantics" rel="noopener ugc nofollow" target="_blank"> IELE </a>，以及除<a class="ae ke" href="https://solidity.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> Solidity </a>之外的各种编程语言，如<a class="ae ke" href="https://github.com/ethereum/viper" rel="noopener ugc nofollow" target="_blank"> Viper </a>或<a class="ae ke" href="https://cardanodocs.com/technical/plutus/introduction/" rel="noopener ugc nofollow" target="_blank">普路托斯</a>。</em></p><p id="9600" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ERC20-K在执行环境中是<em class="kf">参数化的。它可以在任何具有正式语义的执行环境中即插即用，例如虚拟机或编程语言。ERC20函数简单地添加到目标VM/语言的语法中，ERC20语义平滑地与VM/语言的语义组合，产生了具有ERC20支持的VM/语言的变体。我们已经用一个简单的命令式语言IMP完成了。下面的视频显示了IMP中调用ERC20函数的交互程序。这可以很容易地适应语言实现，其中ERC20可以被视为一个库。</em></p><p id="7702" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ERC20-K覆盖了所有的极限情况,包括抛出异常的情况。例如，<code class="eh ll lm ln lo b">transfer(To,Value)</code>函数需要4种情况，这取决于调用者是否与<code class="eh ll lm ln lo b">To</code>不同，还取决于传输是成功还是抛出。</p><p id="c189" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">ERC20-K是<em class="kf">可执行的</em>。这不仅允许我们优雅地将它与编程语言集成(上面的第2项)，还允许我们<em class="kf">测试</em>它。事实上，像代码一样，一个正式的规范也会有错误，尤其是当没有其他正式的规范可以比较的时候。与代码不同，代码可以根据规范进行验证，我们无法证明一个正式的规范是正确的:因为它是一个定义，所以根据定义它是正确的。我们能做的最好的事情就是通过各种方式来积累对其正确性的信心。最切实的方法之一就是测试它。为此，我们为我们的ERC20语义提供了60多个单元测试；这些可以很容易地转化为ERC20实现的测试。还可以翻译和运行已经为ERC20-K上的以太坊令牌部署的测试套件，建立我们的语义准确反映流行的部署令牌的信心。</p><h1 id="4d88" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">技术详情和下载</h1><p id="24f6" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">ERC20-K在Github的UIUC许可证(与MIT许可证一样许可)下被彻底注释并免费提供:</p><p id="dda4" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">非常感谢您的评论和贡献。</p><h1 id="a0da" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">介入</h1><p id="b3e6" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">本着开源、社区驱动开发的精神，我们将在我们的渠道上举行所有的ERC20-K正式规范讨论</p><ul class=""><li id="a2f7" class="lp lq ht jk b jl jm jo jp jr lr jv ls jz lt kd lu lv lw lx dt translated"><a class="ae ke" href="https://riot.im/app/#/room/#erc20-k:matrix.org" rel="noopener ugc nofollow" target="_blank"> #erc20-k:matrix.org </a>于<a class="ae ke" href="https://riot.im/" rel="noopener ugc nofollow" target="_blank">暴动</a></li><li id="616f" class="lp lq ht jk b jl ly jo lz jr ma jv mb jz mc kd lu lv lw lx dt translated"><a class="ae ke" href="https://gitter.im/runtimeverification/erc20-semantics" rel="noopener ugc nofollow" target="_blank">runtime verification/ERC 20-语义<a class="ae ke" href="https://gitter.im/" rel="noopener ugc nofollow" target="_blank"> Gitter </a>上的</a></li></ul><p id="9120" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">所有软件都是在UIUC许可下发布的，社区可以完全免费使用。我们欢迎<a class="ae ke" href="https://github.com/runtimeverification/erc20-semantics" rel="noopener ugc nofollow" target="_blank">对Git </a>的贡献。</p><p id="4d5b" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们鼓励任何感兴趣的团体加入我们，提出问题，贡献代码，或者用我们的工具积累经验。我们也一直在寻找能够在文档，新开发人员的有效安装/快速启动过程，以及更多的例子和测试工作的贡献者。我们正在招聘，并将确保关注有帮助的贡献者！</p><p id="ab16" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们还将在我们全新的Twitter页面<a class="ae ke" href="https://twitter.com/rv_inc" rel="noopener ugc nofollow" target="_blank"> @rv_inc </a>上发布更新，我们希望任何感兴趣的开发者都会关注并与之互动。</p><p id="5079" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">让我们一起为每个人构建更安全的智能合约！</p><h1 id="34e8" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">承认</h1><p id="5403" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">我们感谢K团队定义了<a class="ae ke" href="https://github.com/kframework/evm-semantics" rel="noopener ugc nofollow" target="_blank"> KEVM </a>语义(也参见<a class="ae ke" href="https://www.ideals.illinois.edu/handle/2142/97207" rel="noopener ugc nofollow" target="_blank">技术报告</a>)并验证了智能合同对ERC20的遵从性。正是他们的努力不可避免地导致了对ERC20正式规范的探索。特别是，我们要感谢<a class="ae ke" href="http://pdaian.com/" rel="noopener ugc nofollow" target="_blank">菲利普·黛安</a>的集思广益，帮助我们理解ERC20的关键案例。</p><p id="cee2" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated">我们也非常感谢IOHK不仅为KEVM和IELE提供了慷慨的资金支持，也感谢我们与他们的研究团队进行了激动人心的技术讨论。关于IELE以及卡尔达诺定居点和计算层之间的计划分离的讨论，特别导致了一个问题，即ERC20规范是否可以以更抽象的方式定义，使其可以与不同于EVM的计算层结合使用。</p><blockquote class="md"><p id="cdf1" class="me mf ht bd mg mh mi mj mk ml mm kd ek translated"><a class="ae ke" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mo mp mq mr ms li fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mn"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><h1 id="581f" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">接触</h1><p id="3e86" class="pw-post-body-paragraph ji jj ht jk b jl ky iu jn jo kz ix jq jr la jt ju jv lb jx jy jz lc kb kc kd hm dt translated">从<a class="ae ke" href="https://runtimeverification.com/smartcontract/" rel="noopener ugc nofollow" target="_blank">Runtime Verification Inc .</a>了解更多信息请访问我们的<a class="ae ke" href="https://github.com/runtimeverification/verified-smart-contracts" rel="noopener ugc nofollow" target="_blank"> GitHub页面</a>。请将您的问题发送给我们。</p><h1 id="8d0a" class="kg kh ht bd ki kj kk kl km kn ko kp kq iz kr ja ks jc kt jd ku jf kv jg kw kx dt translated">相关故事</h1><div class="mt mu fm fo mv mw"><a href="http://runtimeverification.com/blog/erc-20-verification/" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hu fv z el nb eo ep nc er et hs dt translated">ERC-20合同的正式核查</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">运行时验证公司提供正式的智能合同验证服务。</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">runtimeverification.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk lj mw"/></div></div></a></div><div class="mt mu fm fo mv mw"><a href="https://runtimeverification.com/blog/erc777-k-formal-executable-specification-of-erc777/" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hu fv z el nb eo ep nc er et hs dt translated">ERC 777-K:ERC 777的正式可执行规范</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">运行时验证公司提供正式的智能合同验证服务。</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">runtimeverification.com</p></div></div><div class="nf l"><div class="nl l nh ni nj nf nk lj mw"/></div></div></a></div><div class="mt mu fm fo mv mw"><a href="http://runtimeverification.com/blog/how-formal-verification-of-smart-contracts-works/" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hu fv z el nb eo ep nc er et hs dt translated">智能合同的正式验证是如何工作的</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">运行时验证公司提供正式的智能合同验证服务。</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">runtimeverification.com</p></div></div><div class="nf l"><div class="nm l nh ni nj nf nk lj mw"/></div></div></a></div><div class="mt mu fm fo mv mw"><a rel="noopener follow" target="_blank" href="/@rv_inc/formal-smart-contract-verification-4b19cf848ff9"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hu fv z el nb eo ep nc er et hs dt translated">正式智能合同验证</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">运行时验证公司提供正式的智能合同验证服务。</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">medium.com</p></div></div></div></a></div></div><div class="ab cl nn no hb np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hm hn ho hp hq"><p id="a71e" class="pw-post-body-paragraph ji jj ht jk b jl jm iu jn jo jp ix jq jr js jt ju jv jw jx jy jz ka kb kc kd hm dt translated"><em class="kf">原载于2017年12月6日runtimeverification.com</em><em class="kf">的</em> <a class="ae ke" href="https://runtimeverification.com/blog/erc20-k-formal-executable-specification-of-erc20/" rel="noopener ugc nofollow" target="_blank"> <em class="kf">。</em></a></p></div></div>    
</body>
</html>