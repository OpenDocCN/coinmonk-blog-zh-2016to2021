<html>
<head>
<title>Face Landmark Estimation Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面部标志估计应用</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/face-landmark-estimation-application-b12d8e470521?source=collection_archive---------6-----------------------#2018-10-30">https://medium.com/coinmonks/face-landmark-estimation-application-b12d8e470521?source=collection_archive---------6-----------------------#2018-10-30</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="3ffd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">在检测到图像中的人脸后，如之前的帖子<a class="ae jo" href="https://engmrk.com/face-detection-application/" rel="noopener ugc nofollow" target="_blank">‘人脸检测应用’</a>所示，我们将执行人脸标志估计。人脸地标估计是指识别人脸上的关键点，如鼻尖和眼睛中心。</p><p id="679f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">基于面部标志点的数量，有不同的估计模型。5点模型是最简单的模型，它只检测每只眼睛的边缘和鼻子的底部。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff jp"><img src="../Images/12ca44c146f22a73344dcec64ba11ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/0*7jfPCQB465oMu-4E.png"/></div><figcaption class="jx jy fg fe ff jz ka bd b be z ek">5 points face landmark model</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/e8669defd9c30300b7e1185fe030ec89.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/0*v3dmcJrRHGwosL-i.png"/></div></figure><p id="819a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">其他模型包括68点面部标志模型，其检测面部上的68个不同点，包括眼睛、鼻子、嘴唇和面部形状。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff jp"><img src="../Images/23af5c53bf5b851ee15bb0b95eb8365c.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/0*Hvlr35ERlVtMUoX9.png"/></div><figcaption class="jx jy fg fe ff jz ka bd b be z ek">68 points face landmark model</figcaption></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff kc"><img src="../Images/9a152f6a79fa0d03e551f068045a5595.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*XD53DmnZJEfBcBXQ.png"/></div></figure><p id="ce1e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">面部标志估计有助于构建应用数字化妆或部件的应用程序。</p><h1 id="eafc" class="kd ke ht bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">构建一个评估面部特征的应用程序</h1><p id="cd16" class="pw-post-body-paragraph iq ir ht is b it lb iv iw ix lc iz ja jb ld jd je jf le jh ji jj lf jl jm jn hm dt translated">对于我们的应用程序，我们将使用“dlib”库构建人脸识别模型。“dlib”主要是一个C++库，然而，我们可以将它的许多工具用于python应用程序。人脸识别是一个深度学习模型，准确率为99.38%。</p><p id="e777" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">有关更多详情和参考资料，请访问:</p><ul class=""><li id="eb00" class="lg lh ht is b it iu ix iy jb li jf lj jj lk jn ll lm ln lo dt translated">【https://pypi.org/project/face_recognition/ T2】号</li><li id="e5d4" class="lg lh ht is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo dt translated">【http://dlib.net/python/index.html T4】</li></ul><p id="9bb4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">face_recognition内置了执行人脸检测、识别和身份验证任务的功能。首先，我们将把图像加载到一个NumPy数组中，并应用face_landmarks函数。face_landmarks函数返回图像中所有人脸的列表。每个面部还具有该面部的所有面部特征的“名称”和“点列表”。使用每个面部特征的标志(眼睛、鼻子、嘴唇等)。)，我们会在五官周围画红色的线。</p><p id="3701" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu"> <em class="lu">注意:</em> </strong> <em class="lu">下面的代码需要三个Python外部库pillow、face_recognition和dlib。</em></p><pre class="jq jr js jt fq lv lw lx ly aw lz dt"><span id="447b" class="ma ke ht lw b fv mb mc l md me">#import external libraries <br/>import PIL.Image<br/>import PIL.ImageDraw<br/>import face_recognition<br/><br/># Load the jpg file into a numpy array<br/>image = face_recognition.load_image_file("people.jpg")<br/><br/># Find all facial features in all the faces in the image<br/>face_landmarks_list = face_recognition.face_landmarks(image)<br/><br/>number_of_faces = len(face_landmarks_list)<br/>print("I found {} face(s) in this photograph.".format(number_of_faces))<br/><br/># Load the image into a Python Image Library object so that we can draw on top of it and display it<br/>pil_image = PIL.Image.fromarray(image)<br/><br/># Create a PIL drawing object to be able to draw lines later<br/>draw = PIL.ImageDraw.Draw(pil_image)<br/><br/># Loop over each face<br/>for face_landmarks in face_landmarks_list:<br/><br/>    # Loop over each facial feature (eye, nose, mouth, lips, etc)<br/>    for name, list_of_points in face_landmarks.items():<br/><br/>        # Print the location of each facial feature in this image<br/>        print("The {} in this face has the following points: {}".format(name, list_of_points))<br/><br/>        # Let's trace out each facial feature in the image with a line!<br/>        draw.line(list_of_points, fill="red", width=2)<br/><br/>pil_image.show()</span></pre><p id="1574" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">下面是上述代码在不同图像上的输出。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff mf"><img src="../Images/7aee19cf813975ea80c2d522394919b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rWMQRfyepya0d5YH.png"/></div></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff mf"><img src="../Images/906d637897a8a90ca4952010ffe2b897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tbU_SLd9z8B8FBx2.png"/></div></div></figure><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff mf"><img src="../Images/ad89f76aefc8c4b9734bd72818273510.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*whImYG77VI67j5hs.png"/></div></div></figure><p id="664a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">你可以在上面的图片中看到，面部特征被非常精确地标记出来。我们可以进一步扩展我们的应用程序，以应用数字化妆，部件(眼镜，面具…等)。)等等。face_recognition和本文参考资料的作者Adam Geitgey在他的GitHub知识库中提供了许多例子。我强烈建议每个人都参加他的课程。</p><p id="7a18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">另请阅读:<a class="ae jo" href="https://engmrk.com/face-landmark-estimation-in-live-video/" rel="noopener ugc nofollow" target="_blank">实时视频中的人脸标志估计</a></p><p id="4322" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated"><strong class="is hu">参考:</strong></p><p id="3bef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">深度学习:亚当·盖特基的人脸识别</p><blockquote class="mk"><p id="7900" class="ml mm ht bd mn mo mp mq mr ms mt jn ek translated"><a class="ae jo" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mv mw mx my mz ju fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff mu"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>