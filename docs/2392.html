<html>
<head>
<title>Venturing into The LAO: Comparing MolochDAO and vmLAO Solidity Designs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å†’é™©è¿›å…¥è€æŒ:æ¯”è¾ƒMolochDAOå’ŒvmLAOçš„åšå›ºæ€§è®¾è®¡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/coinmonks/venturing-into-the-lao-comparing-molochdao-and-vmlao-solidity-designs-81da2361dba5?source=collection_archive---------2-----------------------#2019-09-04">https://medium.com/coinmonks/venturing-into-the-lao-comparing-molochdao-and-vmlao-solidity-designs-81da2361dba5?source=collection_archive---------2-----------------------#2019-09-04</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div role="button" tabindex="0" class="iv iw di ix bf iy"><div class="fe ff iq"><img src="../Images/0d493a239f464cd13f7041d63acf728c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lHeu9AJHwZYWgrCK.jpg"/></div></div><figcaption class="jb jc fg fe ff jd je bd b be z ek">ğŸ‘¹ + ğŸ‘¾ = â¤ï¸</figcaption></figure><p id="c02f" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><a class="ae kd" rel="noopener" href="/openlawofficial/the-lao-a-for-profit-limited-liability-autonomous-organization-9eae89c9669c"> <em class="ke">æœ€è¿‘å®£å¸ƒçš„ç”±<a class="ae kd" href="https://www.openlaw.io/" rel="noopener ugc nofollow" target="_blank"> OpenLaw </a>æ”¯æŒçš„é¡¹ç›®LAO </em> </a>æ—¨åœ¨ä¸ºæ–°ä»¥å¤ªåŠé£é™©ä¼ä¸šæä¾›æ³•å¾‹å½¢å¼å’Œç»“æ„æ¨¡å‹ï¼Œè¯¥é¡¹ç›®å¤§é‡å€Ÿé‰´äº†<a class="ae kd" href="https://github.com/MolochVentures/moloch" rel="noopener ugc nofollow" target="_blank">Moloch DAO smart contract framework</a>ä»¥å®ç°ä»¥ä¸‹èµ„é‡‘ç®¡ç†çš„å…³é”®ç›®æ ‡:</p><ul class=""><li id="3b3d" class="kf kg ht jh b ji jj jm jn jq kh ju ki jy kj kc kk kl km kn dt translated"><strong class="jh hu"> <em class="ke">ç®€å•åšå›ºå®‰å…¨</em>ï¼›</strong></li><li id="0b65" class="kf kg ht jh b ji ko jm kp jq kq ju kr jy ks kc kk kl km kn dt translated"><strong class="jh hu"> <em class="ke">æ‰˜ç®¡ææ¡ˆ</em>ï¼›</strong></li><li id="f9b1" class="kf kg ht jh b ji ko jm kp jq kq ju kr jy ks kc kk kl km kn dt translated"><strong class="jh hu"> <em class="ke">ä¼˜é›…é€€åœº</em>ï¼›</strong></li></ul><p id="0072" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒMolochè®¾è®¡æœ‰åŠ©äºé™åˆ¶æˆå‘˜ç«äº‰çš„åŒºåŸŸï¼Œå¹¶ä¸”åŒæ ·æ”¯æŒå›´ç»•æ•°å­—åŸºé‡‘èµ æ¬¾çš„ç§äººè®¢è´­çš„ç®€å•æ¨¡æ¿ã€‚å°†è¿™ç§å½¢å¼æ‰©å±•åˆ°ventureå¹¶ä¸æ˜¯ä¸€ä¸ªæ²‰é‡çš„æŠ€æœ¯æå‡ï¼Œè€Œä¸”<a class="ae kd" href="https://twitter.com/MolochDAO/status/1166693888008081410?s=20" rel="noopener ugc nofollow" target="_blank"> Moloch v2åˆåŒå‡çº§</a>ä¹Ÿä¸ºåœ¨çº¿èèµ„çš„è‡ªåŠ¨åŒ–æ–¹é¢æä¾›äº†ä¸€ä¸ªæœ‰å‰é€”çš„è¡¥å……è®¾è®¡ã€‚</p><p id="ba38" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">æˆ‘ä»¬çš„</strong><a class="ae kd" href="https://github.com/openlawteam/TheLAO/blob/master/contracts/TheLAO.sol" rel="noopener ugc nofollow" target="_blank"><strong class="jh hu"><em class="ke">vmLAO</em></strong></a><strong class="jh hu">è®¾è®¡é€šè¿‡åŸå§‹çš„Moloch DAOæŠ•ç¥¨è½¨é“åˆå¹¶é“¾ä¸Šæˆå‘˜å’Œèµ„é‡‘ææ¡ˆï¼Œå¹¶è¿›è¡Œä¸€äº›å®šåˆ¶çš„ç»æµæ›´æ”¹ï¼Œä»¥é€‚åº”ERC20ä»¤ç‰Œäº’æ¢å’Œä¼šè®¡é€»è¾‘<em class="ke">LAO</em>æˆå‘˜çº¢åˆ©å’ŒæŠ•èµ„è®°å½•ã€‚</strong></p><p id="aef7" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">éšç€æˆ‘ä»¬çš„è¿­ä»£ï¼Œæˆ‘ä»¬æœŸå¾…ç€ä¸å…¶ä»–é¡¹ç›®åˆä½œï¼Œå›´ç»•Molochå’Œç±»ä¼¼çš„åœ¨çº¿å…¬ä¼šæ¡†æ¶å»ºç«‹é£é™©è®¾è®¡ã€‚</p><p id="d130" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">ä¸‹é¢é‡ç‚¹ä»‹ç»äº†æˆ‘ä»¬ä»Molochæ´¾ç”Ÿå‡ºçš„ç®€åŒ–çš„vmLAOè®¾è®¡çš„åˆæ­¥æ–¹æ³•:<a class="ae kd" href="https://thelao.slack.com/join/shared_invite/enQtNzMyNjc0OTUwMzM4LTBmOGMxZmMzYzcyOWQ5MTlkYWJmYWYyNmYyNjkzM2Y1Mzg2NzZhOGM5MDQ1ZTVkOTNkZTk2MjM5NWE1ZDFmOWI" rel="noopener ugc nofollow" target="_blank"> <em class="ke">è¯·æå‡ºæ„è§ã€é—®é¢˜å’Œå»ºè®®ï¼</em> </a></p><h2 id="0752" class="kt ku ht bd kv kw kx ky kz la lb lc ld jq le lf lg ju lh li lj jy lk ll lm ln dt translated"><strong class="ak"> <em class="lo">å¤šä»¤ç‰Œæ”¯æŒ</em> </strong></h2><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="c327" class="kt ku ht lu b fv ly lz l ma mb">IERC20 public contributionToken; <br/>IERC20 private tributeToken; </span></pre><p id="f8e4" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="ke"> vmLAO </em>è·Ÿè¸ªä¸¤ç§ä»¤ç‰Œç±»å‹:</p><p id="472d" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">(I)â€œ<strong class="jh hu">å‡ºèµ„æƒæ ‡ï¼Œâ€</strong>æˆå‘˜å‡ºèµ„çš„åŸºæœ¬æƒæ ‡ï¼Œä»¥è·å¾—å…¬ä¼šé“¶è¡Œçš„æœ‰è¡¨å†³æƒçš„è‚¡ä»½å’Œç»æµåˆ©ç›Š(ä»¥åŠï¼Œå“ªäº›é£é™©ä¼ä¸šåœ¨*ä¸­è¯·æ±‚èµ„åŠ©)ï¼Œå¦‚DAIæˆ–wETHï¼Œä»¥åŠ</p><p id="4926" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">(ii) <strong class="jh hu"> </strong> " <strong class="jh hu">è´¡å“ä»£å¸</strong>ï¼Œ<em class="ke"> vmLAO </em>æ™ºèƒ½åˆåŒåœ¨ä¼šå‘˜èµ„æ ¼å’Œ/æˆ–èµ„é‡‘ææ¡ˆæœŸé—´æ‰˜ç®¡çš„ä»£å¸(<em class="ke">å¦‚æœè¯·æ±‚æœ‰æŠ•ç¥¨æƒçš„è‚¡ä»½ï¼Œè¿™å°†å¾ˆå¯èƒ½åŒ¹é…è´¡çŒ®ä»£å¸ç±»å‹</em>)ã€‚</p><p id="c040" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">ä¸æœ€åˆçš„Molochè®¾è®¡ç±»ä¼¼ï¼Œå¦‚æœ<em class="ke"> vmLAO </em>ææ¡ˆå¤±è´¥ï¼Œå­˜æ”¾çš„è´¡å“ä»¤ç‰Œé‡‘é¢å°†è‡ªåŠ¨è¿”è¿˜ç»™<em class="ke"> vmLAO </em>ç”³è¯·äººã€‚</p><p id="a7d4" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="ke">ä¸Moloch </em>ä¸åŒï¼ŒLAO æˆå‘˜ä¸éœ€è¦<em class="ke"> </em>ä½œä¸ºææ¡ˆä¿è¯é‡‘ã€‚ç¡®å®šå‚ä¸è€…å’Œä¼šå‘˜åè®®åï¼Œ<em class="ke">LAO</em>å°†åˆæ­¥æ¢ç´¢æ³•å¾‹è´£ä»»å¦‚ä½•å¸®åŠ©ä¼˜åŒ–å‚ä¸å¹¶å‡å°‘ææ¡ˆæµç¨‹ä¸­çš„åƒåœ¾é‚®ä»¶(<em class="ke">å°½ç®¡å­˜æ¬¾æœºåˆ¶ä¸ä¼šå½±å“æœªæ¥çš„å®æ–½ï¼</em>)ã€‚</p><h2 id="3b36" class="kt ku ht bd kv kw kx ky kz la lb lc ld jq le lf lg ju lh li lj jy lk ll lm ln dt translated"><strong class="ak">æ ¸ç®—ç»æµæƒé‡</strong></h2><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="ee20" class="kt ku ht lu b fv ly lz l ma mb">uint256 public totalContributed = 0; <br/>uint256 public totalDividends = 0; <br/>uint256 public totalWithdrawals = 0;</span></pre><p id="d60c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="ke"> vmLAO </em>è®¾è®¡è·Ÿè¸ªä¸‰ä¸ªå€¼ï¼Œä»¥åœ¨å†…éƒ¨è¯´æ˜ä»»ä½•æˆå‘˜éƒ½å¯ä»¥é€šè¿‡<em class="ke">ragequitying</em>exitç”³è¯·çº¢åˆ©æˆ–å®Œå…¨æå–çš„å…¬ä¼šé“¶è¡Œæ€»é¢çš„*å…¬å¹³ä»½é¢*:(I)â€œ<strong class="jh hu">è´¡çŒ®æ€»é¢</strong>ã€( ii)â€œ<strong class="jh hu">çº¢åˆ©æ€»é¢</strong>â€ã€(iii)â€œ<strong class="jh hu">æå–æ€»é¢</strong>ã€‚â€</p><p id="e9ba" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">å½“ä¸€ä¸ªæè®®è¢«å¤„ç†æ—¶ï¼ŒåŸºæœ¬ä»¤ç‰Œä¸­çš„è´¡çŒ®è¢«è·Ÿè¸ªä¸ºä¸€ä¸ªæ€»å’Œ(<em class="ke">åŒ¹é…vmLAOå‘å…¬ä¼šé“¶è¡Œ</em>å­˜å…¥çš„ä»»ä½•é‡‘é¢):</p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="1aeb" class="kt ku ht lu b fv ly lz l ma mb">if (proposal.tributeToken == contributionToken) { <br/>totalContributed = totalContributed.add(proposal.tributeAmount); <br/>}</span></pre><p id="fcdf" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">å¯¹Molochæˆå‘˜ç»“æ„çš„å°‘é‡æ·»åŠ ä¹Ÿè€ƒè™‘äº†ä¸ªäººä»£å¸è´¡çŒ®å’Œä»å…¬ä¼šé“¶è¡Œæ€»é¢ä¸­æå–çš„çº¢åˆ©ï¼Œå…è®¸<em class="ke"> vmLAO </em>åœ¨è¿è¡Œçš„åŸºç¡€ä¸Šè®¡ç®—ä¸ªäººç»æµä»½é¢:</p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="ff7e" class="kt ku ht lu b fv ly lz l ma mb">struct Member {     <br/>address delegateKey; <br/>uint256 shares;   <br/>bool exists;     <br/><strong class="lu hu">uint256 tributeAmount;</strong><br/>uint256 highestIndexYesVote; <br/><strong class="lu hu">uint256 lastTotalDividends; </strong><br/>}</span></pre><h2 id="1c3f" class="kt ku ht bd kv kw kx ky kz la lb lc ld jq le lf lg ju lh li lj jy lk ll lm ln dt translated"><strong class="ak">æ·»åŠ é£é™©ç®¡ç†</strong></h2><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="61df" class="kt ku ht lu b fv ly lz l ma mb">modifier onlySummoner {<br/>require(msg.sender == summoner);     <br/>_; <br/>}</span></pre><p id="5c7c" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><em class="ke"> vmLAO </em>è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„ä¿®é¥°ç¬¦â€˜onlyå¬å”¤å¸ˆâ€™ï¼Œå®ƒå…è®¸æ™ºèƒ½å¥‘çº¦æ„é€ è€…è®¾ç½®çš„å¬å”¤å¸ˆåœ°å€å¯¹å…¬ä¼šé“¶è¡Œæ‹¥æœ‰æŸäº›æœ‰é™çš„ç®¡ç†ç‰¹æƒ:(i) <em class="ke">æ’¤å›</em>æŠ•èµ„èµ„äº§ï¼Œä»¥åŠ(ii) <em class="ke">å®£å¸ƒ</em>è´¡çŒ®æˆå‘˜åº”å¾—çš„çº¢åˆ©:</p><p id="f87d" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu"> <em class="ke">ç®¡ç†å‘˜æ”¶å›èµ„äº§</em> : </strong></p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="0c1a" class="kt ku ht lu b fv ly lz l ma mb">function adminWithdrawAsset(IERC20 assetToken, address receiver, uint256 amount) onlySummoner public returns (bool) {     <strong class="lu hu">require(assetToken != contributionToken); </strong><br/>return guildBank.adminWithdrawAsset(assetToken, receiver, amount); <br/>}</span></pre><p id="5255" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu"> <em class="ke">ç®¡ç†å‘˜å®£å¸ƒåˆ†çº¢</em> : </strong></p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="f771" class="kt ku ht lu b fv ly lz l ma mb">updateTotalDividends(uint256 newDividendAmount) onlySummoner public { totalDividends = totalDividends.add(newDividendAmount); <br/>}</span></pre><p id="0da2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">æ³¨</strong>:å¬å”¤å¸ˆç®¡ç†å‘˜ä¸å…è®¸å•æ–¹é¢æå–å…¬ä¼šé“¶è¡Œä¸­çš„åŸºç¡€è´¡çŒ®ä»¤ç‰Œé‡‘é¢ï¼›ç›¸åï¼Œä»–ä»¬å¿…é¡»é€šè¿‡å¸¸è§„çš„vmLAOææ¡ˆæµç¨‹ç”³è¯·æ­¤ç±»èµ„é‡‘(å¦‚<em class="ke">çš„</em>DeFiå‚¨è“„ç­–ç•¥)ã€‚é™¤äº†åœ¨Moloch v2 venture designä¸­åˆ é™¤ä¸åˆè§„æˆå‘˜çš„â€œå…¬ä¼šè¸¢â€æœºåˆ¶ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ç ”ç©¶æ·»åŠ ç±»ä¼¼çš„æˆå‘˜æŠ•ç¥¨æœºåˆ¶çš„å¥½å¤„ï¼Œä»¥åˆ é™¤/åˆ†é…å¯¹LAOåŠŸèƒ½çš„ç®¡ç†æƒé™ï¼Œè¿™äº›åŠŸèƒ½å‡ºäºæ³•å¾‹æˆ–å…¶ä»–é¢„é˜²åŸå› å¯èƒ½éœ€è¦ç®¡ç†å…³æ³¨ã€‚</p><h2 id="0830" class="kt ku ht bd kv kw kx ky kz la lb lc ld jq le lf lg ju lh li lj jy lk ll lm ln dt translated"><strong class="ak">æ–°å¢èµ„é‡‘æ‹¨ä»˜</strong></h2><p id="9c68" class="pw-post-body-paragraph jf jg ht jh b ji mc jk jl jm md jo jp jq me js jt ju mf jw jx jy mg ka kb kc hm dt translated">è™½ç„¶æœ€åˆçš„Molochä»£ç è¦æ±‚è´¡å“ç”³è¯·äººé€€å‡º/é€€å‡ºå…¬ä¼šå¹¶çƒ§æ¯æŠ•ç¥¨ä»½é¢ï¼Œä»¥ä¾¿æ ¹æ®ä»–ä»¬çš„æŠ•ç¥¨æƒé‡ç”³è¯·èµ„é‡‘ï¼Œä½†<em class="ke"> vmLAO </em>æ¶ˆé™¤äº†è¿™ç§çº¯ç²¹èµ„é‡‘è¯·æ±‚çš„è·Ÿè¿›æœºåˆ¶ï¼Œå¹¶åœ¨æŠ•ç¥¨å’Œç»æµä¹‹é—´è¿›è¡Œäº†åˆ’åˆ†ã€‚ä¸ºæ­¤ï¼Œææ¡ˆåŠŸèƒ½åŒ…å«ä¸€ä¸ªé™„åŠ å­—æ®µâ€œè¯·æ±‚çš„<strong class="jh hu">èµ„é‡‘</strong>â€ï¼Œè¯¥å­—æ®µåœ¨å¤„ç†æ‰¹å‡†åå°†åŸºæœ¬ç¼´æ¬¾ä»¤ç‰Œä¸­çš„æ­¤ç±»é‡‘é¢æ”¯ä»˜ç»™ç”³è¯·äºº(<em class="ke">æ­¤ç±»é‡‘é¢ä¹Ÿè®¡å…¥ä»å…¬ä¼šé“¶è¡Œæå–çš„æ€»é‡‘é¢</em>):</p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="e24b" class="kt ku ht lu b fv ly lz l ma mb">require(<br/>guildBank.withdrawFunds(proposal.applicant, proposal.fundsRequested), "Moloch::processProposal - withdrawal of tokens from guildBank failed"<br/>);</span></pre><p id="79da" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">æœ€åï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå…³äºMolochçš„é™„åŠ ç»æµè„šæœ¬æ˜¯å¦‚ä½•ä¸ºæ¯ä¸ªLAOæˆå‘˜çš„<em class="ke">VM LAO</em>raqé€€å‡ºå’Œåˆ†çº¢åŠŸèƒ½å‘æŒ¥é‡è¦ä½œç”¨çš„:</p><p id="ca8b" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu"> <em class="ke">æˆå‘˜é€€å‡º:</em> </strong></p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="1a02" class="kt ku ht lu b fv ly lz l ma mb">function ragequit() public onlyMember {     <br/>Member storage member = members[msg.sender];      </span><span id="94b3" class="kt ku ht lu b fv mh lz l ma mb">require(canRagequit(member.highestIndexYesVote), "Moloch::ragequit - cant ragequit until highest index proposal member voted YES on is processed");          </span><span id="e245" class="kt ku ht lu b fv mh lz l ma mb"><strong class="lu hu">uint256 withdrawalAmount = (member.tributeAmount / totalContributed) * (totalContributed + totalDividends - totalWithdrawals);</strong>      </span><span id="e0b0" class="kt ku ht lu b fv mh lz l ma mb">// burn shares and other pertinent membership records     totalShares = totalShares.sub(member.shares);     <br/>member.shares = 0;     <br/><strong class="lu hu">member.tributeAmount = 0;</strong>      <br/>        <br/><strong class="lu hu">totalWithdrawals = totalWithdrawals.add(withdrawalAmount); </strong>// update total guild bank withdrawal tally to reflect raqequit amount <strong class="lu hu"> </strong>    </span><span id="f4af" class="kt ku ht lu b fv mh lz l ma mb">// instruct guild bank to transfer withdrawal amount to ragequitter     <br/>require(         <br/>guildBank.withdraw(msg.sender, <strong class="lu hu">withdrawalAmount</strong>),         "Moloch::ragequit - withdrawal of tokens from guildBank failed"     ); <br/>     <br/>emit Ragequit(msg.sender); <br/>}</span></pre><p id="bcfa" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">æ­£å¦‚ä¸Šé¢çš„è®¡ç®—å¯èƒ½è¡¨æ˜çš„é‚£æ ·ï¼Œè¿™ç§è®¾è®¡æ—¨åœ¨å…è®¸<em class="ke"> vmLAO </em>è¡¡é‡æˆå‘˜å¯¹å…¶åŸºç¡€ä»¤ç‰Œé‡‘é¢çš„è´¡çŒ®ï¼Œè¯¥ä»¤ç‰Œé‡‘é¢ç”¨äºèµ„åŠ©<em class="ke">LAO</em>çš„é£é™©æŠ•èµ„å’Œç®¡ç†ï¼Œå°†ä»–ä»¬çš„å…¬å¹³ç»æµâ€œä»½é¢â€å½’å› äºä»–ä»¬é€€å‡ºæ—¶å¯ä»¥æå–çš„å…¬ä¼šé“¶è¡Œèµ„é‡‘ã€‚</p><p id="0dc2" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu">æ³¨</strong> : <em class="ke">ä¸Moloch </em>ä¸åŒï¼Œè¿™ä¸€åˆå§‹é€€å‡ºå»¶æœŸä¸å…è®¸æˆå‘˜é€€å‡ºå°‘äºå…¶æ€»å‡ºèµ„é¢çš„é‡‘é¢(<em class="ke">æ ¹æ®é€šè¿‡æŠ•ç¥¨</em>çš„åˆ†é…è¿›è¡Œè°ƒæ•´)ï¼Œå°½ç®¡æˆ‘ä»¬æ­£åœ¨è€ƒè™‘æ›´é›¶ç¢çš„è®¾è®¡çš„å¥½å¤„ã€‚</p><p id="ebc0" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated"><strong class="jh hu"> <em class="ke">ä¼šå‘˜ç´¢å–çº¢åˆ©:</em> </strong></p><pre class="lp lq lr ls fq lt lu lv lw aw lx dt"><span id="0674" class="kt ku ht lu b fv ly lz l ma mb">function claimDividend() public onlyMember { <br/>Member storage member = members[msg.sender]; </span><span id="7e13" class="kt ku ht lu b fv mh lz l ma mb">// claim fair share of declared member dividend amount uint256 dividendAmount = (member.tributeAmount / totalContributed) * (totalDividends â€” member.lastTotalDividends); </span><span id="f04f" class="kt ku ht lu b fv mh lz l ma mb">// instruct guild bank to transfer fair share to member <br/>require( <br/>guildBank.withdrawDividend(msg.sender, dividendAmount), â€œMoloch::claimDividend â€” withdrawal of tokens from guildBank failedâ€ ); </span><span id="e1ec" class="kt ku ht lu b fv mh lz l ma mb">member.lastTotalDividends = member.lastTotalDividends.add(dividendAmount); totalWithdrawals = totalWithdrawals.add(dividendAmount); <br/>}</span></pre><p id="4cd5" class="pw-post-body-paragraph jf jg ht jh b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hm dt translated">å¦‚ä¸Šæ‰€è¿°ï¼Œ<em class="ke">LAO</em>æˆå‘˜å¯ä»¥è°ƒç”¨<em class="ke"> vmLAO </em>æ™ºèƒ½åˆçº¦æ¥æå–å…¶é€šè¿‡å…¬ä¼šé“¶è¡ŒåŸºé‡‘çš„æ‰¹å‡†æŠ•èµ„è€Œè·å¾—çš„å·²å®£å¸ƒè‚¡æ¯ä»½é¢ã€‚</p><h2 id="201e" class="kt ku ht bd kv kw kx ky kz la lb lc ld jq le lf lg ju lh li lj jy lk ll lm ln dt translated">ç»“è®º</h2><p id="d331" class="pw-post-body-paragraph jf jg ht jh b ji mc jk jl jm md jo jp jq me js jt ju mf jw jx jy mg ka kb kc hm dt translated"><em class="ke">LAO</em>å’Œ<em class="ke"> vmLAO </em> Solidityè®¾è®¡å°†ä»¥å¤ªåŠé¢†åŸŸä¸­ç”¨äºèµ æ¬¾çš„åŸå§‹Molochè®¾è®¡æ‰©å±•åˆ°åˆ©æ¶¦é©±åŠ¨çš„é£é™©æŠ•èµ„ï¼Œå…¶ç»æµæ‰©å±•ä¿ç•™äº†æŠ•ç¥¨å’Œæˆå‘˜ç®¡ç†ç®€å•æ€§çš„æ ¸å¿ƒMolochä¼˜åŠ¿ï¼ŒåŒæ—¶é€‚åº¦åœ°é€‚åº”äº†å—ç›‘ç®¡ç¯å¢ƒä¸­çš„ç›ˆåˆ©æ€§ä¸šåŠ¡é—®é¢˜ã€‚</p><blockquote class="mi"><p id="c1e8" class="mj mk ht bd ml mm mn mo mp mq mr kc ek translated"><a class="ae kd" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">åœ¨æ‚¨çš„æ”¶ä»¶ç®±ä¸­ç›´æ¥è·å¾—æœ€ä½³è½¯ä»¶äº¤æ˜“</a></p></blockquote><figure class="mt mu mv mw mx iu fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ms"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>