<html>
<head>
<title>Comparing General Purpose zk-SNARKs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比较通用zk-SNARKs</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/comparing-general-purpose-zk-snarks-51ce124c60bd?source=collection_archive---------0-----------------------#2019-11-11">https://medium.com/coinmonks/comparing-general-purpose-zk-snarks-51ce124c60bd?source=collection_archive---------0-----------------------#2019-11-11</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff hr"><img src="../Images/e3cc45dcea29bc14c918bc641d20330f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7aH-CKvY8zYGDzCEDMgKiw.png"/></div></div></figure><div class=""/><p id="f6fd" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di"> T </span> <em class="ki">何zk-SNARK空间移动太快，很难跟上。就在过去的两个月里，宣布了许多新的突破性的zk-SNARK结构。新的是臭名昭著的“可信设置”现在是多余的，这意味着现在可以使用任何任意计算(你好，智能合同！).然而，很难找到关于这些新结构的容易理解的信息。在这篇博文中，我比较了这些新的结构。这些结构背后的多个团队已经分享了即将到来的进一步改进。当我收到新信息时，我会更新这篇博文</em></p><p id="0237" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di"> Z </span>像zk-SNARKs这样的ero知识证明有着广泛的应用:Zcash使用零知识来保护隐私，Coda和Mir将整个区块链压缩到只有几千字节，0x和Matter将许多交易汇总到以太坊上的单个证明中。(不熟悉零知识证明的，见<a class="ae kj" href="https://towardsdatascience.com/what-are-zero-knowledge-proofs-7ef6aab955fc" rel="noopener" target="_blank">本解释</a>)</p><h1 id="c31e" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">可信设置</h1><p id="2e32" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated">传统的zk-SNARKs，如Groth16，有一个主要缺点:它们依赖于一个公共引用字符串，该字符串是使用一次性<a class="ae kj" rel="noopener" href="/qed-it/diving-into-the-snarks-setup-phase-b7660242a0d7">可信设置</a>创建的。这个设置创建了一个由证明者和验证者使用的参考字符串。有三个主要问题:</p><ol class=""><li id="e791" class="ln lo ie jd b je jf ji jj jm lp jq lq ju lr jy ls lt lu lv dt translated">该装置产生了“有毒废物”，如果泄露，可以用来生成无法检测的伪造证据。多方计算(通常称为仪式)在很大程度上否定了这个问题，但是协调这样的仪式是极其复杂的。</li><li id="3f7e" class="ln lo ie jd b je lw ji lx jm ly jq lz ju ma jy ls lt lu lv dt translated">可信设置创建的参考字符串总是绑定到一个电路(基本上是程序)。任何任意的计算都不可能有一个单一的设置。这使得许多应用变得不可能，比如智能合同。</li><li id="f03b" class="ln lo ie jd b je lw ji lx jm ly jq lz ju ma jy ls lt lu lv dt translated">该设置是一次性事件，产生的引用字符串不可升级。这意味着，例如，如果Zcash需要修复他们的zk-SNARK电路中的一个小错误，那么就需要一个新的仪式来部署错误修复。</li></ol><h1 id="526b" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">通用zk-SNARKs</h1><p id="05d7" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">新的zk-SNARK构造修复了设置限制，这意味着像智能合约这样的任意代码都可以作为ZK-SNARK运行。有两种不同的方法:</p><ol class=""><li id="f83e" class="ln lo ie jd b je jf ji jj jm lp jq lq ju lr jy ls lt lu lv dt translated">透明设置:该设置创建了一个<em class="ki">公共参考字符串</em>，是公共的，不会产生有毒废物。这与zk-STARK(带T)的工作方式相似。分形，光晕和超音速CG使用透明设置。这种方法的缺点是证明大小可能很大。分形和zk-STARK证明可能高达250kB，这对于区块链应用程序来说是不切实际的。分形小组告诉我，他们正在努力减少证明的大小。Halo和SuperSonic具有10 kB或更小的验证大小。(注意:zk-STARK是一个特定的零知识结构的名称，类似于Groth16或Fractal。另一方面，zk-SNARKs是一类结构的名称。这就是为什么分形被称为zk-SNARK，而不是zk-STARK)</li><li id="2358" class="ln lo ie jd b je lw ji lx jm ly jq lz ju ma jy ls lt lu lv dt translated">通用设置:该设置创建了一个<em class="ki">结构化参考串</em>，确实产生了有毒废物，但该设置不再局限于只有一个单一电路。相反，一个参考串可以用于无限数量的任意电路(具有某一最大尺寸)。例如Marlin、超音速RSA和Plonk。这三个结构的参考字符串可以在仪式后更新以提高安全性:在当前有毒废物泄漏的情况下，只需要更新设置以再次保护系统。(一些通用的zk-SNARKs，如AuroraLight和Libra使用静态的不可更新的通用设置。我们在这篇博文中不涉及这些)。</li></ol><h1 id="71a7" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">ZK-斯纳克分类法</h1><p id="f1d0" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di">新款zk-SNARKs相比如何？在证明者方面，为每个zk-SNARK构造创建一个证明需要O(n log n)时间。区别主要是证明大小、验证时间和参考字符串的大小。</span></p><p id="4e20" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">以下分类基于<a class="mb mc gr" href="https://medium.com/u/129b617a1ac4?source=post_page-----51ce124c60bd--------------------------------" rel="noopener" target="_blank"> Alessandro Chiesa </a>在旧金山<a class="ae kj" href="https://www.youtube.com/watch?v=-EkUn4iD8Z8" rel="noopener ugc nofollow" target="_blank">ZK summit zk0x 04</a>上的发言。Leading是在设置中创建的引用字符串的类型。(请注意，基于静态电路特定参考字符串的Zk-SNARK构造不是通用的，而是用于比较。)</p><figure class="me mf mg mh fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff md"><img src="../Images/5e211bff4f9e4749d9b3ecfce88d99ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sdSHHiDBpg-HWAtbJqq4LA.png"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Classification of zk-SNARKs based on the type of reference string</figcaption></figure><figure class="me mf mg mh fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mm"><img src="../Images/32ccb17955483f7e9b9e8bc9be11b07a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AQ5TxYO0ni8aT9Bde7e5rA.png"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">The three types of zk-SNARK compilers (colors match the zk-SNARKs in above table).</figcaption></figure><p id="e003" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">在幕后，所有这些ZK-SNARK使用三种类型的编译器之一:预处理、黑暗和传统(非通用)SNARK。<strong class="jd if">评论者注意:三个编译器的命名可以改进。欢迎建议。</strong></p><h1 id="7d36" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">现有的结构</h1><p id="5186" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated">作为参考，我将包括三个现有构造的描述。一个(Groth16)是非通用的，依赖于特定电路的一次性不可更新设置。第二个，Sonic是通用zk-SNARK。</p><h1 id="2977" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">Groth16</h1><p id="022e" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated">目前已知最快最小的zk-SNARK。它在Zcash和其他地方被使用。Groth16是非通用的；该设置总是与一个特定的电路相关联。由于速度和较小的验证大小，新的zk-SNARKS的性能经常与Groth16进行比较。</p><p id="4ba4" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:【https://eprint.iacr.org/2016/260 T2】</p><h1 id="b695" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">音速的</h1><p id="c25c" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di"> S </span> onic是早期的通用zk-SNARK协议。论文发表于2019年1月，比这篇博文早了10个月，这在zk-SNARK时间里是一个永恒。Sonic支持通用和可更新的公共引用字符串。声波样张大小不变，但是验证很贵。理论上，可以批量验证多个证明，以达到更好的性能。下面列出的许多新zk-SNARKs都是基于Sonic的。</p><p id="f5af" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:<a class="ae kj" href="https://eprint.iacr.org/2019/099" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2019/099</a></p><h1 id="d079" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">新的结构</h1><h1 id="4c4e" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">不规则碎片形</h1><p id="03dc" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated">ractal是一个zk-SNARK，它允许递归而不需要配对友好的椭圆曲线。通过预处理电路，透明设置的简洁验证成为可能。证明大小目前高达250 kB，明显大于其他构造。在即将到来的更新中，大小将会减小。</p><p id="de7a" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:<a class="ae kj" href="https://eprint.iacr.org/2019/1076" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2019/1076</a></p><h1 id="7f39" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">晕</h1><p id="5753" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di"> H </span> alo是一个zk-SNARK，支持递归证明合成，无需可信设置。递归使用“嵌套摊销”工作:在椭圆曲线的循环中重复地将多个证明折叠在一起。</p><p id="78ee" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">与其他新构造不同，Halo的验证时间是线性的，这使得它成为唯一一个不简洁的新构造。然而，改进即将到来。</p><p id="e036" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:<a class="ae kj" href="https://eprint.iacr.org/2019/1021" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2019/1021</a></p><h1 id="287c" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">超声波</h1><p id="4a4a" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">正如你已经猜到的，超音速是对音速的改进。超音速是第一个透明的zk-SNARK，它既有实际的证明时间，也有渐近对数的证明大小和验证时间。</p><p id="9ead" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:<a class="ae kj" href="https://eprint.iacr.org/2019/1229" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2019/1229</a></p><h1 id="0068" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">马林鱼</h1><p id="e62b" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">Marlin是Sonic的一个改进，证明时间缩短了10倍，验证时间缩短了4倍。</p><p id="b708" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:<a class="ae kj" href="https://eprint.iacr.org/2019/1047" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2019/1047</a></p><h1 id="0898" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">砰的一声</h1><p id="69e4" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">Plonk是Sonic的改进，校准时间提高了5倍。</p><p id="0856" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">论文:<a class="ae kj" href="https://eprint.iacr.org/2019/953" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2019/953</a></p><h1 id="c2fc" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">表演</h1><p id="c04b" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di"> T </span>最大的问题是:这些构造在性能方面相比如何？不幸的是，我不知道zk-SNARKs的任何基准，即使有，也不是所有的新构造都有参考实现。有引用实现的构造毫无例外都是未优化的。因此，下表中的数字不能全信。它们基于论文中的基准，或者基于发明者提供的估计。</p><p id="d379" class="pw-post-body-paragraph jb jc ie jd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hm dt translated">查看证据大小、大致证明者运行时间和大致验证运行时间，有几点值得注意:</p><ol class=""><li id="a71d" class="ln lo ie jd b je jf ji jj jm lp jq lq ju lr jy ls lt lu lv dt translated">具有透明设置的构造通常具有更大的校样尺寸</li><li id="23f8" class="ln lo ie jd b je lw ji lx jm ly jq lz ju ma jy ls lt lu lv dt translated">与其他新构造不同，Halo中的验证时间不是恒定的</li><li id="37d6" class="ln lo ie jd b je lw ji lx jm ly jq lz ju ma jy ls lt lu lv dt translated">Groth16在证明大小和运行时间方面仍然是无与伦比的</li></ol><figure class="me mf mg mh fq hv fe ff paragraph-image"><div role="button" tabindex="0" class="hw hx di hy bf hz"><div class="fe ff mn"><img src="../Images/6caa54974030851f1914cf5847cb0a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j0Um6CSmzNCK6q6A71ZkRg.png"/></div></div></figure><h1 id="b0ec" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">下一步是什么？</h1><p id="9fb5" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt jz translated"><span class="l ka kb kc bm kd ke kf kg kh di">我</span>会在新的信息或改进的构想出现时更新这篇博文。我很想听听你对zk-SNARKs的看法。工程师对zk-SNARKs的介绍？递归zk-SNARKs？请在评论中告诉我或者给我发邮件。</p><h1 id="a20b" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">由于</h1><p id="e5c7" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">非常感谢加州大学伯克利分校的Dev Ojha不知疲倦地解释分形和其他项目的细节。感谢<a class="ae kj" href="https://twitter.com/1howardwu" rel="noopener ugc nofollow" target="_blank"> Howard Wu </a>、<a class="mb mc gr" href="https://medium.com/u/5af7acaa2380?source=post_page-----51ce124c60bd--------------------------------" rel="noopener" target="_blank"> J Ayo Akinyele </a>和<a class="ae kj" href="https://twitter.com/ethlorenz" rel="noopener ugc nofollow" target="_blank"> Lorenz Breidenbach </a>的校对和反馈。</p><h1 id="b863" class="kk kl ie bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">我们在招人！</h1><p id="4f20" class="pw-post-body-paragraph jb jc ie jd b je li jg jh ji lj jk jl jm lk jo jp jq ll js jt ju lm jw jx jy hm dt translated">如果你是一个对学习zk-SNARKs感兴趣的Rust开发者(但不一定有zk-SNARKS的经验):Starling Protocol正在招人。Starling是一个可编程的简洁的第一层协议，位于加州伯克利。斯塔林协议是一个多元化和包容性的工作场所。我们鼓励有色人种、LGBTQ个人和女性申请。电子邮件<a class="ae kj" href="mailto:ronald@starlingprotocol.com" rel="noopener ugc nofollow" target="_blank">ronald@starlingprotocol.com</a>了解更多信息。</p><blockquote class="mo"><p id="e2f6" class="mp mq ie bd mr ms mt mu mv mw mx jy ek translated"><a class="ae kj" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">直接在您的收件箱中获得最佳软件交易</a></p></blockquote><figure class="mz na nb nc nd hv fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff my"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure><figure class="me mf mg mh fq hv fe ff paragraph-image"><a href="https://coincodecap.com"><div class="fe ff ne"><img src="../Images/a06b758bdcc47dca7c2504f298674d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_s6JsD3P0hVj32E7t9EtGg.jpeg"/></div></a></figure></div></div>    
</body>
</html>