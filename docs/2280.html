<html>
<head>
<title>Libra ❤ Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">天秤座❤码头工人</h1>
<blockquote>原文：<a href="https://medium.com/coinmonks/libra-docker-844629b5d6ae?source=collection_archive---------1-----------------------#2019-06-22">https://medium.com/coinmonks/libra-docker-844629b5d6ae?source=collection_archive---------1-----------------------#2019-06-22</a></blockquote><div><div class="ef hh hi hj hk hl"/><div class="hm hn ho hp hq"><div class=""/><p id="b3ab" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">🐳让我们通过docker试试libra客户端，我会提供本地macOS，裸机和docker hub风格！准备好了吗？走吧。</p><h2 id="50c0" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">基于MacOS构建</h2><blockquote class="kj kk kl"><p id="60f2" class="iq ir km is b it iu iv iw ix iy iz ja kn jc jd je ko jg jh ji kp jk jl jm jn hm dt translated">为了当地发展目的</p></blockquote><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="8442" class="jo jp ht kv b fv kz la l lb lc">git clone <a class="ae ld" href="https://github.com/libra/libra.git" rel="noopener ugc nofollow" target="_blank">https://github.com/libra/libra.git</a><br/>cd libra<br/>docker build -f ./docker/client/client.Dockerfile -t libra_client .</span></pre><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff le"><img src="../Images/0a84a91d247ae3e66aa473de37416330.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kdS1zBziPcxc-VUq9YxBmQ.png"/></div></div></figure><h2 id="31ff" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">基于Docker Hub构建</h2><blockquote class="kj kk kl"><p id="9114" class="iq ir km is b it iu iv iw ix iy iz ja kn jc jd je ko jg jh ji kp jk jl jm jn hm dt translated">仅用于构建时，您将需要拉至您的服务器或mac，以便稍后运行它)</p></blockquote><ul class=""><li id="013a" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">分叉<a class="ae ld" href="https://github.com/libra/libra" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">天秤座回购</strong> </a>到你想要的回购</li></ul><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff lv"><img src="../Images/5c8cbc3b82a12d4152e0bd2c6ad4bee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnPIi3HzD_1Jos-TNreEWg.png"/></div></div><figcaption class="lw lx fg fe ff ly lz bd b be z ek"><a class="ae ld" href="https://github.com/katopz/libra" rel="noopener ugc nofollow" target="_blank">https://github.com/katopz/libra</a></figcaption></figure><ul class=""><li id="97a3" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">注册并转到<a class="ae ld" href="https://cloud.docker.com/repository/create" rel="noopener ugc nofollow" target="_blank">创建存储库页面</a>，填写<strong class="is hu"> libra_client </strong>作为名称并点击创建(忽略构建设置)</li></ul><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff ma"><img src="../Images/30a7bf1fa09afe6aa2b0f12e4c043b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SI0zliVbh8iRGT2EqnrgbA.png"/></div></div></figure><ul class=""><li id="74f2" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">转到构建设置并填充您的<strong class="is hu"> libra </strong>库</li></ul><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff mb"><img src="../Images/f11e68c3c6c33be3e3a778df62a1a8e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ScIdVPAU2M5G8HLpVZEOMA.png"/></div></div></figure><ul class=""><li id="3a00" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">填充<strong class="is hu"> Dockerfile </strong>位置</li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="bad5" class="jo jp ht kv b fv kz la l lb lc">/docker/client/client.Dockerfile</span></pre><ul class=""><li id="436a" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated"><strong class="is hu">救</strong>和<strong class="is hu">造</strong>喂你猫(129分钟！)</li></ul><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff mc"><img src="../Images/daabdc5d50e47c5dd5839fd317383939.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VkOZ2GKnEtxJ1jK_iqE3A.png"/></div></div><figcaption class="lw lx fg fe ff ly lz bd b be z ek">129 minutes!</figcaption></figure><ul class=""><li id="c277" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">若要使用它(在mac或服务器上)</li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="d531" class="jo jp ht kv b fv kz la l lb lc">docker run --rm --name libra katopz/libra_client</span></pre><h2 id="bfce" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">基于Ubuntu构建</h2><blockquote class="kj kk kl"><p id="cb6c" class="iq ir km is b it iu iv iw ix iy iz ja kn jc jd je ko jg jh ji kp jk jl jm jn hm dt translated">用于在裸机上构建和运行，主要用于快速概念验证或内部使用</p></blockquote><h2 id="4dee" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">先决条件</h2><ul class=""><li id="93bc" class="lm ln ht is b it md ix me jb mf jf mg jj mh jn lr ls lt lu dt translated"><strong class="is hu">服务器</strong>:使用此<a class="ae ld" href="https://m.do.co/c/6dcfcc2a3392" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">数字海洋</strong> </a> <strong class="is hu"> </strong>链接获得免费积分</li><li id="bae1" class="lm ln ht is b it mi ix mj jb mk jf ml jj mm jn lr ls lt lu dt translated">保持ssh会话活动</li></ul><h2 id="61f0" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">专业提示</h2><p id="4b37" class="pw-post-body-paragraph iq ir ht is b it md iv iw ix me iz ja jb mn jd je jf mo jh ji jj mp jl jm jn hm dt translated">构建需要80多分钟，因此您可以从SSH管道中断开连接，为了确保不会发生这种情况，您需要保持客户端和服务器都处于活动状态</p><ul class=""><li id="43d5" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">在mac上</li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="7e97" class="jo jp ht kv b fv kz la l lb lc">open ~/.ssh/config</span></pre><p id="2765" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">加上这个</p><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="fd51" class="jo jp ht kv b fv kz la l lb lc">Host *<br/>  TCPKeepAlive yes<br/>  ServerAliveInterval 120</span></pre><ul class=""><li id="e15b" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">在Ubuntu服务器上(我假设<a class="ae ld" rel="noopener" href="/coinmonks/libra-digitalocean-8083326bb266">已经有了droplet </a>)</li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="d284" class="jo jp ht kv b fv kz la l lb lc">nano /etc/ssh/sshd_config</span></pre><p id="0287" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">加上这个</p><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="670d" class="jo jp ht kv b fv kz la l lb lc">TCPKeepAlive yes<br/>ClientAliveInterval 65535<br/>ClientAliveCountMax 3</span></pre><p id="aaf0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">现在把ssh连接到你的服务器</p><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="6d54" class="jo jp ht kv b fv kz la l lb lc">ssh root@123.45.678.90 -o ServerAliveInterval=100</span></pre><ul class=""><li id="3d57" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">安装<strong class="is hu">对接设备</strong></li></ul><div class="mq mr fm fo ms mt"><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">获取Ubuntu的Docker CE</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">要在Ubuntu上开始使用Docker CE，请确保您满足先决条件，然后安装Docker。先决条件…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">docs.docker.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh lk mt"/></div></div></a></div><ul class=""><li id="1cd7" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">装载<strong class="is hu">天秤座</strong>来源</li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="f81e" class="jo jp ht kv b fv kz la l lb lc">git clone <a class="ae ld" href="https://github.com/libra/libra.git" rel="noopener ugc nofollow" target="_blank">https://github.com/libra/libra.git</a></span></pre><ul class=""><li id="e5ae" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">建立Docker图像(这需要一些时间，去喂你的猫)</li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="2ff0" class="jo jp ht kv b fv kz la l lb lc">docker build -f ~/libra/docker/client/client.Dockerfile -t libra_client ~/libra</span></pre><h2 id="4344" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">运行它</h2><ul class=""><li id="03c4" class="lm ln ht is b it md ix me jb mf jf mg jj mh jn lr ls lt lu dt translated">运行本地<strong class="is hu"> libra_client </strong> Docker镜像为<strong class="is hu"> libra </strong></li></ul><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="a34c" class="jo jp ht kv b fv kz la l lb lc">docker run --rm -it --name libra libra_client</span></pre><ul class=""><li id="d199" class="lm ln ht is b it iu ix iy jb lo jf lp jj lq jn lr ls lt lu dt translated">远程运行(从Docker Hub)</li></ul><blockquote class="kj kk kl"><p id="672a" class="iq ir km is b it iu iv iw ix iy iz ja kn jc jd je ko jg jh ji kp jk jl jm jn hm dt translated">用自己的回购协议替换<strong class="is hu"> katopz/libra_client </strong></p></blockquote><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="a48a" class="jo jp ht kv b fv kz la l lb lc">docker run --rm -it --name libra katopz/libra_client</span></pre><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff ni"><img src="../Images/4727b63c7476b5d2fe6b203dfc28925f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RPWMFGhMMHd4Z87KV5RpKQ.png"/></div></div></figure><h2 id="bd44" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">专业提示</h2><p id="0a30" class="pw-post-body-paragraph iq ir ht is b it md iv iw ix me iz ja jb mn jd je jf mo jh ji jj mp jl jm jn hm dt translated">你也可以像这样输入到docker中…</p><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="bc2c" class="jo jp ht kv b fv kz la l lb lc">echo account create | docker run --rm -i katopz/libra_client</span></pre><figure class="kq kr ks kt fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff le"><img src="../Images/5864a9978ec48ae16c070f70c03caf0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GszEAIA956wo7gI8Ma03Kw.png"/></div></div><figcaption class="lw lx fg fe ff ly lz bd b be z ek">Look ma! No hand! :D</figcaption></figure><p id="745c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">玩得开心！</p><h2 id="a002" class="jo jp ht bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki dt translated">待办事项</h2><ul class=""><li id="775b" class="lm ln ht is b it md ix me jb mf jf mg jj mh jn lr ls lt lu dt translated">使用<strong class="is hu"> docker撰写</strong></li><li id="9a52" class="lm ln ht is b it mi ix mj jb mk jf ml jj mm jn lr ls lt lu dt translated">使用<strong class="is hu"> docker swarm/K8S </strong></li><li id="f3da" class="lm ln ht is b it mi ix mj jb mk jf ml jj mm jn lr ls lt lu dt translated">使用<strong class="is hu">云运行</strong></li></ul></div><div class="ab cl nj nk hb nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hm hn ho hp hq"><p id="b863" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hm dt translated">要支持这样的内容，请随时通过…<a class="ae ld" href="https://paypal.me/katopz" rel="noopener ugc nofollow" target="_blank"><strong class="is hu">PayPal</strong></a><strong class="is hu"/>提示我，谢谢！</p><div class="mq mr fm fo ms mt"><a href="https://paypal.me/katopz" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hu fv z el my eo ep mz er et hs dt translated">使用PayPal向todsaporn banjerdkit付款。我</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">去paypal.me/katopz输入金额。既然是PayPal，那就简单又安全。没有PayPal帐户？不…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">paypal.me</p></div></div><div class="nc l"><div class="nq l ne nf ng nc nh lk mt"/></div></div></a></div><blockquote class="nr"><p id="0f01" class="ns nt ht bd nu nv nw nx ny nz oa jn ek translated"><a class="ae ld" href="https://coincodecap.com/?utm_source=coinmonks" rel="noopener ugc nofollow" target="_blank">在您的收件箱中直接获得最佳软件交易</a></p></blockquote><figure class="oc od oe of og lf fe ff paragraph-image"><a href="https://coincodecap.com/?utm_source=coinmonks"><div class="fe ff ob"><img src="../Images/7c0b3dfdcbfea594cc0ae7d4f9bf6fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*OJ-qb5G6i863msBB.png"/></div></a></figure></div></div>    
</body>
</html>